{"version":3,"sources":["webpack:///$_lazy_route_resource lazy namespace object","webpack:///src/app/app-routing.module.ts","webpack:///src/app/app.component.ts","webpack:///src/app/app.component.html","webpack:///src/app/app.module.ts","webpack:///src/app/auth/auth.guard.ts","webpack:///src/app/auth/auth.service.ts","webpack:///src/app/autocomplete-groupe/autocomplete-groupe.component.ts","webpack:///src/app/autocomplete-groupe/autocomplete-groupe.component.html","webpack:///src/app/fading-info/fading-info.component.ts","webpack:///src/app/fading-info/fading-info.component.html","webpack:///src/app/gestion-drop-monstre-bis/gestion-drop-monstre-bis.component.ts","webpack:///src/app/gestion-drop-monstre-bis/gestion-drop-monstre-bis.component.html","webpack:///src/app/gestion-drop-monstre/gestion-drop-monstre.component.ts","webpack:///src/app/gestion-drop-monstre/gestion-drop-monstre.component.html","webpack:///src/app/gestion-monstre/gestion-monstre.component.ts","webpack:///src/app/gestion-monstre/gestion-monstre.component.html","webpack:///src/app/gestion-objet/gestion-objet.component.ts","webpack:///src/app/gestion-objet/gestion-objet.component.html","webpack:///src/app/interface/http-methods.enum.ts","webpack:///src/app/loot-table/loot-table.component.ts","webpack:///src/app/loot-table/loot-table.component.html","webpack:///src/app/material-module.ts","webpack:///src/app/objets/armes/armes.component.ts","webpack:///src/app/objets/armes/armes.component.html","webpack:///src/app/objets/armures/armures.component.ts","webpack:///src/app/objets/armures/armures.component.html","webpack:///src/app/objets/maledictions/maledictions.component.ts","webpack:///src/app/objets/maledictions/maledictions.component.html","webpack:///src/app/objets/objet-combat.ts","webpack:///src/app/objets/objet-commun.ts","webpack:///src/app/objets/objet-simple/objet-simple.component.ts","webpack:///src/app/objets/objet-simple/objet-simple.component.html","webpack:///src/app/personnage-objet-personnage/personnage-objet-personnage.component.ts","webpack:///src/app/personnage-objet-personnage/personnage-objet-personnage.component.html","webpack:///src/app/personnage-objet/personnage-objet.component.ts","webpack:///src/app/personnage-objet/personnage-objet.component.html","webpack:///src/app/personnage/personnage.component.ts","webpack:///src/app/personnage/personnage.component.html","webpack:///src/app/services/famille-and-monstre.service.ts","webpack:///src/app/services/json-load.service.ts","webpack:///src/app/services/monstre-loot-chance.service.ts","webpack:///src/app/services/objet.service.ts","webpack:///src/app/services/personnage.service.ts","webpack:///src/app/services/rest.service.ts","webpack:///src/app/spinner/spinner.component.ts","webpack:///src/app/spinner/spinner.component.html","webpack:///src/app/test-insert-table/test-insert-table.component.ts","webpack:///src/app/test-insert-table/test-insert-table.component.html","webpack:///src/app/user/unauthorized-user/unauthorized-user.component.ts","webpack:///src/app/user/unauthorized-user/unauthorized-user.component.html","webpack:///src/app/user/user-create/user-create.component.ts","webpack:///src/app/user/user-create/user-create.component.html","webpack:///src/app/user/user-disconnect/user-disconnect.component.ts","webpack:///src/app/user/user-disconnect/user-disconnect.component.html","webpack:///src/app/user/user-login/user-login.component.ts","webpack:///src/app/user/user-login/user-login.component.html","webpack:///src/environments/environment.ts","webpack:///src/main.ts"],"names":["webpackEmptyAsyncContext","req","Promise","resolve","then","e","Error","code","keys","module","exports","id","routes","path","component","canActivate","redirectTo","pathMatch","AppRoutingModule","forRoot","imports","AppComponent","authService","title","isAdmin","isGameMaster","isAuthenticated","selector","templateUrl","styleUrls","AppModule","provide","useValue","appearance","declarations","entryComponents","bootstrap","providers","bootstrapModule","err","console","error","AuthGuard","router","next","state","url","checkLogin","isAuth","parseUrl","redirectUrl","providedIn","User","AuthService","http","username","password","rejects","values","undefined","log","baseUrlBis","params","set","JSON","stringify","request","GET","toString","responseType","toPromise","data","response","parse","status","user","personnage","Personnage","POST","usernameToCheck","fakeUser","personnageNomToCheck","filter","opt","value","filterValue","toLowerCase","trim","item","libelle","indexOf","AutocompleteGroupeComponent","formBuilder","monstreForm","group","monstreGroup","monstreEventEmitter","setTimeout","monstreGroupOptions","get","valueChanges","pipe","_filterGroup","monsterGroupes","map","Famille","Membres","length","monstre","emit","handleEmpty","$event","target","select","AdDirective","viewContainerRef","FadingInfoComponent","componentFactoryResolver","currentAdIndex","clearInterval","interval","message","color","adItem","AdItem","BannerComponent","componentFactory","resolveComponentFactory","componentRef","adHost","createComponent","instance","remove","hostView","timer","Banner","nativeElement","style","setProperty","startsWith","classList","add","template","GestionDropMonstreBisComponent","familleMonstre","monstreLootChance","lootPossible","unUpdatableMonstreLootChance","monstreLootChanceToPOST","monstreLootChanceToPUT","unchangesLootChance","chargerFamilles","getLootPossibles","monstresGroupes","chargerFamillesAvecMonstres","monstreSelectionneLootChance","monstreSelectionneLootChanceOriginal","getMonstreLootChanceBis","monstreCourrant","idMonstre","remplissageLootManquant","x","Object","assign","i","a","roll","includes","splice","idLoot","niveauMonstre","multiplier","diceNumber","dicePower","poids","chargerMonstreLootChance","index","key","thereIsAtLeastOneValue","missingAtLeastOneValue","push","originalLootChanceWasEmpty","lootChanceIsCorrect","lootChanceIsDifferentFromOriginalOne","envoyerLootChancesBis","banner","loadComponent","status_message","selectionMonstre","filterMissing","f","GestionDropMonstreComponent","addedRow","getMonstreLootChanceTest","minRoll","maxRoll","envoyerLootChances","GestionMonstreComponent","familleAndMonstreService","myControl","chargerFamille","chargerFamilleEtMonstre","filteredFamilles","getAllFamilles","familles","updateFamilleCourante","getFamillesAvecMonstres","updateMonstreCourant","monstreExactMatchV","monstreExactMatch","option","familleMonstreSelectionne","document","getElementById","options","idFamilleMonstre","label","familleToSelect","selected","autocompleteGroupeMonstre","patchValue","libelleCourant","searchExistingMonstreByName","idFamille","selectedIndex","monstreLibelle","membre","element","modifierMonstre","reload","responseModification","creerMonstre","responseCreation","familleAsString","famille","searchExistingFamilleByName","familleCourante","setValue","selectionFamille","familleLibelle","modifierFamille","chargerNouvellesDonnees","creerFamille","updateFamilleMonstreSelectionnee","child","GestionObjetComponent","personnageService","objetService","objetMinimisations","updatingObjetName","getAllPersonnages","personnages","idPersonnageSelectionne","currentPersonnage","find","idPersonnage","loadObjetsNames","getAllObjetsNames","dataObjet","idObjet","updatingObjetID","getObjetName","objetCourantID","objetNom","replace","selectPersonnage","HttpMethods","LootTableComponent","input1","event","deDeDrop","lootSelectionne","lc","isObjetMaudit","getRecompenseValue","lp","objet","parametres","isInput2","input","parameter","hasToBeTrue","input2","input3","parametres2","parametres3","armure","arme","objetSimple","sendObjet","castToObjetCommunForDB","objetCommunDB","objetCommunDBModified","proprieteMagique","envoyerObjetComplet","ajouterProprietesMagiques","proprietesMagiques","envoyerEffetMagique","DemoMaterialModule","ArmesComponent","jsonService","armeEventEmitter","getJSON","effetsMagiquesArmes","allProprietesMagiques","armesSpeciales","allArmesSpeciales","armesCourantes","allArmeCourantes","allArmesGuerre","allArmesExotiques","reset","isSpecial","isMagique","deSpecial","deProprieteMagique","deType","bonus","dePuissance","deBonus","categorieObjet","allCategoriesCourante","Categories","armes","deObjet","setNom","setType","type","nom","getNbProprietesMagiques","armeSpecial","getProprietesMagiques","getPrixAndCurrency","prix","resetHard","taille","degatsParTaille","nomTaille","getDegats","degats","materiau","autresMateriaux","nomMateriau","getNomsProprieteMagique","setMateriau","setTaille","valide","maledictionToAdd","getMalediction","prixProprieteMagique","prixNonHumanoide","devise","currencyType","malediction","categorie","critique","facteurPortee","bonusDexteriteMax","malusArmureTests","risqueEchecSorts","afficherNom","afficherEffetMagique","afficherMalediction","afficherMateriau","afficherInfos","maledictionComponent","maudit","ArmuresComponent","armureEventEmitter","bouclier","effetsArmuresMagiques","armuresMagiquesSpeciales","allArmuresSpeciales","boucliersSpeciaux","allBoucliersSpeciaux","armuresCourantes","allArmures","armures","special","prixParTaille","prixHumanoide","match","prixDuMateriau","prixDeBase","setArmure","bonArm","bonDext","malArm","RisqEch","MaledictionsComponent","maledictionEventEmitter","modificationEnCoursMalediction","validee","inconveniants","conditionsDeFonctionnement","conditionsExterieur","mauditsSpeciaux","allObjetsMaudits","maledictions","dice","Chances","chance","lootChanceMin","lootChanceMax","name","getObjetsMaudits","dePuissanceMalediction","weakAndSmall","concat","unknown","moderate","strongAnfPowerful","deMalediction2","magicalProperty","deMalediction","description","infos","table","ul","conditionDeFonctionnement","getFromChance","inconveniant","ObjetCombat","setBonus","indexPrix","bonusToNumber","isNaN","ObjetCommun","modificationEnCours","getProprieteMagique","checkProprietesMagiquesIntegrity","proprieteMagiqueCurrencyType","matchCurrency","substring","descriptionMalediction","idMalediction","indexDescription","indexTable","indexTableTitle","indexTableTitleContent","indexTableTr","tr","indexTableTrContent","indexUl","indexLi","li","ObjetSimpleComponent","objetSimpleEventEmitter","effetsObjet","loadComplete","PersonnageObjetPersonnageComponent","changingObjetEffetDecouvert","ajoutEffetDecouvert","updating","getObjetComplet","loadEffetsMagiquesDecouverts","getEffetsMagiquesDecouverts","effetsMagiquesDecouverts","effetsMagiquesDecouvertsOriginal","modificationsEnCours","effetsMagiquesDecouvert","ctrlKey","getModificationIndex","indexEffetDecouvert","DELETE","respone","reloadingInterface","PUT","effet","fermerModificationCourante","effetDecouvertAAjouter","effetMagiqueDecouvert","idEffetMagiqueDecouvert","indexEffetMagiqueDecouvert","annulerAjoutEffetDecouvert","aModificationIsOccuring","annulerModificationEffetDecouvert","loadObjet","idObj","handleKeyboardEvent","PersonnageObjetComponent","changingObjet","objetOriginal","modifierContenu","updateObjet","effetMagique","effetMagiqueDescription","contenu","effetMagiqueTable","effetMagiqueTableTitle","effetMagiqueTableTitleContent","effetMagiqueTableTr","effetMagiqueTableTrContent","effetMagiqueUl","effetMagiqueUlContent","indexInfos","effetMagiqueDBInfos","areDifferentObjets","setEmptyToNull","isEmptyObjet","indexEffet","isEmptyEffetMagique","isEmptyTable","areDifferentTables","indexTitle","isEmptyTableTitle","areDifferentTableTitles","indexTitleContent","isEmptyTableTitleContent","titleContent","areDifferentTableTitleContents","indexTr","isEmptyTableTr","areDifferentTableTrs","indexTrContent","isEmptyTableTrContent","trContent","areDifferentTableTrContents","isEmptyUl","areDifferentUls","indexUlContent","isEmptyUlContent","ulContent","areDifferentUlContents","isEmptyDescription","areDifferentDescriptions","isEmptyInfo","areDifferentInfos","areDifferentEffetsMagiques","fauxNom","effetMagiqueDescriptions","effetMagiqueInfos","info","isEmptyDescriptions","table1","table2","idEffetMagique","position","idEffetMagiqueTable","idEffetMagiqueTableTitle","idEffetMagiqueTableTr","idEffetMagiqueUl","description1","description2","infos1","infos2","effet1","effet2","objet1","objet2","objetTemp1","objetTemp2","PersonnageComponent","afficherStatistiquesSecondaires","statistique","Math","floor","intelligence","force","agilite","sagesse","constitution","vitalite","mana","FamilleAndMonstreService","applicationTypeObservable","applicationTypeSubscription","subscribe","unsubscribe","allFamilles","JSonLoadService","folder","fileToLoad","endsWith","MonstreLootChanceService","httpMethod","Loot","ObjetService","fieldToUpdate","idEffet","descriptions","Descriptions","Objet","effetMagiqueDecouver","EffetMagiqueDecouvert","effetModified","EffetMagique","dataEffetMagique","envoyerEffetMagiqueTable","dataEffetMagiqeTable","envoyerEffetMagiqueUl","effetTable","EffetMagiqueTable","effetUl","EffetMagiqueUl","EffetMagiqueUlContent","EffetMagiqueTableTitleContent","EffetMagiqueTableTitle","EffetMagiqueTableTrContent","EffetMagiqueTableTr","EffetMagiqueDescription","EffetMagiqueInfos","objetCopie","Malediction","idMateriaux","materiaux","Materiaux","PersonnageService","withStatistique","details","BASE_URL","URL_DROP_CHANCE","URL_DROP_CHANCE_BIS","URL_MONSTRES","URL_MONSTRE","URL_FAMILLE_MONSTRE","URL_EFFET_MAGIQUE","URL_OBJET_COMPLET","URL_PERSONNAGE","URL_STATISTIQUE","SpinnerComponent","TestInsertTableComponent","sacAMalice","Table","casqueDeMilleFeux","Ul","Infos","testTable","testUl","testDescriptions","testInfos","UnauthorizedUserComponent","usernameValid","formGroup","missingUsername","tooLongUsername","passwordMatchValidator","missingPassword","notLongEnoughPassword","passwordMismatch","personnageSelection","missingPersonnage","tooLongPersonnageName","UserCreateComponent","hide","creationPersonnageChecked","personnageLeft","lookingForUsernameAvailability","lookingForPersonnageNameAvailability","hasError","controlName","errorName","createUserForm","controls","createUser","userFormValue","valid","executeUserCreation","personnageToAdd","niveau","statistiquesParNiveau","userCreated","signIn","afficherMessageErreur","required","maxLength","minLength","passwordRepeat","personnageLeftChecked","navigate","getAllLeftPersonnage","leftPersonnage","setErrors","ma","checkPersonnageNameAvailability","checkUsernameAvailability","usernameGiven","passwordGiven","clearValidators","updateValueAndValidity","setValidators","timerUsername","clearTimeout","searchUsername","checkUsernameAvailable","usernameUnavailable","unavailableUsername","timerPersonnageName","searchPersonnageName","checkPersonnageNomAvailable","personnageNameUnavailable","unavailablePersonnageName","errors","onPasswordInput","creationPersonnageCheckedFunction","UserDisconnectComponent","route","signOut","UserLoginComponent","loginUserForm","usernameUnknown","maxlength","afficherErrors","environment","production"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,eAASA,wBAAT,CAAkCC,GAAlC,EAAuC;AACtC;AACA;AACA,eAAOC,OAAO,CAACC,OAAR,GAAkBC,IAAlB,CAAuB,YAAW;AACxC,cAAIC,CAAC,GAAG,IAAIC,KAAJ,CAAU,yBAAyBL,GAAzB,GAA+B,GAAzC,CAAR;AACAI,WAAC,CAACE,IAAF,GAAS,kBAAT;AACA,gBAAMF,CAAN;AACA,SAJM,CAAP;AAKA;;AACDL,8BAAwB,CAACQ,IAAzB,GAAgC,YAAW;AAAE,eAAO,EAAP;AAAY,OAAzD;;AACAR,8BAAwB,CAACG,OAAzB,GAAmCH,wBAAnC;AACAS,YAAM,CAACC,OAAP,GAAiBV,wBAAjB;AACAA,8BAAwB,CAACW,EAAzB,GAA8B,yCAA9B;;;;;;;;;;;;;;;;ACZA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;AAqBA,UAAMC,MAAM,GAAW,CACnB;AAACC,YAAI,EAAE,cAAP;AAAuBC,iBAAS,EAAE;AAAlC,OADmB,EAEnB;AAACD,YAAI,EAAE,aAAP;AAAsBC,iBAAS,EAAE;AAAjC,OAFmB,EAGnB;AAACD,YAAI,EAAE,QAAP;AAAiBC,iBAAS,EAAE;AAA5B,OAHmB,EAInB;AAACD,YAAI,EAAE,OAAP;AAAgBC,iBAAS,EAAE;AAA3B,OAJmB,EAKnB;AAACD,YAAI,EAAE,gBAAP;AAAyBC,iBAAS,EAAE;AAApC,OALmB,EAMnB;AAACD,YAAI,EAAE,qBAAP;AAA8BC,iBAAS,EAAE;AAAzC,OANmB,EAOnB;AAACD,YAAI,EAAE,WAAP;AAAoBC,iBAAS,EAAE;AAA/B,OAPmB,EAQnB;AAACD,YAAI,EAAE,WAAP;AAAoBC,iBAAS,EAAE;AAA/B,OARmB,EASnB;AAACD,YAAI,EAAE,aAAP;AAAsBC,iBAAS,EAAE;AAAjC,OATmB,EAUnB;AAACD,YAAI,EAAE,WAAP;AAAoBC,iBAAS,EAAE;AAA/B,OAVmB,EAWnB;AAACD,YAAI,EAAE,YAAP;AAAqBC,iBAAS,EAAE;AAAhC,OAXmB,EAYnB;AAACD,YAAI,EAAE,eAAP;AAAwBC,iBAAS,EAAE,6FAAnC;AAA0DC,mBAAW,EAAE,CAAC,2DAAD;AAAvE,OAZmB,EAanB;AAACF,YAAI,EAAE,gBAAP;AAAyBC,iBAAS,EAAE,kGAApC;AAA6DC,mBAAW,EAAE,CAAC,2DAAD;AAA1E,OAbmB,EAcnB;AAACF,YAAI,EAAE,oBAAP;AAA6BC,iBAAS,EAAE,gHAAxC;AAAqEC,mBAAW,EAAE,CAAC,2DAAD;AAAlF,OAdmB,EAenB;AAACF,YAAI,EAAE,uBAAP;AAAgCC,iBAAS,EAAE,2HAA3C;AAA2EC,mBAAW,EAAE,CAAC,2DAAD;AAAxF,OAfmB,EAgBnB;AAACF,YAAI,EAAE,WAAP;AAAoBC,iBAAS,EAAE,mFAA/B;AAAmDC,mBAAW,EAAE,CAAC,2DAAD;AAAhE,OAhBmB,EAiBnB;AAACF,YAAI,EAAE,EAAP;AAAWG,kBAAU,EAAE,YAAvB;AAAqCC,iBAAS,EAAE;AAAhD,OAjBmB,EAkBnB;AAACJ,YAAI,EAAE,IAAP;AAAaG,kBAAU,EAAE;AAAzB,OAlBmB,CAAvB;;UAyBaE,gB;;;;;cAAAA;;;;2BAAAA,gB;AAAgB,S;AAAA,kBAHhB,CAAC,6DAAaC,OAAb,CAAqBP,MAArB,CAAD,CAGgB,EAFf,4DAEe;;;;4HAAhBM,gB,EAAgB;AAAA;AAAA,oBAFf,4DAEe;AAAA,S;AAFH,O;;;;;wEAEbA,gB,EAAgB;gBAJ5B,sDAI4B;iBAJnB;AACNE,mBAAO,EAAE,CAAC,6DAAaD,OAAb,CAAqBP,MAArB,CAAD,CADH;AAENF,mBAAO,EAAE,CAAC,4DAAD;AAFH,W;AAImB,U;;;;;;;;;;;;;;;;;;AC9C7B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;ACYQ;;AAA6D;;AAAI;;;;;;AACjE;;AAAiE;;AAAc;;;;;;AAC/E;;AAAkE;;AAAe;;;;;;AACjF;;AAAyE;;AAAoB;;;;;;AAE7F;;AAAkF;;AAAS;;;;;;AAC3F;;AAAuF;;AAAW;;;;;;AAO9F;;AAA6D;;AAAI;;;;;;AACjE;;AAAiE;;AAAc;;;;;;AAC/E;;AAAkE;;AAAe;;;;;;AACjF;;AAAyE;;AAAoB;;;;;;AAE7F;;AAAkF;;AAAS;;;;;;AAC3F;;AAAuF;;AAAW;;;;UDvBjGW,Y;AAGT,8BAAoBC,WAApB,EAA8C;AAAA;;AAA1B,eAAAA,WAAA,GAAAA,WAAA;AAFpB,eAAAC,KAAA,GAAQ,kBAAR;AAGC;;;;oCAES;AACN,mBAAO,KAAKD,WAAL,CAAiBE,OAAjB,EAAP;AACH;;;yCAEc;AACX,mBAAO,KAAKF,WAAL,CAAiBG,YAAjB,EAAP;AACH;;;mCAEQ;AACL,mBAAO,KAAKH,WAAL,CAAiBI,eAAjB,EAAP;AACH;;;;;;;yBAhBQL,Y,EAAY,+H;AAAA,O;;;cAAZA,Y;AAAY,iC;AAAA,iB;AAAA,gB;AAAA,kzC;AAAA;AAAA;;;ACRzB;;AACI;;AACI;;AAAwB;AAAA;;AAAA;;AAAA,qBAAS,YAAT;AAAyB,aAAzB;;AACpB;;AAAU;;AAAI;;AAClB;;AACJ;;AACA;;AACI;;AAAM;;AAAe;;AACzB;;AACA;;AACA;;AACI;;AAA2C;;AAAU;;AACrD;;AACA;;AACA;;AACA;;AACA;;AAAoC;;AAAO;;AAC3C;;AACA;;AACJ;;AACJ;;AACA;;AACI;;AACI;;AACI;;AAA2C;;AAAW;;AACtD;;AACA;;AACA;;AACA;;AACA;;AAAoC;;AAAO;;AAC3C;;AACA;;AACJ;;AACJ;;AACA;;AAGI;;AAEJ;;AACJ;;;;AA5B8C;;AAAA;;AACI;;AAAA;;AACC;;AAAA;;AACO;;AAAA;;AAES;;AAAA;;AACM;;AAAA;;AAOvB;;AAAA;;AACI;;AAAA;;AACC;;AAAA;;AACO;;AAAA;;AAES;;AAAA;;AACM;;AAAA;;;;;;;;;wEDvBhEA,Y,EAAY;gBALxB,uDAKwB;iBALd;AACPM,oBAAQ,EAAE,UADH;AAEPC,uBAAW,EAAE,sBAFN;AAGPC,qBAAS,EAAE,CAAC,sBAAD;AAHJ,W;AAKc,U;;;;;;;;;;;;;;;;;;;;;;AERzB;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAwFaC,S;;;;;cAAAA,S;AAAS,oBANN,2DAMM;;;;2BAATA,S;AAAS,S;AAAA,mBALP,CACP;AAACC,iBAAO,EAAE,2FAAV;AAA0CC,kBAAQ,EAAE;AAACC,sBAAU,EAAE;AAAb;AAApD,SADO,EAEP,+DAFO,C;AAGV,kBAlBQ,CACL,uEADK,EAEL,4FAFK,EAGL,oEAHK,EAIL,0DAJK,EAKL,kEALK,EAML,oFANK,EAOL,+EAPK,EAQL,qEARK,EASL,oEATK,EAUL,2EAVK,EAWL,sEAXK,CAkBR;;;;4HAEQH,S,EAAS;AAAA,yBA5Cd,2DA4Cc,EA3Cd,mFA2Cc,EA1Cd,+GA0Cc,EAzCd,iHAyCc,EAxCd,mGAwCc,EAvCd,uFAuCc,EAtCd,+EAsCc,EArCd,mFAqCc,EApCd,4HAoCc,EAnCd,6EAmCc,EAlCd,mFAkCc,EAjCd,kGAiCc,EAhCd,iGAgCc,EA/Bd,wGA+Bc,EA9Bd,qFA8Bc,EA7Bd,sGA6Bc,EA5Bd,6FA4Bc,EA3Bd,4EA2Bc,EA1Bd,sIA0Bc,EAzBd,yFAyBc,EAxBd,4FAwBc,EAvBd,wGAuBc,EAtBd,8GAsBc;AAtBW,oBAGzB,uEAHyB,EAIzB,4FAJyB,EAKzB,oEALyB,EAMzB,0DANyB,EAOzB,kEAPyB,EAQzB,oFARyB,EASzB,+EATyB,EAUzB,qEAVyB,EAWzB,oEAXyB,EAYzB,2EAZyB,EAazB,sEAbyB;AAsBX,S;AATE,O;;;;;wEASXA,S,EAAS;gBA9CrB,sDA8CqB;iBA9CZ;AACNI,wBAAY,EAAE,CACV,2DADU,EAEV,mFAFU,EAGV,+GAHU,EAIV,iHAJU,EAKV,mGALU,EAMV,uFANU,EAOV,+EAPU,EAQV,mFARU,EASV,4HATU,EAUV,6EAVU,EAWV,mFAXU,EAYV,kGAZU,EAaV,iGAbU,EAcV,wGAdU,EAeV,qFAfU,EAgBV,sGAhBU,EAiBV,6FAjBU,EAkBV,4EAlBU,EAmBV,sIAnBU,EAoBV,yFApBU,EAqBV,4FArBU,EAsBV,wGAtBU,EAuBV,8GAvBU,CADR;AA0BNd,mBAAO,EAAE,CACL,uEADK,EAEL,4FAFK,EAGL,oEAHK,EAIL,0DAJK,EAKL,kEALK,EAML,oFANK,EAOL,+EAPK,EAQL,qEARK,EASL,oEATK,EAUL,2EAVK,EAWL,sEAXK,CA1BH;AAuCNe,2BAAe,EAAE,EAvCX;AAwCNC,qBAAS,EAAE,CAAC,2DAAD,CAxCL;AAyCNC,qBAAS,EAAE,CACP;AAACN,qBAAO,EAAE,2FAAV;AAA0CC,sBAAQ,EAAE;AAACC,0BAAU,EAAE;AAAb;AAApD,aADO,EAEP,+DAFO;AAzCL,W;AA8CY,U;;;AAGtB,kFAAyBK,eAAzB,CAAyC,sDAAzC,WACW,UAAAC,GAAG;AAAA,eAAIC,OAAO,CAACC,KAAR,CAAcF,GAAd,CAAJ;AAAA,OADd;;;;;;;;;;;;;;;;;AC3FA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAQaG,S;AAET,2BAAoBpB,WAApB,EAAsDqB,MAAtD,EAAsE;AAAA;;AAAlD,eAAArB,WAAA,GAAAA,WAAA;AAAkC,eAAAqB,MAAA,GAAAA,MAAA;AACrD;;;;sCAGGC,I,EACAC,K,EAA0B;AAC1B,gBAAMC,GAAG,GAAWD,KAAK,CAACC,GAA1B;AAEA,mBAAO,KAAKC,UAAL,CAAgBD,GAAhB,CAAP;AACH;;;qCAEUA,G,EAAW;AAClB,gBAAI,KAAKxB,WAAL,CAAiBG,YAAjB,EAAJ,EAAqC;AAAE,qBAAO,IAAP;AAAc;;AACrD,gBAAI,CAAC,KAAKH,WAAL,CAAiB0B,MAAtB,EAA8B;AAAE,qBAAO,KAAKL,MAAL,CAAYM,QAAZ,CAAqB,QAArB,CAAP;AAAwC,aAFtD,CAIlB;;;AACA,iBAAK3B,WAAL,CAAiB4B,WAAjB,GAA+BJ,GAA/B,CALkB,CAOlB;;AACA,mBAAO,KAAKH,MAAL,CAAYM,QAAZ,CAAqB,eAArB,CAAP;AACH;;;;;;;yBAtBQP,S,EAAS,iH,EAAA,8G;AAAA,O;;;eAATA,S;AAAS,iBAATA,SAAS,K;AAAA,oBAFN;;;;;wEAEHA,S,EAAS;gBAHrB,wDAGqB;iBAHV;AACRS,sBAAU,EAAE;AADJ,W;AAGU,U;;;;;;;;;;;;;;;;;;;;;;;;ACRtB;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAMaC,I;;;;UAOAC,W;AAAb;AAAA;;AAEI,eAAAL,MAAA,GAAS,KAAT;AA4GH;;;;iCApGUM,I,EAAkBC,Q,EAAkBC,Q,EAAkB;AAAA;;AACzD,mBAAO,IAAItD,OAAJ,CACH,UAACC,OAAD,EAAUsD,OAAV,EAAsB;AAClB,kBAAMC,MAAM,GAAG;AAACH,wBAAQ,EAAEI,SAAX;AAAsBH,wBAAQ,EAAEG;AAAhC,eAAf;AACAD,oBAAM,CAACH,QAAP,GAAkBA,QAAlB;AACAG,oBAAM,CAACF,QAAP,GAAkBA,QAAlB;AACAhB,qBAAO,CAACoB,GAAR,CAAYF,MAAZ;AACA,kBAAMG,UAAU,GAAG,kEAAW,eAA9B;AACArB,qBAAO,CAACoB,GAAR,CAAYC,UAAZ;AAEA,kBAAMC,MAAM,GAAG,IAAI,+DAAJ,GAAiBC,GAAjB,CAAqB,WAArB,EAAkCC,IAAI,CAACC,SAAL,CAAeP,MAAf,CAAlC,CAAf;AAEAJ,kBAAI,CAACY,OAAL,CAAa,yEAAYC,GAAZ,CAAgBC,QAAhB,EAAb,EAAyCP,UAAzC,EAAqD;AAACQ,4BAAY,EAAE,MAAf;AAAuBP,sBAAM,EAANA;AAAvB,eAArD,EAAqFQ,SAArF,GAAiGlE,IAAjG,CACI,UAACmE,IAAD,EAAe;AACX/B,uBAAO,CAACoB,GAAR,CAAYW,IAAZ;AACA,oBAAMC,QAAQ,GAAoBR,IAAI,CAACS,KAAL,CAAWF,IAAX,CAAlC;;AACA,oBAAIC,QAAQ,CAACE,MAAT,KAAoB,GAAxB,EAA6B;AACzB,uBAAI,CAAC1B,MAAL,GAAc,IAAd;AACA,uBAAI,CAAC2B,IAAL,GAAYH,QAAQ,CAACD,IAArB;AACA,uBAAI,CAACK,UAAL,GAAkBJ,QAAQ,CAACD,IAAT,CAAcK,UAAhC;AACAzE,yBAAO,CAAC,IAAD,CAAP;AACH,iBALD,MAKO;AACHsD,yBAAO,CAAC,KAAD,CAAP;AACH;AACJ,eAZL,WAcI,UAACc,IAAD,EAAe;AACX/B,uBAAO,CAACoB,GAAR,CAAYW,IAAZ;AACA,oBAAMC,QAAQ,GAAoBD,IAAlC;;AACA,oBAAIC,QAAQ,CAACE,MAAT,KAAoB,GAAxB,EAA6B;AACzB,uBAAI,CAAC1B,MAAL,GAAc,IAAd;AACA,uBAAI,CAAC2B,IAAL,GAAYH,QAAQ,CAACD,IAArB;AACA,uBAAI,CAACK,UAAL,GAAkBJ,QAAQ,CAACD,IAAT,CAAcK,UAAhC;AACAzE,yBAAO,CAAC,IAAD,CAAP;AACH,iBALD,MAKO;AACHsD,yBAAO,CAAC,KAAD,CAAP;AACH;AACJ,eAzBL;AA2BH,aAtCE,CAAP;AAwCH;;;oCAES;AACN,iBAAKkB,IAAL,GAAY,IAAZ;AACA,iBAAKC,UAAL,GAAkB,IAAlB;AACA,iBAAK5B,MAAL,GAAc,KAAd;AACH;;;qCAEUM,I,EAAkBqB,I,EAAuBC,U,EAAsB;AACtE,gBAAMlB,MAAM,GAAG;AAACN,kBAAI,EAAEO,SAAP;AAAkBkB,wBAAU,EAAElB;AAA9B,aAAf;AACAD,kBAAM,CAACN,IAAP,GAAcuB,IAAd;AACAjB,kBAAM,CAACmB,UAAP,GAAoBD,UAApB;AACApC,mBAAO,CAACoB,GAAR,CAAYF,MAAZ;AACA,gBAAMG,UAAU,GAAG,kEAAW,eAA9B;AACArB,mBAAO,CAACoB,GAAR,CAAYC,UAAZ;AAEA,gBAAMC,MAAM,GAAG,IAAI,+DAAJ,GAAiBC,GAAjB,CAAqB,UAArB,EAAiCC,IAAI,CAACC,SAAL,CAAeP,MAAf,CAAjC,CAAf;AAEA,mBAAOJ,IAAI,CAACY,OAAL,CAAa,yEAAYY,IAAZ,CAAiBV,QAAjB,EAAb,EAA0CP,UAA1C,EAAsD;AAACQ,0BAAY,EAAE,MAAf;AAAuBP,oBAAM,EAANA;AAAvB,aAAtD,EAAsFQ,SAAtF,EAAP;AACH;;;+CAEoBhB,I,EAAkB;AACnC,gBAAMO,UAAU,GAAG,kEAAW,eAAX,GAA6B,sBAAhD;AACArB,mBAAO,CAACoB,GAAR,CAAYC,UAAZ;AACA,mBAAOP,IAAI,CAACY,OAAL,CAAa,yEAAYC,GAAZ,CAAgBC,QAAhB,EAAb,EAAyCP,UAAzC,EAAqDS,SAArD,EAAP;AACH;;;iDAEsBhB,I,EAAkByB,e,EAAyB;AAC9D,gBAAMC,QAAQ,GAAoB;AAC9BzB,sBAAQ,EAAEwB,eADoB;AAE9BvB,sBAAQ,EAAE,IAFoB;AAG9B/B,0BAAY,EAAE,IAHgB;AAI9BD,qBAAO,EAAE;AAJqB,aAAlC;AAMA,gBAAMkC,MAAM,GAAG;AAACN,kBAAI,EAAEO;AAAP,aAAf;AACAD,kBAAM,CAACN,IAAP,GAAc4B,QAAd;AACA,gBAAMlB,MAAM,GAAG,IAAI,+DAAJ,GAAiBC,GAAjB,CAAqB,MAArB,EAA6BC,IAAI,CAACC,SAAL,CAAeP,MAAf,CAA7B,CAAf;AACA,gBAAMG,UAAU,GAAG,kEAAW,eAAX,GAA6B,sBAAhD;AACArB,mBAAO,CAACoB,GAAR,CAAYC,UAAZ;AACA,mBAAOP,IAAI,CAACY,OAAL,CAAa,yEAAYC,GAAZ,CAAgBC,QAAhB,EAAb,EAAyCP,UAAzC,EAAqD;AAACQ,0BAAY,EAAE,MAAf;AAAuBP,oBAAM,EAANA;AAAvB,aAArD,EAAqFQ,SAArF,EAAP;AACH;;;sDAE2BhB,I,EAAkB2B,oB,EAA8B;AACxE,gBAAMpB,UAAU,GAAG,kEAAW,eAAX,GAA6B,iBAA7B,GAAiDoB,oBAAjD,GAAwE,sBAA3F;AACAzC,mBAAO,CAACoB,GAAR,CAAYC,UAAZ;AACA,mBAAOP,IAAI,CAACY,OAAL,CAAa,yEAAYC,GAAZ,CAAgBC,QAAhB,EAAb,EAAyCP,UAAzC,EAAqDS,SAArD,EAAP;AACH;;;oCAES;AACN,mBAAO,KAAKK,IAAL,IAAa,KAAKA,IAAL,CAAUnD,OAA9B;AACH;;;yCAEc;AACX,mBAAO,KAAKmD,IAAL,KAAc,KAAKA,IAAL,CAAUlD,YAAV,IAA0B,KAAKD,OAAL,EAAxC,CAAP;AACH;;;4CAEiB;AACd,mBAAO,KAAKwB,MAAZ;AACH;;;;;;;;;;;;;;;;;;;;;AC1HL;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;;;ACeQ;;AACY;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AACV;;AACF;;;;;;AAHiD;;AAE/C;;AAAA;;;;;;AAHJ;;AACE;;AAIF;;;;;;AALgE;;AAClD;;AAAA;;;;ADVb,UAAMkC,MAAM,GAAG,SAATA,MAAS,CAACC,GAAD,EAAiBC,KAAjB,EAA8C;AAClE,YAAMC,WAAW,GAAGD,KAAK,CAACE,WAAN,GAAoBC,IAApB,EAApB;AAEA,eAAOJ,GAAG,CAACD,MAAJ,CAAW,UAAAM,IAAI;AAAA,iBAAIA,IAAI,CAACC,OAAL,CAAaH,WAAb,GAA2BC,IAA3B,GAAkCG,OAAlC,CAA0CL,WAA1C,MAA2D,CAAC,CAAhE;AAAA,SAAf,CAAP;AACD,OAJM;AAMP;;;;;UAQaM,2B;AAUX,6CAAoBC,WAApB,EAA8C;AAAA;;AAA1B,eAAAA,WAAA,GAAAA,WAAA;AARpB,eAAAC,WAAA,GAAyB,KAAKD,WAAL,CAAiBE,KAAjB,CAAuB;AAC9CC,wBAAY,EAAE;AADgC,WAAvB,CAAzB;AAIU,eAAAC,mBAAA,GAAsB,IAAI,0DAAJ,EAAtB;AAIsC;;;;qCAErC;AAAA;;AACT;AACA;AACA;AACAC,sBAAU,CAAE,YAAM;AAChB,oBAAI,CAACC,mBAAL,GAA2B,MAAI,CAACL,WAAL,CAAiBM,GAAjB,CAAqB,cAArB,EAAqCC,YAArC,CACxBC,IADwB,CAEvB,iEAAU,EAAV,CAFuB,EAGvB,2DAAI,UAAAjB,KAAK;AAAA,uBAAI,MAAI,CAACkB,YAAL,CAAkBlB,KAAlB,CAAJ;AAAA,eAAT,CAHuB,CAA3B;AAKD,aANS,EAMP,GANO,CAAV;AAOD;;;uCAEoBA,K,EAAa;AAChC,gBAAIA,KAAJ,EAAW;AACT,qBAAO,KAAKmB,cAAL,CACJC,GADI,CACA,UAAAV,KAAK;AAAA,uBAAK;AAACW,yBAAO,EAAEX,KAAK,CAACW,OAAhB;AAAyBC,yBAAO,EAAExB,MAAM,CAACY,KAAK,CAACY,OAAP,EAAgBtB,KAAhB;AAAxC,iBAAL;AAAA,eADL,EAEJF,MAFI,CAEG,UAAAY,KAAK;AAAA,uBAAIA,KAAK,CAACY,OAAN,CAAcC,MAAd,GAAuB,CAA3B;AAAA,eAFR,CAAP;AAGD;;AAED,mBAAO,KAAKJ,cAAZ;AACD;;;oCAESK,O,EAAkB;AAC1B,iBAAKZ,mBAAL,CAAyBa,IAAzB,CAA8BD,OAA9B;AACD;;;wCAEa,CACZ;AACD;;;;;;;yBAzCUjB,2B,EAA2B,2H;AAAA,O;;;cAA3BA,2B;AAA2B,gD;AAAA;AAAA;AAAA,S;AAAA;AAAA;AAAA,S;AAAA,iB;AAAA,e;AAAA,kY;AAAA;AAAA;ACnBxC;;AACE;;AACE;;AACA;;AAIO;AAAA,qBAAU,IAAAmB,WAAA,EAAV;AAAuB,aAAvB,EAAwB,OAAxB,EAAwB;AAAA,qBACfC,MAAM,CAACC,MAAP,CAAcC,MAAd,EADe;AACO,aAD/B;;AAJP;;AAQA;;AAAW;;AAAQ;;AAEnB;;AACE;;;;AAMF;;AAEF;;AACF;;;;;;AAvBM;;AAMK;;AAAA;;AAQS;;AAAA;;;;;;;;;;wEDKPtB,2B,EAA2B;gBALvC,uDAKuC;iBAL7B;AACThE,oBAAQ,EAAE,yBADD;AAETC,uBAAW,EAAE,sCAFJ;AAGTC,qBAAS,EAAE,CAAC,sCAAD;AAHF,W;AAK6B,U;;;;;AAK7B0E,wBAAc,EAAE,CAAF;kBAAtB;AAAsB,WAAE,C;AACfP,6BAAmB;kBAA5B;AAA4B;;;;;;;;;;;;;;;;;;;AEzB/B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;;;;UAiBakB,W,GACT,qBAAmBC,gBAAnB,EAAuD;AAAA;;AAApC,aAAAA,gBAAA,GAAAA,gBAAA;AAClB,O;;;yBAFQD,W,EAAW,+H;AAAA,O;;;cAAXA,W;AAAW;;;;;wEAAXA,W,EAAW;gBAHvB,uDAGuB;iBAHb;AACPvF,oBAAQ,EAAE;AADH,W;AAGa,U;;;;;;;UAUXyF,mB;AAMT,qCAAoBC,wBAApB,EAAwE;AAAA;;AAApD,eAAAA,wBAAA,GAAAA,wBAAA;AAJpB,eAAAC,cAAA,GAAiB,CAAC,CAAlB;AAKC;;;;wCAEa;AACVC,yBAAa,CAAC,KAAKC,QAAN,CAAb;AACH;;;wCAEajG,K,EAAekG,O,EAAiBC,K,EAAe;AAAA;;AACzD,gBAAMC,MAAM,GAAG,IAAIC,MAAJ,CAAWC,eAAX,EAA4B;AAACtG,mBAAK,EAALA,KAAD;AAAQkG,qBAAO,EAAPA,OAAR;AAAiBC,mBAAK,EAALA;AAAjB,aAA5B,CAAf;AAEA,gBAAMI,gBAAgB,GAAG,KAAKT,wBAAL,CAA8BU,uBAA9B,CAAsDJ,MAAM,CAAC7G,SAA7D,CAAzB;AAEA,gBAAMkH,YAAY,GAAG,KAAKC,MAAL,CAAYd,gBAAZ,CAA6Be,eAA7B,CAA8DJ,gBAA9D,CAArB;AACAE,wBAAY,CAACG,QAAb,CAAsB5D,IAAtB,GAA6BoD,MAAM,CAACpD,IAApC;AAEA,iBAAKiD,QAAL,GAAgBvB,UAAU,CAAC,YAAM;AAC7B,oBAAI,CAACgC,MAAL,CAAYd,gBAAZ,CAA6BiB,MAA7B,CAAoC,MAAI,CAACH,MAAL,CAAYd,gBAAZ,CAA6BzB,OAA7B,CAAqCsC,YAAY,CAACK,QAAlD,CAApC;AACH,aAFyB,EAEvB,IAFuB,CAA1B;AAGH;;;;;;;yBAxBQjB,mB,EAAmB,uI;AAAA,O;;;cAAnBA,mB;AAAmB,wC;AAAA;AAAA;4EAGjBF,W,EAAa,I;;;;;;;;;;;;;;AC9B5B;;AACE;;AACF;;;qBDeaA,W;AAAW;;;;;wEAUXE,mB,EAAmB;gBAL/B,uDAK+B;iBALrB;AACPzF,oBAAQ,EAAE,iBADH;AAEPC,uBAAW,EAAE,8BAFN;AAGPC,qBAAS,EAAE,CAAC,8BAAD;AAHJ,W;AAKqB,U;;;;;AAGYoG,gBAAM,EAAE,CAAF;kBAA7C,uDAA6C;mBAAnCf,W,EAAa;AAAC,wBAAQ;AAAT,a;AAAsB,WAAE;;;;UAmCvCW,e;;;;;;;qCAKE;AAAA;;AACP,iBAAKS,KAAL,GAAarC,UAAU,CAAC,YAAM;AAC1B,oBAAI,CAACsC,MAAL,CAAYC,aAAZ,CAA0BC,KAA1B,CAAgCC,WAAhC,CAA4C,SAA5C,EAAuD,GAAvD;AACH,aAFsB,EAEpB,IAFoB,CAAvB;AAGH;;;4CAEiB;AACd,gBAAI,KAAKnE,IAAL,CAAUmD,KAAV,CAAgBiB,UAAhB,CAA2B,GAA3B,CAAJ,EAAqC;AACjC,mBAAKJ,MAAL,CAAYC,aAAZ,CAA0BI,SAA1B,CAAoCC,GAApC,CAAwC,kBAAxC;AACH,aAFD,MAEO,IAAI,KAAKtE,IAAL,CAAUmD,KAAV,CAAgBiB,UAAhB,CAA2B,GAA3B,CAAJ,EAAqC;AACxC,mBAAKJ,MAAL,CAAYC,aAAZ,CAA0BI,SAA1B,CAAoCC,GAApC,CAAwC,WAAxC;AACH,aAFM,MAEA,IAAI,KAAKtE,IAAL,CAAUmD,KAAV,CAAgBiB,UAAhB,CAA2B,GAA3B,CAAJ,EAAqC;AACxC,mBAAKJ,MAAL,CAAYC,aAAZ,CAA0BI,SAA1B,CAAoCC,GAApC,CAAwC,cAAxC;AACH,aAFM,MAEA;AACH,mBAAKN,MAAL,CAAYC,aAAZ,CAA0BI,SAA1B,CAAoCC,GAApC,CAAwC,eAAxC;AACH;AACJ;;;wCAEa;AACVtB,yBAAa,CAAC,KAAKe,KAAN,CAAb;AACH;;;;;;;yBAzBQT,e;AAAe,O;;;cAAfA,e;AAAe,qC;AAAA;AAAA;;;;;;;;;;;;;;;;;;AATpB;;AACI;;AAAI;;AAAc;;AAElB;;AAAG;;AAAgB;;AAEvB;;;;AAJQ;;AAAA;;AAED;;AAAA;;;;;;;;wEAMFA,e,EAAe;gBAX3B,uDAW2B;iBAXjB;AACPiB,oBAAQ,uJADD;AASPjH,qBAAS,EAAE,CAAC,8BAAD;AATJ,W;AAWiB,U;AACf0C,cAAI,EAAE,CAAF;kBAAZ;AAAY,WAAE,C;AACagE,gBAAM;kBAAjC,uDAAiC;mBAAvB,e;AAAuB;;;;UA2BzBX,M,GACT,gBAAmB9G,SAAnB,EAAgDyD,IAAhD,EAA2D;AAAA;;AAAxC,aAAAzD,SAAA,GAAAA,SAAA;AAA6B,aAAAyD,IAAA,GAAAA,IAAA;AAC/C,O;;;;;;;;;;;;;;;;;AEhGL;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;;;ACUM;;AAA6B;;AAA2B;;;;;;AAA3B;;AAAA;;;;;;AAYrB;;AACE;;AACF;;;;;;AAF+C;;AAC7C;;AAAA;;;;;;;;;;;;;;;;;;;;;AATR;;AACE;;AACE;;AAAoD;;AACtD;;AACE;;AAAiC;;AAAI;;AACrC;;AAAsD;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAEpD;;AACA;;AAGF;;AACF;;AACA;;AACE;;AAAmC;;AACnC;;AACA;;AAGO;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAHP;;AAKF;;AACA;;AACE;;AAAkC;;AAClC;;AACA;;AAGO;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAHP;;AAKF;;AACA;;AACE;;AAAmC;;AACnC;;AACA;;AAGO;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAHP;;AAKF;;AACF;;;;;;;;AAvCgC;;AAAA,+LAAgE,KAAhE,EAAgE,gEAAhE;;AAC5B;;AAAA;;AAC+B;;AAAA;;AAEuB;;AAAA,oIAA6D,MAA7D,EAA6D,iBAA7D;;AAG5C;;AAAA;;AAKe;;AAAA;;AAClB;;AAAA;;AAEsD;;AAAA,kGAAyB,MAAzB,EAAyB,uBAAzB,EAAyB,aAAzB,EAAyB,iEAAzB,EAAyB,SAAzB,EAAyB,wDAAzB;;AAMpC;;AAAA;;AAClB;;AAAA;;AAEsD;;AAAA,iGAAwB,MAAxB,EAAwB,sBAAxB,EAAwB,aAAxB,EAAwB,gEAAxB,EAAwB,SAAxB,EAAwB,uDAAxB;;AAMpC;;AAAA;;AAClB;;AAAA;;AAEsD;;AAAA,kGAAyB,MAAzB,EAAyB,uBAAzB,EAAyB,aAAzB,EAAyB,iEAAzB,EAAyB,SAAzB,EAAyB,wDAAzB;;;;UDpC5DwE,8B;AAiBX,gDAAoBzF,IAApB,EACoB0F,cADpB,EAEoBC,iBAFpB,EAE+D;AAAA;;AAF3C,eAAA3F,IAAA,GAAAA,IAAA;AACA,eAAA0F,cAAA,GAAAA,cAAA;AACA,eAAAC,iBAAA,GAAAA,iBAAA;AAXpB,eAAAC,YAAA,GAAuB,EAAvB;AAEA,eAAAC,4BAAA,GAAuD,EAAvD;AACA,eAAAC,uBAAA,GAAkD,EAAlD;AACA,eAAAC,sBAAA,GAAiD,EAAjD;AACA,eAAAC,mBAAA,GAA8C,EAA9C;AAQC;;;;qCAEO;AAAA;;AACN,iBAAKC,eAAL,CAAqB,KAAKjG,IAA1B;AACA,iBAAK2F,iBAAL,CAAuBO,gBAAvB,CAAwC,KAAKlG,IAA7C,EAAmDlD,IAAnD,CACE,UAACmE,IAAD,EAAe;AACb,kBAAMC,QAAQ,GAAoBR,IAAI,CAACS,KAAL,CAAWF,IAAX,CAAlC;AACA,oBAAI,CAAC2E,YAAL,GAAqB1E,QAAQ,CAACD,IAA9B;AACD,aAJH;AAMD;;;0CAEsBjB,I,EAAkB;AACvC,iBAAKmG,eAAL,GAAuB,KAAKT,cAAL,CAAoBU,2BAApB,CAAgDpG,IAAhD,CAAvB;AACAd,mBAAO,CAACoB,GAAR,CAAYI,IAAI,CAACC,SAAL,CAAe,KAAKwF,eAApB,CAAZ;AACD;;;qDAEiC;AAAA;;AAChC,iBAAKE,4BAAL,GAAoC,EAApC;AACA,iBAAKC,oCAAL,GAA4C,EAA5C;AAEA,iBAAKX,iBAAL,CAAuBY,uBAAvB,CAA+C,KAAKvG,IAApD,EAA0D,KAAKwG,eAAL,CAAqBC,SAA/E,EAA0F3J,IAA1F,CACE,UAACmE,IAAD,EAAe;AACb/B,qBAAO,CAACoB,GAAR,CAAYW,IAAZ;AACA,kBAAMC,QAAQ,GAAoBR,IAAI,CAACS,KAAL,CAAWF,IAAX,CAAlC;AACA,oBAAI,CAACoF,4BAAL,GAAoCnF,QAAQ,CAACD,IAA7C;;AACA,oBAAI,CAACyF,uBAAL,CAA6B,MAAI,CAACL,4BAAlC,EAAiE,MAAI,CAACT,YAAtE;;AACA,oBAAI,CAACU,oCAAL,GAA4C,MAAI,CAACD,4BAAL,CAAmCnD,GAAnC,CAAuC,UAAAyD,CAAC;AAAA,uBAAIC,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBF,CAAlB,CAAJ;AAAA,eAAxC,CAA5C;AACD,aAPH;AAQD;;;kDAE8BN,4B,EAAsDT,Y,EAAsB;AACzG,iBAAK,IAAIkB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,EAApB,EAAwBA,CAAC,EAAzB,EAA6B;AAC3B,kBAAI,CAACT,4BAA4B,CAACnD,GAA7B,CAAiC,UAAA6D,CAAC;AAAA,uBAAI,CAAEA,CAAC,CAACC,IAAR;AAAA,eAAlC,EAAgDC,QAAhD,CAA0DH,CAAC,GAAG,CAA9D,CAAL,EAAwE;AACtET,4CAA4B,CAACa,MAA7B,CAAoCJ,CAApC,EAAuC,CAAvC,EACE;AACEE,sBAAI,EAAGF,CAAC,GAAG,CADb;AACiBK,wBAAM,EAAE,CADzB;AAC4BC,+BAAa,EAAE,IAD3C;AACiDC,4BAAU,EAAE,IAD7D;AACmEC,4BAAU,EAAE,IAD/E;AACqFC,2BAAS,EAAE,IADhG;AACsGC,uBAAK,EAAE;AAD7G,iBADF;AAKD;AACF;AACF;;;2CAEgB/D,M,EAAiB;AAChC,gBAAI,CAAC,KAAK+C,eAAN,IAAyB,KAAKA,eAAL,CAAqBC,SAArB,KAAmChD,MAAM,CAACgD,SAAvE,EAAkF;AAChF,mBAAKD,eAAL,GAAuB/C,MAAvB;AACA,mBAAKgE,wBAAL;AACD;AACF;;;iDAE6BC,K,EAAe;AAC3C,iBAAK,IAAMC,GAAX,IAAkB,KAAKtB,4BAAL,CAAkCqB,KAAlC,CAAlB,EAA4D;AAC1D,kBAAI,KAAKrB,4BAAL,CAAkCqB,KAAlC,EAAyCC,GAAzC,KAAiD,IAAjD,IAAyDA,GAAG,KAAK,eAAjE,IAAoFA,GAAG,KAAK,OAAhG,EAAyG;AACvG,uBAAO,IAAP;AACD;AACF;;AACD,mBAAO,KAAP;AACD;;;iDAE6BD,K,EAAe;AAC3C,iBAAK,IAAMC,GAAX,IAAkB,KAAKtB,4BAAL,CAAkCqB,KAAlC,CAAlB,EAA4D;AAC1D,kBAAI,KAAKrB,4BAAL,CAAkCqB,KAAlC,EAAyCC,GAAzC,KAAiD,IAAjD,IAAyDA,GAAG,KAAK,eAAjE,IAAoFA,GAAG,KAAK,OAA5F,IAAuGA,GAAG,KAAK,QAAnH,EAA6H;AAC3H,uBAAO,IAAP;AACD;AACF;;AACD,mBAAO,KAAP;AACD;;;qDAEiCD,K,EAAe;AAC/C,iBAAK,IAAMC,GAAX,IAAkB,KAAKrB,oCAAL,CAA0CoB,KAA1C,CAAlB,EAAoE;AAClE,kBAAI,KAAKpB,oCAAL,CAA0CoB,KAA1C,EAAiDC,GAAjD,KAAyD,IAAzD,IAAiEA,GAAG,KAAK,eAAzE,IAA4FA,GAAG,KAAK,OAApG,IACCA,GAAG,KAAK,MADT,IACmBA,GAAG,KAAK,SAD3B,IACwC,KAAKrB,oCAAL,CAA0CoB,KAA1C,EAAiDP,MAAjD,KAA4D,CADxG,EAC2G;AACzG,uBAAO,KAAP;AACD;AACF;;AACDjI,mBAAO,CAACoB,GAAR,CAAY,oCAAZ;AACA,mBAAO,IAAP;AACD;;;yCAEqBoH,K,EAAeC,G,EAAa;AAChD,mBAAO,KAAKtB,4BAAL,CAAkCqB,KAAlC,EAAyCC,GAAzC,KAAiD,IAAxD;AACD;;;8CAE0BD,K,EAAe;AACxC,iBAAK,IAAMC,GAAX,IAAkB,KAAKtB,4BAAL,CAAkCqB,KAAlC,CAAlB,EAA4D;AAC1D,kBAAI,KAAKrB,4BAAL,CAAkCqB,KAAlC,EAAyCC,GAAzC,KAAiD,IAAjD,IAAyDA,GAAG,KAAK,eAAjE,IAAoFA,GAAG,KAAK,OAAhG,EAAyG;AACvGzI,uBAAO,CAACoB,GAAR,CAAY,aAAaqH,GAAb,GAAmB,UAA/B;AACA,uBAAO,KAAP;AACD;AACF;;AACD,mBAAO,IAAP;AACD;;;+DAE2CD,K,EAAe;AACzD,mBAAO,EAAEhH,IAAI,CAACC,SAAL,CAAe,KAAK2F,oCAAL,CAA0CoB,KAA1C,CAAf,MAAqEhH,IAAI,CAACC,SAAL,CAAe,KAAK0F,4BAAL,CAAkCqB,KAAlC,CAAf,CAAvE,CAAP;AACD;;;qDAEiC;AAAA;;AAChC,iBAAK5B,uBAAL,GAA+B,EAA/B;AACA,iBAAKC,sBAAL,GAA8B,EAA9B;AACA,iBAAKF,4BAAL,GAAoC,EAApC;AACA,iBAAKG,mBAAL,GAA2B,EAA3B;;AACA,iBAAK,IAAIc,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,EAApB,EAAwBA,CAAC,EAAzB,EAA6B;AAC3B5H,qBAAO,CAACoB,GAAR,CAAY,KAAK+F,4BAAL,CAAkCS,CAAlC,CAAZ;;AACA,kBAAI,KAAKc,sBAAL,CAA4Bd,CAA5B,KAAkC,KAAKe,sBAAL,CAA4Bf,CAA5B,CAAtC,EAAsE;AACpE;AACA,qBAAKjB,4BAAL,CAAkCiC,IAAlC,CAAuC,KAAKzB,4BAAL,CAAkCS,CAAlC,CAAvC;AACD,eAHD,MAGO,IAAI,KAAKiB,0BAAL,CAAgCjB,CAAhC,KAAsC,KAAKkB,mBAAL,CAAyBlB,CAAzB,CAA1C,EAAuE;AAC5E5H,uBAAO,CAACoB,GAAR,CAAY,iBAAZ;AACApB,uBAAO,CAACoB,GAAR,CAAY,KAAK+F,4BAAL,CAAkCS,CAAlC,CAAZ;AACA,qBAAKhB,uBAAL,CAA6BgC,IAA7B,CAAkC,KAAKzB,4BAAL,CAAkCS,CAAlC,CAAlC;AACD,eAJM,MAIA,IAAI,KAAKkB,mBAAL,CAAyBlB,CAAzB,KAA+B,KAAKmB,oCAAL,CAA0CnB,CAA1C,CAAnC,EAAiF;AACtF5H,uBAAO,CAACoB,GAAR,CAAY,gBAAZ;AACApB,uBAAO,CAACoB,GAAR,CAAY,KAAK+F,4BAAL,CAAkCS,CAAlC,CAAZ;AACA,qBAAKf,sBAAL,CAA4B+B,IAA5B,CAAiC,KAAKzB,4BAAL,CAAkCS,CAAlC,CAAjC;AACD,eAJM,MAIA;AACL5H,uBAAO,CAACoB,GAAR,CAAY,sBAAZ;AACA,qBAAK0F,mBAAL,CAAyB8B,IAAzB,CAA8B,KAAKzB,4BAAL,CAAkCS,CAAlC,CAA9B;AACD;AACF;;AACD,gBAAI,KAAKhB,uBAAL,CAA6BzC,MAA7B,GAAsC,CAA1C,EAA6C;AAC3C,mBAAKsC,iBAAL,CAAuBuC,qBAAvB,CAA6C,KAAKlI,IAAlD,EAAwD,MAAxD,EAAgE,KAAKwG,eAAL,CAAqBC,SAArF,EAAgG,KAAKX,uBAArG,EAA8HhJ,IAA9H,CACE,UAACmE,IAAD,EAAe;AACb/B,uBAAO,CAACoB,GAAR,CAAYW,IAAZ;AACA,oBAAMC,QAAQ,GAAoBR,IAAI,CAACS,KAAL,CAAWF,IAAX,CAAlC;;AACA,sBAAI,CAACkH,MAAL,CAAYC,aAAZ,CAA0BlH,QAAQ,CAACmH,cAAnC,EAAmD3H,IAAI,CAACC,SAAL,CAAeO,QAAQ,CAACD,IAAxB,CAAnD,EAAkF,KAAKC,QAAQ,CAACE,MAAhG;;AACA,sBAAI,CAAC0E,uBAAL,GAA+B,EAA/B;AACA,sBAAI,CAACC,sBAAL,GAA8B,EAA9B;AACA,sBAAI,CAACF,4BAAL,GAAoC,EAApC;AACA,sBAAI,CAACG,mBAAL,GAA2B,EAA3B;;AACA,sBAAI,CAACyB,wBAAL;AACD,eAVH;AAWD;;AACD,gBAAI,KAAK1B,sBAAL,CAA4B1C,MAA5B,GAAqC,CAAzC,EAA4C;AAC1C,mBAAKsC,iBAAL,CAAuBuC,qBAAvB,CAA6C,KAAKlI,IAAlD,EAAwD,KAAxD,EAA+D,KAAKwG,eAAL,CAAqBC,SAApF,EAA+F,KAAKV,sBAApG,EAA4HjJ,IAA5H,CACE,UAACmE,IAAD,EAAe;AACb/B,uBAAO,CAACoB,GAAR,CAAYW,IAAZ;AACA,oBAAMC,QAAQ,GAAoBR,IAAI,CAACS,KAAL,CAAWF,IAAX,CAAlC;;AACA,sBAAI,CAACkH,MAAL,CAAYC,aAAZ,CAA0BlH,QAAQ,CAACmH,cAAnC,EAAmD3H,IAAI,CAACC,SAAL,CAAeO,QAAQ,CAACD,IAAxB,CAAnD,EAAkF,KAAKC,QAAQ,CAACE,MAAhG;;AACA,sBAAI,CAAC0E,uBAAL,GAA+B,EAA/B;AACA,sBAAI,CAACC,sBAAL,GAA8B,EAA9B;AACA,sBAAI,CAACF,4BAAL,GAAoC,EAApC;AACA,sBAAI,CAACG,mBAAL,GAA2B,EAA3B;;AACA,sBAAI,CAACyB,wBAAL;AACD,eAVH;AAWD;AACF;;;2CAEoB;AACnB,gBAAI,KAAKpB,4BAAT,EAAuC;AACrC,mBAAK,IAAIS,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKT,4BAAL,CAAkChD,MAAtD,EAA8DyD,CAAC,EAA/D,EAAmE;AACjE,oBAAI,KAAKe,sBAAL,CAA4Bf,CAA5B,CAAJ,EAAoC;AAClC,yBAAO,IAAP;AACD;AACF;;AACD,qBAAO,KAAP;AACD;;AACD,mBAAO,KAAP;AACD;;;;;;;yBAnLUrB,8B,EAA8B,gI,EAAA,+J,EAAA,+J;AAAA,O;;;cAA9BA,8B;AAA8B,qD;AAAA;AAAA;;;;;;;;;;;;;;;ACZ3C;;AACE;;AACE;;AACE;;AAAI;;AAAuB;;AAC3B;;AAAyB;AAAA,qBAAuB,IAAA6C,gBAAA,QAAvB;AAA+C,aAA/C;;AAEvB;;AACF;;AACF;;AACA;;AACE;;AACF;;AACA;;AACE;;AACE;;AA0CA;;AACQ;AAAA,qBAAS,8BAAT;AAAwC,aAAxC;;AAEN;;AACF;;AACF;;AAEF;;AACF;;AACF;;AAEA;;;;AA9D+B;;AAAA;;AAKrB;;AAAA;;AAIoB;;AAAA;;AA4Cd;;AAAA;;;;;;;;;wED9CH7C,8B,EAA8B;gBAL1C,uDAK0C;iBALhC;AACTpH,oBAAQ,EAAE,8BADD;AAETC,uBAAW,EAAE,2CAFJ;AAGTC,qBAAS,EAAE,CAAC,2CAAD;AAHF,W;AAKgC,U;;;;;;;;;AAEpB4J,gBAAM,EAAE,CAAF;kBAA1B,uDAA0B;mBAAhB,Q;AAAgB,WAAE;;;;;;;;;;;;;;;;;;;AEd/B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;ACUM;;AAA6B;;AAA2B;;;;;;AAA3B;;AAAA;;;;;;;;;;;;;;;;;;;;;AAI3B;;AACE;;AACE;;AAA0G;;AAC5G;;AACE;;AAAgC;;AAChC;;AACA;;AAGO;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAHP;;AAKF;;AACA;;AACE;;AAAgC;;AAChC;;AACA;;AAGO;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAHP;;AAKF;;AACA;;AACE;;AAAkC;;AAClC;;AACA;;AAGO;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAHP;;AAKF;;AACA;;AACE;;AAAmC;;AACnC;;AACA;;AAGO;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAHP;;AAKF;;AACF;;;;;;;;AAtCyF;;AAAA;;AACrF;;AAAA;;AACyB;;AAAA;;AAClB;;AAAA;;AAEoD;;AAAA,+FAAsB,MAAtB,EAAsB,oBAAtB,EAAsB,aAAtB,EAAsB,iEAAtB,EAAsB,SAAtB,EAAsB,qDAAtB;;AAMlC;;AAAA;;AAClB;;AAAA;;AAEoD;;AAAA,+FAAsB,MAAtB,EAAsB,oBAAtB,EAAsB,aAAtB,EAAsB,iEAAtB,EAAsB,SAAtB,EAAsB,qDAAtB;;AAMlC;;AAAA;;AAClB;;AAAA;;AAEsD;;AAAA,iGAAwB,MAAxB,EAAwB,sBAAxB,EAAwB,aAAxB,EAAwB,mEAAxB,EAAwB,SAAxB,EAAwB,uDAAxB;;AAMpC;;AAAA;;AAClB;;AAAA;;AAEsD;;AAAA,kGAAyB,MAAzB,EAAyB,uBAAzB,EAAyB,aAAzB,EAAyB,oEAAzB,EAAyB,SAAzB,EAAyB,wDAAzB;;;;ADxClE,UAAMI,aAAa,GAAG,SAAhBA,aAAgB,CAAC1G,GAAD,EAA2BzB,MAA3B,EAAuD;AAClF,eAAOA,MAAM,CAAC8C,GAAP,CAAW,UAAA6D,CAAC;AAAA,iBAAIA,CAAC,CAAC5E,OAAN;AAAA,SAAZ,EAA2BP,MAA3B,CAAkC,UAAA4G,CAAC;AAAA,iBAAI,CAAC3G,GAAG,CAACqB,GAAJ,CAAQ,UAAA6D,CAAC;AAAA,mBAAIA,CAAC,CAAC5E,OAAN;AAAA,WAAT,EAAwB8E,QAAxB,CAAiCuB,CAAjC,CAAL;AAAA,SAAnC,CAAP;AACD,OAFM;;UASMC,2B;AAgBX,6CAAoBzI,IAApB,EACoB0F,cADpB,EAEoBC,iBAFpB,EAE+D;AAAA;;AAF3C,eAAA3F,IAAA,GAAAA,IAAA;AACA,eAAA0F,cAAA,GAAAA,cAAA;AACA,eAAAC,iBAAA,GAAAA,iBAAA;AAZpB,eAAAC,YAAA,GAAyB,EAAzB;AACA,eAAA8C,QAAA,GAAsB,EAAtB;AAEA,eAAA7C,4BAAA,GAAoD,EAApD;AACA,eAAAC,uBAAA,GAA+C,EAA/C;AACA,eAAAC,sBAAA,GAA8C,EAA9C;AACA,eAAAC,mBAAA,GAA2C,EAA3C;AAQC;;;;qCAEO;AAAA;;AACN,iBAAKC,eAAL,CAAqB,KAAKjG,IAA1B;AACA,iBAAK2F,iBAAL,CAAuBO,gBAAvB,CAAwC,KAAKlG,IAA7C,EAAmDlD,IAAnD,CACE,UAACmE,IAAD,EAAe;AACb,kBAAMC,QAAQ,GAAoBR,IAAI,CAACS,KAAL,CAAWF,IAAX,CAAlC;AACA,oBAAI,CAAC2E,YAAL,GAAqB1E,QAAQ,CAACD,IAA9B;AACD,aAJH;AAMD;;;0CAEsBjB,I,EAAkB;AACvC,iBAAKmG,eAAL,GAAuB,KAAKT,cAAL,CAAoBU,2BAApB,CAAgDpG,IAAhD,CAAvB;AACAd,mBAAO,CAACoB,GAAR,CAAYI,IAAI,CAACC,SAAL,CAAe,KAAKwF,eAApB,CAAZ;AACD;;;mDAE+BnG,I,EAAkByG,S,EAAmB;AAAA;;AACnE,iBAAKJ,4BAAL,GAAoC,EAApC;AACA,iBAAKqC,QAAL,GAAgB,EAAhB;AACA,iBAAK/C,iBAAL,CAAuBgD,wBAAvB,CAAgD,KAAK3I,IAArD,EAA2D,KAAKwG,eAAL,CAAqBC,SAAhF,EAA2F3J,IAA3F,CACE,UAACmE,IAAD,EAAe;AACb,kBAAMC,QAAQ,GAAoBR,IAAI,CAACS,KAAL,CAAWF,IAAX,CAAlC;AACA,oBAAI,CAACoF,4BAAL,GAAqCnF,QAAQ,CAACD,IAA9C;AACA,oBAAI,CAACyH,QAAL,GAAgB,MAAI,CAAChC,uBAAL,CAA6B,MAAI,CAACL,4BAAlC,EAAiE,MAAI,CAACT,YAAtE,CAAhB;AACA,oBAAI,CAACU,oCAAL,GAA4C,MAAI,CAACD,4BAAL,CAAmCnD,GAAnC,CAAuC,UAAAyD,CAAC;AAAA,uBAAIC,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBF,CAAlB,CAAJ;AAAA,eAAxC,CAA5C;AACD,aANH;AAOD;;;kDAE8BN,4B,EAAmDT,Y,EAAsB;AACtG,gBAAM8C,QAAQ,GAAc,EAA5B;;AADsG,uDAElF9C,YAFkF;AAAA;;AAAA;AAEtG,kEAAkC;AAAA,oBAAvB9D,KAAuB;AAChC4G,wBAAQ,CAACZ,IAAT,CAAc,KAAd;AACD;AAJqG;AAAA;AAAA;AAAA;AAAA;;AAKtG,iBAAK,IAAIhB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGlB,YAAY,CAACvC,MAAjC,EAAyCyD,CAAC,EAA1C,EAA8C;AAC5C,kBAAI,CAACT,4BAA4B,CAACnD,GAA7B,CAAiC,UAAA6D,CAAC;AAAA,uBAAIA,CAAC,CAAC5E,OAAN;AAAA,eAAlC,EAAiD8E,QAAjD,CAA0DrB,YAAY,CAACkB,CAAD,CAAtE,CAAL,EAAiF;AAC/ET,4CAA4B,CAACa,MAA7B,CAAoCJ,CAApC,EAAuC,CAAvC,EACE;AACEK,wBAAM,EAAGL,CAAC,GAAG,CADf;AACmB3E,yBAAO,EAAEyD,YAAY,CAACkB,CAAD,CADxC;AAC6C8B,yBAAO,EAAE,IADtD;AAC4DC,yBAAO,EAAE,IADrE;AAC2EzB,+BAAa,EAAE,IAD1F;AACgGC,4BAAU,EAAE,IAD5G;AAEEE,2BAAS,EAAE,IAFb;AAEmBC,uBAAK,EAAE;AAF1B,iBADF;AAKAkB,wBAAQ,CAAC5B,CAAD,CAAR,GAAc,IAAd;AACD;AACF;;AACD,mBAAO4B,QAAP;AACD;;;2CAEgBjF,M,EAAiB;AAChC,gBAAI,CAAC,KAAK+C,eAAN,IAAyB,KAAKA,eAAL,CAAqBC,SAArB,KAAmChD,MAAM,CAACgD,SAAvE,EAAkF;AAChF,mBAAKD,eAAL,GAAuB/C,MAAvB;AACA,mBAAKgE,wBAAL,CAA8B,KAAKzH,IAAnC,EAAyCyD,MAAM,CAACgD,SAAhD;AACD;AACF;;;iDAE6BiB,K,EAAe;AAC3C,iBAAK,IAAMC,GAAX,IAAkB,KAAKtB,4BAAL,CAAkCqB,KAAlC,CAAlB,EAA4D;AAC1D,kBAAI,KAAKrB,4BAAL,CAAkCqB,KAAlC,EAAyCC,GAAzC,KAAiD,IAAjD,IAAyDA,GAAG,KAAK,eAAjE,IAAoFA,GAAG,KAAK,OAAhG,EAAyG;AACvG,uBAAO,IAAP;AACD;AACF;;AACD,mBAAO,KAAP;AACD;;;iDAE6BD,K,EAAe;AAC3C,iBAAK,IAAMC,GAAX,IAAkB,KAAKtB,4BAAL,CAAkCqB,KAAlC,CAAlB,EAA4D;AAC1D,kBAAI,KAAKrB,4BAAL,CAAkCqB,KAAlC,EAAyCC,GAAzC,KAAiD,IAAjD,IAAyDA,GAAG,KAAK,eAAjE,IAAoFA,GAAG,KAAK,OAA5F,IAAuGA,GAAG,KAAK,QAAnH,EAA6H;AAC3H,uBAAO,IAAP;AACD;AACF;;AACD,mBAAO,KAAP;AACD;;;qDAEiCD,K,EAAe;AAC/C,iBAAK,IAAMC,GAAX,IAAkB,KAAKrB,oCAAL,CAA0CoB,KAA1C,CAAlB,EAAoE;AAClE,kBAAI,KAAKpB,oCAAL,CAA0CoB,KAA1C,EAAiDC,GAAjD,KAAyD,IAAzD,IAAiEA,GAAG,KAAK,eAAzE,IAA4FA,GAAG,KAAK,OAApG,IACCA,GAAG,KAAK,QADT,IACqBA,GAAG,KAAK,SADjC,EAC4C;AAC1C,uBAAO,KAAP;AACD;AACF;;AACDzI,mBAAO,CAACoB,GAAR,CAAY,oCAAZ;AACA,mBAAO,IAAP;AACD;;;yCAEqBoH,K,EAAeC,G,EAAa;AAChD,mBAAO,KAAKtB,4BAAL,CAAkCqB,KAAlC,EAAyCC,GAAzC,KAAiD,IAAxD;AACD;;;8CAE0BD,K,EAAe;AACxC,iBAAK,IAAMC,GAAX,IAAkB,KAAKtB,4BAAL,CAAkCqB,KAAlC,CAAlB,EAA4D;AAC1D,kBAAI,KAAKrB,4BAAL,CAAkCqB,KAAlC,EAAyCC,GAAzC,KAAiD,IAAjD,IAAyDA,GAAG,KAAK,eAAjE,IAAoFA,GAAG,KAAK,OAAhG,EAAyG;AACvGzI,uBAAO,CAACoB,GAAR,CAAY,aAAaqH,GAAb,GAAmB,UAA/B;AACA,uBAAO,KAAP;AACD;AACF;;AACD,mBAAO,IAAP;AACD;;;+DAE2CD,K,EAAe;AACzD,mBAAO,EAAEhH,IAAI,CAACC,SAAL,CAAe,KAAK2F,oCAAL,CAA0CoB,KAA1C,CAAf,MAAqEhH,IAAI,CAACC,SAAL,CAAe,KAAK0F,4BAAL,CAAkCqB,KAAlC,CAAf,CAAvE,CAAP;AACD;;;qDAEiC;AAAA;;AAChC,iBAAK,IAAIZ,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKlB,YAAL,CAAkBvC,MAAtC,EAA8CyD,CAAC,EAA/C,EAAmD;AACjD5H,qBAAO,CAACoB,GAAR,CAAY,KAAK+F,4BAAL,CAAkCS,CAAlC,CAAZ;;AACA,kBAAI,KAAKc,sBAAL,CAA4Bd,CAA5B,KAAkC,KAAKe,sBAAL,CAA4Bf,CAA5B,CAAtC,EAAsE;AACpE5H,uBAAO,CAACoB,GAAR,CAAY,wBAAZ;AACA,qBAAKuF,4BAAL,CAAkCiC,IAAlC,CAAuC,KAAKzB,4BAAL,CAAkCS,CAAlC,CAAvC;AACD,eAHD,MAGO,IAAI,KAAKiB,0BAAL,CAAgCjB,CAAhC,KAAsC,KAAKkB,mBAAL,CAAyBlB,CAAzB,CAA1C,EAAuE;AAC5E5H,uBAAO,CAACoB,GAAR,CAAY,iBAAZ;AACA,qBAAKwF,uBAAL,CAA6BgC,IAA7B,CAAkC,KAAKzB,4BAAL,CAAkCS,CAAlC,CAAlC;AACD,eAHM,MAGA,IAAI,KAAKkB,mBAAL,CAAyBlB,CAAzB,KAA+B,KAAKmB,oCAAL,CAA0CnB,CAA1C,CAAnC,EAAiF;AACtF5H,uBAAO,CAACoB,GAAR,CAAY,gBAAZ;AACA,qBAAKyF,sBAAL,CAA4B+B,IAA5B,CAAiC,KAAKzB,4BAAL,CAAkCS,CAAlC,CAAjC;AACD,eAHM,MAGA;AACL5H,uBAAO,CAACoB,GAAR,CAAY,sBAAZ;AACA,qBAAK0F,mBAAL,CAAyB8B,IAAzB,CAA8B,KAAKzB,4BAAL,CAAkCS,CAAlC,CAA9B;AACD;;AACD5H,qBAAO,CAACoB,GAAR,CAAa,KAAKuF,4BAAL,CAAkCxC,MAAlC,GAA2C,KAAKyC,uBAAL,CAA6BzC,MAAxE,GACT,KAAK0C,sBAAL,CAA4B1C,MADnB,GAC4B,KAAK2C,mBAAL,CAAyB3C,MADlE;AAED;;AACD,gBAAI,KAAKyC,uBAAL,CAA6BzC,MAA7B,GAAsC,CAA1C,EAA6C;AAC3C,mBAAKsC,iBAAL,CAAuBmD,kBAAvB,CAA0C,KAAK9I,IAA/C,EAAqD,MAArD,EAA6D,KAAKwG,eAAL,CAAqBC,SAAlF,EAA6F,KAAKX,uBAAlG,EAA2HhJ,IAA3H,CACE,UAACmE,IAAD,EAAe;AACb/B,uBAAO,CAACoB,GAAR,CAAYW,IAAZ;AACA,uBAAI,CAAC6E,uBAAL,GAA+B,EAA/B;AACA,uBAAI,CAACC,sBAAL,GAA8B,EAA9B;AACA,uBAAI,CAACF,4BAAL,GAAoC,EAApC;AACA,uBAAI,CAACG,mBAAL,GAA2B,EAA3B;AACD,eAPH;AAQD;;AACD,gBAAI,KAAKD,sBAAL,CAA4B1C,MAA5B,GAAqC,CAAzC,EAA4C;AAC1C,mBAAKsC,iBAAL,CAAuBmD,kBAAvB,CAA0C,KAAK9I,IAA/C,EAAqD,KAArD,EAA4D,KAAKwG,eAAL,CAAqBC,SAAjF,EAA4F,KAAKV,sBAAjG,EAAyHjJ,IAAzH,CACE,UAACmE,IAAD,EAAe;AACb/B,uBAAO,CAACoB,GAAR,CAAYW,IAAZ;AACA,uBAAI,CAAC6E,uBAAL,GAA+B,EAA/B;AACA,uBAAI,CAACC,sBAAL,GAA8B,EAA9B;AACA,uBAAI,CAACF,4BAAL,GAAoC,EAApC;AACA,uBAAI,CAACG,mBAAL,GAA2B,EAA3B;AACD,eAPH;AAQD;AACF;;;2CAEoB;AACnB,gBAAI,KAAKK,4BAAT,EAAuC;AACrC,mBAAK,IAAIS,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKT,4BAAL,CAAkChD,MAAtD,EAA8DyD,CAAC,EAA/D,EAAmE;AACjE,oBAAI,KAAKe,sBAAL,CAA4Bf,CAA5B,CAAJ,EAAoC;AAClC,yBAAO,IAAP;AACD;AACF;;AACD,qBAAO,KAAP;AACD;;AACD,mBAAO,KAAP;AACD;;;;;;;yBA5KU2B,2B,EAA2B,gI,EAAA,+J,EAAA,+J;AAAA,O;;;cAA3BA,2B;AAA2B,iD;AAAA,iB;AAAA,e;AAAA,y2B;AAAA;AAAA;AChBxC;;AACE;;AACE;;AACE;;AAAI;;AAAuB;;AAC3B;;AAAyB;AAAA,qBAAuB,IAAAH,gBAAA,QAAvB;AAA+C,aAA/C;;AAEvB;;AACF;;AACF;;AACA;;AACE;;AACF;;AACA;;AACE;;AACE;;AAyCA;;AACQ;AAAA,qBAAS,8BAAT;AAAwC,aAAxC;;AAEN;;AACF;;AACF;;AAEF;;AACF;;AACF;;;;AA3D+B;;AAAA;;AAKrB;;AAAA;;AAIoB;;AAAA;;AA2Cd;;AAAA;;;;;;;;;wEDzCHG,2B,EAA2B;gBALvC,uDAKuC;iBAL7B;AACTpK,oBAAQ,EAAE,0BADD;AAETC,uBAAW,EAAE,uCAFJ;AAGTC,qBAAS,EAAE,CAAC,uCAAD;AAHF,W;AAK6B,U;;;;;;;;;;;;;;;;;;;;;;;;;;AEhBxC;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;;;;;ACSQ;;AACE;;AAAK;;AAA2B;;AAClC;;;;;;AADO;;AAAA;;;;;;AAkBG;;AACE;;AACF;;;;;;AAFyC;;AACvC;;AAAA;;;;;;;;AASN;;AAGQ;AAAA;;AAAA;;AAAA;AAAA;;AAGN;;AACF;;;;;;AAHQ,+IAAuE,OAAvE,EAAuE,sGAAvE;;;;;;;;AAIR;;AAGQ;AAAA;;AAAA;;AAAA;AAAA;;AAGN;;AACF;;;;;;AAHQ,+IAAuE,OAAvE,EAAuE,iHAAvE;;;;;;AA2BV;;AACE;;AACF;;;;;;AAF6D;;AAC3D;;AAAA;;;;;;AAMN;;AACE;;AAAK;;AAA2B;;AAClC;;;;;;AADO;;AAAA;;;;;;;;AAmBD;;AAIQ;AAAA;;AAAA;;AAAA;AAAA;;AACN;;AACF;;;;;;AAHQ;;;;;;;;AAIR;;AAIQ;AAAA;;AAAA;;AAAA;AAAA;;AACN;;AACF;;;;;;AAHQ;;;;UDnGTwK,uB;AAkBX,yCAAoB/I,IAApB,EACoBgJ,wBADpB,EACsE;AAAA;;AADlD,eAAAhJ,IAAA,GAAAA,IAAA;AACA,eAAAgJ,wBAAA,GAAAA,wBAAA;AAZpB,eAAAC,SAAA,GAAY,IAAI,0DAAJ,EAAZ;AAcC;;;;qCAEO;AAAA;;AACN;AACA,iBAAKC,cAAL,GAFM,CAGN;;AACA,iBAAKC,uBAAL;AACA,iBAAKC,gBAAL,GAAwB,KAAKH,SAAL,CAAenG,YAAf,CAA4BC,IAA5B,CACtB,iEAAU,EAAV,CADsB,EAEtB,2DAAI,UAAAjB,KAAK;AAAA,qBAAI,OAAI,CAACF,MAAL,CAAYE,KAAZ,CAAJ;AAAA,aAAT,CAFsB,CAAxB;AAID;;;2CAEwB;AAAA;;AACvB,iBAAKkH,wBAAL,CAA8BK,cAA9B,CAA6C,KAAKrJ,IAAlD,EAAwDlD,IAAxD,CACE,UAACmE,IAAD,EAAe;AACb,kBAAMC,QAAQ,GAAoBR,IAAI,CAACS,KAAL,CAAWF,IAAX,CAAlC;AACA,qBAAI,CAACqI,QAAL,GAAgBpI,QAAQ,CAACD,IAAzB;AACA,qBAAI,CAACmI,gBAAL,GAAwB,OAAI,CAACH,SAAL,CAAenG,YAAf,CAA4BC,IAA5B,CACtB,iEAAU,EAAV,CADsB,EAEtB,2DAAI,UAAAjB,KAAK;AAAA,uBAAI,OAAI,CAACF,MAAL,CAAYE,KAAZ,CAAJ;AAAA,eAAT,CAFsB,CAAxB;;AAIA,qBAAI,CAACyH,qBAAL;;AACA,qBAAI,CAACJ,uBAAL;AACD,aAVH;AAYD;;;oDAEiC;AAAA;;AAChC,iBAAKH,wBAAL,CAA8BQ,uBAA9B,CAAsD,KAAKxJ,IAA3D,EAAiElD,IAAjE,CACE,UAACmE,IAAD,EAAe;AACb,kBAAMC,QAAQ,GAAoBR,IAAI,CAACS,KAAL,CAAWF,IAAX,CAAlC;AACA,qBAAI,CAACkF,eAAL,GAAuBjF,QAAQ,CAACD,IAAhC;AACD,aAJH;;AAMA,gBAAI,KAAKkF,eAAT,EAA0B;AACxB,mBAAKsD,oBAAL;AACD;;AACD,iBAAKC,kBAAL,GAA0B,KAAKC,iBAAL,EAA1B;AACD;;;iCAEc7H,K,EAAa;AAC1B,gBAAIA,KAAJ,EAAW;AACT,kBAAMC,WAAW,GAAGD,KAAK,CAACE,WAAN,EAApB;AACA,qBAAO,KAAKsH,QAAL,CAAc1H,MAAd,CAAqB,UAAAgI,MAAM;AAAA,uBAAIA,MAAM,CAACzH,OAAP,CAAeH,WAAf,GAA6BiF,QAA7B,CAAsClF,WAAtC,CAAJ;AAAA,eAA3B,CAAP;AACD;;AACD,mBAAO,KAAKuH,QAAZ;AACD;AAED;;;;;;2CAGiB7F,M,EAAiB;AAAA;;AAChC,gBAAI,CAAC,KAAK+C,eAAN,IAAyB,KAAKA,eAAL,CAAqBC,SAArB,KAAmChD,MAAM,CAACgD,SAAnE,IACC,KAAKD,eAAL,CAAqBrE,OAArB,CAA6BH,WAA7B,OAA+CyB,MAAM,CAACtB,OAAP,CAAeH,WAAf,EADhD,IAEE,KAAK6H,yBAAL,IACC,KAAKA,yBAAL,CAA+B1H,OAA/B,KAA4C2H,QAAQ,CAACC,cAAT,CAAwB,qBAAxB,EAC9CC,OAD8C,CACtC9H,IADsC,CACjC,KAAK2H,yBAAL,CAA+BI,gBADE,EACgBC,KAJnE,EAI2E;AAEzE;AACA,mBAAK1D,eAAL,GAAuB/C,MAAvB;AACCqG,sBAAQ,CAACC,cAAT,CAAwB,gBAAxB,EAA+DjI,KAA/D,GAAuE,KAAK0E,eAAL,CAAqBrE,OAA5F,CAJwE,CAMzE;;AACA,mBAAK0H,yBAAL,GAAiC,KAAKP,QAAL,CAAc1H,MAAd,CAAqB,UAAA4G,CAAC;AAAA,uBAAI,CAACA,CAAC,CAACyB,gBAAH,KAAwB,CAACxG,MAAM,CAACwG,gBAApC;AAAA,eAAtB,EAA4E,CAA5E,CAAjC;AACA,kBAAME,eAAe,GAAW,KAAKN,yBAAL,KAAmCxJ,SAAnC,GAA+C,KAAKwJ,yBAAL,CAA+BI,gBAA9E,GAAiG,CAAjI,CARyE,CAUzE;;AACAtH,wBAAU,CAAE,YAAM;AAAGmH,wBAAQ,CAACC,cAAT,CAAwB,qBAAxB,EAClBC,OADkB,CACV,CAACG,eADS,EACQC,QADR,GACmB,IADnB;AAC0B,eADrC,EACuC,EADvC,CAAV,CAXyE,CAczE;;AACA,mBAAKC,yBAAL,CAA+B9H,WAA/B,CAA2C+H,UAA3C,CAAsD;AACpD7H,4BAAY,EAAE,KAAK+D,eAAL,CAAqBrE;AADiB,eAAtD;AAGAQ,wBAAU,CAAE,YAAM;AAAE,uBAAI,CAAC+G,kBAAL,GAA0B,OAAI,CAACC,iBAAL,EAA1B;AAAqD,eAA/D,EAAiE,EAAjE,CAAV;AACD;AACF;;;iDAE6B;AAC5B,gBAAMY,cAAc,GAAYT,QAAQ,CAACC,cAAT,CAAwB,gBAAxB,EAA+DjI,KAA/F;AACA,gBAAMwB,OAAO,GAAY,KAAKkH,2BAAL,CAAiCD,cAAjC,CAAzB;;AACA,gBAAIjH,OAAO,KAAKjD,SAAhB,EAA2B;AACzB,mBAAKiI,gBAAL,CAAsBhF,OAAtB;AACD;AACF;;;yDAE2B;AAC1B,gBAAI,KAAK6C,eAAT,EAA0B;AACxB,kBAAMrE,KAAK,GAAYgI,QAAQ,CAACC,cAAT,CAAwB,gBAAxB,EAA+DjI,KAAtF;AACA,kBAAMwB,OAAO,GAAY,KAAKkH,2BAAL,CAAiC1I,KAAjC,CAAzB;AACA,qBAAOwB,OAAO,KAAKjD,SAAnB;AACD;;AACD,mBAAO,IAAP;AACD;;;8CAEgB;AACf,gBAAI,KAAKmG,eAAT,EAA0B;AACxB;AACA,kBAAM+D,cAAc,GAAYT,QAAQ,CAACC,cAAT,CAAwB,gBAAxB,EAA+DjI,KAA/F;AACA,kBAAMwB,OAAO,GAAY,KAAKkH,2BAAL,CAAiCD,cAAjC,CAAzB,CAHwB,CAKxB;;AACA,kBAAM5G,MAAM,GAAImG,QAAQ,CAACC,cAAT,CAAwB,qBAAxB,CAAhB;AACA,kBAAMU,SAAS,GAAG,CAAC9G,MAAM,CAACqG,OAAP,CAAerG,MAAM,CAAC+G,aAAtB,EAAqC5I,KAAtC,KAAgD,CAAhD,GAAoD,CAAC6B,MAAM,CAACqG,OAAP,CAAerG,MAAM,CAAC+G,aAAtB,EAAqC5I,KAA1F,GAAkGzB,SAApH,CAPwB,CASxB;;AACA,qBAAOiD,OAAO,KAAKjD,SAAZ,IAAyBiD,OAAO,CAAC2G,gBAAR,KAA6BQ,SAAtD,IACDX,QAAQ,CAACC,cAAT,CAAwB,gBAAxB,EAA+DjI,KAA/D,KAAyE,KAAK0E,eAAL,CAAqBrE,OADpG;AAED;;AACD,mBAAO,KAAP;AACD;;;sDAE2BwI,c,EAAsB;AAChD,gBAAIrH,OAAO,GAAc,KAAK6C,eAAL,CACtBjD,GADsB,CAClB,UAAAsF,CAAC,EAAI;AAAA,0DACaA,CAAC,CAACpF,OADf;AAAA;;AAAA;AACR,uEAAgC;AAAA,sBAArBwH,MAAqB;;AAC9B,sBAAIA,MAAM,CAACzI,OAAP,CAAeH,WAAf,OAAiC2I,cAAc,CAAC3I,WAAf,EAArC,EAAmE;AACjE,2BAAO4I,MAAP;AACD;AACF;AALO;AAAA;AAAA;AAAA;AAAA;;AAMR,qBAAOvK,SAAP;AACD,aARsB,CAAzB;AASAiD,mBAAO,GAAGA,OAAO,CAAC1B,MAAR,CAAe,UAAAiJ,OAAO;AAAA,qBAAIA,OAAO,KAAKxK,SAAhB;AAAA,aAAtB,CAAV;AACA,mBAAOiD,OAAO,CAAC,CAAD,CAAd;AACD;;;4CAEiB;AAAA;;AAChB,gBAAMnB,OAAO,GAAY2H,QAAQ,CAACC,cAAT,CAAwB,gBAAxB,EAA+DjI,KAAxF;AACA5C,mBAAO,CAACoB,GAAR,CAAY,sBAAZ;AAEA,gBAAMqD,MAAM,GAAImG,QAAQ,CAACC,cAAT,CAAwB,qBAAxB,CAAhB;AACA,gBAAMU,SAAS,GAAG9G,MAAM,CAACqG,OAAP,CAAerG,MAAM,CAAC+G,aAAtB,EAAqC5I,KAAvD;AACA,iBAAKkH,wBAAL,CAA8B8B,eAA9B,CAA8C,KAAK9K,IAAnD,EAAyD,KAAKwG,eAAL,CAAqBC,SAA9E,EACE,CAACgE,SADH,EACctI,OADd,EACuBrF,IADvB,CAEE,UAACmE,IAAD,EAAe;AACb/B,qBAAO,CAACoB,GAAR,CAAYW,IAAZ;;AACA,qBAAI,CAAC+H,wBAAL,CAA8BQ,uBAA9B,CAAsD,OAAI,CAACxJ,IAA3D,EAAiElD,IAAjE,CACE,UAACiO,MAAD,EAAiB;AACf,oBAAM7J,QAAQ,GAAoBR,IAAI,CAACS,KAAL,CAAW4J,MAAX,CAAlC;AACA,uBAAI,CAAC5E,eAAL,GAAuBjF,QAAQ,CAACD,IAAhC;;AACA,uBAAI,CAACwI,oBAAL;AACD,eALH;;AAOA,kBAAMuB,oBAAoB,GAAoBtK,IAAI,CAACS,KAAL,CAAWF,IAAX,CAA9C;;AACA,qBAAI,CAACkH,MAAL,CAAYC,aAAZ,CAA0B4C,oBAAoB,CAAC3C,cAA/C,EAA+D3H,IAAI,CAACC,SAAL,CAAeqK,oBAAoB,CAAC/J,IAApC,CAA/D,EACE,KAAK+J,oBAAoB,CAAC5J,MAD5B;AAED,aAdH;AAgBD;;;yCAEc;AAAA;;AACb,gBAAMe,OAAO,GAAY2H,QAAQ,CAACC,cAAT,CAAwB,gBAAxB,EAA+DjI,KAAxF;AACA5C,mBAAO,CAACoB,GAAR,CAAY,eAAZ;AACA,iBAAK0I,wBAAL,CAA8BiC,YAA9B,CAA2C,KAAKjL,IAAhD,EAAsD,KAAK6J,yBAAL,CAA+BI,gBAArF,EAAuG9H,OAAvG,EAAgHrF,IAAhH,CACE,UAACmE,IAAD,EAAe;AACb/B,qBAAO,CAACoB,GAAR,CAAYW,IAAZ;;AACA,qBAAI,CAAC+H,wBAAL,CAA8BQ,uBAA9B,CAAsD,OAAI,CAACxJ,IAA3D,EAAiElD,IAAjE,CACE,UAACiO,MAAD,EAAiB;AACf,oBAAM7J,QAAQ,GAAoBR,IAAI,CAACS,KAAL,CAAW4J,MAAX,CAAlC;AACA,uBAAI,CAAC5E,eAAL,GAAuBjF,QAAQ,CAACD,IAAhC;;AACA,uBAAI,CAACwI,oBAAL;AACD,eALH;;AAOA,kBAAMyB,gBAAgB,GAAoBxK,IAAI,CAACS,KAAL,CAAWF,IAAX,CAA1C;;AACA,qBAAI,CAACkH,MAAL,CAAYC,aAAZ,CAA0B8C,gBAAgB,CAAC7C,cAA3C,EAA2D3H,IAAI,CAACC,SAAL,CAAeuK,gBAAgB,CAACjK,IAAhC,CAA3D,EACE,KAAKiK,gBAAgB,CAAC9J,MADxB;AAED,aAbH;AAeA,iBAAK+E,eAAL,GAAuB,KAAK6C,wBAAL,CAA8B5C,2BAA9B,CAA0D,KAAKpG,IAA/D,CAAvB;AACD;;;6DAEkC;AACjC,gBAAM2D,MAAM,GAAImG,QAAQ,CAACC,cAAT,CAAwB,qBAAxB,CAAhB;AACA,gBAAMU,SAAS,GAAG9G,MAAM,CAACqG,OAAP,CAAerG,MAAM,CAAC+G,aAAtB,EAAqC5I,KAAvD;AACA,iBAAK+H,yBAAL,GAAiC,KAAKP,QAAL,CAAc1H,MAAd,CAAqB,UAAA4G,CAAC;AAAA,qBAAIA,CAAC,CAACyB,gBAAF,KAAuB,CAACQ,SAA5B;AAAA,aAAtB,EAA6D,CAA7D,CAAjC;AACD;;;yCAEc;AACb,mBAAQX,QAAQ,CAACC,cAAT,CAAwB,gBAAxB,EAA+DjI,KAA/D,CAAqEuB,MAArE,KAAgF,CAAxF;AACD;AAED;;;;;;;;;;2CAOiB8H,e,EAAyB;AACxC,gBAAMC,OAAO,GAAG,KAAKC,2BAAL,CAAiCF,eAAjC,CAAhB;;AACA,gBAAIC,OAAO,IAAI,CAAC,CAAC,KAAKE,eAAN,IAAyB,KAAKA,eAAL,CAAqBrB,gBAArB,KAA0CmB,OAAO,CAACnB,gBAA3E,IACX,KAAKqB,eAAL,CAAqBnJ,OAArB,KAAiCiJ,OAAO,CAACjJ,OAD/B,CAAf,EACwD;AACtD,mBAAKmJ,eAAL,GAAuBF,OAAvB;AACCtB,sBAAQ,CAACC,cAAT,CAAwB,gBAAxB,EAA+DjI,KAA/D,GAAuE,KAAKwJ,eAAL,CAAqBnJ,OAA5F,CAFqD,CAGtD;;AACA,mBAAK8G,SAAL,CAAesC,QAAf,CAAwB,KAAKD,eAAL,CAAqBnJ,OAA7C;AACD;AACF;;;8CAEgB;AACf,gBAAI,KAAKmJ,eAAT,EAA0B;AACxB;AACA,kBAAMf,cAAc,GAAYT,QAAQ,CAACC,cAAT,CAAwB,gBAAxB,EAA+DjI,KAA/F;AACA,kBAAMsJ,OAAO,GAAY,KAAKC,2BAAL,CAAiCd,cAAjC,CAAzB,CAHwB,CAKxB;;AACA,qBAAOa,OAAO,IAAKtB,QAAQ,CAACC,cAAT,CAAwB,gBAAxB,EAA+DjI,KAA/D,KAAyE,KAAKwJ,eAAL,CAAqBnJ,OAAjH;AACD;;AACD,mBAAO,KAAP;AACD;;;kDAE8B;AAC7B,iBAAKqJ,gBAAL,CAAuB1B,QAAQ,CAACC,cAAT,CAAwB,gBAAxB,EAA+DjI,KAAtF;AACD;;;sDAE2B2J,c,EAAsB;AAChD,gBAAML,OAAO,GAAc,KAAK9B,QAAL,CAAc1H,MAAd,CAAqB,UAAA4G,CAAC;AAAA,qBAAIA,CAAC,CAACrG,OAAF,CAAUH,WAAV,OAA4ByJ,cAAc,CAACzJ,WAAf,EAAhC;AAAA,aAAtB,CAA3B;AACA,mBAAOoJ,OAAO,CAAC,CAAD,CAAd;AACD;;;yCAEc;AACb,mBAAQtB,QAAQ,CAACC,cAAT,CAAwB,gBAAxB,EAA+DjI,KAA/D,CAAqEuB,MAArE,KAAgF,CAAxF;AACD;;;4CAEiB;AAAA;;AAChB,gBAAMlB,OAAO,GAAY2H,QAAQ,CAACC,cAAT,CAAwB,gBAAxB,EAA+DjI,KAAxF;AACA5C,mBAAO,CAACoB,GAAR,CAAY,sBAAZ;AACA,iBAAK0I,wBAAL,CAA8B0C,eAA9B,CAA8C,KAAK1L,IAAnD,EAAyD,KAAKsL,eAAL,CAAqBrB,gBAA9E,EAAgG9H,OAAhG,EAAyGrF,IAAzG,CACE,UAACmE,IAAD,EAAe;AACb,qBAAI,CAAC0K,uBAAL,CAA6B1K,IAA7B;;AACA,kBAAMC,QAAQ,GAAoBR,IAAI,CAACS,KAAL,CAAWF,IAAX,CAAlC;;AACA,qBAAI,CAACkH,MAAL,CAAYC,aAAZ,CAA0BlH,QAAQ,CAACmH,cAAnC,EAAmD3H,IAAI,CAACC,SAAL,CAAeO,QAAQ,CAACD,IAAxB,CAAnD,EAAkF,KAAKC,QAAQ,CAACE,MAAhG;AACD,aALH;AAOD;;;yCAEc;AAAA;;AACb,gBAAMe,OAAO,GAAY2H,QAAQ,CAACC,cAAT,CAAwB,gBAAxB,EAA+DjI,KAAxF;AACA5C,mBAAO,CAACoB,GAAR,CAAY,eAAZ;AACA,iBAAK0I,wBAAL,CAA8B4C,YAA9B,CAA2C,KAAK5L,IAAhD,EAAsDmC,OAAtD,EAA+DrF,IAA/D,CACE,UAACmE,IAAD,EAAe;AACb,qBAAI,CAAC0K,uBAAL,CAA6B1K,IAA7B;;AACA,kBAAMC,QAAQ,GAAoBR,IAAI,CAACS,KAAL,CAAWF,IAAX,CAAlC;;AACA,qBAAI,CAACkH,MAAL,CAAYC,aAAZ,CAA0BlH,QAAQ,CAACmH,cAAnC,EAAmD3H,IAAI,CAACC,SAAL,CAAeO,QAAQ,CAACD,IAAxB,CAAnD,EAAkF,KAAKC,QAAQ,CAACE,MAAhG;AACD,aALH;AAOD;;;kDAE+BH,I,EAAW;AAAA;;AACzC/B,mBAAO,CAACoB,GAAR,CAAYW,IAAZ;AACA,iBAAK+H,wBAAL,CAA8BK,cAA9B,CAA6C,KAAKrJ,IAAlD,EAAwDlD,IAAxD,CACE,UAACiO,MAAD,EAAiB;AACf,kBAAM7J,QAAQ,GAAoBR,IAAI,CAACS,KAAL,CAAW4J,MAAX,CAAlC;AACA,qBAAI,CAACzB,QAAL,GAAgBpI,QAAQ,CAACD,IAAzB;AACA,qBAAI,CAACmI,gBAAL,GAAwB,OAAI,CAACH,SAAL,CAAenG,YAAf,CAA4BC,IAA5B,CACtB,iEAAU,EAAV,CADsB,EAEtB,2DAAI,UAAAjB,KAAK;AAAA,uBAAI,OAAI,CAACF,MAAL,CAAYE,KAAZ,CAAJ;AAAA,eAAT,CAFsB,CAAxB;;AAIA,qBAAI,CAACoH,cAAL;AACD,aATH;AAWD;;;;;;;yBA3RUH,uB,EAAuB,gI,EAAA,+J;AAAA,O;;;cAAvBA,uB;AAAuB,4C;AAAA;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACfpC;;AACE;;AACE;;AACE;;AAAI;;AAAuB;;AAC3B;;AAAoD;AAAA,qBAAuB,IAAAT,gBAAA,QAAvB;AAA+C,aAA/C;;AAElD;;AACF;;AACA;;AACE;;AAGA;;AACE;;AACE;;AACE;;AACE;;AAA6B;;AAC7B;;AACA;;AAGO;AAAA,qBAAS,0BAAT;AAAoC,aAApC;;AAHP;;AAKF;;AACA;;AACE;;AAAiC;;AAAO;;AACxC;;AAAsD;AAAA,qBAAU,IAAAuD,gCAAA,EAAV;AAA4C,aAA5C;;AACpD;;AACA;;AAGF;;AACF;;AAGF;;AAEA;;AACE;;AAQA;;AAQF;;AACF;;AAEF;;AACF;;AACF;;AAMA;;AACE;;AAAI;;AAAwB;;AAC5B;;AACE;;AACE;;AAKA;;AAAW;;AAAQ;;AACnB;;AACkB;AAAA,qBAAkB,IAAAL,gBAAA,qBAAlB;AAAuD,aAAvD;;AAChB;;;;AAGF;;AACF;;AACF;;AACA;;AACE;;AAGA;;AACE;;AACE;;AACE;;AACE;;AAA6B;;AAC7B;;AACA;;AAGO;AAAA,qBAAS,2BAAT;AAAqC,aAArC;;AAHP;;AAKF;;AAGF;;AAEA;;AACE;;AAOA;;AAOF;;AACF;;AAEF;;AACF;;AACF;;AAEF;;AAEF;;AAEA;;;;;;AA5H+B;;AAAA;;AAIE;;AAAA;;AAmBP;;AAAA;;AAYJ;;AAAA;;AAQA;;AAAA;;AAwBL;;AAAA,mGAAyB,iBAAzB,EAAyB,GAAzB;;AAKO;;AAAA;;AAOS;;AAAA;;AAsBX;;AAAA;;AAOA;;AAAA;;;;;;;;;;wEDlGTzC,uB,EAAuB;gBALnC,uDAKmC;iBALzB;AACT1K,oBAAQ,EAAE,qBADD;AAETC,uBAAW,EAAE,kCAFJ;AAGTC,qBAAS,EAAE,CAAC,kCAAD;AAHF,W;AAKyB,U;;;;;;;AAEFuN,eAAK,EAAE,CAAF;kBAApC,0DAAoC;mBAAvB,gB;AAAuB,WAAE,C;AACCzB,mCAAyB,EAAE,CAAF;kBAAhE,uDAAgE;mBAAtD,2B;AAAsD,WAAE,C;AAC9ClC,gBAAM,EAAE,CAAF;kBAA1B,uDAA0B;mBAAhB,Q;AAAgB,WAAE;;;;;;;;;;;;;;;;;;;AEnB/B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;ACMgB;;AACI;;AACJ;;;;;;AAFoD;;AAChD;;AAAA;;;;;;AAKR;;AAAoC;;AAAyB;;;;;;AAAzB;;AAAA;;;;;;AAMxB;;AACI;;AACJ;;;;;;AAE0C;;AAAqC;;AAAK;;AAAG;;AAAiB;;AAAI;;;;;;AAArB;;AAAA;;;;;;;;AAN/F;;AACI;;AACI;;AAGA;;AAA+B;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAC3B;;AAAG;;AAA+B;;AAAI;;AAC1C;;AACJ;;AACJ;;;;;;;;AAPqC;;AAAA;;AAG4C;;AAAA;;AAClE;;AAAA;;AAAiD;;AAAA;;;;;;;;AAMpE;;AACI;;AAAoD;AAAA;;AAAA;;AAAA;AAAA;;AAAiD;;AACzG;;;;;;AAD0B;;AAAA;;;;UDlBzB4D,qB;AAcT,uCAAoB/L,IAApB,EACoBgM,iBADpB,EAEoBC,YAFpB,EAE8C;AAAA;;AAF1B,eAAAjM,IAAA,GAAAA,IAAA;AACA,eAAAgM,iBAAA,GAAAA,iBAAA;AACA,eAAAC,YAAA,GAAAA,YAAA;AAVpB,eAAAC,kBAAA,GAA0C,EAA1C;AAIA,eAAAC,iBAAA,GAAoB,KAApB;AAQC;;;;qCAEO;AAAA;;AACJ,iBAAKH,iBAAL,CAAuBI,iBAAvB,CAAyC,KAAKpM,IAA9C,EAAoD,IAApD,EAA0DlD,IAA1D,CACI,UAACmE,IAAD,EAAe;AACX,kBAAMC,QAAQ,GAAGD,IAAjB;AACA,qBAAI,CAACoL,WAAL,GAAmBnL,QAAQ,CAACD,IAA5B;AACH,aAJL;AAMH;;;6CAEkB;AAAA;;AACf,gBAAI,CAAC,KAAKqL,uBAAN,KAAkC,CAAtC,EAAyC;AACrC,mBAAKC,iBAAL,GAAyB,KAAKF,WAAL,CAAiBG,IAAjB,CAAsB,UAAAhE,CAAC;AAAA,uBAAIA,CAAC,CAACiE,YAAF,KAAmB,CAAC,OAAI,CAACH,uBAA7B;AAAA,eAAvB,CAAzB;AACA,mBAAKI,eAAL;AACH,aAHD,MAGO;AACH,mBAAKH,iBAAL,GAAyB,IAAzB;AACA,mBAAKL,kBAAL,GAA0B,IAA1B,CAFG,CAGH;AACH;AACJ;;;4CAEwB;AAAA;;AACrB,iBAAKD,YAAL,CAAkBU,iBAAlB,CAAoC,KAAK3M,IAAzC,EAA+C,CAA/C,EAAkDlD,IAAlD,CACI,UAAC8P,SAAD,EAAoB;AAChB,kBAAM1L,QAAQ,GAAoB0L,SAAlC;AACA1N,qBAAO,CAACoB,GAAR,CAAYY,QAAZ;AACA,qBAAI,CAACgL,kBAAL,GAA0BhL,QAAQ,CAACD,IAAnC;AACA/B,qBAAO,CAACoB,GAAR,CAAY,OAAI,CAAC4L,kBAAjB;AACH,aANL;AAQH;;;4CAEiBW,O,EAAiB;AAAA;;AAC/B,iBAAKV,iBAAL,GAAyB,IAAzB;AACA,iBAAKW,eAAL,GAAuBD,OAAvB;AACAlK,sBAAU,CAAC,YAAM;AACb,qBAAI,CAACsJ,YAAL,CAAkBc,YAAlB,CAA+B,OAAI,CAAC/M,IAApC,EAA0C6M,OAA1C,EAAmD/P,IAAnD,CACI,UAAC8P,SAAD,EAAoB;AAChB,oBAAM1L,QAAQ,GAAoB0L,SAAlC;AACA1N,uBAAO,CAACoB,GAAR,CAAYY,QAAZ;;AACA,oBAAMwG,KAAK,GAAG,OAAI,CAACwE,kBAAL,CAAwB9J,OAAxB,CAAgC,OAAI,CAAC8J,kBAAL,CAAwBM,IAAxB,CAA6B,UAAAhE,CAAC;AAAA,yBAAI,CAACA,CAAC,CAACqE,OAAH,KAAe,CAACA,OAApB;AAAA,iBAA9B,CAAhC,CAAd;;AACA,uBAAI,CAACX,kBAAL,CAAwBxE,KAAxB,IAAiCxG,QAAQ,CAACD,IAA1C;AACA/B,uBAAO,CAACoB,GAAR,CAAY,OAAI,CAAC4L,kBAAL,CAAwBxE,KAAxB,CAAZ;AACH,eAPL;AASH,aAVS,EAUP,IAVO,CAAV;AAWA/E,sBAAU,CAAC,YAAM;AACb,qBAAI,CAACwJ,iBAAL,GAAyB,KAAzB;AACA,qBAAI,CAACW,eAAL,GAAuB,IAAvB;AACH,aAHS,EAGP,IAHO,CAAV;AAIH;;;sCAEkBD,O,EAAiB;AAChC,iBAAKG,cAAL,GAAsBH,OAAtB;AACH;;;2CAEgBI,Q,EAAkB;AAC/B/N,mBAAO,CAACoB,GAAR,CAAY2M,QAAZ;AACA/N,mBAAO,CAACoB,GAAR,CAAY2M,QAAQ,CAACC,OAAT,CAAiB,4CAAjB,EAA+D,IAA/D,CAAZ;AACA,mBAAOD,QAAQ,CAACC,OAAT,CAAiB,4CAAjB,EAA+D,IAA/D,CAAP;AACH;;;;;;;yBA/EQnB,qB,EAAqB,gI,EAAA,+I,EAAA,qI;AAAA,O;;;cAArBA,qB;AAAqB,0C;AAAA,iB;AAAA,e;AAAA,uhB;AAAA;AAAA;ACXlC;;AACI;;AACI;;AACI;;AAAkC;;AAAoD;;AACtF;;AAAuD;AAAA,qBAAU,IAAAoB,gBAAA,EAAV;AAA4B,aAA5B,EAA6B,eAA7B,EAA6B;AAAA;AAAA,aAA7B;;AACnD;;AAAmB;;AAAmB;;AACtC;;AAGJ;;AACJ;;AACA;;AACI;;AACJ;;AACA;;AACI;;AACI;;AAUJ;;AAEA;;AAIJ;;AACJ;;AACJ;;;;AA9BiG;;AAAA;;AAEzE;;AAAA;;AAMR;;AAAA;;AAIc;;AAAA;;AAYJ;;AAAA;;;;;;;;;wEDjBbpB,qB,EAAqB;gBALjC,uDAKiC;iBALvB;AACP1N,oBAAQ,EAAE,mBADH;AAEPC,uBAAW,EAAE,gCAFN;AAGPC,qBAAS,EAAE,CAAC,gCAAD;AAHJ,W;AAKuB,U;;;;;;;;;;;;;;;;;;;;;;;;;;AEXlC;AAAA;;;AAAA;AAAA;AAAA;;AAAA,UAAY6O,WAAZ;;AAAA,iBAAYA,WAAZ,EAAuB;AACnB;AACA;AACA;AACA;AACH,OALD,EAAYA,WAAW,KAAXA,WAAW,MAAvB;;;;;;;;;;;;;;;;;ACAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;ACUY;;AAA6B;;AAA2B;;;;;;AAA3B;;AAAA;;;;;;;;AAGrB;;AACI;;AAAsB;;AACtB;;AACA;;AAGO;AAAA;;AAAA;;AAAA;AAAA,aAA2B,OAA3B,EAA2B;AAAA;;AAAA;;AAAA;AAAA,WAA3B;;AAHP;;AAMJ;;;;;;AAHW;;AAAA;;;;;;;;AAKX;;AAEI;;AAA+B;;AAC8C;;AAC7E;;AAIO;AAAA;;AAAA;;AAAA;AAAA;;AAJP;;AAKJ;;;;;;AAPmC;;AAAA;;AAEhB;;AAAA;;AAGR;;AACA;;;;;;AAMvB;;;;;;AACA;;AACI;;AAAI;;AAAU;;AACd;;AAAG;;AAAwB;;AAC/B;;;;;;AADO;;AAAA;;;;;;;;AAGH;;AAAiE;AAAA;;AAAA;;AAAA;AAAA;;AAA0C;;;;;;AAA1E;;;;;;;;AACjC;;AAAqE;AAAA;;AAAA;;AAAA;AAAA;;AAA8C;;;;;;AAA9E;;;;;;;;AACrC;;AAAwG;AAAA;;AAAA;;AAAA;AAAA;;AAAwD;;;;;;AAAvH,qGAA8B,QAA9B,EAA8B,uBAA9B;;;;;;AAH7C;;AACI;;AACA;;AACA;;AACJ;;;;;;AAHe;;AAAA;;AACE;;AAAA;;AACK;;AAAA;;;;;;;;AAad;;AAA+D;AAAA;;AAAA;;AAAA;AAAA;;AAA0C;;;;AAA3D;;;;;;;;AAC9C;;AAAmE;AAAA;;AAAA;;AAAA;AAAA;;AAA8C;;;;AAA/D;;;;;;;;AAClD;;AAAsH;AAAA;;AAAA;;AAAA;AAAA;;AAAwD;;;;;;AAAxH,sGAA+B,QAA/B,EAA+B,uBAA/B;;;;;;AAH1D;;AACI;;AACA;;AACA;;AACJ;;;;;;AAHe;;AAAA;;AACE;;AAAA;;AACK;;AAAA;;;;;;;;AAKtB;;AAEI;;AAA+B;;AAC8C;;AAC7E;;AAIO;AAAA;;AAAA;;AAAA;AAAA;;AAJP;;AAKJ;;;;;;AAPmC;;AAAA;;AAEhB;;AAAA;;AAIR;;;;;;;;AAIP;;AAAgE;AAAA;;AAAA;;AAAA;AAAA;;AAA0C;;;;AAA3D;;;;;;;;AAC/C;;AAAoE;AAAA;;AAAA;;AAAA;AAAA;;AAA8C;;;;AAA/D;;;;;;;;AACnD;;AAAuH;AAAA;;AAAA;;AAAA;AAAA;;AAAwD;;;;;;AAAxH,sGAA+B,QAA/B,EAA+B,uBAA/B;;;;;;AAH3D;;AACI;;AACA;;AACA;;AACJ;;;;;;AAHe;;AAAA;;AACE;;AAAA;;AACK;;AAAA;;;;;;;;AAhC1B;;AACI;;AACI;;AAA+B;;AAC8C;;AAC7E;;AAIO;AAAA;;AAAA;;AAAA;AAAA;;AAJP;;AAKJ;;AACA;;AAMA;;AAEA;;AAWA;;AAMJ;;;;;;AAjCuC;;AAAA;;AAEhB;;AAAA;;AAIR;;AAEN;;AAAA;;AASA;;AAAA;;AAUA;;AAAA;;;;UDxDJC,kB;AA8BT,oCAAoBrN,IAApB,EACoB0F,cADpB,EAEoBC,iBAFpB,EAGoBsG,YAHpB,EAGgD;AAAA;;AAH5B,eAAAjM,IAAA,GAAAA,IAAA;AACA,eAAA0F,cAAA,GAAAA,cAAA;AACA,eAAAC,iBAAA,GAAAA,iBAAA;AACA,eAAAsG,YAAA,GAAAA,YAAA;AA3BpB,eAAArG,YAAA,GAAuB,EAAvB;AACA,eAAA0H,MAAA,GAAiB,IAAjB;AA2BC;;;;qCAdO;AAAA;;AACJ,iBAAKrH,eAAL,CAAqB,KAAKjG,IAA1B;AACA,iBAAK2F,iBAAL,CAAuBO,gBAAvB,CAAwC,KAAKlG,IAA7C,EAAmDlD,IAAnD,CACI,UAACmE,IAAD,EAAe;AACX,kBAAMC,QAAQ,GAAoBR,IAAI,CAACS,KAAL,CAAWF,IAAX,CAAlC;AACA,qBAAI,CAAC2E,YAAL,GAAoB1E,QAAQ,CAACD,IAA7B;AACH,aAJL;AAMH;;;0CAQsBjB,I,EAAkB;AACrC,iBAAKmG,eAAL,GAAuB,KAAKT,cAAL,CAAoBU,2BAApB,CAAgDpG,IAAhD,CAAvB;AACH;;;qDAEiC;AAAA;;AAC9B,iBAAKqG,4BAAL,GAAoC,EAApC;AACA,iBAAKV,iBAAL,CAAuBY,uBAAvB,CAA+C,KAAKvG,IAApD,EAA0D,KAAKwG,eAAL,CAAqBC,SAA/E,EAA0F3J,IAA1F,CACI,UAACmE,IAAD,EAAe;AACX,kBAAMC,QAAQ,GAAoBR,IAAI,CAACS,KAAL,CAAWF,IAAX,CAAlC;AACA,qBAAI,CAACoF,4BAAL,GAAoCnF,QAAQ,CAACD,IAA7C;AACH,aAJL;AAKH;;;2CAEgBwC,M,EAAiB;AAC9B,iBAAK+C,eAAL,GAAuB/C,MAAvB;AACA,iBAAK4C,4BAAL,GAAoC,EAApC;AACA,iBAAKoB,wBAAL;AACH;;;wCAEa8F,K,EAAY;AAAA;;AACtB,gBAAI,CAACA,KAAK,CAAC7J,MAAN,CAAa5B,KAAd,GAAsB,EAA1B,EAA8B;AAC1ByL,mBAAK,CAAC7J,MAAN,CAAa5B,KAAb,GAAqB,EAArB;AACH;;AACD,iBAAK0L,QAAL,GAAgB,CAACD,KAAK,CAAC7J,MAAN,CAAa5B,KAA9B;AACA,iBAAK2L,eAAL,GAAuB,KAAKpH,4BAAL,CAAkCzE,MAAlC,CAAyC,UAAA8L,EAAE;AAAA,qBAAI,CAACA,EAAE,CAAC1G,IAAJ,KAAa,OAAI,CAACwG,QAAtB;AAAA,aAA3C,EAA2E,CAA3E,CAAvB;AACH;;;oCAEa;AACV;AACA,mBAAO,KAAKC,eAAL,KAAyB,KAAKA,eAAL,CAAqBtG,MAArB,KAAgC,CAAhC,IAAqC,KAAKwG,aAAL,EAA9D,CAAP;AACH;;;0CAEmB;AAChB,mBAAO,KAAKF,eAAL,IAAyB,KAAKA,eAAL,CAAqBtG,MAArB,KAAgC,CAAhE;AACH;;;0CAEsB;AACnB,mBAAO,KAAKmG,MAAL,IAAe,EAAf,IAAqB,KAAKA,MAAL,IAAe,EAA3C;AACH;;;+CAEwB;AACrB,gBAAI,EAAE,KAAKE,QAAL,IAAiB,KAAKC,eAAxB,CAAJ,EAA8C;AAC1C,qBAAO,KAAP;AACH;;AACD,oBAAQ,CAAC,KAAKA,eAAL,CAAqBtG,MAA9B;AACI,mBAAK,CAAL;AACA,mBAAK,CAAL;AACA,mBAAK,CAAL;AACA,mBAAK,CAAL;AACI,uBAAO,KAAKmG,MAAL,IAAe,IAAtB;AALR;AAOH;;;0CAEsB;AACnB,oBAAQ,KAAKG,eAAL,CAAqBtG,MAA7B;AACI,mBAAK,CAAL;AACI,uBAAO,qBAAqB,KAAKyG,kBAAL,EAArB,GAAiD,oBAAxD;;AACJ,mBAAK,CAAL;AACI,uBAAO,qBAAqB,KAAKA,kBAAL,EAArB,GAAiD,oBAAxD;;AACJ,mBAAK,CAAL;AACI,uBAAO,qBAAqB,KAAKA,kBAAL,EAArB,GAAiD,gBAAxD;;AACJ,mBAAK,CAAL;AACI,uBAAO,qBAAqB,KAAKA,kBAAL,EAArB,GAAiD,gBAAxD;AARR;AAUH;;;+CAE2B;AACxB,oBAAQ,KAAKH,eAAL,CAAqBtG,MAA7B;AACI,mBAAK,CAAL;AACA,mBAAK,CAAL;AACA,mBAAK,CAAL;AACA,mBAAK,CAAL;AACI,uBAAO,KAAKmG,MAAL,GAAc,KAAKG,eAAL,CAAqBpG,UAA1C;AALR;AAOH;;;+CAEiB;AAAA;;AACd,mBAAO,KAAKzB,YAAL,CAAkBhE,MAAlB,CAAyB,UAAAiM,EAAE;AAAA,qBAAIA,EAAE,CAAC1G,MAAH,KAAc,OAAI,CAACsG,eAAL,CAAqBtG,MAAvC;AAAA,aAA3B,EAA0E,CAA1E,EAA6EhF,OAApF;AACH;;;+BAEI2L,K,EAAe;AAChB,gBAAIA,KAAK,KAAK,QAAV,IAAsB,KAAKR,MAA3B,IAAqC,KAAKA,MAAL,IAAe,EAAxD,EAA4D;AACxD,mBAAKS,UAAL,GAAkB,CAAC,qBAAD,EAAwB,WAAxB,EAAqC,QAArC,EAA+C,SAA/C,EAA0D,iBAA1D,CAAlB;AACA,qBAAO,IAAP;AACH,aAHD,MAGO,IAAID,KAAK,KAAK,OAAV,IAAqB,KAAKR,MAAL,IAAe,EAApC,IAA0C,KAAKA,MAAL,IAAe,EAA7D,EAAiE;AACpE,qBAAO,IAAP;AACH,aAFM,MAEA,IAAIQ,KAAK,KAAK,SAAV,IAAuB,KAAKR,MAAL,IAAe,EAAtC,IAA4C,KAAKA,MAAL,IAAe,EAA/D,EAAmE;AACtE,qBAAO,IAAP;AACH,aAFM,MAEA,IAAIQ,KAAK,KAAK,QAAV,IAAsB,KAAKR,MAAL,IAAe,EAArC,IAA2C,KAAKA,MAAL,IAAe,EAA9D,EAAkE;AACrE,mBAAKS,UAAL,GAAkB,CAAC,mBAAD,EAAsB,YAAtB,EAAoC,OAApC,EAA6C,SAA7C,EAAwD,QAAxD,CAAlB;AACA,qBAAO,IAAP;AACH,aAHM,MAGA,IAAID,KAAK,KAAK,QAAV,IAAsB,KAAKR,MAAL,IAAe,EAArC,IAA2C,KAAKA,MAAL,IAAe,EAA9D,EAAkE;AACrE,mBAAKS,UAAL,GAAkB,CAAC,qBAAD,EAAwB,kBAAxB,EAA4C,SAA5C,EAAuD,SAAvD,EAAkE,UAAlE,CAAlB;AACA,qBAAO,IAAP;AACH,aAHM,MAGA,IAAID,KAAK,KAAK,QAAV,IAAsB,KAAKR,MAAL,IAAe,EAArC,IAA2C,KAAKA,MAAL,IAAe,EAA9D,EAAkE;AACrE,qBAAO,IAAP;AACH,aAFM,MAEA,IAAIQ,KAAK,KAAK,QAAV,IAAsB,KAAKR,MAAL,IAAe,EAArC,IAA2C,KAAKA,MAAL,IAAe,GAA9D,EAAmE;AACtE,mBAAKS,UAAL,GAAkB,CAAC,+BAAD,EAAkC,kBAAlC,EAAsD,kBAAtD,EAA0E,SAA1E,EAAqF,mBAArF,CAAlB;AACA,qBAAO,IAAP;AACH;;AACD,mBAAO,KAAP;AACH;;;0CAEe;AACZ,gBAAI,KAAKT,MAAL,IAAe,KAAKA,MAAL,IAAe,EAAlC,EAAsC;AAClC,mBAAKS,UAAL,GAAkB,CAAC,qBAAD,EAAwB,WAAxB,EAAqC,QAArC,EAA+C,SAA/C,EAA0D,iBAA1D,CAAlB;AACH,aAFD,MAEO,IAAI,KAAKT,MAAL,IAAe,EAAf,IAAqB,KAAKA,MAAL,IAAe,EAAxC,EAA4C;AAC/C,mBAAKS,UAAL,GAAkB,CAAC,mBAAD,EAAsB,YAAtB,EAAoC,OAApC,EAA6C,SAA7C,EAAwD,QAAxD,CAAlB;AACH,aAFM,MAEA,IAAI,KAAKT,MAAL,IAAe,EAAf,IAAqB,KAAKA,MAAL,IAAe,EAAxC,EAA4C;AAC/C,mBAAKS,UAAL,GAAkB,CAAC,qBAAD,EAAwB,kBAAxB,EAA4C,SAA5C,EAAuD,SAAvD,EAAkE,UAAlE,CAAlB;AACH,aAFM,MAEA,IAAI,KAAKT,MAAL,IAAe,EAAf,IAAqB,KAAKA,MAAL,IAAe,GAAxC,EAA6C;AAChD,mBAAKS,UAAL,GAAkB,CAAC,+BAAD,EAAkC,kBAAlC,EAAsD,kBAAtD,EAA0E,SAA1E,EAAqF,mBAArF,CAAlB;AACH;AACJ;;;sCAEWD,K,EAAeE,Q,EAAmB;AAC1C,gBAAIC,KAAJ;AACA,gBAAIC,SAAS,GAAG,IAAhB;AACA,gBAAIC,WAAW,GAAG,KAAlB;;AACA,gBAAIH,QAAJ,EAAc;AACVC,mBAAK,GAAG,KAAKG,MAAb;AACH,aAFD,MAEO;AACHH,mBAAK,GAAG,KAAKI,MAAb;AACH;;AACD,gBAAIP,KAAK,KAAK,QAAV,IAAsBG,KAAtB,IAA+BA,KAAK,IAAI,EAA5C,EAAgD;AAC5CC,uBAAS,GAAG,CAAC,qBAAD,EAAwB,WAAxB,EAAqC,QAArC,EAA+C,SAA/C,EAA0D,iBAA1D,CAAZ;AACAC,yBAAW,GAAG,IAAd;AACH,aAHD,MAGO,IAAIL,KAAK,KAAK,OAAV,IAAqBG,KAAK,IAAI,EAA9B,IAAoCA,KAAK,IAAI,EAAjD,EAAqD;AACxDE,yBAAW,GAAG,IAAd;AACH,aAFM,MAEA,IAAIL,KAAK,KAAK,SAAV,IAAuBG,KAAK,IAAI,EAAhC,IAAsCA,KAAK,IAAI,EAAnD,EAAuD;AAC1DE,yBAAW,GAAG,IAAd;AACH,aAFM,MAEA,IAAIL,KAAK,KAAK,QAAV,IAAsBG,KAAK,IAAI,EAA/B,IAAqCA,KAAK,IAAI,EAAlD,EAAsD;AACzDC,uBAAS,GAAG,CAAC,mBAAD,EAAsB,YAAtB,EAAoC,OAApC,EAA6C,SAA7C,EAAwD,QAAxD,CAAZ;AACAC,yBAAW,GAAG,IAAd;AACH,aAHM,MAGA,IAAIL,KAAK,KAAK,QAAV,IAAsBG,KAAK,IAAI,EAA/B,IAAqCA,KAAK,IAAI,EAAlD,EAAsD;AACzDC,uBAAS,GAAG,CAAC,qBAAD,EAAwB,kBAAxB,EAA4C,SAA5C,EAAuD,SAAvD,EAAkE,UAAlE,CAAZ;AACAC,yBAAW,GAAG,IAAd;AACH,aAHM,MAGA,IAAIL,KAAK,KAAK,QAAV,IAAsBG,KAAK,IAAI,EAA/B,IAAqCA,KAAK,IAAI,GAAlD,EAAuD;AAC1DC,uBAAS,GAAG,CAAC,+BAAD,EAAkC,kBAAlC,EAAsD,kBAAtD,EAA0E,SAA1E,EAAqF,mBAArF,CAAZ;AACAC,yBAAW,GAAG,IAAd;AACH;;AACD,gBAAIH,QAAJ,EAAc;AACV,mBAAKM,WAAL,GAAmBJ,SAAnB;AACH,aAFD,MAEO;AACH,mBAAKK,WAAL,GAAmBL,SAAnB;AACH;;AACD,mBAAOC,WAAP;AACH;;;yCAEc1K,M,EAA8B;AACzC,gBAAIA,MAAJ,EAAY;AACR,mBAAK+K,MAAL,GAAc,IAAd;AACA,mBAAKC,IAAL,GAAY,IAAZ;AACA,mBAAKC,WAAL,GAAmBjL,MAAnB;AAEA,mBAAKkL,SAAL,CAAe,KAAKD,WAAL,CAAiBE,sBAAjB,EAAf;AACH;AACJ;;;kCAEOnL,M,EAAwB;AAC5B,iBAAK+K,MAAL,GAAc,IAAd;AACA,iBAAKC,IAAL,GAAYhL,MAAZ;AACA,iBAAKiL,WAAL,GAAmB,IAAnB;AAEA,iBAAKC,SAAL,CAAe,KAAKF,IAAL,CAAUG,sBAAV,EAAf;AACH;;;oCAESnL,M,EAA0B;AAChC,iBAAK+K,MAAL,GAAc/K,MAAd;AACA,iBAAKgL,IAAL,GAAY,IAAZ;AACA,iBAAKC,WAAL,GAAmB,IAAnB;AAEA,iBAAKC,SAAL,CAAe,KAAKH,MAAL,CAAYI,sBAAZ,EAAf;AACH;;;oCAESC,a,EAAiC;AAAA;;AACvC;AACA;AACA;AACA,gBAAMC,qBAAqB,GAAqBpO,IAAI,CAACS,KAAL,CAAWT,IAAI,CAACC,SAAL,CAAekO,aAAf,CAAX,CAAhD;AACAC,iCAAqB,CAACC,gBAAtB,GAAyC,IAAzC;AACA,iBAAK9C,YAAL,CAAkB+C,mBAAlB,CAAsC,KAAKhP,IAA3C,EAAiD,MAAjD,EAAyD,IAAzD,EAA+D8O,qBAA/D,EAAsFhS,IAAtF,CACI,UAAC8P,SAAD,EAAoB;AAChB1N,qBAAO,CAACoB,GAAR,CAAYsM,SAAZ;AACA,kBAAM1L,QAAQ,GAAGR,IAAI,CAACS,KAAL,CAAWyL,SAAX,CAAjB;AACA,kBAAMkB,KAAK,GAAqB5M,QAAQ,CAACD,IAAzC;AACA,kBAAM4L,OAAO,GAAGiB,KAAK,CAACjB,OAAtB;AACA3N,qBAAO,CAACoB,GAAR,CAAYuM,OAAZ,EALgB,CAMhB;AACA;AACA;;AACA,qBAAI,CAACoC,yBAAL,CAA+BpC,OAA/B,EAAwCgC,aAAa,CAACE,gBAAtD;AACH,aAXL;AAaH;;;oDAEyBlC,O,EAAiBqC,kB,EAAuC;AAAA,wDAC/CA,kBAD+C;AAAA;;AAAA;AAC9E,qEAAmD;AAAA,oBAAxCH,gBAAwC;AAC/C,qBAAK9C,YAAL,CAAkBkD,mBAAlB,CAAsC,KAAKnP,IAA3C,EAAiD,MAAjD,EAAyD6M,OAAzD,EAAkEkC,gBAAlE,EAAoFjS,IAApF,CACI,UAACmE,IAAD,EAAe;AACX/B,yBAAO,CAACoB,GAAR,CAAYW,IAAZ;AACH,iBAHL;AAKH;AAP6E;AAAA;AAAA;AAAA;AAAA;AAQjF;;;;;;;yBAhPQoM,kB,EAAkB,gI,EAAA,+J,EAAA,+J,EAAA,qI;AAAA,O;;;cAAlBA,kB;AAAkB,uC;AAAA,iB;AAAA,e;AAAA,+tD;AAAA;AAAA;ACrB/B;;AACI;;AACI;;AACI;;AAAI;;AAAuB;;AAC3B;;AAAyB;AAAA,qBAAuB,IAAA/E,gBAAA,QAAvB;AAA+C,aAA/C;;AAErB;;AACJ;;AACJ;;AACA;;AACI;;AACA;;AACI;;AACI;;AAWA;;AAWJ;;AACJ;;AACJ;;AACA;;AACA;;AAIA;;AAKA;;AAqCJ;;AACJ;;;;AAjFqC;;AAAA;;AAKrB;;AAAA;;AAG+B;;AAAA;;AAYtB;;AAAA;;AAaiE;;AAAA;;AACzD;;AAAA;;AAIpB;;AAAA;;AAKA;;AAAA;;;;;;;;;wED3BA+E,kB,EAAkB;gBAL9B,uDAK8B;iBALpB;AACPhP,oBAAQ,EAAE,gBADH;AAEPC,uBAAW,EAAE,6BAFN;AAGPC,qBAAS,EAAE,CAAC,6BAAD;AAHJ,W;AAKoB,U;;;;;;;;;;;;;;;;;;;;;;;;;;;;AErB/B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UA+Fa6Q,kB;;;;;cAAAA;;;;2BAAAA,kB;AAAkB,S;AAAA,kBA/C3B,6DA+C2B,EA9C3B,uEA8C2B,EA7C3B,sEA6C2B,EA5C3B,kEA4C2B,EA3C3B,gEA2C2B,EA1C3B,sEA0C2B,EAzC3B,qFAyC2B,EAxC3B,uEAwC2B,EAvC3B,oFAuC2B,EAtC3B,yEAsC2B,EArC3B,qFAqC2B,EApC3B,qEAoC2B,EAnC3B,6EAmC2B,EAlC3B,uEAkC2B,EAjC3B,2EAiC2B,EAhC3B,iFAgC2B,EA/B3B,yEA+B2B,EA9B3B,2EA8B2B,EA7B3B,8EA6B2B,EA5B3B,8EA4B2B,EA3B3B,qEA2B2B,EA1B3B,sEA0B2B,EAzB3B,qEAyB2B,EAxB3B,qEAwB2B,EAvB3B,2EAuB2B,EAtB3B,8EAsB2B,EArB3B,mFAqB2B,EApB3B,4FAoB2B,EAnB3B,uEAmB2B,EAlB3B,uEAkB2B,EAjB3B,yEAiB2B,EAhB3B,2EAgB2B,EAf3B,yEAe2B,EAd3B,mFAc2B,EAb3B,8EAa2B,EAZ3B,qEAY2B,EAX3B,uEAW2B,EAV3B,qEAU2B,EAT3B,0EAS2B,EAR3B,2EAQ2B,EAP3B,oEAO2B,EAN3B,mEAM2B,EAL3B,iEAK2B,EAJ3B,sEAI2B;;;;4HAAlBA,kB,EAAkB;AAAA,oBA/C3B,6DA+C2B,EA9C3B,uEA8C2B,EA7C3B,sEA6C2B,EA5C3B,kEA4C2B,EA3C3B,gEA2C2B,EA1C3B,sEA0C2B,EAzC3B,qFAyC2B,EAxC3B,uEAwC2B,EAvC3B,oFAuC2B,EAtC3B,yEAsC2B,EArC3B,qFAqC2B,EApC3B,qEAoC2B,EAnC3B,6EAmC2B,EAlC3B,uEAkC2B,EAjC3B,2EAiC2B,EAhC3B,iFAgC2B,EA/B3B,yEA+B2B,EA9B3B,2EA8B2B,EA7B3B,8EA6B2B,EA5B3B,8EA4B2B,EA3B3B,qEA2B2B,EA1B3B,sEA0B2B,EAzB3B,qEAyB2B,EAxB3B,qEAwB2B,EAvB3B,2EAuB2B,EAtB3B,8EAsB2B,EArB3B,mFAqB2B,EApB3B,4FAoB2B,EAnB3B,uEAmB2B,EAlB3B,uEAkB2B,EAjB3B,yEAiB2B,EAhB3B,2EAgB2B,EAf3B,yEAe2B,EAd3B,mFAc2B,EAb3B,8EAa2B,EAZ3B,qEAY2B,EAX3B,uEAW2B,EAV3B,qEAU2B,EAT3B,0EAS2B,EAR3B,2EAQ2B,EAP3B,oEAO2B,EAN3B,mEAM2B,EAL3B,iEAK2B,EAJ3B,sEAI2B;AAAA,S;AAJZ,O;;;;;wEAINA,kB,EAAkB;gBAjD9B,sDAiD8B;iBAjDrB;AACRhS,mBAAO,EAAE,CACP,6DADO,EAEP,uEAFO,EAGP,sEAHO,EAIP,kEAJO,EAKP,gEALO,EAMP,sEANO,EAOP,qFAPO,EAQP,uEARO,EASP,oFATO,EAUP,yEAVO,EAWP,qFAXO,EAYP,qEAZO,EAaP,6EAbO,EAcP,uEAdO,EAeP,2EAfO,EAgBP,iFAhBO,EAiBP,yEAjBO,EAkBP,2EAlBO,EAmBP,8EAnBO,EAoBP,8EApBO,EAqBP,qEArBO,EAsBP,sEAtBO,EAuBP,qEAvBO,EAwBP,qEAxBO,EAyBP,2EAzBO,EA0BP,8EA1BO,EA2BP,mFA3BO,EA4BP,4FA5BO,EA6BP,uEA7BO,EA8BP,uEA9BO,EA+BP,yEA/BO,EAgCP,2EAhCO,EAiCP,yEAjCO,EAkCP,mFAlCO,EAmCP,8EAnCO,EAoCP,qEApCO,EAqCP,uEArCO,EAsCP,qEAtCO,EAuCP,0EAvCO,EAwCP,2EAxCO,EAyCP,oEAzCO,EA0CP,mEA1CO,EA2CP,iEA3CO,EA4CP,sEA5CO;AADD,W;AAiDqB,U;;;;;;;;;;;;;;;;;;AC/F/B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;;;;;ACAA;;AACkB;AAAA;;AAAA;;AAAA;AAAA;;AAAyD;;;;;;;;AAoB/D;;AACI;;AAA8B;;AAAY;;AAC1C;;AAAmD;AAAA;;AAAA;;AAAA;AAAA,aAA6B,eAA7B,EAA6B;AAAA;;AAAA;;AAAA;AAAA,WAA7B;;AAG/C;;AAAkB;;AAAe;;AACjC;;AAAkB;;AAAe;;AACjC;;AAAkB;;AAAe;;AACrC;;AACJ;;;;;;AAPuD;;AAAA;;;;;;AAa/C;;AAEI;;AACJ;;;;;;AAFQ;;AACJ;;AAAA;;;;;;;;AAPZ;;AACI;;AAAiC;;AAA8D;;AAC/F;;AAAsD;AAAA;;AAAA;;AAAA;AAAA,aAAiC,eAAjC,EAAiC;AAAA;;AAAA;;AAAA;AAAA,WAAjC;;AAGlD;;AAIJ;;AACJ;;;;;;AATqC;;AAAA;;AACqB;;AAAA,sGAAiC,MAAjC,EAAiC,eAAjC;;AAG1C;;AAAA;;;;;;;;AAMhB;;AACI;;AAA2B;;AAC3B;;AACA;;AAGO;AAAA;;AAAA;;AAAA;AAAA,aAA0B,eAA1B,EAA0B;AAAA;;AAAA;;AAAA;AAAA,WAA1B;;AAHP;;AAMJ;;;;;;AAR+B;;AAAA;;AAEZ;;AAAA,+FAAwB,SAAxB,EAAwB,eAAxB;;;;;;AAYX;;AACI;;AACJ;;;;;;AAFqD;;AACjD;;AAAA;;;;;;;;AANZ;;AACI;;AAAwB;;AAA0C;;AAClE;;AAA6C;AAAA;;AAAA;;AAAA;AAAA,aAA4B,eAA5B,EAA4B;AAAA;;AAAA;;AAAA;AAAA,WAA5B;;AAGzC;;AAGJ;;AACJ;;;;;;AAR4B;;AAAA;;AACqB;;AAAA,iGAA4B,MAA5B,EAA4B,YAA5B;;AAGjC;;AAAA;;;;;;AAWR;;AACI;;AACJ;;;;;;AAFyD;;AACrD;;AAAA;;;;;;;;AANZ;;AACI;;AAA0B;;AAA2C;;AACrE;;AAA+C;AAAA;;AAAA;;AAAA;AAAA,aAA8B,eAA9B,EAA8B;AAAA;;AAAA;;AAAA;AAAA,WAA9B;;AAG3C;;AAGJ;;AACJ;;;;;;AAR8B;;AAAA;;AACqB;;AAAA,mGAA8B,MAA9B,EAA8B,cAA9B;;AAGnC;;AAAA;;;;;;AAhDpB;;AACI;;AAUA;;AAWA;;AAUA;;AAWA;;AAUJ;;;;;;AApDqC;;AAAA;;AAUA;;AAAA;;AAWN;;AAAA;;AAUM;;AAAA;;AAWA;;AAAA;;;;;;;;AAuBjC;;AACI;;AAAyB;;AACzB;;AACA;;AAGO;AAAA;;AAAA;;AAAA;AAAA,aAA0B,eAA1B,EAA0B;AAAA;;AAAA;;AAAA;AAAA,WAA1B;;AAHP;;AAMJ;;;;;;AAHW;;AAAA;;;;;;;;AAKf;;AACI;;AAAI;;AAAwB;;AAC5B;;AACI;;AAAsB;;AACtB;;AACA;;AAIO;AAAA;;AAAA;;AAAA;AAAA,aAA4B,eAA5B,EAA4B;AAAA;;AAAA;;AAAA;AAAA,WAA5B;;AAJP;;AAOJ;;AACJ;;;;;;AAV8B;;AAAA;;AAEP;;AAAA,oIAA4D,SAA5D,EAA4D,gBAA5D;;;;;;;;AAWvB;;AACI;;AAAI;;AAAuB;;AAC3B;;AACI;;AAAqB;;AAErB;;AACA;;AAKO;AAAA;;AAAA;;AAAA;AAAA,aAAqC,eAArC,EAAqC;AAAA;;AAAA;;AAAA;AAAA,WAArC;;AALP;;AAQJ;;AACJ;;;;;;AAZ6B;;AAAA;;AAGN;;AAAA,wIAAgE,SAAhE,EAAgE,yBAAhE;;;;;;AAiBnB;;AAA0B;;AAA2B;;;;;;AAA3B;;AAAA;;;;;;AACT;;AAA2B;;AAAiB;;;;;;AAAjB;;AAAA;;;;;;AAAwB;;AAC5C;;AAAuB;;;;;;AAAvB;;AAAA;;;;;;AAaI;;AAC8D;;AAAS;;;;;;;;AAAnE;;AAA0D;;AAAA;;;;;;AAE1D;;AAAI;;AAAS;;;;;;AAAT;;AAAA;;;;;;AAJZ;;AACI;;AAEA;;AAGJ;;;;;;;;;;AALQ;;AAAA,qLAAgH,UAAhH,EAAgH,IAAhH;;;;;;AAFZ;;AACI;;AAOJ;;;;;;AAPkB;;AAAA;;;;;;AASd;;AACI;;AAAI;;AAAW;;AACnB;;;;;;AADQ;;AAAA;;;;;;AAFZ;;AACI;;AAGJ;;;;;;AAHkB;;AAAA;;;;;;AAb1B;;AACI;;AACI;;AACA;;AASA;;AAKA;;AACJ;;AACJ;;;;;;AAhBY;;AAAA;;AASA;;AAAA;;;;;;AAbhB;;AACI;;AAoBJ;;;;;;;;AApBU;;AAAA;;;;;;AA0BE;;;;;;AAA8B;;;;;;AAFtC;;AACI;;AACI;;AACJ;;AACJ;;;;;;AAFY;;AAAA;;;;;;AAHhB;;AACI;;AAKJ;;;;;;;;AALU;;AAAA;;;;;;AA5Bd;;AACI;;AAAuC;;AAEvC;;AAwBA;;AAOJ;;;;;;;;AAjCU;;AAAA;;AAEQ;;AAAA;;AAwBA;;AAAA;;;;;;AAUlB;;;;;;AAA0C;;;;;;AAvC9C;;AACI;;AAAI;;AAA0B;;AAC9B;;AAmCA;;AACA;;AACA;;AAA2F;;AAAK;;AACpG;;;;;;AAvCQ;;AAAA;;AACE;;AAAA;;AAqCA;;AAAA;;;;;;AAEV;;AAA2B;;AAA8C;;AAAE;;AAAM;;AAAkB;;AAAO;;;;;;AAAzE;;AAAA;;AAAgD;;AAAA;;;;;;AAhDrF;;AACI;;AAAI;;AAAkB;;AACtB;;AAAI;;AAAoC;;AACxC;;AACA;;AAAG;;AAAc;;AAAmD;;AACd;;AAEtD;;AAyCA;;AACJ;;;;;;AA/Cc;;AAAA;;AACN;;AAAA;;AACD;;AAAA;;AAAoB;;AAAA;;AACnB;;AAAA;;AAEU;;AAAA;;AAyCT;;AAAA;;;;;;;;AAGT;;AAA+C;AAAA;;AAAA;;AAAA;AAAA;;AAA2B;;AAAa;;;;;;;;AAEnF;;AAAQ;AAAA;;AAAA;;AAAA;AAAA;;AAA6B;;AAAe;;;;;;;;AAtD5D;;AACI;;AAkDA;;AAAQ;AAAA;;AAAA;;AAAA;AAAA;;AAA0D;;AAA0B;;AAC5F;;AACA;;AAGJ;;;;;;;;AAvD6B;;AAAA;;AAkDgB;;AAAA;;AACjC;;AAAA,2FAAsC,UAAtC,EAAsC,IAAtC;;;;;;;;AAcJ;;AAA2B;;AAAE;;AAAU;AAAA;;AAAA;;AAAA;AAAA;;AAA0B;;AAAW;;;;;;AAArC;;AAAA;;;;;;;;AACvC;;AAA0B;;AAAS;;AAAU;AAAA;;AAAA;;AAAA;AAAA;;AAAyB;;AAAW;;;;;;AAApC;;AAAA;;;;;;;;AAmBjB;;AAEI;;AACI;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAAgG;;AACxG;;;;;;;;;;;;;;;;;AAHI;;AAEI;;AAAA;;;;;;;;AAGJ;;AACI;;AACI;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAAgG;;AACxG;;;;;;;;;;;;;;AADQ;;AAAA;;;;;;AAVhB;;AAEI;;AAKA;;AAMJ;;;;;;;;;;AAXQ;;AAAA,yLAAgH,UAAhH,EAAgH,KAAhH;;;;;;AAHZ;;AACI;;AAcJ;;;;;;;;;;;;AAbQ;;AAAA,2KAAuI,cAAvI,EAAuI,kBAAvI;;;;;;;;AAeJ;;AAEI;;AACI;;AACI;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAA6F;;AACrG;;AACJ;;;;;;;;;;;;;;AAFY;;AAAA;;;;;;AALhB;;AACI;;AAOJ;;;;;;;;;;;;AANQ;;AAAA,wKAAsI,cAAtI,EAAsI,kBAAtI;;;;;;AArBhB;;AACI;;AACI;;AACA;;AAgBA;;AASA;;AACJ;;AACJ;;;;;;;;;;AA3BY;;AAAA;;AAgBA;;AAAA;;;;;;AArBhB;;AAEI;;AA+BJ;;;;;;;;AA/BU;;AAAA;;;;;;;;AAqCE;;AACI;;AACI;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAC0G;;AAClH;;;;;;;;;;;;AAFQ;;AAAA,kKAA6E,MAA7E,EAA6E,kIAA7E;;;;;;AALhB;;AAEI;;AACI;;AAKJ;;AACJ;;;;;;;;;;AANY;;AAAA,oJAAuH,cAAvH,EAAuH,kBAAvH;;;;;;AAJhB;;AACI;;AAUJ;;;;;;;;;;;;AATQ;;AAAA;;;;;;;;AA1ChB;;AAEQ;;AACI;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAAoF;;AAAW;;AAEnG;;AAmCA;;AAYJ;;;;;;;;;;AAjDQ;;AAAA;;AAGA;;AAAA;;AAkCU;;AAAA;;;;;;;;AAetB;;AAEI;;AAAU;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAA4E;;AAC1F;;;;;;;;;;AADc;;AAAA;;;;;;;;AA5DlB;;AAEI;;AAAI;;AAAU;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAA4D;;AAAW;;AACrF;;AAqDA;;AACA;;AACA;;AAIJ;;;;;;;;AA5DkB;;AAAA;;AAEV;;AAAA,4IAAiI,cAAjI,EAAiI,kBAAjI;;AAuDA;;AAAA,2IAAkH,cAAlH,EAAkH,kBAAlH;;;;;;;;AAIR;;AAA2B;;AAAU;AAAA;;AAAA;;AAAA;AAAA;;AAAgC;;AAAY;;AAAE;;AAC/E;AAAA;;AAAA;;AAAA;AAAA;;AAAkC;;AACtC;;;;;;AAFqC;;AAAA;;AACjC;;AAAA;;;;;;;;AA5ER;;AACI;;AAAI;;AAAkB;;AACtB;;AAAI;;AAAU;AAAA;;AAAA;;AAAA;AAAA;;AAAuB;;AAAW;;AAChD;;AACI;;AAAW;;AAAQ;;AACnB;;AAAU;AAAA;;AAAA;;AAAA;AAAA;;AAA6C;;AAC3D;;AACA;;AAAG;;AAAU;AAAA;;AAAA;;AAAA;AAAA;;AAAwB;;AACjC;;AACA;;AACJ;;AAEA;;AA+DA;;AAGA;;AAAQ;AAAA;;AAAA;;AAAA;AAAA;;AAAiC;;AAAyB;;AAClE;;AAAQ;AAAA;;AAAA;;AAAA;AAAA;;AAA8B;;AAAuB;;AACjE;;;;;;AA9EkB;;AAAA;;AAGA;;AAAA;;AAED;;AAAA;;AACH;;AAAA;;AACA;;AAAA;;AAIN;;AAAA,yGAAsG,cAAtG,EAAsG,gBAAtG;;AA8DC;;AAAA;;;;;;;;;;UD/PAiS,c;;;;;AAiBT,gCAAoBC,WAApB,EAAkD;AAAA;;AAAA;;AAC9C,sCAAMA,WAAN;AADgB,kBAAAA,WAAA,GAAAA,WAAA;AAfV,kBAAAC,gBAAA,GAAmB,IAAI,0DAAJ,EAAnB;AAewC;AAEjD;;;;qCAEO;AAAA;;AACJ,iBAAKD,WAAL,CAAiBE,OAAjB,CAAyB,SAAzB,EAAoC,qBAApC,EAA2D1S,IAA3D,CACI,UAAC2S,mBAAD,EAA8B;AAC1B,qBAAI,CAACC,qBAAL,GAA6BhP,IAAI,CAACS,KAAL,CAAWsO,mBAAX,CAA7B;;AACA,qBAAI,CAACH,WAAL,CAAiBE,OAAjB,CAAyB,SAAzB,EAAoC,gBAApC,EAAsD1S,IAAtD,CACI,UAAC6S,cAAD,EAAyB;AACrB,uBAAI,CAACC,iBAAL,GAAyBlP,IAAI,CAACS,KAAL,CAAWwO,cAAX,CAAzB;AACH,eAHL;AAKH,aARL;AAUA,iBAAKL,WAAL,CAAiBE,OAAjB,CAAyB,kBAAzB,EAA6C,gBAA7C,EAA+D1S,IAA/D,CACI,UAAC+S,cAAD,EAAyB;AACrB,qBAAI,CAACC,gBAAL,GAAwBpP,IAAI,CAACS,KAAL,CAAW0O,cAAX,CAAxB;AACH,aAHL;AAKA,iBAAKP,WAAL,CAAiBE,OAAjB,CAAyB,kBAAzB,EAA6C,aAA7C,EAA4D1S,IAA5D,CACI,UAAC+S,cAAD,EAAyB;AACrB,qBAAI,CAACE,cAAL,GAAsBrP,IAAI,CAACS,KAAL,CAAW0O,cAAX,CAAtB;AACH,aAHL;AAKA,iBAAKP,WAAL,CAAiBE,OAAjB,CAAyB,kBAAzB,EAA6C,gBAA7C,EAA+D1S,IAA/D,CACI,UAAC+S,cAAD,EAAyB;AACrB,qBAAI,CAACG,iBAAL,GAAyBtP,IAAI,CAACS,KAAL,CAAW0O,cAAX,CAAzB;AACH,aAHL;AAKH;;;yCAEc;AAAA;;AACX,iBAAKI,KAAL;AACA,iBAAKC,SAAL,GAAiB,KAAjB;AACA,iBAAKC,SAAL,GAAiB,KAAjB;AACA,iBAAKC,SAAL,GAAiB/P,SAAjB;AACA,iBAAKgQ,kBAAL,GAA0BhQ,SAA1B;AACA,iBAAKiQ,MAAL,GAAcjQ,SAAd;AACA,iBAAKkQ,KAAL,GAAalQ,SAAb;;AACA,oBAAQ,KAAKmQ,WAAb;AACI,mBAAK,CAAL;AACI,oBAAI,KAAKC,OAAL,IAAgB,KAAKA,OAAL,IAAgB,EAApC,EAAwC;AACpC,uBAAKF,KAAL,GAAa,CAAb;AACH,iBAFD,MAEO,IAAI,KAAKE,OAAL,GAAe,EAAf,IAAqB,KAAKA,OAAL,IAAgB,EAAzC,EAA6C;AAChD,uBAAKF,KAAL,GAAa,CAAb;AACH,iBAFM,MAEA,IAAI,KAAKE,OAAL,GAAe,EAAf,IAAqB,KAAKA,OAAL,IAAgB,EAAzC,EAA6C;AAChD,uBAAKF,KAAL,GAAa,CAAb;AACA,uBAAKL,SAAL,GAAiB,IAAjB;AACH,iBAHM,MAGA,IAAI,KAAKO,OAAL,GAAe,EAAf,IAAqB,KAAKA,OAAL,IAAgB,GAAzC,EAA8C;AACjD,uBAAKF,KAAL,GAAa,CAAb;AACA,uBAAKJ,SAAL,GAAiB,IAAjB;AACH;;AACD;;AACJ,mBAAK,CAAL;AACI,oBAAI,KAAKM,OAAL,IAAgB,KAAKA,OAAL,IAAgB,EAApC,EAAwC;AACpC,uBAAKF,KAAL,GAAa,CAAb;AACH,iBAFD,MAEO,IAAI,KAAKE,OAAL,GAAe,EAAf,IAAqB,KAAKA,OAAL,IAAgB,EAAzC,EAA6C;AAChD,uBAAKF,KAAL,GAAa,CAAb;AACH,iBAFM,MAEA,IAAI,KAAKE,OAAL,GAAe,EAAf,IAAqB,KAAKA,OAAL,IAAgB,EAAzC,EAA6C;AAChD,uBAAKF,KAAL,GAAa,CAAb;AACH,iBAFM,MAEA,IAAI,KAAKE,OAAL,GAAe,EAAf,IAAqB,KAAKA,OAAL,IAAgB,EAAzC,EAA6C;AAChD,uBAAKF,KAAL,GAAa,CAAb;AACH,iBAFM,MAEA,IAAI,KAAKE,OAAL,GAAe,EAAf,IAAqB,KAAKA,OAAL,IAAgB,EAAzC,EAA6C;AAChD,uBAAKF,KAAL,GAAa,CAAb;AACA,uBAAKL,SAAL,GAAiB,IAAjB;AACH,iBAHM,MAGA,IAAI,KAAKO,OAAL,GAAe,EAAf,IAAqB,KAAKA,OAAL,IAAgB,GAAzC,EAA8C;AACjD,uBAAKF,KAAL,GAAa,CAAb;AACA,uBAAKJ,SAAL,GAAiB,IAAjB;AACH;;AACD;;AACJ,mBAAK,CAAL;AACI,oBAAI,KAAKM,OAAL,IAAgB,KAAKA,OAAL,IAAgB,EAApC,EAAwC;AACpC,uBAAKF,KAAL,GAAa,CAAb;AACH,iBAFD,MAEO,IAAI,KAAKE,OAAL,GAAe,EAAf,IAAqB,KAAKA,OAAL,IAAgB,EAAzC,EAA6C;AAChD,uBAAKF,KAAL,GAAa,CAAb;AACH,iBAFM,MAEA,IAAI,KAAKE,OAAL,GAAe,EAAf,IAAqB,KAAKA,OAAL,IAAgB,EAAzC,EAA6C;AAChD,uBAAKF,KAAL,GAAa,CAAb;AACH,iBAFM,MAEA,IAAI,KAAKE,OAAL,GAAe,EAAf,IAAqB,KAAKA,OAAL,IAAgB,EAAzC,EAA6C;AAChD,uBAAKF,KAAL,GAAa,CAAb;AACA,uBAAKL,SAAL,GAAiB,IAAjB;AACH,iBAHM,MAGA,IAAI,KAAKO,OAAL,GAAe,EAAf,IAAqB,KAAKA,OAAL,IAAgB,GAAzC,EAA8C;AACjD,uBAAKF,KAAL,GAAa,CAAb;AACA,uBAAKJ,SAAL,GAAiB,IAAjB;AACH;;AACD;AA7CR;;AA+CA,gBAAI,CAAC,KAAKD,SAAN,IAAmB,KAAKQ,cAA5B,EAA4C;AACxC,mBAAKjC,IAAL,GAAY/N,IAAI,CAACS,KAAL,CAAWT,IAAI,CAACC,SAAL,CACnB,KAAKgQ,qBAAL,CAA2BC,UAA3B,CAAsCpE,IAAtC,CAA2C,UAAAhE,CAAC;AAAA,uBAAIA,CAAC,CAACvK,KAAF,KAAY,OAAI,CAACyS,cAArB;AAAA,eAA5C,EAAiFG,KAAjF,CAAuF,KAAKC,OAAL,GAAe,CAAtG,CADmB,CAAX,CAAZ;AAEA,mBAAKC,MAAL;AACA,mBAAKC,OAAL;AACH,aALD,MAKO;AACH,mBAAKC,IAAL,GAAY,IAAZ;AACA,mBAAKC,GAAL,GAAW,IAAX;AACH;AACJ;;;4CAEiB;AACd,iBAAKb,kBAAL,GAA0BhQ,SAA1B;AACA,iBAAKiQ,MAAL,GAAcjQ,SAAd;AACA,iBAAK6Q,GAAL,GAAW7Q,SAAX;AACA,iBAAK4P,KAAL;;AACA,gBAAI,KAAKG,SAAL,IAAkB,KAAKA,SAAL,IAAkB,KAAKe,uBAAL,CAA6B,KAAKvB,iBAAlC,CAAxC,EAA8F;AAC1F,kBAAMwB,WAAW,GAAoB1Q,IAAI,CAACS,KAAL,CAAWT,IAAI,CAACC,SAAL,CAC5C,KAAK0Q,qBAAL,CAA2B,KAAKzB,iBAAhC,EAAmD,KAAKQ,SAAL,GAAiB,CAApE,CAD4C,CAAX,CAArC;AAEA,mBAAKY,OAAL;AACA,mBAAKT,KAAL,GAAa,CAAb;AACA,mBAAKrB,kBAAL,CAAwBpH,IAAxB,CAA6BsJ,WAA7B;AACA,mBAAKF,GAAL,GAAWE,WAAW,CAACnT,KAAvB;AACA,mBAAKqT,kBAAL;AACH;AACJ;;;6CAEkB;AACf,oBAAQ,KAAKf,KAAb;AACI,mBAAK,CAAL;AACI,qBAAKgB,IAAL,GAAY,IAAZ;AACA;;AACJ,mBAAK,CAAL;AACI,qBAAKA,IAAL,GAAY,IAAZ;AACA;;AACJ,mBAAK,CAAL;AACI,qBAAKA,IAAL,GAAY,KAAZ;AACA;;AACJ,mBAAK,CAAL;AACI,qBAAKA,IAAL,GAAY,KAAZ;AACA;;AACJ,mBAAK,CAAL;AACI,qBAAKA,IAAL,GAAY,KAAZ;AACA;AAfR;AAiBH;;;oCAES;AAAA;;AACN,iBAAKC,SAAL;;AACA,gBAAI,CAAC,KAAKtB,SAAV,EAAqB;AACjB,kBAAI,KAAKY,OAAT,EAAkB;AACd,qBAAKrC,IAAL,GAAY/N,IAAI,CAACS,KAAL,CAAWT,IAAI,CAACC,SAAL,CACnB,KAAKgQ,qBAAL,CAA2BC,UAA3B,CAAsCpE,IAAtC,CAA2C,UAAAhE,CAAC;AAAA,yBAAIA,CAAC,CAACvK,KAAF,KAAY,OAAI,CAACyS,cAArB;AAAA,iBAA5C,EAAiFG,KAAjF,CAAuF,KAAKC,OAAL,GAAe,CAAtG,CADmB,CAAX,CAAZ;AAEA,qBAAKE,OAAL;AACA,qBAAKD,MAAL;AACH;AACJ,aAPD,MAOO;AACH,mBAAKE,IAAL,GAAY,IAAZ;AACA,mBAAKC,GAAL,GAAW,IAAX;AACH;AACJ;;;sCAEW;AAAA;;AACR,mBAAO,KAAKP,qBAAL,CAA2BC,UAA3B,CAAsCpE,IAAtC,CAA2C,UAAAhE,CAAC;AAAA,qBAAIA,CAAC,CAACvK,KAAF,KAAY,OAAI,CAACyS,cAArB;AAAA,aAA5C,EAAiFG,KAAjF,CAAuFxN,MAA9F;AACH;;;iDAEsB;AACnB,iBAAKyN,OAAL,GAAe,IAAf;AACA,iBAAKH,qBAAL,GAA6B,IAA7B;;AACA,gBAAI,CAAC,KAAKC,UAAN,KAAqB,CAAzB,EAA4B;AACxB,mBAAKD,qBAAL,GAA6B,KAAKb,gBAAlC;AACH,aAFD,MAEO,IAAI,CAAC,KAAKc,UAAN,KAAqB,CAAzB,EAA4B;AAC/B,mBAAKD,qBAAL,GAA6B,KAAKZ,cAAlC;AACH,aAFM,MAEA,IAAI,CAAC,KAAKa,UAAN,KAAqB,CAAzB,EAA4B;AAC/B,mBAAKD,qBAAL,GAA6B,KAAKX,iBAAlC;AACH;AACJ;;;gDAEqB;AAClB,mBAAO,CAAC,EAAE,KAAKF,gBAAL,IAAyB,KAAKE,iBAA9B,IAAmD,KAAKD,cAA1D,CAAR;AACH;;;sCAEW;AAAA;;AACR,iBAAK0B,MAAL,GAAc/Q,IAAI,CAACS,KAAL,CAAWT,IAAI,CAACC,SAAL,CAAe,KAAK8N,IAAL,CAAUiD,eAAV,CAA0BlF,IAA1B,CAA+B,UAAAhE,CAAC;AAAA,qBAAIA,CAAC,CAACiJ,MAAF,KAAa,OAAI,CAACE,SAAtB;AAAA,aAAhC,CAAf,CAAX,CAAd;AACA,iBAAKC,SAAL;AACA,iBAAKb,MAAL;AACH;;;2CAEgB;AACb,mBAAO,KAAKtC,IAAL,CAAUiD,eAAV,CAA0BxO,GAA1B,CAA8B,UAAAsF,CAAC;AAAA,qBAAIA,CAAC,CAACiJ,MAAN;AAAA,aAA/B,CAAP;AACH;;;uCAEY;AACT,mBAAO,KAAKhD,IAAL,CAAUiD,eAAjB;AACH;;;sCAEW;AACR,iBAAKG,MAAL,GAAc,KAAKJ,MAAL,CAAYI,MAAZ,KAAuB,GAAvB,GAA6B,KAA7B,GACR,KAAKJ,MAAL,CAAYI,MAAZ,KAAuB,GAAvB,GAA6B,KAA7B,GACI,KAAKJ,MAAL,CAAYI,MAFtB;AAGH;;;4CAEiB;AACd;AACA,mBAAO,KAAKpD,IAAL,CAAUiD,eAAV,CAA0BrO,MAAjC;AACH;;;wCAEa;AAAA;;AACV,iBAAKyO,QAAL,GAAgBpR,IAAI,CAACS,KAAL,CAAWT,IAAI,CAACC,SAAL,CACvB,KAAK8N,IAAL,CAAUsD,eAAV,CAA0BvF,IAA1B,CAA+B,UAAAhE,CAAC;AAAA,qBAAIA,CAAC,CAAC0I,GAAF,CAAMhE,OAAN,CAAc,gBAAd,EAAgC,IAAhC,MAA0C,OAAI,CAAC8E,WAAnD;AAAA,aAAhC,CADuB,CAAX,CAAhB;AAEA,iBAAKjB,MAAL;AACH;;;6CAEkB;AACf,mBAAO,KAAKtC,IAAL,CAAUsD,eAAV,CAA0B7O,GAA1B,CAA8B,UAAAsF,CAAC;AAAA,qBAAIA,CAAC,CAAC0I,GAAF,CAAMhE,OAAN,CAAc,gBAAd,EAAgC,IAAhC,CAAJ;AAAA,aAA/B,CAAP;AACH;;;yCAEc;AACX,mBAAO,KAAKuB,IAAL,CAAUsD,eAAjB;AACH;;;2CAEgB;AACb,mBAAO,KAAKtD,IAAL,CAAUsD,eAAV,CAA0B1O,MAAjC;AACH;;;mCAEQ;AACL,gBAAI,KAAKoL,IAAT,EAAe;AACX,mBAAKyC,GAAL,GAAW,KAAKzC,IAAL,CAAUyC,GAArB;AACH;;AACD,gBAAI,KAAKO,MAAT,EAAiB;AACb,mBAAKP,GAAL,IAAY,MAAM,KAAKO,MAAL,CAAYA,MAA9B;AACH;;AACD,gBAAI,KAAKK,QAAT,EAAmB;AACf,mBAAKZ,GAAL,IAAY,SAAS,KAAKY,QAAL,CAAcZ,GAAnC;AACH;;AACD,iBAAKA,GAAL,IAAY,MAAM,KAAKe,uBAAL,EAAlB,CAVK,CAWL;AACH;;;oCAES;AACN,iBAAKhB,IAAL,GAAY,KAAKf,SAAL,GAAiB,eAAjB,GAAmC,KAAKQ,cAApD;AACH;;;sCAEW;AACR;;AACA,iBAAKe,MAAL,GAAcpR,SAAd;AACH;;;yCAEc;AACX;;AACA,iBAAKuR,SAAL;AACA,iBAAKM,WAAL;AACA,iBAAKC,SAAL;AACA,iBAAKnB,OAAL;AACH;;;sCAEW;AACR,iBAAKoB,MAAL,GAAc,IAAd;AACA,iBAAK7C,gBAAL,CAAsBhM,IAAtB,CAA2B,IAA3B;AACH;;;wCAEa;AACV,iBAAK6O,MAAL,GAAc,KAAd;AACA,iBAAK7C,gBAAL,CAAsBhM,IAAtB,CAA2B,IAA3B;AACH;;;mDAEqB;AAClB,gBAAM8O,gBAAgB,GAAG,KAAKC,cAAL,EAAzB;AACA,gBAAIlS,MAAJ;AACAA,kBAAM,GAAG;AACLyM,qBAAO,EAAE,IADJ;AAELJ,0BAAY,EAAE,CAFT;AAGLyE,iBAAG,EAAE,KAAKA,GAHL;AAILX,mBAAK,EAAE,KAAKA,KAJP;AAKLU,kBAAI,EAAE,KAAKA,IALN;AAMLM,kBAAI,EAAE,KAAKA,IAAL,GAAY,KAAKgB,oBANlB;AAOLC,8BAAgB,EAAE,IAPb;AAQLC,oBAAM,EAAE,KAAKC,YARR;AASL3D,8BAAgB,EAAE,KAAKG,kBATlB;AAULyD,yBAAW,EAAEN,gBAVR;AAWLO,uBAAS,EAAE,KAAKlC,cAXX;AAYLoB,sBAAQ,EAAE,KAAKA,QAZV;AAaLL,oBAAM,EAAE,KAAKA,MAAL,CAAYA,MAbf;AAcLI,oBAAM,EAAE,KAAKA,MAdR;AAeLgB,sBAAQ,EAAE,KAAKpE,IAAL,CAAUoE,QAff;AAgBLC,2BAAa,EAAE,KAAKrE,IAAL,CAAUqE,aAhBpB;AAiBLtE,oBAAM,EAAE,IAjBH;AAkBLuE,+BAAiB,EAAE,IAlBd;AAmBLC,8BAAgB,EAAE,IAnBb;AAoBLC,8BAAgB,EAAE,IApBb;AAqBLC,yBAAW,EAAE,KAAKA,WArBb;AAsBLC,kCAAoB,EAAE,KAAKA,oBAtBtB;AAuBLC,iCAAmB,EAAE,KAAKA,mBAvBrB;AAwBLC,8BAAgB,EAAE,KAAKA,gBAxBlB;AAyBLC,2BAAa,EAAE,KAAKA;AAzBf,aAAT;AA4BA,mBAAOlT,MAAP;AACH;;;;QA9S+B,yD;;;yBAAvBiP,c,EAAc,4I;AAAA,O;;;cAAdA,c;AAAc,kC;AAAA;AAAA;;;;;;;;;;;;;;;;;;;;;;ACV3B;;AAGA;;AACI;;AACI;;AAAoB;;AAAiB;;AACrC;;AACI;;AAA2B;AAAA,qBAAS,qBAAsB,KAAtB,CAAT;AAAqC,aAArC;;AACqE;;AAA4B;;AAC5H;;AAA2B;AAAA,qBAAS,qBAAsB,cAAtB,CAAT;AAA8C,aAA9C;;AACyE;;AAAqC;;AACzI;;AAA2B;AAAA,qBAAS,qBAAsB,aAAtB,CAAT;AAA6C,aAA7C;;AACwE;;AAAoC;;AACvI;;AAA2B;AAAA,qBAAS,qBAAsB,UAAtB,CAAT;AAA0C,aAA1C;;AACqE;;AAAiC;;AACjI;;AAA2B;AAAA,qBAAS,qBAAsB,OAAtB,CAAT;AAAuC,aAAvC;;AAC2E;;AAA8B;;AACxI;;AACJ;;AACA;;AACI;;AAsDA;;AACI;;AACI;;AAA6B;;AAC7B;;AACA;;AAGO;AAAA;AAAA,eAA8B,eAA9B,EAA8B;AAAA,qBACb,kBADa;AACM,aADpC;;AAHP;;AAMJ;;AAEA;;AAUJ;;AACA;;AAgBA;;AAkBJ;;AACA;;AA0DA;;AAiFJ;;;;AA/QkB;;AAO4D;;AAAA;;AAC8B;;AAAA;;AACrB;;AAAA;;AACyB;;AAAA;;AAC1B;;AAAA;;AACyB;;AAAA;;AAC5B;;AAAA;;AACyB;;AAAA;;AAC5B;;AAAA;;AACkC;;AAAA;;AAIpF;;AAAA;;AA6DP;;AAAA;;AAKgB;;AAAA;;AAW1B;;AAAA;;AAgBA;;AAAA;;AAmBgB;;AAAA;;AA0DA;;AAAA;;;;;;;;;wEDpLhBA,c,EAAc;gBAL1B,uDAK0B;iBALhB;AACPhR,oBAAQ,EAAE,WADH;AAEPC,uBAAW,EAAE,wBAFN;AAGPC,qBAAS,EAAE,CAAC,wBAAD;AAHJ,W;AAKgB,U;;;;;AAEbgR,0BAAgB;kBAAzB;AAAyB,Y;AACUgE,8BAAoB,EAAE,CAAF;kBAAvD,uDAAuD;mBAA7C,uB;AAA6C,WAAE,C;AACjDC,gBAAM,EAAE,CAAF;kBAAd;AAAc,WAAE;;;;;;;;;;;;;;;;;;;AEdrB;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;;;;;ACAA;;AACkB;AAAA;;AAAA;;AAAA;AAAA;;AAAyD;;;;;;AAyBvD;;AACI;;AACJ;;;;;;AAFkE;;AAC9D;;AAAA;;;;;;;;AANZ;;AACI;;AAAiC;;AAAmD;;AACpF;;AAAsD;AAAA;;AAAA;;AAAA;AAAA,aAAiC,eAAjC,EAAiC;AAAA;;AAAA;;AAAA;AAAA,WAAjC;;AAGlD;;AAGJ;;AACJ;;;;;;AARqC;;AAAA;;AACqB;;AAAA,qGAAiC,MAAjC,EAAiC,iBAAjC;;AAG1C;;AAAA;;;;;;;;AAKhB;;AACI;;AAA6B;;AAC7B;;AACA;;AAGO;AAAA;;AAAA;;AAAA;AAAA,aAA0B,eAA1B,EAA0B;AAAA;;AAAA;;AAAA;AAAA,WAA1B;;AAHP;;AAMJ;;;;;;AARiC;;AAAA;;AAEd;;AAAA,iGAA0B,SAA1B,EAA0B,eAA1B;;;;;;AAYX;;AACI;;AACJ;;;;;;AAFqD;;AACjD;;AAAA;;;;;;;;AANZ;;AACI;;AAA0B;;AAA8C;;AACxE;;AAA+C;AAAA;;AAAA;;AAAA;AAAA,aAA4B,eAA5B,EAA4B;AAAA;;AAAA;;AAAA;AAAA,WAA5B;;AAG3C;;AAGJ;;AACJ;;;;;;AAR8B;;AAAA;;AACqB;;AAAA,iGAA4B,MAA5B,EAA4B,cAA5B;;AAGnC;;AAAA;;;;;;AAWR;;AACI;;AACJ;;;;;;AAFyD;;AACrD;;AAAA;;;;;;;;AANZ;;AACI;;AAA0B;;AAA6C;;AACvE;;AAA+C;AAAA;;AAAA;;AAAA;AAAA,aAA8B,eAA9B,EAA8B;AAAA;;AAAA;;AAAA;AAAA,WAA9B;;AAG3C;;AAGJ;;AACJ;;;;;;AAR8B;;AAAA;;AACqB;;AAAA,mGAA8B,MAA9B,EAA8B,gBAA9B;;AAGnC;;AAAA;;;;;;AArCpB;;AACI;;AAUA;;AAUA;;AAWA;;AAUJ;;;;;;AAzCqC;;AAAA;;AAUN;;AAAA;;AAUM;;AAAA;;AAWA;;AAAA;;;;;;;;AAiCjC;;AACI;;AAAI;;AAAa;;AACjB;;AACI;;AAAkB;;AAClB;;AACA;;AAGO;AAAA;;AAAA;;AAAA;AAAA,aAA4B,eAA5B,EAA4B;AAAA;;AAAA;;AAAA;AAAA,WAA5B;;AAHP;;AAMJ;;AACJ;;;;;;AAXQ;;AAAA;;AAEkB;;AAAA;;AAEH;;AAAA,kGAA4B,SAA5B,EAA4B,gBAA5B;;;;;;;;AASvB;;AACI;;AAAI;;AAAyB;;AAC7B;;AACI;;AAAqB;;AAErB;;AACA;;AAKO;AAAA;;AAAA;;AAAA;AAAA,aAAqC,eAArC,EAAqC;AAAA;;AAAA;;AAAA;AAAA,WAArC;;AALP;;AAQJ;;AACJ;;;;;;AAZ6B;;AAAA;;AAGN;;AAAA,wIAAgE,SAAhE,EAAgE,yBAAhE;;;;;;AAkBvB;;AAA0B;;AAA2B;;;;;;AAA3B;;AAAA;;;;;;AAEtB;;AAAyB;;AAAuB;;;;;;AAAvB;;AAAA;;;;;;AADb;;AAA2B;;AACvC;;AAAuD;;;;;;AADhB;;AAAA;;AACjC;;AAAA;;;;;;AACN;;AAAyB;;AAA8C;;;;;;AAA9C;;AAAA;;;;;;AAcD;;AAC8D;;AAAS;;;;;;;;AAAnE;;AAA0D;;AAAA;;;;;;AAE1D;;AAAI;;AAAS;;;;;;AAAT;;AAAA;;;;;;AAJZ;;AACI;;AAEA;;AAGJ;;;;;;;;;;AALQ;;AAAA,qLAAgH,UAAhH,EAAgH,IAAhH;;;;;;AAFZ;;AACI;;AAOJ;;;;;;AAPkB;;AAAA;;;;;;AASd;;AACI;;AAAI;;AAAW;;AACnB;;;;;;AADQ;;AAAA;;;;;;AAFZ;;AACI;;AAGJ;;;;;;AAHkB;;AAAA;;;;;;AAb1B;;AACI;;AACI;;AACA;;AASA;;AAKA;;AACJ;;AACJ;;;;;;AAhBY;;AAAA;;AASA;;AAAA;;;;;;AAbhB;;AACI;;AAoBJ;;;;;;;;AApBU;;AAAA;;;;;;AA0BE;;;;;;AAA8B;;;;;;AAFtC;;AACI;;AACI;;AACJ;;AACJ;;;;;;AAFY;;AAAA;;;;;;AAHhB;;AACI;;AAKJ;;;;;;;;AALU;;AAAA;;;;;;AA5Bd;;AACI;;AAAuC;;AAEvC;;AAwBA;;AAOJ;;;;;;;;AAjCU;;AAAA;;AAEQ;;AAAA;;AAwBA;;AAAA;;;;;;AA7BtB;;AACI;;AAAI;;AAA0B;;AAC9B;;AAmCA;;AACA;;AACA;;AAAuD;;AAAK;;AAChE;;;;;;AAvCQ;;AAAA;;AACE;;AAAA;;AAqCA;;AAAA;;;;;;AAEV;;AAA2B;;AAA8C;;AAAE;;AAAM;;AAAkB;;AACnG;;;;;;AADiC;;AAAA;;AAAgD;;AAAA;;;;;;AAlDrF;;AACI;;AAAI;;AAAQ;;AACZ;;AAAI;;AAAoC;;AACxC;;AACA;;AAAG;;AAAa;;AAEZ;;AACJ;;AAEA;;AAyCA;;AAEJ;;;;;;AAlDc;;AAAA;;AACN;;AAAA;;AACD;;AAAA;;AAAmB;;AAAA;;AAEZ;;AAAA;;AAGI;;AAAA;;AAyCT;;AAAA;;;;;;;;AAIT;;AAA+C;AAAA;;AAAA;;AAAA;AAAA;;AAA2B;;AAAa;;;;;;;;AAEnF;;AAAQ;AAAA;;AAAA;;AAAA;AAAA;;AAA6B;;AAAe;;;;;;;;AAzD5D;;AACI;;AAqDA;;AAAQ;AAAA;;AAAA;;AAAA;AAAA;;AAA0D;;AAA0B;;AAC5F;;AACA;;AAGJ;;;;;;;;AA1D6B;;AAAA;;AAqDgB;;AAAA;;AACjC;;AAAA,2FAAsC,UAAtC,EAAsC,IAAtC;;;;;;;;AAcA;;AAAiD;;AAAS;;AAAU;AAAA;;AAAA;;AAAA;AAAA;;AAAyB;;AAAW;;;;;;AAApC;;AAAA;;;;;;;;AAD5B;;AAA2B;;AAAE;;AAAU;AAAA;;AAAA;;AAAA;AAAA;;AAAiC;;AAAY;;AAC5H;;AAA+G;;;;;;AADhC;;AAAA;;AACzE;;AAAA;;;;;;;;AACV;;AAAyB;;AAAS;;AAAU;AAAA;;AAAA;;AAAA;AAAA;;AAAwB;;AAAY;;AAAE;;;;;;AAAtC;;AAAA;;;;;;;;AAmBhB;;AAEI;;AACI;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAAgG;;AACxG;;;;;;;;;;;;;;;;;AAHI;;AAEI;;AAAA;;;;;;;;AAGJ;;AACI;;AACI;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAAgG;;AACxG;;;;;;;;;;;;;;AADQ;;AAAA;;;;;;AAVhB;;AAEI;;AAKA;;AAMJ;;;;;;;;;;AAXQ;;AAAA,yLAAgH,UAAhH,EAAgH,KAAhH;;;;;;AAHZ;;AACI;;AAcJ;;;;;;;;;;;;AAbQ;;AAAA,2KAAuI,cAAvI,EAAuI,kBAAvI;;;;;;;;AAeJ;;AAEI;;AACI;;AACI;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAA6F;;AACrG;;AACJ;;;;;;;;;;;;;;AAFY;;AAAA;;;;;;AALhB;;AACI;;AAOJ;;;;;;;;;;;;AANQ;;AAAA,wKAAsI,cAAtI,EAAsI,kBAAtI;;;;;;AArBhB;;AACI;;AACI;;AACA;;AAgBA;;AASA;;AACJ;;AACJ;;;;;;;;;;AA3BY;;AAAA;;AAgBA;;AAAA;;;;;;AArBhB;;AAEI;;AA+BJ;;;;;;;;AA/BU;;AAAA;;;;;;;;AAqCE;;AACI;;AACI;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAC0G;;AAClH;;;;;;;;;;;;AAFQ;;AAAA,kKAA6E,MAA7E,EAA6E,kIAA7E;;;;;;AALhB;;AAEI;;AACI;;AAKJ;;AACJ;;;;;;;;;;AANY;;AAAA,oJAAuH,cAAvH,EAAuH,kBAAvH;;;;;;AAJhB;;AACI;;AAUJ;;;;;;;;;;;;AATQ;;AAAA;;;;;;;;AA1ChB;;AAEQ;;AACI;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAAoF;;AAAW;;AAEnG;;AAmCA;;AAYJ;;;;;;;;;;AAjDQ;;AAAA;;AAGA;;AAAA;;AAkCU;;AAAA;;;;;;;;AAetB;;AAEI;;AAAU;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAA4E;;AAC1F;;;;;;;;;;AADc;;AAAA;;;;;;;;AA5DlB;;AAEI;;AAAI;;AAAU;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAA4D;;AAAW;;AACrF;;AAqDA;;AACA;;AACA;;AAIJ;;;;;;;;AA5DkB;;AAAA;;AAEV;;AAAA,2IAAiI,cAAjI,EAAiI,iBAAjI;;AAuDA;;AAAA,0IAAkH,cAAlH,EAAkH,iBAAlH;;;;;;;;AAIR;;AAA2B;;AAAU;AAAA;;AAAA;;AAAA;AAAA;;AAAgC;;AAAY;;AAAE;;AAC/E;AAAA;;AAAA;;AAAA;AAAA;;AAAkC;;AACtC;;;;;;AAFqC;;AAAA;;AACjC;;AAAA;;;;;;;;AA5ER;;AACI;;AAAI;;AAAkB;;AACtB;;AAAI;;AAAU;AAAA;;AAAA;;AAAA;AAAA;;AAAuB;;AAAW;;AAChD;;AACI;;AAAW;;AAAQ;;AACnB;;AAAU;AAAA;;AAAA;;AAAA;AAAA;;AAA6C;;AAC3D;;AACA;;AAAG;;AAAU;AAAA;;AAAA;;AAAA;AAAA;;AAAwB;;AAAW;;AAE5C;;AACJ;;AAEA;;AA+DA;;AAGA;;AAAQ;AAAA;;AAAA;;AAAA;AAAA;;AAAiC;;AAAyB;;AAClE;;AAAQ;AAAA;;AAAA;;AAAA;AAAA;;AAA8B;;AAAuB;;AACjE;;;;;;AA9EkB;;AAAA;;AAGA;;AAAA;;AAED;;AAAA;;AAAyC;;AAAA;;AAE5C;;AAAA;;AAIN;;AAAA,yGAAsG,cAAtG,EAAsG,gBAAtG;;AA8DC;;AAAA;;;;;;;;;;UDrPAC,gB;;;;;AAgBT,kCAAoBnE,WAApB,EAAkD;AAAA;;AAAA;;AAC9C,uCAAMA,WAAN;AADgB,kBAAAA,WAAA,GAAAA,WAAA;AAdV,kBAAAoE,kBAAA,GAAqB,IAAI,0DAAJ,EAArB;AAIV,kBAAAC,QAAA,GAAW,KAAX;AAUkD;AAEjD;;;;qCAEO;AAAA;;AACJ,iBAAKrE,WAAL,CAAiBE,OAAjB,CAAyB,SAAzB,EAAoC,uBAApC,EAA6D1S,IAA7D,CACI,UAAC8W,qBAAD,EAAgC;AAC5B,qBAAI,CAAClE,qBAAL,GAA6BhP,IAAI,CAACS,KAAL,CAAWyS,qBAAX,CAA7B;;AACA,qBAAI,CAACtE,WAAL,CAAiBE,OAAjB,CAAyB,SAAzB,EAAoC,0BAApC,EAAgE1S,IAAhE,CACI,UAAC+W,wBAAD,EAAmC;AAC/B,uBAAI,CAACC,mBAAL,GAA2BpT,IAAI,CAACS,KAAL,CAAW0S,wBAAX,CAA3B;;AACA,uBAAI,CAACvE,WAAL,CAAiBE,OAAjB,CAAyB,SAAzB,EAAoC,mBAApC,EAAyD1S,IAAzD,CACI,UAACiX,iBAAD,EAA4B;AACxB,yBAAI,CAACC,oBAAL,GAA4BtT,IAAI,CAACS,KAAL,CAAW4S,iBAAX,CAA5B;AACH,iBAHL;AAKH,eARL;AAUH,aAbL;AAeA,iBAAKzE,WAAL,CAAiBE,OAAjB,CAAyB,kBAAzB,EAA6C,SAA7C,EAAwD1S,IAAxD,CACI,UAACmX,gBAAD,EAA2B;AACvB,qBAAI,CAACC,UAAL,GAAkBxT,IAAI,CAACS,KAAL,CAAW8S,gBAAX,CAAlB;AACH,aAHL;AAKH;;;uCAEY;AAAA;;AACT,iBAAKhE,KAAL;AACA,iBAAKC,SAAL,GAAiB,KAAjB;AACA,iBAAKC,SAAL,GAAiB,KAAjB;AACA,iBAAKC,SAAL,GAAiB/P,SAAjB;AACA,iBAAKgQ,kBAAL,GAA0BhQ,SAA1B;AACA,iBAAKiQ,MAAL,GAAcjQ,SAAd;;AACA,oBAAQ,KAAKmQ,WAAb;AACI,mBAAK,CAAL;AACI,oBAAI,KAAKC,OAAL,IAAgB,KAAKA,OAAL,IAAgB,EAApC,EAAwC;AACpC,uBAAKF,KAAL,GAAa,CAAb;AACH,iBAFD,MAEO,IAAI,KAAKE,OAAL,GAAe,EAAf,IAAqB,KAAKA,OAAL,IAAgB,EAAzC,EAA6C;AAChDvR,yBAAO,CAACoB,GAAR,CAAY,kBAAZ;AACA,uBAAKiQ,KAAL,GAAa,CAAb;AACH,iBAHM,MAGA,IAAI,KAAKE,OAAL,GAAe,EAAf,IAAqB,KAAKA,OAAL,IAAgB,EAAzC,EAA6C;AAChD,uBAAKF,KAAL,GAAa,CAAb;AACA,uBAAKL,SAAL,GAAiB,IAAjB;AACA,uBAAKyD,QAAL,GAAgB,KAAhB;AACA,uBAAK1C,IAAL,GAAY,iBAAZ;AACH,iBALM,MAKA,IAAI,KAAKR,OAAL,GAAe,EAAf,IAAqB,KAAKA,OAAL,IAAgB,EAAzC,EAA6C;AAChD,uBAAKF,KAAL,GAAa,CAAb;AACA,uBAAKL,SAAL,GAAiB,IAAjB;AACA,uBAAKyD,QAAL,GAAgB,IAAhB;AACA,uBAAK1C,IAAL,GAAY,kBAAZ;AACH,iBALM,MAKA,IAAI,KAAKR,OAAL,GAAe,EAAf,IAAqB,KAAKA,OAAL,IAAgB,GAAzC,EAA8C;AACjD,uBAAKF,KAAL,GAAa,CAAb;AACA,uBAAKJ,SAAL,GAAiB,IAAjB;AACH;;AACD;;AACJ,mBAAK,CAAL;AACI,oBAAI,KAAKM,OAAL,IAAgB,KAAKA,OAAL,IAAgB,EAApC,EAAwC;AACpC,uBAAKF,KAAL,GAAa,CAAb;AACH,iBAFD,MAEO,IAAI,KAAKE,OAAL,GAAe,EAAf,IAAqB,KAAKA,OAAL,IAAgB,EAAzC,EAA6C;AAChD,uBAAKF,KAAL,GAAa,CAAb;AACH,iBAFM,MAEA,IAAI,KAAKE,OAAL,GAAe,EAAf,IAAqB,KAAKA,OAAL,IAAgB,EAAzC,EAA6C;AAChD,uBAAKF,KAAL,GAAa,CAAb;AACH,iBAFM,MAEA,IAAI,KAAKE,OAAL,GAAe,EAAf,IAAqB,KAAKA,OAAL,IAAgB,EAAzC,EAA6C;AAChD,uBAAKF,KAAL,GAAa,CAAb;AACH,iBAFM,MAEA,IAAI,KAAKE,OAAL,GAAe,EAAf,IAAqB,KAAKA,OAAL,IAAgB,EAAzC,EAA6C;AAChD,uBAAKF,KAAL,GAAa,CAAb;AACA,uBAAKL,SAAL,GAAiB,IAAjB;AACA,uBAAKyD,QAAL,GAAgB,KAAhB;AACA,uBAAK1C,IAAL,GAAY,iBAAZ;AACH,iBALM,MAKA,IAAI,KAAKR,OAAL,GAAe,EAAf,IAAqB,KAAKA,OAAL,IAAgB,EAAzC,EAA6C;AAChD,uBAAKF,KAAL,GAAa,CAAb;AACA,uBAAKL,SAAL,GAAiB,IAAjB;AACA,uBAAKyD,QAAL,GAAgB,IAAhB;AACA,uBAAK1C,IAAL,GAAY,kBAAZ;AACH,iBALM,MAKA,IAAI,KAAKR,OAAL,GAAe,EAAf,IAAqB,KAAKA,OAAL,IAAgB,GAAzC,EAA8C;AACjD,uBAAKF,KAAL,GAAa,CAAb;AACA,uBAAKJ,SAAL,GAAiB,IAAjB;AACH;;AACD;;AACJ,mBAAK,CAAL;AACI,oBAAI,KAAKM,OAAL,IAAgB,KAAKA,OAAL,IAAgB,EAApC,EAAwC;AACpC,uBAAKF,KAAL,GAAa,CAAb;AACH,iBAFD,MAEO,IAAI,KAAKE,OAAL,GAAe,EAAf,IAAqB,KAAKA,OAAL,IAAgB,EAAzC,EAA6C;AAChD,uBAAKF,KAAL,GAAa,CAAb;AACH,iBAFM,MAEA,IAAI,KAAKE,OAAL,GAAe,EAAf,IAAqB,KAAKA,OAAL,IAAgB,EAAzC,EAA6C;AAChD,uBAAKF,KAAL,GAAa,CAAb;AACH,iBAFM,MAEA,IAAI,KAAKE,OAAL,GAAe,EAAf,IAAqB,KAAKA,OAAL,IAAgB,EAAzC,EAA6C;AAChD,uBAAKF,KAAL,GAAa,CAAb;AACA,uBAAKL,SAAL,GAAiB,IAAjB;AACA,uBAAKyD,QAAL,GAAgB,KAAhB;AACA,uBAAK1C,IAAL,GAAY,iBAAZ;AACH,iBALM,MAKA,IAAI,KAAKR,OAAL,GAAe,EAAf,IAAqB,KAAKA,OAAL,IAAgB,EAAzC,EAA6C;AAChD,uBAAKF,KAAL,GAAa,CAAb;AACA,uBAAKL,SAAL,GAAiB,IAAjB;AACA,uBAAKyD,QAAL,GAAgB,IAAhB;AACA,uBAAK1C,IAAL,GAAY,kBAAZ;AACH,iBALM,MAKA,IAAI,KAAKR,OAAL,GAAe,EAAf,IAAqB,KAAKA,OAAL,IAAgB,GAAzC,EAA8C;AACjD,uBAAKF,KAAL,GAAa,CAAb;AACA,uBAAKJ,SAAL,GAAiB,IAAjB;AACH;;AACD;AAnER;;AAqEA,gBAAI,CAAC,KAAKD,SAAN,IAAmB,KAAKQ,cAA5B,EAA4C;AACxC,mBAAKlC,MAAL,GAAc9N,IAAI,CAACS,KAAL,CAAWT,IAAI,CAACC,SAAL,CACrB,KAAKuT,UAAL,CAAgBtD,UAAhB,CAA2BpE,IAA3B,CAAgC,UAAAhE,CAAC;AAAA,uBAAIA,CAAC,CAACvK,KAAF,KAAY,OAAI,CAACyS,cAArB;AAAA,eAAjC,EAAsEyD,OAAtE,CAA8E,KAAKrD,OAAL,GAAe,CAA7F,CADqB,CAAX,CAAd;AAEA,mBAAKC,MAAL;AACA,mBAAKC,OAAL;AACH,aALD,MAKO;AACH,mBAAKC,IAAL,GAAY,IAAZ;AACA,mBAAKC,GAAL,GAAW,IAAX;AACH;;AACD,mBAAO,KAAKyC,QAAZ;AACH;;;uCAEY;AACT,iBAAKtD,kBAAL,GAA0BhQ,SAA1B;AACA,iBAAKiQ,MAAL,GAAcjQ,SAAd;AACA,iBAAK4P,KAAL;;AACA,gBAAI,KAAKG,SAAT,EAAoB;AAChB,kBAAIgE,OAAO,GAAoB,IAA/B;;AACA,kBAAI,KAAKT,QAAL,IAAiB,KAAKvD,SAAL,IAAkB,KAAKe,uBAAL,CAA6B,KAAK6C,oBAAlC,CAAvC,EAAgG;AAC5FI,uBAAO,GAAG1T,IAAI,CAACS,KAAL,CAAWT,IAAI,CAACC,SAAL,CACjB,KAAK0Q,qBAAL,CAA2B,KAAK2C,oBAAhC,EAAsD,KAAK5D,SAAL,GAAiB,CAAvE,CADiB,CAAX,CAAV;AAEH,eAHD,MAGO,IAAI,CAAC,KAAKuD,QAAN,IAAkB,KAAKvD,SAAL,IAAkB,KAAKe,uBAAL,CAA6B,KAAK2C,mBAAlC,CAAxC,EAAgG;AACnGM,uBAAO,GAAG1T,IAAI,CAACS,KAAL,CAAWT,IAAI,CAACC,SAAL,CACjB,KAAK0Q,qBAAL,CAA2B,KAAKyC,mBAAhC,EAAqD,KAAK1D,SAAL,GAAiB,CAAtE,CADiB,CAAX,CAAV;AAEH;;AACD,kBAAIgE,OAAJ,EAAa;AACT,qBAAK7D,KAAL,GAAa,CAAb;AACA,qBAAKrB,kBAAL,CAAwBpH,IAAxB,CAA6BsM,OAA7B;AACA,qBAAKlD,GAAL,GAAWkD,OAAO,CAACnW,KAAnB;AACA,qBAAKqT,kBAAL;AACH;AACJ;AACJ;;;0CAEY;AACT,mBAAO,KAAKqC,QAAL,GAAgB,KAAKxC,uBAAL,CAA6B,KAAK6C,oBAAlC,CAAhB,GACD,KAAK7C,uBAAL,CAA6B,KAAK2C,mBAAlC,CADN;AAEH;;;sCAEW;AAAA;;AACR,iBAAKtC,SAAL;;AACA,gBAAI,KAAKV,OAAL,IAAgB,CAAC,KAAKZ,SAA1B,EAAqC;AACjC,mBAAK1B,MAAL,GAAc9N,IAAI,CAACS,KAAL,CAAWT,IAAI,CAACC,SAAL,CACrB,KAAKuT,UAAL,CAAgBtD,UAAhB,CAA2BpE,IAA3B,CAAgC,UAAAhE,CAAC;AAAA,uBAAIA,CAAC,CAACvK,KAAF,KAAY,OAAI,CAACyS,cAArB;AAAA,eAAjC,EAAsEyD,OAAtE,CAA8E,KAAKrD,OAAL,GAAe,CAA7F,CADqB,CAAX,CAAd;AAEA,mBAAK6C,QAAL,GAAgB,KAAKjD,cAAL,KAAwB,WAAxC;AACA,mBAAKO,IAAL,GAAY,KAAKP,cAAjB;AACA,mBAAKK,MAAL;AACH,aAND,MAMO;AACH,mBAAKE,IAAL,GAAY,IAAZ;AACA,mBAAKC,GAAL,GAAW,IAAX;AACH;AACJ;;;wCAEa;AAAA;;AACV,mBAAO,KAAKgD,UAAL,CAAgBtD,UAAhB,CAA2BpE,IAA3B,CAAgC,UAAAhE,CAAC;AAAA,qBAAIA,CAAC,CAACvK,KAAF,KAAY,OAAI,CAACyS,cAArB;AAAA,aAAjC,EAAsEyD,OAAtE,CAA8E9Q,MAArF;AACH;;;sCAEW;AAAA;;AACR,iBAAKoO,MAAL,GAAc/Q,IAAI,CAACS,KAAL,CAAWT,IAAI,CAACC,SAAL,CAAe,KAAK6N,MAAL,CAAY6F,aAAZ,CAA0B7H,IAA1B,CAA+B,UAAAhE,CAAC;AAAA,qBAAIA,CAAC,CAACiJ,MAAF,KAAa,OAAI,CAACE,SAAtB;AAAA,aAAhC,CAAf,CAAX,CAAd;AACA,iBAAKJ,IAAL,GAAY,CAAC,KAAKE,MAAL,CAAY6C,aAAZ,CAA0BC,KAA1B,CAAgC,YAAhC,EAA8C,CAA9C,EAAiDrH,OAAjD,CAAyD,GAAzD,EAA8D,EAA9D,CAAb;AACA,iBAAK6D,MAAL;AACH;;;2CAEgB;AACb,mBAAO,KAAKvC,MAAL,CAAY6F,aAAZ,CAA0BnR,GAA1B,CAA8B,UAAAsF,CAAC;AAAA,qBAAIA,CAAC,CAACiJ,MAAN;AAAA,aAA/B,CAAP;AACH;;;uCAEY;AACT,mBAAO,KAAKjD,MAAL,CAAY6F,aAAnB;AACH;;;8CAEmB;AAChB;AACA,mBAAO,KAAK7F,MAAL,CAAY6F,aAAZ,CAA0BhR,MAAjC;AACH;;;wCAEa;AAAA;;AACV,iBAAKyO,QAAL,GAAgBpR,IAAI,CAACS,KAAL,CAAWT,IAAI,CAACC,SAAL,CACvB,KAAK6N,MAAL,CAAYuD,eAAZ,CAA4BvF,IAA5B,CAAiC,UAAAhE,CAAC;AAAA,qBAAIA,CAAC,CAAC0I,GAAF,CAAMhE,OAAN,CAAc,gBAAd,EAAgC,IAAhC,MAA0C,OAAI,CAAC8E,WAAnD;AAAA,aAAlC,CADuB,CAAX,CAAhB;AAEA,iBAAKT,IAAL,GAAY,CAAC,KAAKE,MAAL,CAAY6C,aAAZ,CAA0BC,KAA1B,CAAgC,YAAhC,EAA8C,CAA9C,EAAiDrH,OAAjD,CAAyD,GAAzD,EAA8D,EAA9D,CAAb;AACA,gBAAMsH,cAAc,GAAW,CAAC,KAAK1C,QAAL,CAAcP,IAAd,CAAmBgD,KAAnB,CAAyB,YAAzB,EAAuC,CAAvC,EAC3BrH,OAD2B,CACnB,GADmB,EACd,EADc,EACVA,OADU,CACF,GADE,EACG,EADH,CAAhC;AAEA,gBAAMuH,UAAU,GAAW,CAAC,KAAKjG,MAAL,CAAY6F,aAAZ,CAA0B7H,IAA1B,CAA+B,UAAAhE,CAAC;AAAA,qBAAIA,CAAC,CAACiJ,MAAF,KAAa,SAAjB;AAAA,aAAhC,EACvB6C,aADuB,CACTC,KADS,CACH,YADG,EACW,CADX,EACcrH,OADd,CACsB,GADtB,EAC2B,EAD3B,CAA5B;AAEA,iBAAKqE,IAAL,GAAY,KAAKA,IAAL,IAAaiD,cAAc,GAAGC,UAA9B,CAAZ;AACA,iBAAK1D,MAAL;AACH;;;6CAEkB;AACf,mBAAO,KAAKvC,MAAL,CAAYuD,eAAZ,CAA4B7O,GAA5B,CAAgC,UAAAsF,CAAC;AAAA,qBAAIA,CAAC,CAAC0I,GAAF,CAAMhE,OAAN,CAAc,gBAAd,EAAgC,IAAhC,CAAJ;AAAA,aAAjC,CAAP;AACH;;;yCAEc;AACX,mBAAO,KAAKsB,MAAL,CAAYuD,eAAnB;AACH;;;2CAEgB;AACb,mBAAO,KAAKvD,MAAL,CAAYuD,eAAZ,CAA4B1O,MAAnC;AACH;;;mCAEQ;AACL,gBAAI,KAAKmL,MAAT,EAAiB;AACb,mBAAK0C,GAAL,GAAW,KAAK1C,MAAL,CAAY0C,GAAvB;AACH;;AACD,gBAAI,KAAKO,MAAT,EAAiB;AACb,mBAAKP,GAAL,IAAY,MAAM,KAAKO,MAAL,CAAYA,MAA9B;AACH;;AACD,gBAAI,KAAKK,QAAT,EAAmB;AACf,mBAAKZ,GAAL,IAAY,SAAS,KAAKY,QAAL,CAAcZ,GAAnC;AACH;;AACD,iBAAKA,GAAL,IAAY,MAAM,KAAKe,uBAAL,EAAlB,CAVK,CAWL;AACH;;;oCAES;AACN,iBAAKhB,IAAL,GAAY,CAAC,KAAKf,SAAN,GAAkB,KAAKQ,cAAvB,GACL,KAAKiD,QAAL,GAAgB,kBAAhB,GACG,iBAFV;AAGH;;;sCAEW;AACR;;AACA,iBAAKlC,MAAL,GAAcpR,SAAd;AACH;;;yCAEc;AACX;;AACA,iBAAK6R,WAAL;AACA,iBAAKwC,SAAL;AACA,iBAAKvC,SAAL;AACA,iBAAKnB,OAAL;AACH;;;sCAEW;AACR,iBAAKoB,MAAL,GAAc,IAAd;AACA,iBAAKsB,kBAAL,CAAwBnQ,IAAxB,CAA6B,IAA7B;AACH;;;wCAEa;AACV,iBAAK6O,MAAL,GAAc,KAAd;AACA,iBAAKsB,kBAAL,CAAwBnQ,IAAxB,CAA6B,IAA7B;AACH;;;mDAEqB;AAClB,gBAAM8O,gBAAgB,GAAG,KAAKC,cAAL,EAAzB;AACA,gBAAIlS,MAAJ;AACAA,kBAAM,GAAG;AACLyM,qBAAO,EAAE,IADJ;AAELJ,0BAAY,EAAE,CAFT;AAGLyE,iBAAG,EAAE,KAAKA,GAHL;AAILX,mBAAK,EAAE,KAAKA,KAJP;AAKLU,kBAAI,EAAE,KAAKA,IALN;AAMLM,kBAAI,EAAE,KAAKA,IAAL,GAAY,KAAKgB,oBANlB;AAOLC,8BAAgB,EAAE,KAAKjB,IAPlB;AAQLkB,oBAAM,EAAE,KAAKC,YARR;AASL3D,8BAAgB,EAAE,KAAKG,kBATlB;AAULyD,yBAAW,EAAEN,gBAVR;AAWLO,uBAAS,EAAE,KAAKlC,cAXX;AAYLoB,sBAAQ,EAAE,KAAKA,QAZV;AAaLL,oBAAM,EAAE,KAAKA,MAAL,CAAYA,MAbf;AAcLI,oBAAM,EAAE,IAdH;AAeLgB,sBAAQ,EAAE,IAfL;AAgBLC,2BAAa,EAAE,IAhBV;AAiBLtE,oBAAM,EAAE,CAAC,KAAKA,MAAL,CAAYmG,MAAZ,CAAmBzH,OAAnB,CAA2B,GAA3B,EAAgC,GAAhC,EAAqCA,OAArC,CAA6C,GAA7C,EAAkD,EAAlD,CAjBJ;AAkBL6F,+BAAiB,EAAE,CAAC,KAAKvE,MAAL,CAAYoG,OAAZ,CAAoB1H,OAApB,CAA4B,GAA5B,EAAiC,GAAjC,EAAsCA,OAAtC,CAA8C,GAA9C,EAAmD,EAAnD,CAlBf;AAmBL8F,8BAAgB,EAAE,CAAC,KAAKxE,MAAL,CAAYqG,MAAZ,CAAmB3H,OAAnB,CAA2B,GAA3B,EAAgC,GAAhC,CAnBd;AAoBL+F,8BAAgB,EAAE,KAAKzE,MAAL,CAAYsG,OApBzB;AAqBL5B,yBAAW,EAAE,KAAKA,WArBb;AAsBLC,kCAAoB,EAAE,KAAKA,oBAtBtB;AAuBLC,iCAAmB,EAAE,KAAKA,mBAvBrB;AAwBLC,8BAAgB,EAAE,KAAKA,gBAxBlB;AAyBLC,2BAAa,EAAE,KAAKA;AAzBf,aAAT;AA4BA,mBAAOlT,MAAP;AACH;;;;QAtSiC,yD;;;yBAAzBqT,gB,EAAgB,4I;AAAA,O;;;cAAhBA,gB;AAAgB,oC;AAAA;AAAA;;;;;;;;;;;;;;;;;;;;;;ACV7B;;AAGA;;AACI;;AACI;;AAAoB;;AAAkC;;AACtD;;AACI;;AAA2B;AAAA,qBAAS,qBAAsB,KAAtB,CAAT;AAAqC,aAArC;;AACqE;;AAA4B;;AAC5H;;AAA2B;AAAA,qBAAS,qBAAsB,cAAtB,CAAT;AAA8C,aAA9C;;AACyE;;AAAqC;;AACzI;;AAA2B;AAAA,qBAAS,qBAAsB,aAAtB,CAAT;AAA6C,aAA7C;;AACwE;;AAAoC;;AACvI;;AAA2B;AAAA,qBAAS,qBAAsB,UAAtB,CAAT;AAA0C,aAA1C;;AACqE;;AAAiC;;AACjI;;AAA2B;AAAA,qBAAS,qBAAsB,OAAtB,CAAT;AAAuC,aAAvC;;AAC2E;;AAA8B;;AACxI;;AACJ;;AACA;;AACI;;AA4CA;;AACI;;AACI;;AAA+B;;AAC/B;;AACA;;AAGO;AAAA;AAAA;;AAHP;;AAKJ;;AAEA;;AACI;;AAA2B;;AAC3B;;AACA;;AAGO;AAAA;AAAA,eAA0B,eAA1B,EAA0B;AAAA,qBACT,gBADS;AACQ,aADlC;;AAHP;;AAMJ;;AACA;;AAcA;;AAgBJ;;AAGJ;;AACA;;AA6DA;;AAiFJ;;;;AArQkB;;AAO4D;;AAAA;;AAC8B;;AAAA;;AACrB;;AAAA;;AACyB;;AAAA;;AAC1B;;AAAA;;AACyB;;AAAA;;AAC5B;;AAAA;;AACyB;;AAAA;;AAC5B;;AAAA;;AACkC;;AAAA;;AAIpF;;AAAA;;AAmDP;;AAAA;;AAUA;;AAAA;;AAIN;;AAAA;;AAcA;;AAAA;;AAoBY;;AAAA;;AA6DA;;AAAA;;;;;;;;;wED1KhBA,gB,EAAgB;gBAL5B,uDAK4B;iBALlB;AACPpV,oBAAQ,EAAE,aADH;AAEPC,uBAAW,EAAE,0BAFN;AAGPC,qBAAS,EAAE,CAAC,0BAAD;AAHJ,W;AAKkB,U;;;;;AAEfmV,4BAAkB;kBAA3B;AAA2B,Y;AACQH,8BAAoB,EAAE,CAAF;kBAAvD,uDAAuD;mBAA7C,uB;AAA6C,WAAE,C;AACjDC,gBAAM,EAAE,CAAF;kBAAd;AAAc,WAAE;;;;;;;;;;;;;;;;;;;AEdrB;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;;;ACaI;;AACI;;AAAkC;;AAClC;;AACA;;AAIO;AAAA;;AAAA;;AAAA;AAAA,aAAyC,eAAzC,EAAyC;AAAA;;AAAA;;AAAA;AAAA;AAAA,WAAzC;;AAJP;;AAOJ;;;;;;AAHW;;AAAA;;;;;;;;AAKX;;AACI;;AAA4B;;AAC5B;;AACA;;AAIO;AAAA;;AAAA;;AAAA;AAAA,aAAiC,eAAjC,EAAiC;AAAA;;AAAA;;AAAA;AAAA,WAAjC;;AAJP;;AAOJ;;;;;;AAHW;;AAAA;;;;;;;;AAIX;;AACI;;AAA+B;;AAC/B;;AACA;;AAIO;AAAA;;AAAA;;AAAA;AAAA,aAAiC,eAAjC,EAAiC;AAAA;;AAAA;;AAAA;AAAA,WAAjC;;AAJP;;AAOJ;;;;;;AATmC;;AAAA;;AAEhB;;AAAA,uGAAiC,SAAjC,EAAiC,qBAAjC;;;;;;AAqBa;;AACgF;;AAAS;;;;;;;;;;AAArF;;AAA4E;;AAAA;;;;;;AAE5E;;AAAI;;AAAS;;;;;;AAAT;;AAAA;;;;;;AAJZ;;AACI;;AAEA;;AAGJ;;;;;;;;;;AALQ;;AAAA,qLAAgH,UAAhH,EAAgH,IAAhH;;;;;;AAFZ;;AACI;;AAOJ;;;;;;AAPkB;;AAAA;;;;;;AASd;;AACI;;AAAI;;AAAW;;AACnB;;;;;;AADQ;;AAAA;;;;;;AAFZ;;AACI;;AAGJ;;;;;;AAHkB;;AAAA;;;;;;AAb1B;;AACI;;AACI;;AACA;;AASA;;AAKA;;AACJ;;AACJ;;;;;;AAhBY;;AAAA;;AASA;;AAAA;;;;;;AAbhB;;AACI;;AAoBJ;;;;;;;;AApBU;;AAAA;;;;;;AA0BE;;AAA8B;;AAAM;;;;;;AAAN;;AAAA;;;;;;AAFtC;;AACI;;AACI;;AACJ;;AACJ;;;;;;AAFY;;AAAA;;;;;;AAHhB;;AACI;;AAKJ;;;;;;;;AALU;;AAAA;;;;;;AA3BtB;;AACY;;AAAuC;;AACvC;;AAwBA;;AAOJ;;;;;;;;AAhCU;;AAAA;;AACQ;;AAAA;;AAwBA;;AAAA;;;;;;AAQ1B;;;;;;AAAgC;;;;;;;;AAEhC;;AAAsD;AAAA;;AAAA;;AAAA;AAAA;;AAA2B;;AAAmB;;;;;;;;AAEhG;;AAAQ;AAAA;;AAAA;;AAAA;AAAA;;AAA6B;;AAAqB;;;;;;;;AAzClE;;AACI;;AAAI;;AAAW;;AACf;;AAAI;;AAA0B;;AAC9B;;AAkCA;;AAA4E;;AAAK;;AACjF;;AAAQ;AAAA;;AAAA;;AAAA;AAAA;;AAA+D;;AAAoB;;AAC3F;;AACA;;AAGJ;;;;;;;;AAzCQ;;AAAA;;AACE;;AAAA;;AAkCA;;AAAA;;AACuC;;AAAA;;AACrC;;AAAA,4FAA6C,UAA7C,EAA6C,IAA7C;;;;;;AAoBgB;;AAA8B;;AAAM;;;;;;AAAN;;AAAA;;;;;;AAFtC;;AACI;;AACI;;AACJ;;AACJ;;;;;;AAFY;;AAAA;;;;;;AAHxB;;AACY;;AAKZ;;;;;;;;AALkB;;AAAA;;;;;;;;AATtB;;AAGI;;AACI;;AAAU;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAAwD;;AACtE;;AACA;;AAEA;;AAOJ;;;;;;;;AAXkB;;AAAA;;AAIA;;AAAA;;;;;;;;AASd;;AAEY;;AAAU;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAAgE;;AAClF;;;;;;;;AADkB;;AAAA;;;;;;AAH1B;;AACI;;AAIJ;;;;;;AAHQ;;AAAA,8GAAsG,cAAtG,EAAsG,iBAAtG;;;;;;;;AArBZ;;AACI;;AAAI;;AAAW;;AACf;;AAAI;;AAAU;AAAA;;AAAA;;AAAA;AAAA;;AAAqC;;AAAW;;AAC9D;;AAgBA;;AAMA;;AAAQ;AAAA;;AAAA;;AAAA;AAAA;;AAAqC;;AAAyB;;AACtE;;AAAQ;AAAA;;AAAA;;AAAA;AAAA;;AAAyC;;AAAiB;;AACtE;;;;;;AAzBkB;;AAAA;;AAEV;;AAAA,8GAA0G,cAA1G,EAA0G,gBAA1G;;AAeE;;AAAA;;;;UDzGGuB,qB;AAsBT,uCAAoBzF,WAApB,EAAkD;AAAA;;AAA9B,eAAAA,WAAA,GAAAA,WAAA;AApBV,eAAA0F,uBAAA,GAA0B,IAAI,0DAAJ,EAA1B;AAEV,eAAAC,8BAAA,GAAiC,KAAjC;AACA,eAAAC,OAAA,GAAU,KAAV;AAkBC;;;;qCAEO;AAAA;;AACJ,iBAAK5F,WAAL,CAAiBE,OAAjB,CAAyB,SAAzB,EAAoC,0BAApC,EAAgE1S,IAAhE,CACI,UAACmE,IAAD,EAAe;AACX;AACA,qBAAI,CAACkU,aAAL,GAAqBzU,IAAI,CAACS,KAAL,CAAWF,IAAX,CAArB,CAFW,CAGX;AACH,aALL;AAOA,iBAAKqO,WAAL,CAAiBE,OAAjB,CAAyB,SAAzB,EAAoC,uBAApC,EAA6D1S,IAA7D,CACI,UAACmE,IAAD,EAAe;AACX;AACA,qBAAI,CAACmU,0BAAL,GAAkC1U,IAAI,CAACS,KAAL,CAAWF,IAAX,CAAlC,CAFW,CAGX;AACH,aALL;AAOA,iBAAKqO,WAAL,CAAiBE,OAAjB,CAAyB,SAAzB,EAAoC,8BAApC,EAAoE1S,IAApE,CACI,UAACmE,IAAD,EAAe;AACX;AACA,qBAAI,CAACoU,mBAAL,GAA2B3U,IAAI,CAACS,KAAL,CAAWF,IAAX,CAA3B,CAFW,CAGX;AACH,aALL;AAOA,iBAAKqO,WAAL,CAAiBE,OAAjB,CAAyB,SAAzB,EAAoC,uBAApC,EAA6D1S,IAA7D,CACI,UAACwY,eAAD,EAA0B;AACtB;AACA,qBAAI,CAACC,gBAAL,GAAwB7U,IAAI,CAACS,KAAL,CAAWmU,eAAX,CAAxB,CAFsB,CAGtB;AACA;AACH,aANL;AAQH;;;yCAEW;AACR,mBAAO,CAAC,EAAE,KAAKH,aAAL,IAAsB,KAAKC,0BAA3B,IAAyD,KAAKC,mBAA9D,IAAqF,KAAKE,gBAA5F,CAAR;AACH;;;wCAEaC,Y,EAA6BC,I,EAAc;AACrD,gBAAM9C,WAAW,GAAIjS,IAAI,CAACS,KAAL,CAAWT,IAAI,CAACC,SAAL,CAC5B6U,YAAY,CAACE,OAAb,CAAqB9T,MAArB,CAA4B,UAAA+T,MAAM;AAAA,qBAAKA,MAAM,CAACC,aAAP,IAAwBH,IAAxB,IAAgCE,MAAM,CAACE,aAAP,IAAwBJ,IAA7D;AAAA,aAAlC,EAAsG,CAAtG,CAD4B,CAAX,CAArB;AAEA,mBAAO9C,WAAW,CAACmD,IAAnB;AACH;;;+CAEiB;AACd,mBAAO,KAAKC,gBAAL,GAAwB1S,MAA/B;AACH;;;6CAEkB;AACf,mBAAO,KAAK2S,sBAAL,KAAgC,CAAhC,GAAoC,KAAKT,gBAAL,CAAsBU,YAAtB,CAAmCC,MAAnC,CAA0C,KAAKX,gBAAL,CAAsBY,OAAhE,CAApC,GACD,KAAKH,sBAAL,KAAgC,CAAhC,GAAoC,KAAKT,gBAAL,CAAsBa,QAAtB,CAA+BF,MAA/B,CAAsC,KAAKX,gBAAL,CAAsBY,OAA5D,CAApC,GACI,KAAKH,sBAAL,KAAgC,CAAhC,GAAoC,KAAKT,gBAAL,CAAsBc,iBAAtB,CAAwCH,MAAxC,CAA+C,KAAKX,gBAAL,CAAsBY,OAArE,CAApC,GACI,IAHd;AAIH;;;gDAEqB;AAClB,iBAAKlB,8BAAL,GAAsC,CAAC,KAAKA,8BAA5C;AACH;;;oDAEyB;AACtB,iBAAK3C,cAAL;AACA,iBAAK2C,8BAAL,GAAsC,KAAtC;AACH;;;oCAESvN,K,EAAOxF,I,EAAM;AACnB,mBAAOwF,KAAP;AACH;;;6CAEkB;AACf,iBAAK4O,cAAL,GAAsB,IAAtB;AACA,iBAAK3D,WAAL,GAAmB,IAAnB;AACH;;;2CAEa;AACV,iBAAKA,WAAL,GAAmB,IAAnB;AACA,gBAAI4D,eAAJ;;AACA,gBAAI,KAAKC,aAAL,IAAsB,KAAKA,aAAL,IAAsB,EAAhD,EAAoD;AAAE;AAClDD,6BAAe,GAAG;AACdE,2BAAW,EAAE,CAAC,iQAAD,CADC;AAEdC,qBAAK,EAAE,IAFO;AAGdC,qBAAK,EAAE,IAHO;AAId1Y,qBAAK,EAAE,mBAJO;AAKd2Y,kBAAE,EAAE;AALU,eAAlB;AAOH,aARD,MAQO,IAAI,KAAKJ,aAAL,GAAqB,EAArB,IAA2B,KAAKA,aAAL,IAAsB,EAArD,EAAyD;AAAE;AAC9DD,6BAAe,GAAG;AACdE,2BAAW,EAAE,CAAC,8SACd,gnBADa,CADC;AAGdC,qBAAK,EAAE,IAHO;AAIdC,qBAAK,EAAE,IAJO;AAKd1Y,qBAAK,EAAE,2BALO;AAMd2Y,kBAAE,EAAE;AANU,eAAlB;AAQH,aATM,MASA,IAAI,KAAKJ,aAAL,GAAqB,EAArB,IAA2B,KAAKA,aAAL,IAAsB,EAArD,EAAyD;AAAE;AAC9DD,6BAAe,GAAG;AACdE,2BAAW,EAAE,CAAC,uMAAD,CADC;AAEdC,qBAAK,EAAE,IAFO;AAGdC,qBAAK,EAAE,IAHO;AAId1Y,qBAAK,EAAE,qBAJO;AAKd2Y,kBAAE,EAAE;AALU,eAAlB;AAOH,aARM,MAQA,IAAI,KAAKJ,aAAL,GAAqB,EAArB,IAA2B,KAAKA,aAAL,IAAsB,EAArD,EAAyD;AAAE;AAC9DD,6BAAe,GAAG;AACdE,2BAAW,EAAE,CAAC,EAAD,CADC;AAEdC,qBAAK,EAAE,IAFO;AAGdC,qBAAK,EAAE,IAHO;AAId1Y,qBAAK,EAAE,sCAJO;AAKd2Y,kBAAE,EAAE;AALU,eAAlB;;AAOA,kBAAI,KAAKN,cAAT,EAAyB;AACrB,qBAAKO,yBAAL,GAAiC,KAAKC,aAAL,CAAmB,KAAK1B,0BAAxB,EAAoD,KAAKkB,cAAzD,CAAjC;AACH;;AACDC,6BAAe,CAACE,WAAhB,CAA4B,CAA5B,IAAiC,KAAKI,yBAAtC;AACH,aAZM,MAYA,IAAI,KAAKL,aAAL,GAAqB,EAArB,IAA2B,KAAKA,aAAL,IAAsB,EAArD,EAAyD;AAAE;AAC9DD,6BAAe,GAAG;AACdE,2BAAW,EAAE,CAAC,uGACd,2BADc,GAEd,6HAFc,GAGd,2WAHa,CADC;AAKdC,qBAAK,EAAE,IALO;AAMdC,qBAAK,EAAE,IANO;AAOd1Y,qBAAK,EAAE,gBAPO;AAQd2Y,kBAAE,EAAE;AARU,eAAlB;AAUH,aAXM,MAWA,IAAI,KAAKJ,aAAL,GAAqB,EAArB,IAA2B,KAAKA,aAAL,IAAsB,EAArD,EAAyD;AAAE;AAC9DD,6BAAe,GAAI7V,IAAI,CAACS,KAAL,CAAWT,IAAI,CAACC,SAAL,CAAe,KAAK0U,mBAApB,CAAX,CAAnB;AACH,aAFM,MAEA,IAAI,KAAKmB,aAAL,GAAqB,EAArB,IAA2B,KAAKA,aAAL,IAAsB,EAArD,EAAyD;AAAE;AAC9DD,6BAAe,GAAG;AACdE,2BAAW,EAAE,CAAC,EAAD,CADC;AAEdC,qBAAK,EAAE,IAFO;AAGdC,qBAAK,EAAE,IAHO;AAId1Y,qBAAK,EAAE,cAJO;AAKd2Y,kBAAE,EAAE;AALU,eAAlB;;AAOA,kBAAI,KAAKN,cAAT,EAAyB;AACrB,qBAAKS,YAAL,GAAoB,KAAKD,aAAL,CAAmB,KAAK3B,aAAxB,EAAuC,KAAKmB,cAA5C,CAApB;AACH;;AACDC,6BAAe,CAACE,WAAhB,CAA4B,CAA5B,IAAiC,KAAKM,YAAtC;AACH,aAZM,MAYA,IAAI,KAAKP,aAAL,GAAqB,EAArB,IAA2B,KAAKA,aAAL,IAAsB,EAArD,EAAyD;AAAE;AAC9DD,6BAAe,GAAG;AACdE,2BAAW,EAAE,CAAC,4HACd,2GADa,CADC;AAGdC,qBAAK,EAAE,IAHO;AAIdC,qBAAK,EAAE,IAJO;AAKd1Y,qBAAK,EAAE,+BALO;AAMd2Y,kBAAE,EAAE;AANU,eAAlB;AAQH,aATM,MASA,IAAI,KAAKJ,aAAL,GAAqB,EAAzB,EAA6B;AAAE;AAClC,kBAAI,KAAKF,cAAL,IAAuB,KAAKN,sBAAhC,EAAwD;AACpDO,+BAAe,GAAG7V,IAAI,CAACS,KAAL,CAAWT,IAAI,CAACC,SAAL,CAAe,KAAKoV,gBAAL,GAAwB,KAAKO,cAAL,GAAsB,CAA9C,CAAf,CAAX,CAAlB;AACH;AACJ;;AACD,iBAAK3D,WAAL,GAAmB4D,eAAnB;AACA,mBAAOA,eAAP;AACH;;;2CAEa;AACV,mBAAO,KAAKC,aAAL,GAAqB,EAArB,IAA2B,KAAKA,aAAL,IAAsB,EAAxD;AACH;;;wDAE0B;AACvB,mBAAO,KAAKA,aAAL,GAAqB,EAArB,IAA2B,KAAKA,aAAL,IAAsB,EAAxD;AACH;;;kDAEoB;AACjB,mBAAO,KAAKA,aAAL,GAAqB,EAArB,IAA2B,KAAKA,aAAL,IAAsB,EAAxD;AACH;;;iDAEmB;AAChB,mBAAO,KAAKA,aAAL,GAAqB,EAA5B;AACH;;;sCAEW;AACR,iBAAKtB,OAAL,GAAe,IAAf;AACA,iBAAKF,uBAAL,CAA6BzR,IAA7B,CAAkC,KAAKoP,WAAvC;AACH;;;wCAEa;AACV,iBAAKuC,OAAL,GAAe,KAAf;AACA,iBAAKF,uBAAL,CAA6BzR,IAA7B,CAAkC,IAAlC;AACH;;;;;;;yBA3MQwR,qB,EAAqB,4I;AAAA,O;;;cAArBA,qB;AAAqB,yC;AAAA;AAAA;AAAA,S;AAAA,iB;AAAA,e;AAAA,+1C;AAAA;AAAA;ACRlC;;AACI;;AACI;;AAAyB;;AACzB;;AACA;;AAIO;AAAA;AAAA,eAAgC,eAAhC,EAAgC;AACf;AAAyB;AAAqB,aAD/D;;AAJP;;AAOJ;;AAEA;;AAYA;;AAWA;;AAWJ;;AAEA;;AA6CA;;;;AAtFe;;AAAA;;AAKgB;;AAAA;;AAYA;;AAAA;;AAWA;;AAAA;;AAa1B;;AAAA;;AA6CC;;AAAA;;;;;;;;;wEDtFOA,qB,EAAqB;gBALjC,uDAKiC;iBALvB;AACP1W,oBAAQ,EAAE,kBADH;AAEPC,uBAAW,EAAE,+BAFN;AAGPC,qBAAS,EAAE,CAAC,+BAAD;AAHJ,W;AAKuB,U;;;;;AAEpByW,iCAAuB;kBAAhC;AAAgC;;;;;;;;;;;;;;;;;;;AETrC;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAEsBgC,W;;;;;AAiBlB,6BAAY1H,WAAZ,EAA0C;AAAA;;AAAA;;AACtC,uCAAMA,WAAN;AAZJ,kBAAAY,SAAA,GAAY,KAAZ;AACA,kBAAAC,SAAA,GAAY,KAAZ;AAU0C;AAEzC;;;;gDAEqB;AAClB,iBAAKI,KAAL,GAAa,CAAb;;AACA;;AACA,iBAAK0G,QAAL;AACH;;;qCAEU;AACP,gBAAI,KAAK5G,kBAAL,IAA2B,KAAKA,kBAAL,IAA2B,KAAKc,uBAAL,CAA6B,KAAKzB,qBAAlC,CAA1D,EAAoH;AAChH,kBAAMzO,IAAI,GAAG,KAAKiO,kBAAL,CAAwB,CAAxB,EAA2BwH,KAA3B,CAAiCzV,IAA9C;AACA,kBAAMiW,SAAS,GAAGjW,IAAI,CAACmB,OAAL,CAAanB,IAAI,CAACW,MAAL,CAAY,UAAA4G,CAAC;AAAA,uBAAIA,CAAC,CAACvB,QAAF,CAAW,MAAX,CAAJ;AAAA,eAAb,EAAqC,CAArC,CAAb,CAAlB;AACA,kBAAMkQ,aAAa,GAAGlW,IAAI,CAACiW,SAAD,CAAJ,CAAgB3C,KAAhB,CAAsB,sBAAtB,CAAtB;;AACA,kBAAI4C,aAAa,IAAI,CAACC,KAAK,CAAC,CAACD,aAAa,CAAC,CAAD,CAAf,CAA3B,EAAgD;AAC5C,qBAAK5G,KAAL,GAAa,CAAC4G,aAAa,CAAC,CAAD,CAA3B;AACH;AACJ;AACJ;;;oDAEsB;AACnB,mBAAO,KAAKjH,SAAL,GAAiB,EAAjB,GACD,KAAKhB,kBAAL,CAAwB7L,MAAxB,GAAiC,CAAjC,GAAqC,EAArC,GACA,KAAK6L,kBAAL,CAAwB7L,MAAxB,GAAiC,CAAjC,GAAqC,KAAK6L,kBAAL,CAAwB,CAAxB,EAA2BjR,KAAhE,GACI,KAAKiR,kBAAL,CAAwB,CAAxB,EAA2BjR,KAA3B,GAAmC,MAAnC,GAA4C,KAAKiR,kBAAL,CAAwB,CAAxB,EAA2BjR,KAHjF;AAIH;;;kCAEO;AACJ,iBAAKiR,kBAAL,GAA0B,EAA1B;AACA,iBAAKqB,KAAL,GAAa,CAAb,CAFI,CAGJ;AACH;;;sCAEW;AACR,iBAAKyB,WAAL,GAAmB3R,SAAnB;AACA,iBAAKsR,SAAL,GAAiBtR,SAAjB;AACA,iBAAKyR,QAAL,GAAgBzR,SAAhB;AACH;;;;QAvDqC,yD;;;;;;;;;;;;;;;;;ACA1C;AAAA;;;AAAA;AAAA;AAAA;;UAAsBgX,W;AAgClB,6BAAsB/H,WAAtB,EAAoD;AAAA;;AAvBpD,eAAAJ,kBAAA,GAAwC,EAAxC;AACA,eAAAqC,IAAA,GAAO,CAAP;AACA,eAAAmB,YAAA,GAAe,IAAf;AASA,eAAA4E,mBAAA,GAAsB,KAAtB;AAIA,eAAAlF,MAAA,GAAS,KAAT;AAEA,eAAAc,WAAA,GAAc,KAAd;AACA,eAAAC,oBAAA,GAAuB,KAAvB;AACA,eAAAC,mBAAA,GAAsB,KAAtB;AACA,eAAAC,gBAAA,GAAmB,KAAnB;AACA,eAAAC,aAAA,GAAgB,KAAhB;AAGC;;;;yCAEc;AACX,iBAAKiE,mBAAL;AACA,iBAAKxG,MAAL;AACA,iBAAKuG,mBAAL,GAA2B,KAA3B;AACH;;;oCAES5P,K,EAAOxF,I,EAAM;AACnB,mBAAOwF,KAAP;AACH;;;+CAEoBjE,M,EAAyB;AAC1C,iBAAKkP,WAAL,GAAmBlP,MAAnB,CAD0C,CAE1C;AACH;;;4CAEiB;AACd,iBAAK6T,mBAAL,GAA2B,CAAC,KAAKA,mBAAjC;AACA,iBAAKE,gCAAL;AACH;;;gDAEqBtI,kB,EAA2C;AAC7D,mBAAO,KAAKsB,WAAL,KAAqB,CAArB,GAAyBtB,kBAAkB,CAAC+G,YAAnB,CAAgCC,MAAhC,CAAuChH,kBAAkB,CAACiH,OAA1D,CAAzB,GACD,KAAK3F,WAAL,KAAqB,CAArB,GAAyBtB,kBAAkB,CAACkH,QAAnB,CAA4BF,MAA5B,CAAmChH,kBAAkB,CAACiH,OAAtD,CAAzB,GACI,KAAK3F,WAAL,KAAqB,CAArB,GAAyBtB,kBAAkB,CAACmH,iBAAnB,CAAqCH,MAArC,CAA4ChH,kBAAkB,CAACiH,OAA/D,CAAzB,GACE,IAHZ;AAIH;;;gDAEqB;AAClB,iBAAKjH,kBAAL,GAA0B,EAA1B;;AACA,gBAAI,KAAKsB,WAAL,IAAoB,KAAKH,kBAAzB,IACG,KAAKA,kBAAL,IAA2B,KAAKc,uBAAL,CAA6B,KAAKzB,qBAAlC,CADlC,EAC4F;AACxF,mBAAKR,kBAAL,CAAwBpH,IAAxB,CACIpH,IAAI,CAACS,KAAL,CAAWT,IAAI,CAACC,SAAL,CACP,KAAK0Q,qBAAL,CAA2B,KAAK3B,qBAAhC,EAAuD,KAAKW,kBAAL,GAA0B,CAAjF,CADO,CAAX,CADJ;AAGA,mBAAKU,MAAL;AACA,mBAAKO,kBAAL;AACH;AACJ;;;kDAEuBpC,kB,EAAyC;AAC7D,mBAAO,KAAKmC,qBAAL,CAA2BnC,kBAA3B,EAA+C7L,MAAtD;AACH;;;+CAEoB;AACjB,iBAAKkP,oBAAL,GAA4B,CAA5B;AACA,iBAAKkF,4BAAL,GAAoC,IAApC;;AAFiB,wDAGc,KAAKvI,kBAHnB;AAAA;;AAAA;AAGjB,qEAAwD;AAAA,oBAA7CH,gBAA6C;AACpD,oBAAM9N,IAAI,GAAG8N,gBAAgB,CAAC2H,KAAjB,CAAuBzV,IAApC;AACA,oBAAMiW,SAAS,GAAGjW,IAAI,CAACmB,OAAL,CAAanB,IAAI,CAACW,MAAL,CAAY,UAAA4G,CAAC;AAAA,yBAAIA,CAAC,CAACvB,QAAF,CAAW,MAAX,CAAJ;AAAA,iBAAb,EAAqC,CAArC,CAAb,CAAlB;;AACA,oBAAI,CAAChG,IAAI,CAACiW,SAAD,CAAJ,CAAgBjQ,QAAhB,CAAyB,OAAzB,CAAL,EAAwC;AACpC,sBAAMsN,KAAK,GAAGtT,IAAI,CAACiW,SAAD,CAAJ,CAAgB3C,KAAhB,CAAsB,YAAtB,EAAoC,CAApC,CAAd;AACA,uBAAKhC,oBAAL,GAA4B,CAACgC,KAAK,CAACrH,OAAN,CAAc,GAAd,EAAmB,EAAnB,EAAuBA,OAAvB,CAA+B,GAA/B,EAAoC,EAApC,CAA7B;AACA,sBAAMwK,aAAa,GAAGzW,IAAI,CAACiW,SAAD,CAAJ,CAAgBS,SAAhB,CAA0B1W,IAAI,CAACiW,SAAD,CAAJ,CAAgB9U,OAAhB,CAAwBmS,KAAxB,CAA1B,EAA0DA,KAA1D,CAAgE,cAAhE,EAAgF,CAAhF,CAAtB;AACA,uBAAKkD,4BAAL,GAAoCC,aAAa,CAACxK,OAAd,CAAsBqH,KAAtB,EAA6B,EAA7B,EAC/BrH,OAD+B,CACvB,GADuB,EAClB,EADkB,EACdA,OADc,CACN,GADM,EACD,EADC,CAApC;AAEH;AACJ;AAbgB;AAAA;AAAA;AAAA;AAAA;AAcpB;;;2CAEa;AACV,gBAAImF,gBAAgB,GAAG,IAAvB;;AACA,gBAAI,KAAKM,WAAT,EAAsB;AAClB,kBAAIiF,sBAAsB,GAAG,EAA7B;;AADkB,0DAEQ,KAAKjF,WAAL,CAAiB8D,WAFzB;AAAA;;AAAA;AAElB,uEAAwD;AAAA,sBAA7CA,WAA6C;AACpDmB,wCAAsB,IAAInB,WAA1B;AACH;AAJiB;AAAA;AAAA;AAAA;AAAA;;AAKlBpE,8BAAgB,GAAG;AACfwF,6BAAa,EAAE,IADA;AAEf3G,mBAAG,EAAE,KAAKyB,WAAL,CAAiB1U,KAFP;AAGfwY,2BAAW,EAAEmB;AAHE,eAAnB;AAKH;;AACD,mBAAOvF,gBAAP;AACH;;;6DAEkC;AAC/B,iBAAK,IAAIvL,CAAC,GAAG,CAAb,EAAiBA,CAAC,GAAG,KAAKoI,kBAAL,CAAwB7L,MAA7C,EAAsDyD,CAAC,EAAvD,EAA2D;AACvD,mBAAK,IAAIgR,gBAAgB,GAAG,CAA5B,EAAgCA,gBAAgB,GAAG,KAAK5I,kBAAL,CAAwBpI,CAAxB,EAA2B2P,WAA3B,CAAuCpT,MAA1F,EAAmGyU,gBAAgB,EAAnH,EAAuH;AACnH,oBAAI,KAAK5I,kBAAL,CAAwBpI,CAAxB,EAA2B2P,WAA3B,CAAuCqB,gBAAvC,EAAyDzU,MAAzD,KAAoE,CAAxE,EAA2E;AACvE,uBAAK6L,kBAAL,CAAwBpI,CAAxB,EAA2B2P,WAA3B,CAAuCvP,MAAvC,CAA8C4Q,gBAA9C,EAAgE,CAAhE;AACAA,kCAAgB;AACnB;AACJ;;AACD,kBAAI,KAAK5I,kBAAL,CAAwBpI,CAAxB,EAA2B6P,KAA/B,EAAsC;AAClC,qBAAK,IAAIoB,UAAU,GAAG,CAAtB,EAAyBA,UAAU,GAAG,KAAK7I,kBAAL,CAAwBpI,CAAxB,EAA2B6P,KAA3B,CAAiCtT,MAAvE,EAA+E0U,UAAU,EAAzF,EAA6F;AACzF,uBAAK,IAAIC,eAAe,GAAG,CAA3B,EAA8BA,eAAe,GAC7C,KAAK9I,kBAAL,CAAwBpI,CAAxB,EAA2B6P,KAA3B,CAAiCoB,UAAjC,EAA6C9Z,KAA7C,CAAmDoF,MADnD,EAC2D2U,eAAe,EAD1E,EAC8E;AAC1E,yBAAK,IAAIC,sBAAsB,GAAG,CAAlC,EAAqCA,sBAAsB,GAC3D,KAAK/I,kBAAL,CAAwBpI,CAAxB,EAA2B6P,KAA3B,CAAiCoB,UAAjC,EAA6C9Z,KAA7C,CAAmD+Z,eAAnD,EAAoE3U,MADpE,EAC4E4U,sBAAsB,EADlG,EACsG;AAClG,0BAAI,KAAK/I,kBAAL,CAAwBpI,CAAxB,EAA2B6P,KAA3B,CAAiCoB,UAAjC,EAA6C9Z,KAA7C,CAAmD+Z,eAAnD,EAAoEC,sBAApE,EAA4F5U,MAA5F,KAAuG,CAA3G,EAA8G;AAC1G,6BAAK6L,kBAAL,CAAwBpI,CAAxB,EAA2B6P,KAA3B,CAAiCoB,UAAjC,EAA6C9Z,KAA7C,CAAmD+Z,eAAnD,EAAoE9Q,MAApE,CAA2E+Q,sBAA3E,EAAmG,CAAnG;AACAA,8CAAsB;AACzB;AACJ;;AACD,wBAAI,KAAK/I,kBAAL,CAAwBpI,CAAxB,EAA2B6P,KAA3B,CAAiCoB,UAAjC,EAA6C9Z,KAA7C,CAAmD+Z,eAAnD,EAAoE3U,MAApE,KAA+E,CAAnF,EAAsF;AAClF,2BAAK6L,kBAAL,CAAwBpI,CAAxB,EAA2B6P,KAA3B,CAAiCoB,UAAjC,EAA6C9Z,KAA7C,CAAmDiJ,MAAnD,CAA0D8Q,eAA1D,EAA2E,CAA3E;AACAA,qCAAe;AAClB;AACJ;;AACD,uBAAK,IAAIE,YAAY,GAAG,CAAxB,EAA2BA,YAAY,GACvC,KAAKhJ,kBAAL,CAAwBpI,CAAxB,EAA2B6P,KAA3B,CAAiCoB,UAAjC,EAA6CI,EAA7C,CAAgD9U,MADhD,EACwD6U,YAAY,EADpE,EACwE;AACpE,yBAAK,IAAIE,mBAAmB,GAAG,CAA/B,EAAkCA,mBAAmB,GACrD,KAAKlJ,kBAAL,CAAwBpI,CAAxB,EAA2B6P,KAA3B,CAAiCoB,UAAjC,EAA6CI,EAA7C,CAAgDD,YAAhD,EAA8D7U,MAD9D,EACsE+U,mBAAmB,EADzF,EAC6F;AACzF,0BAAI,KAAKlJ,kBAAL,CAAwBpI,CAAxB,EAA2B6P,KAA3B,CAAiCoB,UAAjC,EAA6CI,EAA7C,CAAgDD,YAAhD,EAA8DE,mBAA9D,EAAmF/U,MAAnF,KAA8F,CAAlG,EAAqG;AACjG,6BAAK6L,kBAAL,CAAwBpI,CAAxB,EAA2B6P,KAA3B,CAAiCoB,UAAjC,EAA6CI,EAA7C,CAAgDD,YAAhD,EAA8DhR,MAA9D,CAAqEkR,mBAArE,EAA0F,CAA1F;AACAA,2CAAmB;AACtB;AACJ;;AACD,wBAAI,KAAKlJ,kBAAL,CAAwBpI,CAAxB,EAA2B6P,KAA3B,CAAiCoB,UAAjC,EAA6CI,EAA7C,CAAgDD,YAAhD,EAA8D7U,MAA9D,KAAyE,CAA7E,EAAgF;AAC5E,2BAAK6L,kBAAL,CAAwBpI,CAAxB,EAA2B6P,KAA3B,CAAiCoB,UAAjC,EAA6CI,EAA7C,CAAgDjR,MAAhD,CAAuDgR,YAAvD,EAAqE,CAArE;AACAA,kCAAY;AACf;AACJ;;AACD,sBAAI,KAAKhJ,kBAAL,CAAwBpI,CAAxB,EAA2B6P,KAA3B,CAAiCoB,UAAjC,EAA6C9Z,KAA7C,CAAmDoF,MAAnD,KAA8D,CAA9D,IACG,KAAK6L,kBAAL,CAAwBpI,CAAxB,EAA2B6P,KAA3B,CAAiCoB,UAAjC,EAA6CI,EAA7C,CAAgD9U,MAAhD,KAA2D,CADlE,EACqE;AACjE,yBAAK6L,kBAAL,CAAwBpI,CAAxB,EAA2B6P,KAA3B,CAAiCzP,MAAjC,CAAwC6Q,UAAxC,EAAoD,CAApD;AACAA,8BAAU;AACb;AACJ;AACJ;;AACD,kBAAI,KAAK7I,kBAAL,CAAwBpI,CAAxB,EAA2B8P,EAA/B,EAAmC;AAC/B,qBAAK,IAAIyB,OAAO,GAAG,CAAnB,EAAsBA,OAAO,GAAG,KAAKnJ,kBAAL,CAAwBpI,CAAxB,EAA2B8P,EAA3B,CAA8BvT,MAA9D,EAAsEgV,OAAO,EAA7E,EAAiF;AAC7E,uBAAK,IAAIC,OAAO,GAAG,CAAnB,EAAsBA,OAAO,GAAG,KAAKpJ,kBAAL,CAAwBpI,CAAxB,EAA2B8P,EAA3B,CAA8ByB,OAA9B,EAAuCE,EAAvC,CAA0ClV,MAA1E,EAAkFiV,OAAO,EAAzF,EAA6F;AACzF,wBAAI,KAAKpJ,kBAAL,CAAwBpI,CAAxB,EAA2B8P,EAA3B,CAA8ByB,OAA9B,EAAuCE,EAAvC,CAA0CD,OAA1C,EAAmDjV,MAAnD,KAA8D,CAAlE,EAAqE;AACjE,2BAAK6L,kBAAL,CAAwBpI,CAAxB,EAA2B8P,EAA3B,CAA8ByB,OAA9B,EAAuCE,EAAvC,CAA0CrR,MAA1C,CAAiDoR,OAAjD,EAA0D,CAA1D;AACAA,6BAAO;AACV;AACJ;;AACD,sBAAI,KAAKpJ,kBAAL,CAAwBpI,CAAxB,EAA2B8P,EAA3B,CAA8BvT,MAA9B,KAAyC,CAA7C,EAAgD;AAC5C,yBAAK6L,kBAAL,CAAwBpI,CAAxB,EAA2B8P,EAA3B,CAA8B1P,MAA9B,CAAqCmR,OAArC,EAA8C,CAA9C;AACAA,2BAAO;AACV;AACJ;AACJ;;AAED,kBAAI,KAAKnJ,kBAAL,CAAwBpI,CAAxB,EAA2B2P,WAA3B,CAAuCpT,MAAvC,KAAkD,CAAlD,IACG,CAAC,KAAK6L,kBAAL,CAAwBpI,CAAxB,EAA2B6P,KAD/B,IAEG,CAAC,KAAKzH,kBAAL,CAAwBpI,CAAxB,EAA2B8P,EAFnC,EAEuC;AACnC1X,uBAAO,CAACoB,GAAR,CAAY,0CAA0C,KAAK4O,kBAAL,CAAwBpI,CAAxB,EAA2B7I,KAAjF;AACA,qBAAKiR,kBAAL,CAAwBhI,MAAxB,CAA+BJ,CAA/B,EAAkC,CAAlC;AACAA,iBAAC;AACJ;AACJ;AACJ;;;2CAMgBgP,I,EAAc;AAC3B,oBAAQA,IAAI,CAAC9T,WAAL,EAAR;AACI,mBAAK,KAAL;AACI,qBAAKkR,WAAL,GAAmB,CAAC,KAAKA,WAAzB;AACA;;AACJ,mBAAK,cAAL;AACI,qBAAKC,oBAAL,GAA4B,CAAC,KAAKA,oBAAlC;AACA;;AACJ,mBAAK,aAAL;AACI,qBAAKC,mBAAL,GAA2B,CAAC,KAAKA,mBAAjC;AACA;;AACJ,mBAAK,UAAL;AACI,qBAAKC,gBAAL,GAAwB,CAAC,KAAKA,gBAA9B;AACA;;AACJ,mBAAK,OAAL;AACI,qBAAKC,aAAL,GAAqB,CAAC,KAAKA,aAA3B;AACA;AAfR;AAkBH;;;;;;;;;;;;;;;;;;;;;AC9ML;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;;;;;ACAA;;AAA6D;AAAA;;AAAA;;AAAA;AAAA;;AAAyD;;;;;;;;AAiClG;;AACI;;AAAqB;;AACrB;;AACA;;AAIO;AAAA;;AAAA;;AAAA;AAAA,aAAqC,eAArC,EAAqC;AAAA;;AAAA;;AAAA;AAAA,WAArC;;AAJP;;AAOJ;;;;;;AATyB;;AAAA;;AAEN;;AAAA,wIAAgE,SAAhE,EAAgE,yBAAhE;;;;;;;;AAhB3B;;AACI;;AACI;;AACI;;AAAsB;;AACtB;;AACA;;AAIO;AAAA;;AAAA;;AAAA;AAAA,aAA8B,eAA9B,EAA8B;AAAA;;AAAA;;AAAA;AAAA,WAA9B;;AAJP;;AAOJ;;AACA;;AAWJ;;AACJ;;;;;;AAhBmB;;AAAA;;AAIgB;;AAAA;;;;;;AAoBN;;AAAiD;;AAAkC;;;;;;AAAlC;;AAAA;;;;;;AAC9E;;AAA0B;;AAA2B;;;;;;AAA3B;;AAAA;;;;;;AAYE;;AAC8D;;AAAS;;;;;;;;AAAnE;;AAA0D;;AAAA;;;;;;AAE1D;;AAAI;;AAAS;;;;;;AAAT;;AAAA;;;;;;AAJZ;;AACI;;AAEA;;AAGJ;;;;;;;;;;AALQ;;AAAA,qLAAgH,UAAhH,EAAgH,IAAhH;;;;;;AAFZ;;AACI;;AAOJ;;;;;;AAPkB;;AAAA;;;;;;AASd;;AACI;;AAAI;;AAAW;;AACnB;;;;;;AADQ;;AAAA;;;;;;AAFZ;;AACI;;AAGJ;;;;;;AAHkB;;AAAA;;;;;;AAb1B;;AACI;;AACI;;AACA;;AASA;;AAKA;;AACJ;;AACJ;;;;;;AAhBY;;AAAA;;AASA;;AAAA;;;;;;AAbhB;;AACI;;AAoBJ;;;;;;;;AApBU;;AAAA;;;;;;AAyBE;;;;;;AAA8B;;;;;;AAFtC;;AACI;;AACI;;AACJ;;AACJ;;;;;;AAFY;;AAAA;;;;;;AAHhB;;AACI;;AAKJ;;;;;;;;AALU;;AAAA;;;;;;AA1Bd;;AACI;;AAAuC;;AACvC;;AAuBA;;AAOJ;;;;;;;;AA/BU;;AAAA;;AACQ;;AAAA;;AAuBA;;AAAA;;;;;;AAUlB;;;;;;AAA0C;;;;;;AArC9C;;AACI;;AAAI;;AAA0B;;AAC9B;;AAiCA;;AACA;;AACA;;AAAgG;;AAAK;;AACzG;;;;;;AArCQ;;AAAA;;AACE;;AAAA;;AAmCA;;AAAA;;;;;;;;AAId;;AAA+C;AAAA;;AAAA;;AAAA;AAAA;;AAA2B;;AAAa;;;;;;;;AAEnF;;AAAQ;AAAA;;AAAA;;AAAA;AAAA;;AAA6B;;AAAe;;;;;;;;AAjD5D;;AACI;;AAAI;;AAAQ;;AACZ;;AACI;;AAAI;;AAAyB;;AAA0F;;AACvH;;AAEA;;AAuCJ;;AACA;;AAAQ;AAAA;;AAAA;;AAAA;AAAA;;AAA0D;;AAA0B;;AAC5F;;AACA;;AAGJ;;;;;;;;AAhDY;;AAAA;;AAA+B;;AAAA;;AAC/B;;AAAA;;AAEU;;AAAA;;AAwCuB;;AAAA;;AACjC;;AAAA,2FAAsC,UAAtC,EAAsC,IAAtC;;;;;;AAUyB;;AAAiD;;AAAkC;;;;;;AAAlC;;AAAA;;;;;;;;AAsBlD;;AAEI;;AACI;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAAgG;;AACxG;;;;;;;;;;;;;;;;;AAHI;;AAEI;;AAAA;;;;;;;;AAGJ;;AACI;;AACI;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAAgG;;AACxG;;;;;;;;;;;;;;AADQ;;AAAA;;;;;;AAVhB;;AAEI;;AAKA;;AAMJ;;;;;;;;;;AAXQ;;AAAA,qLAAgH,UAAhH,EAAgH,IAAhH;;;;;;AAHZ;;AACI;;AAcJ;;;;;;;;;;;;AAbQ;;AAAA,uKAAuI,cAAvI,EAAuI,iBAAvI;;;;;;;;AAeJ;;AAEI;;AACI;;AACI;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAA6F;;AACrG;;AACJ;;;;;;;;;;;;;;AAFY;;AAAA;;;;;;AALhB;;AACI;;AAOJ;;;;;;;;;;;;AANQ;;AAAA,qKAAsI,cAAtI,EAAsI,iBAAtI;;;;;;AArBhB;;AACI;;AACI;;AACA;;AAgBA;;AASA;;AACJ;;AACJ;;;;;;;;;;AA3BY;;AAAA;;AAgBA;;AAAA;;;;;;AArBhB;;AAEI;;AA+BJ;;;;;;;;AA/BU;;AAAA;;;;;;;;AAoCE;;AACI;;AAAU;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAC0G;;AACxH;;;;;;;;;;;;AAFc;;AAAA,iKAA6E,MAA7E,EAA6E,iIAA7E;;;;;;AAHtB;;AACI;;AACI;;AAIJ;;AACJ;;;;;;;;;;AALY;;AAAA,mJAAuH,cAAvH,EAAuH,kBAAvH;;;;;;AAHhB;;AACI;;AAQJ;;;;;;;;;;;;AARU;;AAAA;;;;;;;;AAzCd;;AAEI;;AACI;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAAoF;;AAAW;;AAEnG;;AAmCA;;AAUJ;;;;;;;;;;AA/CQ;;AAAA;;AAGA;;AAAA;;AAkCU;;AAAA;;;;;;;;AAalB;;AAEI;;AAAU;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAA4E;;AAC1F;;;;;;;;;;AADc;;AAAA;;;;;;;;AA9DlB;;AAEI;;AAAI;;AAAU;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAA4D;;AAAW;;AACrF;;AACI;;AAAW;;AAAQ;;AACnB;;AAAU;AAAA;;AAAA;;AAAA;AAAA;;AAA6C;;AAC3D;;AACA;;AAmDA;;AACA;;AACA;;AAIJ;;;;;;;;AA9DkB;;AAAA;;AAGA;;AAAA;;AAGV;;AAAA,0IAAiI,cAAjI,EAAiI,iBAAjI;;AAqDA;;AAAA,yIAAkH,cAAlH,EAAkH,iBAAlH;;;;;;;;AAlEhB;;AACI;;AAAI;;AAAQ;;AACZ;;AACI;;AAAI;;AAAyB;;AAA0F;;AAEvH;;AAiEJ;;AACA;;AAAQ;AAAA;;AAAA;;AAAA;AAAA;;AAAiC;;AAAyB;;AAClE;;AAAQ;AAAA;;AAAA;;AAAA;AAAA;;AAA8B;;AAAuB;;AACjE;;;;;;AAtEY;;AAAA;;AAA+B;;AAAA;;AAG/B;;AAAA,yGAAsG,cAAtG,EAAsG,gBAAtG;;;;;;;;;;UDpGHkF,oB;;;;;AAQT,sCAAoBlJ,WAApB,EAAkD;AAAA;;AAAA;;AAC9C,uCAAMA,WAAN;AADgB,kBAAAA,WAAA,GAAAA,WAAA;AANV,kBAAAmJ,uBAAA,GAA0B,IAAI,0DAAJ,EAA1B;AAMwC;AAEjD;;;;qCAEO;AAAA;;AACJ,iBAAKnJ,WAAL,CAAiBE,OAAjB,CAAyB,KAAKzB,UAAL,CAAgB,CAAhB,CAAzB,EAA6C,KAAKA,UAAL,CAAgB,CAAhB,CAA7C,EAAiEjR,IAAjE,CACI,UAAC4b,WAAD,EAAsB;AAClB;AACA,qBAAI,CAAChJ,qBAAL,GAA6BhP,IAAI,CAACS,KAAL,CAAWuX,WAAX,CAA7B,CAFkB,CAGlB;AACA;AACH,aANL;AAQA,iBAAKzH,IAAL,GAAY,KAAKlD,UAAL,CAAgB,CAAhB,CAAZ;AACH;;;yCAEW;AACR,gBAAI,KAAKyF,MAAT,EAAiB;AACb,qBAAO,KAAK9D,qBAAL,IAA8B,KAAK6D,oBAAL,CAA0BoF,YAA1B,EAArC;AACH,aAFD,MAEO;AACH,qBAAO,CAAC,CAAC,KAAKjJ,qBAAd;AACH;AACJ;;;kCAEO;AACJ,iBAAKR,kBAAL,GAA0B,EAA1B;AACA,iBAAKgC,GAAL,GAAW7Q,SAAX,CAFI,CAGJ;AACH;;;oDAEsB;AACnB,mBAAO,KAAK6O,kBAAL,CAAwB7L,MAAxB,GAAiC,CAAjC,GAAqC,EAArC,GACH,KAAK6L,kBAAL,CAAwB7L,MAAxB,GAAiC,CAAjC,GAAqC,KAAK6L,kBAAL,CAAwB,CAAxB,EAA2BjR,KAAhE,GACI,KAAKiR,kBAAL,CAAwB,CAAxB,EAA2BjR,KAA3B,GAAmC,MAAnC,GAA4C,KAAKiR,kBAAL,CAAwB,CAAxB,EAA2BjR,KAF/E;AAGH;;;mCAEQ;AACL,gBAAI,KAAKiR,kBAAL,CAAwB7L,MAAxB,GAAiC,CAArC,EAAwC;AACpC,mBAAK6N,GAAL,GAAW,KAAKhC,kBAAL,CAAwB,CAAxB,EAA2BjR,KAAtC;AACH,aAHI,CAIL;;AACH;;;mCAEQgD,I,EAAgB;AACrB,iBAAKsP,KAAL,GAAa,IAAb;AACH;;;sCAEW;AACR,iBAAK6B,MAAL,GAAc,IAAd;AACA,iBAAKqG,uBAAL,CAA6BlV,IAA7B,CAAkC,IAAlC;AACH;;;wCAEa;AACV,iBAAK6O,MAAL,GAAc,KAAd;AACA,iBAAKqG,uBAAL,CAA6BlV,IAA7B,CAAkC,IAAlC;AACH;;;mDAEqB;AAClB,gBAAM8O,gBAAgB,GAAG,KAAKC,cAAL,EAAzB;AACA,gBAAIlS,MAAJ;AACAlB,mBAAO,CAACoB,GAAR,CAAY,KAAKiR,IAAjB;AACArS,mBAAO,CAACoB,GAAR,CAAY,KAAK4O,kBAAjB;AACA9O,kBAAM,GAAG;AACLyM,qBAAO,EAAE,IADJ;AAELJ,0BAAY,EAAE,CAFT;AAGLyE,iBAAG,EAAE,KAAKA,GAHL;AAILX,mBAAK,EAAE,KAAKA,KAJP;AAKLU,kBAAI,EAAE,KAAKA,IALN;AAMLM,kBAAI,EAAE,KAAKA,IAAL,GAAY,KAAKgB,oBANlB;AAOLC,8BAAgB,EAAE,IAPb;AAQLC,oBAAM,EAAE,KAAKC,YARR;AASL3D,8BAAgB,EAAE,KAAKG,kBATlB;AAULyD,yBAAW,EAAEN,gBAVR;AAWLO,uBAAS,EAAE,IAXN;AAYLd,sBAAQ,EAAE,IAZL;AAaLL,oBAAM,EAAE,IAbH;AAcLI,oBAAM,EAAE,IAdH;AAeLgB,sBAAQ,EAAE,IAfL;AAgBLC,2BAAa,EAAE,IAhBV;AAiBLtE,oBAAM,EAAE,IAjBH;AAkBLuE,+BAAiB,EAAE,IAlBd;AAmBLC,8BAAgB,EAAE,IAnBb;AAoBLC,8BAAgB,EAAE,IApBb;AAqBLC,yBAAW,EAAE,KAAKA,WArBb;AAsBLC,kCAAoB,EAAE,KAAKA,oBAtBtB;AAuBLC,iCAAmB,EAAE,KAAKA,mBAvBrB;AAwBLC,8BAAgB,EAAE,KAAKA,gBAxBlB;AAyBLC,2BAAa,EAAE,KAAKA;AAzBf,aAAT;AA4BA,mBAAOlT,MAAP;AACH;;;;QAnGqC,yD;;;yBAA7BoY,oB,EAAoB,4I;AAAA,O;;;cAApBA,oB;AAAoB,yC;AAAA;AAAA;;;;;;;;;;;;;;;;;;;;;;;ACVjC;;AAEA;;AACI;;AACI;;AAAoB;;AAAsB;;AAC1C;;AACI;;AAA2B;AAAA,qBAAS,qBAAsB,KAAtB,CAAT;AAAqC,aAArC;;AACqE;;AAA4B;;AAC5H;;AAA2B;AAAA,qBAAS,qBAAsB,cAAtB,CAAT;AAA8C,aAA9C;;AACyE;;AAAqC;;AACzI;;AAA2B;AAAA,qBAAS,qBAAsB,aAAtB,CAAT;AAA6C,aAA7C;;AACwE;;AAAoC;;AACvI;;AAA2B;AAAA,qBAAS,qBAAsB,UAAtB,CAAT;AAA0C,aAA1C;;AACqE;;AAAiC;;AACjI;;AAA2B;AAAA,qBAAS,qBAAsB,OAAtB,CAAT;AAAuC,aAAvC;;AAC2E;;AAA8B;;AACxI;;AACJ;;AACA;;AACI;;AACI;;AA0BJ;;AAGJ;;AACA;;AAsDA;;AA2EJ;;;;AAnLkB;;AAIU;;AAAA;;AAEkD;;AAAA;;AAC8B;;AAAA;;AACrB;;AAAA;;AACyB;;AAAA;;AAC1B;;AAAA;;AACyB;;AAAA;;AAC5B;;AAAA;;AACyB;;AAAA;;AAC5B;;AAAA;;AACkC;;AAAA;;AAK7E;;AAAA;;AA8BR;;AAAA;;AAsDA;;AAAA;;;;;;;;;wED9FhBA,oB,EAAoB;gBALhC,uDAKgC;iBALtB;AACPna,oBAAQ,EAAE,kBADH;AAEPC,uBAAW,EAAE,+BAFN;AAGPC,qBAAS,EAAE,CAAC,+BAAD;AAHJ,W;AAKsB,U;;;;;AAEnBka,iCAAuB;kBAAhC;AAAgC,Y;AACGlF,8BAAoB,EAAE,CAAF;kBAAvD,uDAAuD;mBAA7C,uB;AAA6C,WAAE,C;AACjDC,gBAAM,EAAE,CAAF;kBAAd;AAAc,WAAE,C;AAERzF,oBAAU,EAAE,CAAF;kBAAlB;AAAkB,WAAE;;;;;;;;;;;;;;;;;;;AEhBzB;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;;;ACGY;;;;;;AAAiE;;;;;;AAE7D;;;;;;AAAoB;;;;;;AAG5B;;AAAwE;;AAAmB;;;;;;AAAnB;;AAAA;;;;;;AAGhE;;AAA+B;;AAA6B;;;;;;AAA7B;;AAAA;;;;;;AADnC;;AAAiC;;AAC7B;;AACJ;;;;;;AAFiC;;AAAA;;AACvB;;AAAA;;;;;;AAEV;;AAA+B;;AAAoD;;;;;;AAApD;;AAAA;;;;;;AAJnC;;AACI;;AAGA;;AACJ;;;;;;AAJU;;AAAA;;AAGA;;AAAA;;;;;;AAGN;;AAAiC;;AAA8B;;;;;;AAA9B;;AAAA;;;;;;AACjC;;AAAgC;;AAA6B;;;;;;AAA7B;;AAAA;;;;;;AAFpC;;AACI;;AACA;;AAAoE;;;;;;AAD9D;;AAAA;;AACA;;AAAA;;;;;;AACV;;AACI;;AACA;;AACA;;AAAuD;;AAAE;;AAAM;;AAAsC;;AACzG;;;;;;AADU;;AAAA;;AAAyD;;AAAA;;;;;;AAiBnC;;AAE8J;;AAAiB;;;;;;;;AAA3K;;AAA0J;;AAAA;;;;;;AAE1J;;AAAI;;AAAiB;;;;;;AAAjB;;AAAA;;;;;;AANZ;;AAEI;;AAGA;;AAGJ;;;;;;;;;;AANQ;;AAAA,oSAC2J,UAD3J,EAC2J,IAD3J;;;;;;AAJZ;;AAEI;;AASJ;;;;;;AARQ;;AAAA;;;;;;AAUJ;;AACI;;AAAI;;AAAmB;;AAC3B;;;;;;AADQ;;AAAA;;;;;;AAFZ;;AACI;;AAGJ;;;;;;AAHkB;;AAAA;;;;;;AAhB1B;;AACI;;AACI;;AACA;;AAYA;;AAKA;;AACJ;;AACJ;;;;;;AAnBY;;AAAA;;AAYA;;AAAA;;;;;;AAhBhB;;AACI;;AAuBJ;;;;;;;;AAvBU;;AAAA;;;;;;AA6BE;;;;;;AAAiD;;;;;;AAFzD;;AACI;;AACI;;AACJ;;AACJ;;;;;;AAFY;;AAAA;;;;;;AAHhB;;AACI;;AAKJ;;;;;;;;AALU;;AAAA;;;;;;AA/Bd;;AACI;;AAA+C;;AAE/C;;AA2BA;;AAOJ;;;;;;;;AApCU;;AAAA;;AAEQ;;AAAA;;AA2BA;;AAAA;;;;;;AAWd;;;;;;AAA4D;;;;;;AADhE;;AACI;;AACA;;AACJ;;;;;;AAFU;;AAAA;;;;;;AA3Cd;;AACI;;AAAI;;AAAsB;;AAC1B;;AAsCA;;AACA;;AACA;;AAIJ;;;;;;;;AA7CQ;;AAAA;;AACE;;AAAA;;AAwCA;;AAAA;;;;;;AA3Cd;;AACI;;AA+CJ;;;;;;AA/CkB;;AAAA;;;;;;AAgDlB;;AACI;;AACA;;AACA;;AAAoD;;AAAE;;AAAM;;AAA6B;;AAC7F;;;;;;AADU;;AAAA;;AAAsD;;AAAA;;;;;;;;AAM5D;;AACI;;AAAG;;AAA8D;;AACjE;;AAAgC;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAA8D;;AAAQ;;AAC1G;;;;;;;;AAFO;;AAAA;;;;;;;;AAIH;;AACI;;AACI;;AAAW;;AAAgD;;AAC3D;;AAAU;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAAkF;;AAChG;;AACJ;;AACA;;AAA+B;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAAwE;;AAAS;;AAChH;;AAAgC;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAAuE;;AAAQ;;AAC/G;;AAA8B;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAAkF;;AAAO;;;;;;;;AANpG;;AAAA;;AACD;;AAAA;;;;;;AAT1B;;AACI;;AAIA;;AAWJ;;;;;;;;;;AAfS;;AAAA,mJAA0F,UAA1F,EAA0F,IAA1F;;;;;;;;AAgBT;;AAAwC;AAAA;;AAAA;;AAAA;AAAA;;AAAyE;;AAA0B;;;;;;;;AAC3I;;AACI;;AACI;;AACI;;AAAW;;AAAyB;;AACpC;;AAAU;AAAA;;AAAA;;AAAA;AAAA;;AAAmD;;AACjE;;AACJ;;AACA;;AAA8B;AAAA;;AAAA;;AAAA;AAAA;;AAA4C;;AAAO;;AACjF;;AAAgC;AAAA;;AAAA;;AAAA;AAAA;;AAA4C;;AAAO;;AACvF;;;;;;AALsB;;AAAA;;;;;;AAvB1B;;AACI;;AAiBA;;AACA;;AAUJ;;;;;;AA5BuC;;AAAA;;AAiB4C;;AAAA;;AAC1E;;AAAA;;;;;;AAnGb;;AACI;;AACI;;AACI;;AACA;;AAGJ;;AACA;;AACA;;AAMA;;AAGA;;AAKA;;AACA;;AAiDA;;AAKJ;;AACA;;AACA;;AA8BJ;;;;;;;;AA3GiB;;AAAA,qGAA4C,UAA5C,EAA4C,GAA5C;;AAKJ;;AAAA;;AACF;;AAAA;;AAMA;;AAAA;;AAGE;;AAAA;;AAMS;;AAAA;;AAiDT;;AAAA;;AAO6B;;AAAA;;;;;;AAgC1C;;AACI;;AAA+B;;AAAmB;;AAClD;;AACJ;;;;UDtGa6K,kC;AAmBT,oDAAoB5Y,IAApB,EACoBiM,YADpB,EAEoBjO,WAFpB,EAE8C;AAAA;;AAF1B,eAAAgC,IAAA,GAAAA,IAAA;AACA,eAAAiM,YAAA,GAAAA,YAAA;AACA,eAAAjO,WAAA,GAAAA,WAAA;AAjBV,eAAA6a,2BAAA,GAA8B,IAAI,0DAAJ,EAA9B;AAUV,eAAAC,mBAAA,GAAsB,KAAtB;AAGA,eAAAC,QAAA,GAAW,KAAX;AAIiD;;;;qCAEzC,CACP;;;sCAEW;AAAA;;AACR,iBAAK9M,YAAL,CAAkB+M,eAAlB,CAAkC,KAAKhZ,IAAvC,EAA6C,KAAK6M,OAAlD,EAA2D/P,IAA3D,CACI,UAAC8P,SAAD,EAAoB;AAChB,kBAAM1L,QAAQ,GAAoB0L,SAAlC;AACA1N,qBAAO,CAACoB,GAAR,CAAYY,QAAZ;AACA,qBAAI,CAAC4M,KAAL,GAAa5M,QAAQ,CAACD,IAAtB;AACA/B,qBAAO,CAACoB,GAAR,CAAY,OAAI,CAACwN,KAAjB;;AACA,qBAAI,CAACmL,4BAAL;AACH,aAPL;AASH;;;yDAE8B;AAAA;;AAC3B,iBAAKhN,YAAL,CAAkBiN,2BAAlB,CAA8C,KAAKlZ,IAAnD,EAAyD,KAAK6M,OAA9D,EAAuE,KAAKJ,YAA5E,EAA0F3P,IAA1F,CACI,UAACmE,IAAD,EAAe;AACX/B,qBAAO,CAACoB,GAAR,CAAYW,IAAZ;AACA,kBAAMC,QAAQ,GAAoBD,IAAlC;AACA,qBAAI,CAACkY,wBAAL,GAAgCjY,QAAQ,CAACD,IAAzC;AACA,qBAAI,CAACmY,gCAAL,GAAwC1Y,IAAI,CAACS,KAAL,CACpCT,IAAI,CAACC,SAAL,CAAe,OAAI,CAACwY,wBAApB,CADoC,CAAxC;AAGA,qBAAI,CAACE,oBAAL,GAA4B,EAA5B;;AAPW,0DAQ2B,OAAI,CAACF,wBARhC;AAAA;;AAAA;AAQX,uEAAqE;AAAA,sBAA1DG,uBAA0D;;AACjE,yBAAI,CAACD,oBAAL,CAA0BvR,IAA1B,CAA+B,KAA/B;AACH;AAVU;AAAA;AAAA;AAAA;AAAA;AAWd,aAZL;AAcH;;;8CAGmByF,K,EAAsB;AACtC,gBAAIA,KAAK,CAAC5F,GAAN,KAAc,OAAd,IAAyB4F,KAAK,CAACgM,OAAnC,EAA4C,CACxC;AACH;AACJ;;;oDAEsB;AACnB,mBAAO,KAAKC,oBAAL,OAAgC,CAAC,CAAxC;AACH;;;iDAEmB;AAChB,mBAAO,KAAKH,oBAAL,CAA0BjX,OAA1B,CAAkC,KAAKiX,oBAAL,CAA0B7M,IAA1B,CAA+B,UAAAhE,CAAC;AAAA,qBAAIA,CAAC,KAAK,IAAV;AAAA,aAAhC,CAAlC,CAAP;AACH;;;oCAESd,K,EAAOxF,I,EAAM;AACnB,mBAAOwF,KAAP;AACH;;;kDAEuB+R,mB,EAA6B;AAAA;;AACjD,iBAAKxN,YAAL,CAAkBkN,wBAAlB,CAA2C,KAAKnZ,IAAhD,EAAsD,yEAAY0Z,MAAlE,EAA0E,KAAKP,wBAAL,CAA8BM,mBAA9B,CAA1E,EAA8H3c,IAA9H,CACI,UAACmE,IAAD,EAAe;AACX/B,qBAAO,CAACoB,GAAR,CAAYW,IAAZ;AACA,kBAAM0Y,OAAO,GAAoBjZ,IAAI,CAACS,KAAL,CAAWF,IAAX,CAAjC;AACA0B,wBAAU,CAAE,YAAM;AACd,uBAAI,CAACwF,MAAL,CAAYC,aAAZ,CAA0BuR,OAAO,CAACtR,cAAlC,EAAkD3H,IAAI,CAACC,SAAL,CAAegZ,OAAO,CAAC1Y,IAAvB,CAAlD,EAAgF,KAAK0Y,OAAO,CAACvY,MAA7F;AAAuG,eADjG,EACmG,IADnG,CAAV;AAEH,aANL;AAQA,iBAAKiY,oBAAL,CAA0BI,mBAA1B,IAAiD,KAAjD;AAEA,iBAAKG,kBAAL;AACA,iBAAKX,4BAAL;AACH;;;iDAEsBQ,mB,EAA6B;AAAA;;AAChD,iBAAKxN,YAAL,CAAkBkN,wBAAlB,CAA2C,KAAKnZ,IAAhD,EAAsD,yEAAY6Z,GAAlE,EAAuE,KAAKV,wBAAL,CAA8BM,mBAA9B,CAAvE,EAA2H3c,IAA3H,CACI,UAACmE,IAAD,EAAe;AACX/B,qBAAO,CAACoB,GAAR,CAAYW,IAAZ;AACA,kBAAM0Y,OAAO,GAAoBjZ,IAAI,CAACS,KAAL,CAAWF,IAAX,CAAjC;AACA0B,wBAAU,CAAE,YAAM;AACd,uBAAI,CAACwF,MAAL,CAAYC,aAAZ,CAA0BuR,OAAO,CAACtR,cAAlC,EAAkD3H,IAAI,CAACC,SAAL,CAAegZ,OAAO,CAAC1Y,IAAvB,CAAlD,EAAgF,KAAK0Y,OAAO,CAACvY,MAA7F;AAAuG,eADjG,EACmG,IADnG,CAAV;AAEH,aANL;AAQA,iBAAKiY,oBAAL,CAA0BI,mBAA1B,IAAiD,KAAjD;AAEA,iBAAKG,kBAAL,GAXgD,CAYhD;AACH;;;4DAEiCH,mB,EAA6B;AAC3D,iBAAKN,wBAAL,CAA8BM,mBAA9B,EAAmDK,KAAnD,GAA2D,KAAKV,gCAAL,CAAsCK,mBAAtC,EAA2DK,KAAtH;AACA,iBAAKT,oBAAL,CAA0BI,mBAA1B,IAAiD,KAAjD;AACH;;;kDAEuB;AACpB,iBAAKM,0BAAL;AACA,iBAAKjB,mBAAL,GAA2B,CAAC,KAAKA,mBAAjC;AACH;;;uDAE4B;AACzB,iBAAKkB,sBAAL,GAA8B,IAA9B;AACA,iBAAKlB,mBAAL,GAA2B,KAA3B;AACH;;;uDAE4B;AAAA;;AACzB,gBAAMmB,qBAAqB,GAAG;AAC1BC,qCAAuB,EAAE,IADC;AAE1BrN,qBAAO,EAAE,KAAKA,OAFY;AAG1BJ,0BAAY,EAAE,KAAKA,YAHO;AAI1BqN,mBAAK,EAAE,KAAKE;AAJc,aAA9B;AAMA,iBAAK/N,YAAL,CAAkBkN,wBAAlB,CAA2C,KAAKnZ,IAAhD,EAAsD,yEAAYwB,IAAlE,EAAwEyY,qBAAxE,EAA+Fnd,IAA/F,CACI,UAACmE,IAAD,EAAe;AACX/B,qBAAO,CAACoB,GAAR,CAAYW,IAAZ;AACA,kBAAM0Y,OAAO,GAAoBjZ,IAAI,CAACS,KAAL,CAAWF,IAAX,CAAjC;AACA0B,wBAAU,CAAE,YAAM;AACd,uBAAI,CAACwF,MAAL,CAAYC,aAAZ,CAA0BuR,OAAO,CAACtR,cAAlC,EAAkD3H,IAAI,CAACC,SAAL,CAAegZ,OAAO,CAAC1Y,IAAvB,CAAlD,EAAgF,KAAK0Y,OAAO,CAACvY,MAA7F;AAAuG,eADjG,EACmG,IADnG,CAAV;AAEH,aANL;AAQA,iBAAK4Y,sBAAL,GAA8B,IAA9B;AACA,iBAAKlB,mBAAL,GAA2B,KAA3B;AAEA,iBAAKc,kBAAL,GAlByB,CAmBzB;AACH;;;+CAEoB;AAAA;;AACjB,iBAAKb,QAAL,GAAgB,IAAhB;AACA,iBAAKF,2BAAL,CAAiCtV,IAAjC,CAAsC,KAAKuK,KAAL,CAAWjB,OAAjD;AACAlK,sBAAU,CAAE,YAAM;AAAE,qBAAI,CAACsW,4BAAL;AAAsC,aAAhD,EAAkD,IAAlD,CAAV;AACAtW,sBAAU,CAAE,YAAM;AACd,qBAAI,CAACoW,QAAL,GAAgB,KAAhB;AACH,aAFS,EAEP,IAFO,CAAV;AAGH;;;6CAEkBoB,0B,EAAoC;AACnD,iBAAKJ,0BAAL;AACA,iBAAKK,0BAAL;AACA,iBAAKf,oBAAL,CAA0Bc,0BAA1B,IAAwD,IAAxD;AACH;;;uDAE4B;AACzB,gBAAI,KAAKE,uBAAL,EAAJ,EAAoC;AAChC,mBAAKC,iCAAL,CAAuC,KAAKd,oBAAL,EAAvC;AACH;AACJ;;;gEAEkC;AAC/B,mBAAQ,KAAKxb,WAAL,CAAiBsD,UAAjB,IAA+B,KAAKtD,WAAL,CAAiBsD,UAAjB,CAA4BmL,YAA5B,KAA6C,KAAKA,YAAlF,IACC,KAAKzO,WAAL,CAAiBqD,IAAjB,IAAyB,KAAKrD,WAAL,CAAiBE,OAAjB,EADjC;AAEH;;;4BAnKkBb,E,EAAY;AAAE,iBAAKwP,OAAL,GAAexP,EAAf;AAAmB,iBAAKkd,SAAL;AAAmB;;;;;;;yBAF9D3B,kC,EAAkC,gI,EAAA,qI,EAAA,+H;AAAA,O;;;cAAlCA,kC;AAAkC,wD;AAAA;AAAA;;;;;;;;;;;;;qBAAlC,+B;AAA2B,a,EAAA,K,EAAA,+D;;;;;;;;;;;;;;;ACbxC;;AAgHA;;AAKA;;;;AArHyB;;AAgHpB;;AAAA;;;;;;;;;wEDnGQA,kC,EAAkC;gBAL9C,uDAK8C;iBALpC;AACTva,oBAAQ,EAAE,iCADD;AAETC,uBAAW,EAAE,8CAFJ;AAGTC,qBAAS,EAAE,CAAC,8CAAD;AAHF,W;AAKoC,U;;;;;;;;;AAE9Bic,eAAK;kBAAjB;AAAiB,Y;AACT/N,sBAAY,EAAE,CAAF;kBAApB;AAAoB,WAAE,C;AACboM,qCAA2B;kBAApC;AAAoC,Y;AAChB1Q,gBAAM,EAAE,CAAF;kBAA1B,uDAA0B;mBAAhB,Q;AAAgB,WAAE,C;AAmD7BsS,6BAAmB;kBADlB,0DACkB;mBADL,kB,EAAoB,CAAC,QAAD,C;AACf;;;;;;;;;;;;;;;;;;;AErEvB;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;ACiBQ;;AAAgC;;AAAiC;;;;;;AAAjC;;AAAA;;;;;;AAChC;;AAAqC;;AAAmB;;;;;;AAAnB;;AAAA;;;;;;AAE7B;;AAA+B;;AAA6B;;;;;;AAA7B;;AAAA;;;;;;AADV;;AAAiC;;AACtD;;AAAmE;;;;;;AADb;;AAAA;;AAChD;;AAAA;;;;;;AACV;;AAA+B;;AAAoD;;;;;;AAApD;;AAAA;;;;;;AAFnC;;AAA6B;;AAEzB;;AACJ;;;;;;AAHmC;;AAAA;;AAEzB;;AAAA;;;;;;AAEoB;;AAAiC;;AAA8B;;;;;;AAA9B;;AAAA;;;;;;AAAqC;;AACtE;;AAA6B;;;;;;AAA7B;;AAAA;;;;;;AAD9B;;AAA8B;;AAAsE;;AAClC;;;;;;AAD9B;;AAAA;;AAChC;;AAAA;;;;;;AACJ;;AACI;;AACA;;AACA;;AAAuD;;AAAE;;AAAM;;AAAsC;;AACzG;;;;;;AADU;;AAAA;;AAAyD;;AAAA;;;;;;AAcnC;;AAE8J;;AAAiB;;;;;;;;AAA3K;;AAA0J;;AAAA;;;;;;AAE1J;;AAAI;;AAAiB;;;;;;AAAjB;;AAAA;;;;;;AALZ;;AACI;;AAGA;;AAGJ;;;;;;;;;;AANQ;;AAAA,oSAC2J,UAD3J,EAC2J,IAD3J;;;;;;AAFZ;;AACI;;AAQJ;;;;;;AARkB;;AAAA;;;;;;AAUd;;AACI;;AAAI;;AAAmB;;AAC3B;;;;;;AADQ;;AAAA;;;;;;AAFZ;;AACI;;AAGJ;;;;;;AAHkB;;AAAA;;;;;;AAd1B;;AACI;;AACI;;AACA;;AAUA;;AAKA;;AACJ;;AACJ;;;;;;AAjBY;;AAAA;;AAUA;;AAAA;;;;;;AAdhB;;AACI;;AAqBJ;;;;;;;;AArBU;;AAAA;;;;;;AA2BE;;;;;;AAAiD;;;;;;AAFzD;;AACI;;AACI;;AACJ;;AACJ;;;;;;AAFY;;AAAA;;;;;;AAHhB;;AACI;;AAKJ;;;;;;;;AALU;;AAAA;;;;;;AA7BlB;;AACQ;;AAA+C;;AAE/C;;AAyBA;;AAOJ;;;;;;;;AAlCU;;AAAA;;AAEQ;;AAAA;;AAyBA;;AAAA;;;;;;AAU0B;;;;;;AAA4D;;;;;;AAA5G;;AAAgD;;AAA8F;;;;;;AAAxF;;AAAA;;;;;;AAxC1D;;AACI;;AAAI;;AAAsB;;AAC1B;;AAoCA;;AACA;;AACA;;AAAqJ;;AAAK;;AAC9J;;;;;;AAxCQ;;AAAA;;AACE;;AAAA;;AAsCA;;AAAA;;;;;;AAEV;;AACI;;AACA;;AACA;;AAAoD;;AAAE;;AAAM;;AAA6B;;AAC7F;;;;;;AADU;;AAAA;;AAAsD;;AAAA;;;;;;;;AAGhE;;AAAuE;AAAA;;AAAA;;AAAA;AAAA;;AAGnE;;AACJ;;;;;;AAHQ;;;;;;;;AAKJ;;AAAwC;AAAA;;AAAA;;AAAA;AAAA;;AAA2B;;AAAe;;;;;;;;;;;;;;AApF1F;;AACI;;AACI;;AACA;;AACI;;AAA2B;AAAA;;AAAA;;AAAA,4CAA+B,KAA/B;AAAoC,WAApC;;AACqE;;AAAkC;;AAClI;;AAA2B;AAAA;;AAAA;;AAAA,4CAA+B,cAA/B;AAA6C,WAA7C;;AACyE;;AAA2C;;AAC/I;;AAA2B;AAAA;;AAAA;;AAAA,4CAA+B,aAA/B;AAA4C,WAA5C;;AACwE;;AAA0C;;AAC7I;;AAA2B;AAAA;;AAAA;;AAAA,4CAA+B,UAA/B;AAAyC,WAAzC;;AACqE;;AAAuC;;AACvI;;AAA2B;AAAA;;AAAA;;AAAA,4CAA+B,OAA/B;AAAsC,WAAtC;;AAC2E;;AAAoC;;AAC9I;;AACJ;;AACA;;AACA;;AACA;;AAIA;;AAEA;;AAKA;;AACA;;AA0CA;;AAKA;;AAA8B;AAAA;;AAAA;;AAAA;AAAA;;AAA0D;;AAA0B;;AAClH;;AAKA;;AAGJ;;;;;;;;AApF4B;;AAAA;;AAEkD;;AAAA;;AAC8B;;AAAA;;AACrB;;AAAA;;AACyB;;AAAA;;AAC1B;;AAAA;;AACyB;;AAAA;;AAC5B;;AAAA;;AACyB;;AAAA;;AAC5B;;AAAA;;AACkC;;AAAA;;AAG1G;;AAAA;;AACC;;AAAA;;AACF;;AAAA;;AAIA;;AAAA;;AAEE;;AAAA;;AAMS;;AAAA;;AA0CT;;AAAA;;AAK0D;;AAAA;;AAC/B;;AAAA,2FAAsC,UAAtC,EAAsC,IAAtC;;;;;;;;AA0C5B;;AACI;;AACA;;AAAW;;AAAM;;AACb;;AAAU;AAAA;;AAAA;;AAAA;AAAA;;AAAyC;;AACvD;;AACJ;;;;;;AAFkB;;AAAA;;;;;;;;AAGlB;;AACI;;AACA;;AAAW;;AAAc;;AACrB;;AAAU;AAAA;;AAAA;;AAAA;AAAA;;AAAwC;;AACtD;;AACJ;;;;;;AAFkB;;AAAA;;;;;;AAVtB;;AACI;;AAMA;;AAMJ;;;;;;AAZU;;AAAA;;AAMA;;AAAA;;;;;;;;AAUN;;AACI;;AACA;;AAAW;;AAAM;;AACb;;AAAU;AAAA;;AAAA;;AAAA;AAAA;;AAAyC;;AACvD;;AACJ;;;;;;AAFkB;;AAAA;;;;;;;;AAIlB;;AACI;;AACA;;AAAW;;AAAgB;;AACvB;;AAAU;AAAA;;AAAA;;AAAA;AAAA;;AAAwC;;AACtD;;AACJ;;;;;;AAFkB;;AAAA;;;;;;;;AAIlB;;AACI;;AACA;;AAAW;;AAAS;;AAChB;;AAAU;AAAA;;AAAA;;AAAA;AAAA;;AAAuC;;AACrD;;AACJ;;;;;;AAFkB;;AAAA;;;;;;AAnBtB;;AAEI;;AAOA;;AAOA;;AAMJ;;;;;;AApBU;;AAAA;;AAOA;;AAAA;;AAOA;;AAAA;;;;;;;;AAQV;;AACI;;AACA;;AAAI;;AAAW;;AACf;;AACI;;AAAW;;AAAe;;AAC1B;;AAAU;AAAA;;AAAA;;AAAA;AAAA;;AAAkD;;AAChE;;AAEA;;AACI;;AAAW;;AAAiB;;AAC5B;;AAAU;AAAA;;AAAA;;AAAA;AAAA;;AAA0D;;AACxE;;AACJ;;;;;;AAPkB;;AAAA;;AAKA;;AAAA;;;;;;;;AA0Bc;;AAEI;;AACI;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAAmK;;AAC3K;;;;;;;;;;;;;;;;;AAHI;;AAEI;;AAAA;;;;;;;;AAGJ;;AACI;;AACI;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAAmK;;AAC3K;;;;;;;;;;;;;;AADQ;;AAAA;;;;;;AAVhB;;AAEI;;AAKA;;AAMJ;;;;;;;;;;AAXQ;;AAAA,wSAA+N,UAA/N,EAA+N,KAA/N;;;;;;AAHZ;;AACI;;AAcJ;;;;;;;;;;;;AAbQ;;AAAA,qOAAkM,cAAlM,EAAkM,kBAAlM;;;;;;;;AAeJ;;AAEI;;AACI;;AACI;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAA6J;;AACrK;;AACJ;;;;;;;;;;;;;;AAFY;;AAAA;;;;;;AALhB;;AACI;;AAOJ;;;;;;;;;;;;AANQ;;AAAA,+NAA8L,cAA9L,EAA8L,kBAA9L;;;;;;AArBhB;;AACI;;AACI;;AACA;;AAgBA;;AASA;;AACJ;;AACJ;;;;;;;;;;AA3BY;;AAAA;;AAgBA;;AAAA;;;;;;AArBhB;;AAEI;;AA+BJ;;;;;;;;AA/BU;;AAAA;;;;;;;;AAqCE;;AACI;;AACI;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AACsH;;AAC9H;;;;;;;;;;;;AAFQ;;AAAA,wMAAoH,MAApH,EAAoH,6IAApH;;;;;;AALhB;;AAEI;;AACI;;AAKJ;;AACJ;;;;;;;;;;AANY;;AAAA,kLAAsJ,cAAtJ,EAAsJ,kBAAtJ;;;;;;AAJhB;;AACI;;AAUJ;;;;;;;;;;;;AATQ;;AAAA;;;;;;;;AA1ChB;;AAEQ;;AACI;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAAwG;;AAAW;;AAEvH;;AAmCA;;AAYJ;;;;;;;;;;AAjDQ;;AAAA;;AAGA;;AAAA;;AAkCU;;AAAA;;;;;;;;AAetB;;AAEI;;AAAU;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAA6F;;AAC3G;;;;;;;;;;AADc;;AAAA;;;;;;;;AAlElB;;AACI;;AACA;;AAAI;;AAAa;;AACjB;;AACI;;AACI;;AAAW;;AAAkB;;AAC7B;;AAAU;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAAqE;;AACnF;;AACJ;;AACA;;AAqDA;;AACA;;AAAI;;AAAmB;;AACvB;;AAIJ;;;;;;;;AA9DsB;;AAAA;;AAId;;AAAA,sJAA6I,cAA7I,EAA6I,iBAA7I;;AAuDA;;AAAA,kJAA2H,cAA3H,EAA2H,iBAA3H;;;;;;;;AAIR;;AACI;;AACA;;AAAI;;AAAQ;;AACZ;;AACI;;AAAW;;AAAY;;AACvB;;AAAU;AAAA;;AAAA;;AAAA;AAAA;;AAA+C;;AAC7D;;AAEA;;AACI;;AAAW;;AAAc;;AACzB;;AAAU;AAAA;;AAAA;;AAAA;AAAA;;AAAiD;;AAC/D;;AACJ;;;;;;AAPkB;;AAAA;;AAKA;;AAAA;;;;;;;;AAnKtB;;AACI;;AACI;;AACA;;AACI;;AAA2B;AAAA;;AAAA;;AAAA,6CAA+B,KAA/B;AAAoC,WAApC;;AACqE;;AAAkC;;AAClI;;AAA2B;AAAA;;AAAA;;AAAA,6CAA+B,cAA/B;AAA6C,WAA7C;;AACyE;;AAA2C;;AAC/I;;AAA2B;AAAA;;AAAA;;AAAA,6CAA+B,aAA/B;AAA4C,WAA5C;;AACwE;;AAA0C;;AAC7I;;AAA2B;AAAA;;AAAA;;AAAA,6CAA+B,UAA/B;AAAyC,WAAzC;;AACqE;;AAAuC;;AACvI;;AAA2B;AAAA;;AAAA;;AAAA,6CAA+B,OAA/B;AAAsC,WAAtC;;AAC2E;;AAAoC;;AAC9I;;AACJ;;AACA;;AACI;;AACI;;AAAW;;AAAa;;AACxB;;AAAU;AAAA;;AAAA;;AAAA;AAAA;;AAAsC;;AACpD;;AACH;;AACD;;AACI;;AAAW;;AAAQ;;AACnB;;AAAU;AAAA;;AAAA;;AAAA;AAAA;;AAAmD;;AACjE;;AACA;;AACI;;AAAW;;AAAe;;AAC1B;;AAAU;AAAA;;AAAA;;AAAA;AAAA;;AAAuC;;AACrD;;AAEA;;AAeA;;AAwBA;;AAcA;;AAqEA;;AAaA;;AAAsC;AAAA;;AAAA;;AAAA;AAAA;;AAC4D;;AAAyB;;AAC3H;;AAAwC;AAAA;;AAAA;;AAAA;AAAA;;AAA8B;;AAAuB;;AACjG;;;;;;AAvK4B;;AAAA;;AAEkD;;AAAA;;AAC8B;;AAAA;;AACrB;;AAAA;;AACyB;;AAAA;;AAC1B;;AAAA;;AACyB;;AAAA;;AAC5B;;AAAA;;AACyB;;AAAA;;AAC5B;;AAAA;;AACkC;;AAAA;;AAM5F;;AAAA;;AAKJ;;AAAA;;AAIA;;AAAA;;AAGT;;AAAA;;AAeA;;AAAA;;AAwBA;;AAAA;;AAcS;;AAAA,yGAAsG,cAAtG,EAAsG,gBAAtG;;AAqET;;AAAA;;AAakE;;AAAA;;;;;;AA/P/E;;AACI;;AAwFA;;AA0KJ;;;;;;AAlQ6B;;AAAA;;AAwFA;;AAAA;;;;;;AA2K7B;;AACI;;AAA+B;;AAAmB;;AAClD;;AACJ;;;;UD1PaC,wB;AAeT,0CAAoB1a,IAApB,EACoBiM,YADpB,EACgD;AAAA;;AAD5B,eAAAjM,IAAA,GAAAA,IAAA;AACA,eAAAiM,YAAA,GAAAA,YAAA;AAbV,eAAA0O,aAAA,GAAgB,IAAI,0DAAJ,EAAhB;AAOV,eAAArD,mBAAA,GAAsB,KAAtB;AACA,eAAAlF,MAAA,GAAS,KAAT;AAEA,eAAA2G,QAAA,GAAW,KAAX;AAGmD;;;;qCAE3C,CACP;;;sCAEW;AAAA;;AACR,iBAAK9M,YAAL,CAAkB+M,eAAlB,CAAkC,KAAKhZ,IAAvC,EAA6C,KAAK6M,OAAlD,EAA2D/P,IAA3D,CACI,UAAC8P,SAAD,EAAoB;AAChB,kBAAM1L,QAAQ,GAAoB0L,SAAlC;AACA1N,qBAAO,CAACoB,GAAR,CAAYY,QAAZ;AACA,qBAAI,CAAC4M,KAAL,GAAa5M,QAAQ,CAACD,IAAtB;AACA,qBAAI,CAAC2Z,aAAL,GAAqBla,IAAI,CAACS,KAAL,CAAWT,IAAI,CAACC,SAAL,CAAe,OAAI,CAACmN,KAApB,CAAX,CAArB;AACA5O,qBAAO,CAACoB,GAAR,CAAY,OAAI,CAACwN,KAAjB;AACH,aAPL;AASH;;;8CAGmBP,K,EAAsB;AACtC,gBAAI,KAAK+J,mBAAL,IAA4B/J,KAAK,CAAC5F,GAAN,KAAc,OAA1C,IAAqD4F,KAAK,CAACgM,OAA/D,EAAwE;AACpE,mBAAKsB,eAAL;AACH;AACJ;;;oCAESnT,K,EAAOxF,I,EAAM;AACnB,mBAAOwF,KAAP;AACH;;;4CAEiB;AACd,iBAAK4P,mBAAL,GAA2B,CAAC,KAAKA,mBAAjC,CADc,CAEd;AACH;;;yCAEc;AACX,iBAAKxJ,KAAL,GAAapN,IAAI,CAACS,KAAL,CAAWT,IAAI,CAACC,SAAL,CAAe,KAAKia,aAApB,CAAX,CAAb;AACH;;;sCAEW;AAAA;;AACR,iBAAKxI,MAAL,GAAc,CAAC,KAAKA,MAApB;;AACA,gBAAI,KAAKA,MAAL,IAAe1R,IAAI,CAACC,SAAL,CAAe,KAAKia,aAApB,MAAuCla,IAAI,CAACC,SAAL,CAAe,KAAKmN,KAApB,CAA1D,EAAsF;AAClF,mBAAKiL,QAAL,GAAgB,IAAhB;AACA,mBAAK+B,WAAL;AACA,mBAAKH,aAAL,CAAmBpX,IAAnB,CAAwB,KAAKuK,KAAL,CAAWjB,OAAnC;AACAlK,wBAAU,CAAE,YAAM;AAAE,uBAAI,CAAC4X,SAAL;AAAmB,eAA7B,EAA+B,IAA/B,CAAV;AACA5X,wBAAU,CAAE,YAAM;AACd,uBAAI,CAACoW,QAAL,GAAgB,KAAhB;AACA,uBAAI,CAAC3G,MAAL,GAAc,KAAd;AACA,uBAAI,CAACkF,mBAAL,GAA2B,KAA3B;AACH,eAJS,EAIP,IAJO,CAAV;AAKH;AACJ;;;6DAEkC;AAC/B,iBAAK,IAAIxQ,CAAC,GAAG,CAAb,EAAiBA,CAAC,GAAG,KAAKgH,KAAL,CAAWiN,YAAX,CAAwB1X,MAA7C,EAAsDyD,CAAC,EAAvD,EAA2D;AACvD,mBAAK,IAAIgR,gBAAgB,GAAG,CAA5B,EACKA,gBAAgB,GAAG,KAAKhK,KAAL,CAAWiN,YAAX,CAAwBjU,CAAxB,EAA2BkU,uBAA3B,CAAmD3X,MAD3E,EACoFyU,gBAAgB,EADpG,EACwG;AACpG,oBAAI,KAAKhK,KAAL,CAAWiN,YAAX,CAAwBjU,CAAxB,EAA2BkU,uBAA3B,CAAmDlD,gBAAnD,EAAqEmD,OAArE,CAA6E5X,MAA7E,KAAwF,CAA5F,EAA+F;AAC3F,uBAAKyK,KAAL,CAAWiN,YAAX,CAAwBjU,CAAxB,EAA2BkU,uBAA3B,CAAmD9T,MAAnD,CAA0D4Q,gBAA1D,EAA4E,CAA5E;AACAA,kCAAgB;AACnB;AACJ;;AACD,kBAAI,KAAKhK,KAAL,CAAWiN,YAAX,CAAwBjU,CAAxB,EAA2BoU,iBAA/B,EAAkD;AAC9C,qBAAK,IAAInD,UAAU,GAAG,CAAtB,EAAyBA,UAAU,GAAG,KAAKjK,KAAL,CAAWiN,YAAX,CAAwBjU,CAAxB,EAA2BoU,iBAA3B,CAA6C7X,MAAnF,EAA2F0U,UAAU,EAArG,EAAyG;AACrG,uBAAK,IAAIC,eAAe,GAAG,CAA3B,EAA8BA,eAAe,GAC7C,KAAKlK,KAAL,CAAWiN,YAAX,CAAwBjU,CAAxB,EAA2BoU,iBAA3B,CAA6CnD,UAA7C,EAAyDoD,sBAAzD,CAAgF9X,MADhF,EACwF2U,eAAe,EADvG,EAC2G;AACvG,yBAAK,IAAIC,sBAAsB,GAAG,CAAlC,EAAqCA,sBAAsB,GAC3D,KAAKnK,KAAL,CAAWiN,YAAX,CAAwBjU,CAAxB,EAA2BoU,iBAA3B,CAA6CnD,UAA7C,EACKoD,sBADL,CAC4BnD,eAD5B,EAC6CoD,6BAD7C,CAC2E/X,MAF3E,EAEmF4U,sBAAsB,EAFzG,EAE6G;AACzG,0BACC,KAAKnK,KAAL,CAAWiN,YAAX,CAAwBjU,CAAxB,EAA2BoU,iBAA3B,CAA6CnD,UAA7C,EAAyDoD,sBAAzD,CAAgFnD,eAAhF,EACIoD,6BADJ,CACkCnD,sBADlC,EAC0DgD,OAD1D,CACkE5X,MADlE,KAC6E,CAF9E,EAEiF;AAC7E,6BAAKyK,KAAL,CAAWiN,YAAX,CAAwBjU,CAAxB,EAA2BoU,iBAA3B,CAA6CnD,UAA7C,EAAyDoD,sBAAzD,CAAgFnD,eAAhF,EACKoD,6BADL,CACmClU,MADnC,CAC0C+Q,sBAD1C,EACkE,CADlE;AAEAA,8CAAsB;AACzB;AACJ;;AACD,wBAAI,KAAKnK,KAAL,CAAWiN,YAAX,CAAwBjU,CAAxB,EAA2BoU,iBAA3B,CAA6CnD,UAA7C,EACCoD,sBADD,CACwBnD,eADxB,EACyCoD,6BADzC,CACuE/X,MADvE,KACkF,CADtF,EACyF;AACrF,2BAAKyK,KAAL,CAAWiN,YAAX,CAAwBjU,CAAxB,EAA2BoU,iBAA3B,CAA6CnD,UAA7C,EAAyDoD,sBAAzD,CAAgFjU,MAAhF,CAAuF8Q,eAAvF,EAAwG,CAAxG;AACAA,qCAAe;AAClB;AACJ;;AACD,uBAAK,IAAIE,YAAY,GAAG,CAAxB,EAA2BA,YAAY,GACvC,KAAKpK,KAAL,CAAWiN,YAAX,CAAwBjU,CAAxB,EAA2BoU,iBAA3B,CAA6CnD,UAA7C,EAAyDsD,mBAAzD,CAA6EhY,MAD7E,EACqF6U,YAAY,EADjG,EACqG;AACjG,yBAAK,IAAIE,mBAAmB,GAAG,CAA/B,EAAkCA,mBAAmB,GACrD,KAAKtK,KAAL,CAAWiN,YAAX,CAAwBjU,CAAxB,EAA2BoU,iBAA3B,CAA6CnD,UAA7C,EAAyDsD,mBAAzD,CAA6EnD,YAA7E,EACKoD,0BADL,CACgCjY,MAFhC,EAEwC+U,mBAAmB,EAF3D,EAE+D;AAC3D,0BAAI,KAAKtK,KAAL,CAAWiN,YAAX,CAAwBjU,CAAxB,EAA2BoU,iBAA3B,CAA6CnD,UAA7C,EAAyDsD,mBAAzD,CAA6EnD,YAA7E,EACCoD,0BADD,CAC4BlD,mBAD5B,EACiD6C,OADjD,CACyD5X,MADzD,KACoE,CADxE,EAC2E;AACvE,6BAAKyK,KAAL,CAAWiN,YAAX,CAAwBjU,CAAxB,EAA2BoU,iBAA3B,CAA6CnD,UAA7C,EACKsD,mBADL,CACyBnD,YADzB,EACuCoD,0BADvC,CACkEpU,MADlE,CACyEkR,mBADzE,EAC8F,CAD9F;AAEAA,2CAAmB;AACtB;AACJ;;AACD,wBAAI,KAAKtK,KAAL,CAAWiN,YAAX,CAAwBjU,CAAxB,EAA2BoU,iBAA3B,CAA6CnD,UAA7C,EACCsD,mBADD,CACqBnD,YADrB,EACmCoD,0BADnC,CAC8DjY,MAD9D,KACyE,CAD7E,EACgF;AAC5E,2BAAKyK,KAAL,CAAWiN,YAAX,CAAwBjU,CAAxB,EAA2BoU,iBAA3B,CAA6CnD,UAA7C,EAAyDsD,mBAAzD,CAA6EnU,MAA7E,CAAoFgR,YAApF,EAAkG,CAAlG;AACAA,kCAAY;AACf;AACJ;;AACD,sBAAI,KAAKpK,KAAL,CAAWiN,YAAX,CAAwBjU,CAAxB,EAA2BoU,iBAA3B,CAA6CnD,UAA7C,EAAyDoD,sBAAzD,CAAgF9X,MAAhF,KAA2F,CAA3F,IACG,KAAKyK,KAAL,CAAWiN,YAAX,CAAwBjU,CAAxB,EAA2BoU,iBAA3B,CAA6CnD,UAA7C,EAAyDsD,mBAAzD,CAA6EhY,MAA7E,KAAwF,CAD/F,EACkG;AAC9F,yBAAKyK,KAAL,CAAWiN,YAAX,CAAwBjU,CAAxB,EAA2BoU,iBAA3B,CAA6ChU,MAA7C,CAAoD6Q,UAApD,EAAgE,CAAhE;AACAA,8BAAU;AACb;AACJ;AACJ;;AACD,kBAAI,KAAKjK,KAAL,CAAWiN,YAAX,CAAwBjU,CAAxB,EAA2ByU,cAA/B,EAA+C;AAC3C,qBAAK,IAAIlD,OAAO,GAAG,CAAnB,EAAsBA,OAAO,GAAG,KAAKvK,KAAL,CAAWiN,YAAX,CAAwBjU,CAAxB,EAA2ByU,cAA3B,CAA0ClY,MAA1E,EAAkFgV,OAAO,EAAzF,EAA6F;AACzF,uBAAK,IAAIC,OAAO,GAAG,CAAnB,EAAsBA,OAAO,GAAG,KAAKxK,KAAL,CAAWiN,YAAX,CAAwBjU,CAAxB,EAC3ByU,cAD2B,CACZlD,OADY,EACHmD,qBADG,CACmBnY,MADnD,EAC2DiV,OAAO,EADlE,EACsE;AAClE,wBAAI,KAAKxK,KAAL,CAAWiN,YAAX,CAAwBjU,CAAxB,EAA2ByU,cAA3B,CAA0ClD,OAA1C,EAAmDmD,qBAAnD,CAAyElD,OAAzE,EAAkF2C,OAAlF,CAA0F5X,MAA1F,KAAqG,CAAzG,EAA4G;AACxG,2BAAKyK,KAAL,CAAWiN,YAAX,CAAwBjU,CAAxB,EAA2ByU,cAA3B,CAA0ClD,OAA1C,EAAmDmD,qBAAnD,CAAyEtU,MAAzE,CAAgFoR,OAAhF,EAAyF,CAAzF;AACAA,6BAAO;AACV;AACJ;;AACD,sBAAI,KAAKxK,KAAL,CAAWiN,YAAX,CAAwBjU,CAAxB,EAA2ByU,cAA3B,CAA0ClY,MAA1C,KAAqD,CAAzD,EAA4D;AACxD,yBAAKyK,KAAL,CAAWiN,YAAX,CAAwBjU,CAAxB,EAA2ByU,cAA3B,CAA0CrU,MAA1C,CAAiDmR,OAAjD,EAA0D,CAA1D;AACAA,2BAAO;AACV;AACJ;AACJ;;AAED,mBAAK,IAAIoD,UAAU,GAAG,CAAtB,EACKA,UAAU,GAAG,KAAK3N,KAAL,CAAWiN,YAAX,CAAwBjU,CAAxB,EAA2B4U,mBAA3B,CAA+CrY,MADjE,EAC0EoY,UAAU,EADpF,EACwF;AACpF,oBAAI,KAAK3N,KAAL,CAAWiN,YAAX,CAAwBjU,CAAxB,EAA2B4U,mBAA3B,CAA+CD,UAA/C,EAA2DR,OAA3D,CAAmE5X,MAAnE,KAA8E,CAAlF,EAAqF;AACjF,uBAAKyK,KAAL,CAAWiN,YAAX,CAAwBjU,CAAxB,EAA2B4U,mBAA3B,CAA+CxU,MAA/C,CAAsDuU,UAAtD,EAAkE,CAAlE;AACAA,4BAAU;AACb;AACJ;;AAED,kBAAI,KAAK3N,KAAL,CAAWgE,QAAf,EAAyB;AACrB,oBAAI,KAAKhE,KAAL,CAAWgE,QAAX,CAAoBgI,KAApB,CAA0BzW,MAA1B,KAAqC,CAArC,IAA0C,KAAKyK,KAAL,CAAWgE,QAAX,CAAoBZ,GAApB,CAAwB7N,MAAxB,KAAmC,CAAjF,EAAoF;AAChF,uBAAKyK,KAAL,CAAWgE,QAAX,GAAsB,IAAtB;AACH;AACJ;;AAED,kBAAI,KAAKhE,KAAL,CAAW6E,WAAf,EAA4B;AACxB,oBAAI,KAAK7E,KAAL,CAAW6E,WAAX,CAAuB8D,WAAvB,CAAmCpT,MAAnC,KAA8C,CAA9C,IAAmD,KAAKyK,KAAL,CAAW6E,WAAX,CAAuBzB,GAAvB,CAA2B7N,MAA3B,KAAsC,CAA7F,EAAgG;AAC5F,uBAAKyK,KAAL,CAAW6E,WAAX,GAAyB,IAAzB;AACH;AACJ;;AAED,kBAAI,KAAK7E,KAAL,CAAWiN,YAAX,CAAwBjU,CAAxB,EAA2BkU,uBAA3B,CAAmD3X,MAAnD,KAA8D,CAA9D,IACG,CAAC,KAAKyK,KAAL,CAAWiN,YAAX,CAAwBjU,CAAxB,EAA2BoU,iBAD/B,IAEG,CAAC,KAAKpN,KAAL,CAAWiN,YAAX,CAAwBjU,CAAxB,EAA2ByU,cAFnC,EAEmD;AAC/Crc,uBAAO,CAACoB,GAAR,CAAY,0CAA0C,KAAKwN,KAAL,CAAWiN,YAAX,CAAwBjU,CAAxB,EAA2B7I,KAAjF;AACA,qBAAK6P,KAAL,CAAWiN,YAAX,CAAwB7T,MAAxB,CAA+BJ,CAA/B,EAAkC,CAAlC;AACAA,iBAAC;AACJ;AACJ;AACJ;;;2CAEgBgP,I,EAAc;AAC3B,oBAAQA,IAAI,CAAC9T,WAAL,EAAR;AACI,mBAAK,KAAL;AACI,qBAAK8L,KAAL,CAAWoF,WAAX,GAAyB,CAAC,KAAKpF,KAAL,CAAWoF,WAArC;AACA;;AACJ,mBAAK,cAAL;AACI,qBAAKpF,KAAL,CAAWqF,oBAAX,GAAkC,CAAC,KAAKrF,KAAL,CAAWqF,oBAA9C;AACA;;AACJ,mBAAK,aAAL;AACI,qBAAKrF,KAAL,CAAWsF,mBAAX,GAAiC,CAAC,KAAKtF,KAAL,CAAWsF,mBAA7C;AACA;;AACJ,mBAAK,UAAL;AACI,qBAAKtF,KAAL,CAAWuF,gBAAX,GAA8B,CAAC,KAAKvF,KAAL,CAAWuF,gBAA1C;AACA;;AACJ,mBAAK,OAAL;AACI,qBAAKvF,KAAL,CAAWwF,aAAX,GAA2B,CAAC,KAAKxF,KAAL,CAAWwF,aAAvC;AACA;AAfR;;AAkBA,iBAAKqI,kBAAL,CAAwB,KAAK7N,KAA7B,EAAoC,KAAK8M,aAAzC;AACH,W,CAED;AACA;AACA;AACA;AACA;;;;wCACc;AACV,iBAAKgB,cAAL;;AACA,gBAAI,KAAKC,YAAL,EAAJ,EAAyB;AACrB;AACA,mBAAK5P,YAAL,CAAkB6B,KAAlB,CAAwB,KAAK9N,IAA7B,EAAmC,yEAAY0Z,MAA/C,EAAuD,CAAvD,EAA0D,KAAK5L,KAA/D,EACKhR,IADL,CAEQ,UAACmE,IAAD,EAAe;AACX/B,uBAAO,CAACoB,GAAR,CAAYW,IAAZ;AACH,eAJT;AAMH,aARD,MAQO;AACH,mBAAK,IAAI6a,UAAU,GAAG,CAAtB,EAAyBA,UAAU,GAAG,KAAKhO,KAAL,CAAWiN,YAAX,CAAwB1X,MAA9D,EAAsEyY,UAAU,EAAhF,EAAoF;AAChF,oBAAI,KAAKC,mBAAL,CAAyB,KAAKjO,KAAL,CAAWiN,YAAX,CAAwBe,UAAxB,CAAzB,CAAJ,EAAmE;AAC/D;AACA,uBAAK7P,YAAL,CAAkB8O,YAAlB,CAA+B,KAAK/a,IAApC,EAA0C,yEAAY0Z,MAAtD,EAA8D,CAA9D,EAAiE,KAAK5L,KAAL,CAAWiN,YAAX,CAAwBe,UAAxB,CAAjE,EACKhf,IADL,CAEQ,UAACmE,IAAD,EAAe;AACX/B,2BAAO,CAACoB,GAAR,CAAYW,IAAZ;AACH,mBAJT;AAMH,iBARD,MAQO;AACH,uBAAK,IAAI8W,UAAU,GAAG,CAAtB,EAAyBA,UAAU,GAAG,KAAKjK,KAAL,CAAWiN,YAAX,CAAwBe,UAAxB,EAAoCZ,iBAApC,CAAsD7X,MAA5F,EAAoG0U,UAAU,EAA9G,EAAkH;AAC9G,wBAAI,KAAKiE,YAAL,CAAkB,KAAKlO,KAAL,CAAWiN,YAAX,CAAwBe,UAAxB,EAAoCZ,iBAApC,CAAsDnD,UAAtD,CAAlB,CAAJ,EAA0F;AACtF;AACA,2BAAK9L,YAAL,CAAkB0K,KAAlB,CAAwB,KAAK3W,IAA7B,EAAmC,yEAAY0Z,MAA/C,EAAuD,CAAvD,EACI,KAAK5L,KAAL,CAAWiN,YAAX,CAAwBe,UAAxB,EAAoCZ,iBAApC,CAAsDnD,UAAtD,CADJ,EAEKjb,IAFL,CAGQ,UAACmE,IAAD,EAAe;AACX/B,+BAAO,CAACoB,GAAR,CAAYW,IAAZ;AACH,uBALT;AAOH,qBATD,MASO;AACH,0BAAI,KAAKgb,kBAAL,CAAwB,KAAKnO,KAAL,CAAWiN,YAAX,CAAwBe,UAAxB,EAAoCZ,iBAApC,CAAsDnD,UAAtD,CAAxB,EACA,KAAK6C,aAAL,CAAmBG,YAAnB,CAAgCe,UAAhC,EAA4CZ,iBAA5C,CAA8DnD,UAA9D,CADA,CAAJ,EACgF;AAC5E;AACA,6BAAK9L,YAAL,CAAkB0K,KAAlB,CAAwB,KAAK3W,IAA7B,EAAmC,yEAAY6Z,GAA/C,EAAoD,CAApD,EACI,KAAK/L,KAAL,CAAWiN,YAAX,CAAwBe,UAAxB,EAAoCZ,iBAApC,CAAsDnD,UAAtD,CADJ,EAEKjb,IAFL,CAGQ,UAACmE,IAAD,EAAe;AACX/B,iCAAO,CAACoB,GAAR,CAAYW,IAAZ;AACH,yBALT;AAOH;;AACD,2BAAK,IAAIib,UAAU,GAAG,CAAtB,EACKA,UAAU,GAAG,KAAKpO,KAAL,CAAWiN,YAAX,CAAwBe,UAAxB,EAAoCZ,iBAApC,CAAsDnD,UAAtD,EACRoD,sBADQ,CACe9X,MAFjC,EAGK6Y,UAAU,EAHf,EAGmB;AACf,4BAAI,KAAKC,iBAAL,CAAuB,KAAKrO,KAAL,CAAWiN,YAAX,CAAwBe,UAAxB,EAAoCZ,iBAApC,CAAsDnD,UAAtD,EACtBoD,sBADsB,CACCe,UADD,CAAvB,CAAJ,EAC0C;AACtC;AACA,+BAAKjQ,YAAL,CAAkBhO,KAAlB,CAAwB,KAAK+B,IAA7B,EAAmC,yEAAY0Z,MAA/C,EAAuD,CAAvD,EACI,KAAK5L,KAAL,CAAWiN,YAAX,CAAwBe,UAAxB,EAAoCZ,iBAApC,CAAsDnD,UAAtD,EACKoD,sBADL,CAC4Be,UAD5B,CADJ,EAGKpf,IAHL,CAIQ,UAACmE,IAAD,EAAe;AACX/B,mCAAO,CAACoB,GAAR,CAAYW,IAAZ;AACH,2BANT;AAQH,yBAXD,MAWO;AACH,8BAAI,KAAKmb,uBAAL,CAA6B,KAAKtO,KAAL,CAAWiN,YAAX,CAAwBe,UAAxB,EAAoCZ,iBAApC,CAAsDnD,UAAtD,EACxBoD,sBADwB,CACDe,UADC,CAA7B,EAEA,KAAKtB,aAAL,CAAmBG,YAAnB,CAAgCe,UAAhC,EAA4CZ,iBAA5C,CAA8DnD,UAA9D,EACKoD,sBADL,CAC4Be,UAD5B,CAFA,CAAJ,EAG8C;AAC1C;AACA,iCAAKjQ,YAAL,CAAkBhO,KAAlB,CAAwB,KAAK+B,IAA7B,EAAmC,yEAAY6Z,GAA/C,EAAoD,CAApD,EACI,KAAK/L,KAAL,CAAWiN,YAAX,CAAwBe,UAAxB,EAAoCZ,iBAApC,CAAsDnD,UAAtD,EACKoD,sBADL,CAC4Be,UAD5B,CADJ,EAGKpf,IAHL,CAIQ,UAACmE,IAAD,EAAe;AACX/B,qCAAO,CAACoB,GAAR,CAAYW,IAAZ;AACH,6BANT;AAQH;;AACD,+BAAK,IAAIob,iBAAiB,GAAG,CAA7B,EACKA,iBAAiB,GAAG,KAAKvO,KAAL,CAAWiN,YAAX,CAAwBe,UAAxB,EAAoCZ,iBAApC,CAAsDnD,UAAtD,EACfoD,sBADe,CACQe,UADR,EACoBd,6BADpB,CACkD/X,MAF3E,EAGKgZ,iBAAiB,EAHtB,EAG0B;AACtB,gCAAI,KAAKC,wBAAL,CAA8B,KAAKxO,KAAL,CAAWiN,YAAX,CAAwBe,UAAxB,EAAoCZ,iBAApC,CAAsDnD,UAAtD,EAC7BoD,sBAD6B,CACNe,UADM,EACMd,6BADN,CACoCiB,iBADpC,CAA9B,CAAJ,EAC2F;AACvF;AACA,mCAAKpQ,YAAL,CAAkBsQ,YAAlB,CAA+B,KAAKvc,IAApC,EAA0C,yEAAY0Z,MAAtD,EAA8D,CAA9D,EACI,KAAK5L,KAAL,CAAWiN,YAAX,CAAwBe,UAAxB,EAAoCZ,iBAApC,CAAsDnD,UAAtD,EACKoD,sBADL,CAC4Be,UAD5B,EAEKd,6BAFL,CAEmCiB,iBAFnC,CADJ,EAG2Dvf,IAH3D,CAII,UAACmE,IAAD,EAAe;AACX/B,uCAAO,CAACoB,GAAR,CAAYW,IAAZ;AACH,+BANL;AAQH,6BAXD,MAWO;AACH,kCAAI,KAAKub,8BAAL,CAAoC,KAAK1O,KAAL,CAAWiN,YAAX,CAAwBe,UAAxB,EAC/BZ,iBAD+B,CACbnD,UADa,EACDoD,sBADC,CACsBe,UADtB,EAE/Bd,6BAF+B,CAEDiB,iBAFC,CAApC,EAGA,KAAKzB,aAAL,CAAmBG,YAAnB,CAAgCe,UAAhC,EAA4CZ,iBAA5C,CAA8DnD,UAA9D,EACKoD,sBADL,CAC4Be,UAD5B,EAEKd,6BAFL,CAEmCiB,iBAFnC,CAHA,CAAJ,EAK4D;AACxD;AACA,qCAAKpQ,YAAL,CAAkBsQ,YAAlB,CAA+B,KAAKvc,IAApC,EAA0C,yEAAY6Z,GAAtD,EAA2D,CAA3D,EACI,KAAK/L,KAAL,CAAWiN,YAAX,CAAwBe,UAAxB,EAAoCZ,iBAApC,CAAsDnD,UAAtD,EACKoD,sBADL,CAC4Be,UAD5B,EAEKd,6BAFL,CAEmCiB,iBAFnC,CADJ,EAG2Dvf,IAH3D,CAII,UAACmE,IAAD,EAAe;AACX/B,yCAAO,CAACoB,GAAR,CAAYW,IAAZ;AACH,iCANL;AAQH;AACJ;AACJ;AACJ;AACJ;;AACD,2BAAK,IAAIwb,OAAO,GAAG,CAAnB,EACKA,OAAO,GAAG,KAAK3O,KAAL,CAAWiN,YAAX,CAAwBe,UAAxB,EAAoCZ,iBAApC,CAAsDnD,UAAtD,EAAkEsD,mBAAlE,CAAsFhY,MADrG,EAEKoZ,OAAO,EAFZ,EAEgB;AACZ,4BAAI,KAAKC,cAAL,CAAoB,KAAK5O,KAAL,CAAWiN,YAAX,CAAwBe,UAAxB,EAAoCZ,iBAApC,CAAsDnD,UAAtD,EACnBsD,mBADmB,CACCoB,OADD,CAApB,CAAJ,EACoC;AAChC;AACA,+BAAKxQ,YAAL,CAAkBkM,EAAlB,CAAqB,KAAKnY,IAA1B,EAAgC,yEAAY0Z,MAA5C,EAAoD,CAApD,EACI,KAAK5L,KAAL,CAAWiN,YAAX,CAAwBe,UAAxB,EAAoCZ,iBAApC,CAAsDnD,UAAtD,EAAkEsD,mBAAlE,CAAsFoB,OAAtF,CADJ,EAEK3f,IAFL,CAGQ,UAACmE,IAAD,EAAe;AACX/B,mCAAO,CAACoB,GAAR,CAAYW,IAAZ;AACH,2BALT;AAOH,yBAVD,MAUO;AACH,8BAAI,KAAK0b,oBAAL,CAA0B,KAAK7O,KAAL,CAAWiN,YAAX,CAAwBe,UAAxB,EAAoCZ,iBAApC,CAAsDnD,UAAtD,EACrBsD,mBADqB,CACDoB,OADC,CAA1B,EAEA,KAAK7B,aAAL,CAAmBG,YAAnB,CAAgCe,UAAhC,EAA4CZ,iBAA5C,CAA8DnD,UAA9D,EACKsD,mBADL,CACyBoB,OADzB,CAFA,CAAJ,EAGwC;AACpC;AACA,iCAAKxQ,YAAL,CAAkBkM,EAAlB,CAAqB,KAAKnY,IAA1B,EAAgC,yEAAY6Z,GAA5C,EAAiD,CAAjD,EACI,KAAK/L,KAAL,CAAWiN,YAAX,CAAwBe,UAAxB,EAAoCZ,iBAApC,CAAsDnD,UAAtD,EAAkEsD,mBAAlE,CAAsFoB,OAAtF,CADJ,EAEK3f,IAFL,CAGQ,UAACmE,IAAD,EAAe;AACX/B,qCAAO,CAACoB,GAAR,CAAYW,IAAZ;AACH,6BALT;AAOH;;AACD,+BAAK,IAAI2b,cAAc,GAAG,CAA1B,EACKA,cAAc,GAAG,KAAK9O,KAAL,CAAWiN,YAAX,CAAwBe,UAAxB,EAAoCZ,iBAApC,CAAsDnD,UAAtD,EACZsD,mBADY,CACQoB,OADR,EACiBnB,0BADjB,CAC4CjY,MAFlE,EAGKuZ,cAAc,EAHnB,EAGuB;AACnB,gCAAI,KAAKC,qBAAL,CAA2B,KAAK/O,KAAL,CAAWiN,YAAX,CAAwBe,UAAxB,EAAoCZ,iBAApC,CAAsDnD,UAAtD,EAC1BsD,mBAD0B,CACNoB,OADM,EACGnB,0BADH,CAC8BsB,cAD9B,CAA3B,CAAJ,EAC+E;AAC3E;AACA,mCAAK3Q,YAAL,CAAkB6Q,SAAlB,CAA4B,KAAK9c,IAAjC,EAAuC,yEAAY0Z,MAAnD,EAA2D,CAA3D,EACI,KAAK5L,KAAL,CAAWiN,YAAX,CAAwBe,UAAxB,EAAoCZ,iBAApC,CAAsDnD,UAAtD,EACKsD,mBADL,CACyBoB,OADzB,EACkCnB,0BADlC,CAC6DsB,cAD7D,CADJ,EAEkF9f,IAFlF,CAGI,UAACmE,IAAD,EAAe;AACX/B,uCAAO,CAACoB,GAAR,CAAYW,IAAZ;AACH,+BALL;AAOH,6BAVD,MAUO;AACH,kCAAI,KAAK8b,2BAAL,CAAiC,KAAKjP,KAAL,CAAWiN,YAAX,CAAwBe,UAAxB,EAC5BZ,iBAD4B,CACVnD,UADU,EACEsD,mBADF,CACsBoB,OADtB,EAE5BnB,0BAF4B,CAEDsB,cAFC,CAAjC,EAGA,KAAKhC,aAAL,CAAmBG,YAAnB,CAAgCe,UAAhC,EAA4CZ,iBAA5C,CAA8DnD,UAA9D,EACKsD,mBADL,CACyBoB,OADzB,EACkCnB,0BADlC,CAC6DsB,cAD7D,CAHA,CAAJ,EAImF;AAC/E;AACA,qCAAK3Q,YAAL,CAAkB6Q,SAAlB,CAA4B,KAAK9c,IAAjC,EAAuC,yEAAY6Z,GAAnD,EAAwD,CAAxD,EACI,KAAK/L,KAAL,CAAWiN,YAAX,CAAwBe,UAAxB,EAAoCZ,iBAApC,CAAsDnD,UAAtD,EACKsD,mBADL,CACyBoB,OADzB,EACkCnB,0BADlC,CAC6DsB,cAD7D,CADJ,EAEkF9f,IAFlF,CAGI,UAACmE,IAAD,EAAe;AACX/B,yCAAO,CAACoB,GAAR,CAAYW,IAAZ;AACH,iCALL;AAOH;AACJ;AACJ;AACJ;AACJ;AACJ;AACJ;;AAED,uBAAK,IAAIoX,OAAO,GAAG,CAAnB,EAAsBA,OAAO,GAAG,KAAKvK,KAAL,CAAWiN,YAAX,CAAwBe,UAAxB,EAAoCP,cAApC,CAAmDlY,MAAnF,EAA2FgV,OAAO,EAAlG,EAAsG;AAClG,wBAAI,KAAK2E,SAAL,CAAe,KAAKlP,KAAL,CAAWiN,YAAX,CAAwBe,UAAxB,EAAoCP,cAApC,CAAmDlD,OAAnD,CAAf,CAAJ,EAAiF;AAC7E;AACA,2BAAKpM,YAAL,CAAkB2K,EAAlB,CAAqB,KAAK5W,IAA1B,EAAgC,yEAAY0Z,MAA5C,EAAoD,CAApD,EACI,KAAK5L,KAAL,CAAWiN,YAAX,CAAwBe,UAAxB,EAAoCP,cAApC,CAAmDlD,OAAnD,CADJ,EACiEvb,IADjE,CAEI,UAACmE,IAAD,EAAe;AACX/B,+BAAO,CAACoB,GAAR,CAAYW,IAAZ;AACH,uBAJL;AAMH,qBARD,MAQO;AACH,0BAAI,KAAKgc,eAAL,CAAqB,KAAKnP,KAAL,CAAWiN,YAAX,CAAwBe,UAAxB,EAAoCP,cAApC,CAAmDlD,OAAnD,CAArB,EACA,KAAKuC,aAAL,CAAmBG,YAAnB,CAAgCe,UAAhC,EAA4CP,cAA5C,CAA2DlD,OAA3D,CADA,CAAJ,EAC0E;AACtE;AACA,6BAAKpM,YAAL,CAAkB2K,EAAlB,CAAqB,KAAK5W,IAA1B,EAAgC,yEAAY6Z,GAA5C,EAAiD,CAAjD,EACI,KAAK/L,KAAL,CAAWiN,YAAX,CAAwBe,UAAxB,EAAoCP,cAApC,CAAmDlD,OAAnD,CADJ,EACiEvb,IADjE,CAEI,UAACmE,IAAD,EAAe;AACX/B,iCAAO,CAACoB,GAAR,CAAYW,IAAZ;AACH,yBAJL;AAMH;;AACD,2BAAK,IAAIic,cAAc,GAAG,CAA1B,EACKA,cAAc,GAAG,KAAKpP,KAAL,CAAWiN,YAAX,CAAwBe,UAAxB,EAAoCP,cAApC,CAAmDlD,OAAnD,EAA4DmD,qBAA5D,CAAkFnY,MADxG,EAEK6Z,cAAc,EAFnB,EAEuB;AACnB,4BAAI,KAAKC,gBAAL,CAAsB,KAAKrP,KAAL,CAAWiN,YAAX,CAAwBe,UAAxB,EAAoCP,cAApC,CAAmDlD,OAAnD,EACrBmD,qBADqB,CACC0B,cADD,CAAtB,CAAJ,EAC6C;AACzC;AACA,+BAAKjR,YAAL,CAAkBmR,SAAlB,CAA4B,KAAKpd,IAAjC,EAAuC,yEAAY0Z,MAAnD,EAA2D,CAA3D,EACI,KAAK5L,KAAL,CAAWiN,YAAX,CAAwBe,UAAxB,EAAoCP,cAApC,CAAmDlD,OAAnD,EACKmD,qBADL,CAC2B0B,cAD3B,CADJ,EAEgDpgB,IAFhD,CAGI,UAACmE,IAAD,EAAe;AACX/B,mCAAO,CAACoB,GAAR,CAAYW,IAAZ;AACH,2BALL;AAOH,yBAVD,MAUO;AACH,8BAAI,KAAKoc,sBAAL,CAA4B,KAAKvP,KAAL,CAAWiN,YAAX,CAAwBe,UAAxB,EAAoCP,cAApC,CAAmDlD,OAAnD,EACvBmD,qBADuB,CACD0B,cADC,CAA5B,EAEA,KAAKtC,aAAL,CAAmBG,YAAnB,CAAgCe,UAAhC,EAA4CP,cAA5C,CAA2DlD,OAA3D,EACKmD,qBADL,CAC2B0B,cAD3B,CAFA,CAAJ,EAGiD;AAC7C;AACAhe,mCAAO,CAACoB,GAAR,CAAY,iCACR,KAAKwN,KAAL,CAAWiN,YAAX,CAAwBe,UAAxB,EAAoCP,cAApC,CAAmDlD,OAAnD,EACKmD,qBADL,CAC2B0B,cAD3B,EAC2CjC,OAFnC,GAE6C,OAF7C,GAGR,KAAKL,aAAL,CAAmBG,YAAnB,CAAgCe,UAAhC,EAA4CP,cAA5C,CAA2DlD,OAA3D,EACKmD,qBADL,CAC2B0B,cAD3B,EAC2CjC,OAJ/C;AAKA,iCAAKhP,YAAL,CAAkBmR,SAAlB,CAA4B,KAAKpd,IAAjC,EAAuC,yEAAY6Z,GAAnD,EAAwD,CAAxD,EACI,KAAK/L,KAAL,CAAWiN,YAAX,CAAwBe,UAAxB,EAAoCP,cAApC,CAAmDlD,OAAnD,EACKmD,qBADL,CAC2B0B,cAD3B,CADJ,EAEgDpgB,IAFhD,CAGI,UAACmE,IAAD,EAAe;AACX/B,qCAAO,CAACoB,GAAR,CAAYW,IAAZ;AACH,6BALL;AAOH;AACJ;AACJ;AACJ;AACJ;;AAGD,uBAAK,IAAI6W,gBAAgB,GAAG,CAA5B,EAA+BA,gBAAgB,GAAG,KAAKhK,KAAL,CAAWiN,YAAX,CAAwBe,UAAxB,EAAoCd,uBAApC,CAA4D3X,MAA9G,EACKyU,gBAAgB,EADrB,EACyB;AACrB,wBAAI,KAAKwF,kBAAL,CAAwB,KAAKxP,KAAL,CAAWiN,YAAX,CAAwBe,UAAxB,EAAoCd,uBAApC,CAA4DlD,gBAA5D,CAAxB,CAAJ,EAA4G;AACxG;AACA,2BAAK7L,YAAL,CAAkBwK,WAAlB,CAA8B,KAAKzW,IAAnC,EAAyC,yEAAY0Z,MAArD,EAA6D,CAA7D,EACI,KAAK5L,KAAL,CAAWiN,YAAX,CAAwBe,UAAxB,EAAoCd,uBAApC,CAA4DlD,gBAA5D,CADJ,EAEKhb,IAFL,CAGQ,UAACmE,IAAD,EAAe;AACX/B,+BAAO,CAACoB,GAAR,CAAYW,IAAZ;AACH,uBALT;AAOH,qBATD,MASO;AACH,0BAAI,KAAKsc,wBAAL,CAA8B,KAAKzP,KAAL,CAAWiN,YAAX,CAAwBe,UAAxB,EAAoCd,uBAApC,CAA4DlD,gBAA5D,CAA9B,EACA,KAAK8C,aAAL,CAAmBG,YAAnB,CAAgCe,UAAhC,EAA4Cd,uBAA5C,CAAoElD,gBAApE,CADA,CAAJ,EAC4F;AACxF;AACA,6BAAK7L,YAAL,CAAkBwK,WAAlB,CAA8B,KAAKzW,IAAnC,EAAyC,yEAAY6Z,GAArD,EAA0D,CAA1D,EACI,KAAK/L,KAAL,CAAWiN,YAAX,CAAwBe,UAAxB,EAAoCd,uBAApC,CAA4DlD,gBAA5D,CADJ,EAEKhb,IAFL,CAGQ,UAACmE,IAAD,EAAe;AACX/B,iCAAO,CAACoB,GAAR,CAAYW,IAAZ;AACH,yBALT;AAOH;AACJ;AACJ;;AAGD,uBAAK,IAAIwa,UAAU,GAAG,CAAtB,EAAyBA,UAAU,GAAG,KAAK3N,KAAL,CAAWiN,YAAX,CAAwBe,UAAxB,EAAoCJ,mBAApC,CAAwDrY,MAA9F,EACKoY,UAAU,EADf,EACmB;AACf,wBAAI,KAAK+B,WAAL,CAAiB,KAAK1P,KAAL,CAAWiN,YAAX,CAAwBe,UAAxB,EAAoCJ,mBAApC,CAAwDD,UAAxD,CAAjB,CAAJ,EAA2F;AACvF;AACA,2BAAKxP,YAAL,CAAkByK,KAAlB,CAAwB,KAAK1W,IAA7B,EAAmC,yEAAY0Z,MAA/C,EAAuD,CAAvD,EACI,KAAK5L,KAAL,CAAWiN,YAAX,CAAwBe,UAAxB,EAAoCJ,mBAApC,CAAwDD,UAAxD,CADJ,EAEK3e,IAFL,CAGQ,UAACmE,IAAD,EAAe;AACX/B,+BAAO,CAACoB,GAAR,CAAYW,IAAZ;AACH,uBALT;AAOH,qBATD,MASO;AACH,0BAAI,KAAKwc,iBAAL,CAAuB,KAAK3P,KAAL,CAAWiN,YAAX,CAAwBe,UAAxB,EAAoCJ,mBAApC,CAAwDD,UAAxD,CAAvB,EACA,KAAKb,aAAL,CAAmBG,YAAnB,CAAgCe,UAAhC,EAA4CJ,mBAA5C,CAAgED,UAAhE,CADA,CAAJ,EACkF;AAC9E;AACA,6BAAKxP,YAAL,CAAkByK,KAAlB,CAAwB,KAAK1W,IAA7B,EAAmC,yEAAY6Z,GAA/C,EAAoD,CAApD,EACI,KAAK/L,KAAL,CAAWiN,YAAX,CAAwBe,UAAxB,EAAoCJ,mBAApC,CAAwDD,UAAxD,CADJ,EAEK3e,IAFL,CAGQ,UAACmE,IAAD,EAAe;AACX/B,iCAAO,CAACoB,GAAR,CAAYW,IAAZ;AACH,yBALT;AAOH;AACJ;AACJ;;AAED,sBAAI,KAAKyc,0BAAL,CAAgC,KAAK5P,KAAL,CAAWiN,YAAX,CAAwBe,UAAxB,CAAhC,EAAqE,KAAKlB,aAAL,CAAmBG,YAAnB,CAAgCe,UAAhC,CAArE,CAAJ,EAAuH;AACnH;AACA,yBAAK7P,YAAL,CAAkB8O,YAAlB,CAA+B,KAAK/a,IAApC,EAA0C,yEAAY6Z,GAAtD,EAA2D,CAA3D,EAA8D,KAAK/L,KAAL,CAAWiN,YAAX,CAAwBe,UAAxB,CAA9D,EACKhf,IADL,CAEQ,UAACmE,IAAD,EAAe;AACX/B,6BAAO,CAACoB,GAAR,CAAYW,IAAZ;AACH,qBAJT;AAMH;AACJ;AACJ;;AACD,kBAAI,KAAK0a,kBAAL,CAAwB,KAAK7N,KAA7B,EAAoC,KAAK8M,aAAzC,CAAJ,EAA6D;AACzD,qBAAK3O,YAAL,CAAkB6B,KAAlB,CAAwB,KAAK9N,IAA7B,EAAmC,yEAAY6Z,GAA/C,EAAoD,CAApD,EAAuD,KAAK/L,KAA5D,EAAmEhR,IAAnE,CACI,UAACmE,IAAD,EAAe;AACX/B,yBAAO,CAACoB,GAAR,CAAYW,IAAZ;AACH,iBAHL;AAKH;AACJ;AACJ;;;2CAEgB;AACb,iBAAK6M,KAAL,CAAW6P,OAAX,GAAqB,KAAK7P,KAAL,CAAW6P,OAAX,GAAqB,KAAK7P,KAAL,CAAW6P,OAAX,CAAmBta,MAAnB,KAA8B,CAA9B,GAAkC,KAAKyK,KAAL,CAAW6P,OAA7C,GAAuD,IAA5E,GAAmF,IAAxG;AACA,iBAAK7P,KAAL,CAAWoD,GAAX,GAAiB,KAAKpD,KAAL,CAAWoD,GAAX,GAAiB,KAAKpD,KAAL,CAAWoD,GAAX,CAAe7N,MAAf,KAA0B,CAA1B,GAA8B,KAAKyK,KAAL,CAAWoD,GAAzC,GAA+C,IAAhE,GAAuE,IAAxF;AACA,iBAAKpD,KAAL,CAAWmD,IAAX,GAAkB,KAAKnD,KAAL,CAAWmD,IAAX,GAAkB,KAAKnD,KAAL,CAAWmD,IAAX,CAAgB5N,MAAhB,KAA2B,CAA3B,GAA+B,KAAKyK,KAAL,CAAWmD,IAA1C,GAAiD,IAAnE,GAA0E,IAA5F;AACA,iBAAKnD,KAAL,CAAW+D,MAAX,GAAoB,KAAK/D,KAAL,CAAW+D,MAAX,GAAoB,KAAK/D,KAAL,CAAW+D,MAAX,CAAkBxO,MAAlB,KAA6B,CAA7B,GAAiC,KAAKyK,KAAL,CAAW+D,MAA5C,GAAqD,IAAzE,GAAgF,IAApG;AACA,iBAAK/D,KAAL,CAAW8E,SAAX,GAAuB,KAAK9E,KAAL,CAAW8E,SAAX,GAAuB,KAAK9E,KAAL,CAAW8E,SAAX,CAAqBvP,MAArB,KAAgC,CAAhC,GAAoC,KAAKyK,KAAL,CAAW8E,SAA/C,GAA2D,IAAlF,GAAyF,IAAhH;AACA,iBAAK9E,KAAL,CAAW+E,QAAX,GAAsB,KAAK/E,KAAL,CAAW+E,QAAX,GAAsB,KAAK/E,KAAL,CAAW+E,QAAX,CAAoBxP,MAApB,KAA+B,CAA/B,GAAmC,KAAKyK,KAAL,CAAW+E,QAA9C,GAAyD,IAA/E,GAAsF,IAA5G;AACA,iBAAK/E,KAAL,CAAW2E,MAAX,GAAoB,KAAK3E,KAAL,CAAW2E,MAAX,GAAoB,KAAK3E,KAAL,CAAW2E,MAAX,CAAkBpP,MAAlB,KAA6B,CAA7B,GAAiC,KAAKyK,KAAL,CAAW2E,MAA5C,GAAqD,IAAzE,GAAgF,IAApG;AACA,iBAAK3E,KAAL,CAAWgF,aAAX,GAA2B,KAAKhF,KAAL,CAAWgF,aAAX,GACvB,KAAKhF,KAAL,CAAWgF,aAAX,CAAyBzP,MAAzB,KAAoC,CAApC,GAAwC,KAAKyK,KAAL,CAAWgF,aAAnD,GAAmE,IAD5C,GAErB,IAFN;AAGA,iBAAKhF,KAAL,CAAWmF,gBAAX,GAA8B,KAAKnF,KAAL,CAAWmF,gBAAX,GAC1B,KAAKnF,KAAL,CAAWmF,gBAAX,CAA4B5P,MAA5B,KAAuC,CAAvC,GAA2C,KAAKyK,KAAL,CAAWmF,gBAAtD,GAAyE,IAD/C,GAExB,IAFN;AAGA,iBAAKnF,KAAL,CAAW2D,MAAX,GAAoB,KAAK3D,KAAL,CAAW2D,MAAX,GAAoB,KAAK3D,KAAL,CAAW2D,MAAX,CAAkBpO,MAAlB,KAA6B,CAA7B,GAAiC,KAAKyK,KAAL,CAAW2D,MAA5C,GAAqD,IAAzE,GAAgF,IAApG;AACH;;;uCAEYyJ,iB,EAAoC;AAAA,wDACzBA,iBAAiB,CAACC,sBADO;AAAA;;AAAA;AAC7C,qEAA8D;AAAA,oBAAnDld,KAAmD;;AAC1D,oBAAI,CAAC,KAAKke,iBAAL,CAAuBle,KAAvB,CAAL,EAAoC;AAChC,yBAAO,KAAP;AACH;AACJ;AAL4C;AAAA;AAAA;AAAA;AAAA;;AAAA,wDAM5Bid,iBAAiB,CAACG,mBANU;AAAA;;AAAA;AAM7C,qEAAwD;AAAA,oBAA7ClD,EAA6C;;AACpD,oBAAI,CAAC,KAAKuE,cAAL,CAAoBvE,EAApB,CAAL,EAA8B;AAC1B,yBAAO,KAAP;AACH;AACJ;AAV4C;AAAA;AAAA;AAAA;AAAA;;AAW7C,mBAAO,IAAP;AACH;;;4CAEiBgD,sB,EAA8C;AAAA,wDACjCA,sBAAsB,CAACC,6BADU;AAAA;;AAAA;AAC5D,qEAAiF;AAAA,oBAAtEmB,YAAsE;;AAC7E,oBAAI,CAAC,KAAKD,wBAAL,CAA8BC,YAA9B,CAAL,EAAkD;AAC9C,yBAAO,KAAP;AACH;AACJ;AAL2D;AAAA;AAAA;AAAA;AAAA;;AAM5D,mBAAO,IAAP;AACH;;;mDAEwBnB,6B,EAA4D;AACjF,mBAAOA,6BAA6B,CAACH,OAA9B,CAAsC5X,MAAtC,KAAiD,CAAjD,IAAsD,CAAE,CAAC,CAAC+X,6BAA6B,CAACH,OAA/F;AACH;;;yCAEcI,mB,EAAwC;AAAA,yDAC3BA,mBAAmB,CAACC,0BADO;AAAA;;AAAA;AACnD,wEAAwE;AAAA,oBAA7DwB,SAA6D;;AACpE,oBAAI,CAAC,KAAKD,qBAAL,CAA2BC,SAA3B,CAAL,EAA4C;AACxC,yBAAO,KAAP;AACH;AACJ;AALkD;AAAA;AAAA;AAAA;AAAA;;AAMnD,mBAAO,IAAP;AACH;;;gDAEqBxB,0B,EAAsD;AACxE,mBAAO,CAAE,CAAC,CAACA,0BAA0B,CAACL,OAA/B,IAA2CK,0BAA0B,CAACL,OAA3B,CAAmC5X,MAAnC,KAA8C,CAAhG;AACH;;;oCAESkY,c,EAA8B;AAAA,yDACZA,cAAc,CAACC,qBADH;AAAA;;AAAA;AACpC,wEAA8D;AAAA,oBAAnD4B,SAAmD;;AAC1D,oBAAI,CAAC,KAAKD,gBAAL,CAAsBC,SAAtB,CAAL,EAAuC;AACnC,yBAAO,KAAP;AACH;AACJ;AALmC;AAAA;AAAA;AAAA;AAAA;;AAMpC,mBAAO,IAAP;AACH;;;2CAEgB5B,qB,EAA4C;AACzD,mBAAOA,qBAAqB,CAACP,OAAtB,CAA8B5X,MAA9B,KAAyC,CAAhD;AACH;;;8CAEmBua,wB,EAAqD;AAAA,yDAC3CA,wBAD2C;AAAA;;AAAA;AACrE,wEAAoD;AAAA,oBAAzCnH,WAAyC;;AAChD,oBAAI,CAAC,KAAK6G,kBAAL,CAAwB7G,WAAxB,CAAL,EAA2C;AACvC,yBAAO,KAAP;AACH;AACJ;AALoE;AAAA;AAAA;AAAA;AAAA;;AAMrE,mBAAO,IAAP;AACH;;;6CAEkBA,W,EAAoC;AACnD,mBAAO,CAAE,CAAC,CAACA,WAAW,CAACwE,OAAhB,IAA4BxE,WAAW,CAACwE,OAAZ,CAAoB5X,MAApB,KAA+B,CAAlE;AACH;;;uCAEYwa,iB,EAA0C;AAAA,yDAC/BA,iBAD+B;AAAA;;AAAA;AACnD,wEAAuC;AAAA,oBAA5BnH,KAA4B;;AACnC,oBAAI,CAAC,KAAK8G,WAAL,CAAiB9G,KAAjB,CAAL,EAA8B;AAC1B,yBAAO,KAAP;AACH;AACJ;AALkD;AAAA;AAAA;AAAA;AAAA;;AAMnD,mBAAO,IAAP;AACH;;;sCAEWoH,I,EAA2B;AACnC,mBAAO,CAAE,CAAC,CAACA,IAAI,CAAC7C,OAAT,IAAqB6C,IAAI,CAAC7C,OAAL,CAAa5X,MAAb,KAAwB,CAApD;AACH;;;8CAEmB0X,Y,EAA8B;AAAA,yDAC1BA,YAAY,CAACG,iBADa;AAAA;;AAAA;AAC9C,wEAAoD;AAAA,oBAAzCvE,KAAyC;;AAChD,oBAAI,CAAC,KAAKqF,YAAL,CAAkBrF,KAAlB,CAAL,EAA+B;AAC3B,yBAAO,KAAP;AACH;AACJ;AAL6C;AAAA;AAAA;AAAA;AAAA;;AAAA,yDAM7BoE,YAAY,CAACQ,cANgB;AAAA;;AAAA;AAM9C,wEAA8C;AAAA,oBAAnC3E,EAAmC;;AAC1C,oBAAI,CAAC,KAAKoG,SAAL,CAAepG,EAAf,CAAL,EAAyB;AACrB,yBAAO,KAAP;AACH;AACJ;AAV6C;AAAA;AAAA;AAAA;AAAA;;AAW9C,gBAAI,CAAC,KAAKmH,mBAAL,CAAyBhD,YAAY,CAACC,uBAAtC,CAAL,EAAqE;AACjE,qBAAO,KAAP;AACH;;AAED,mBAAO,IAAP;AACH;;;yCAEW;AACR,gBAAI,KAAKlN,KAAL,CAAWoD,GAAX,CAAe7N,MAAf,KAA0B,CAA1B,IACI,KAAKyK,KAAL,CAAW6E,WAAX,KAA2B,KAAK7E,KAAL,CAAW6E,WAAX,CAAuBzB,GAAvB,CAA2B7N,MAA3B,KAAsC,CAAtC,IAA2C,KAAKyK,KAAL,CAAW6E,WAAX,CAAuB8D,WAAvB,CAAmCpT,MAAnC,KAA8C,CAApH,CADJ,IAEI,KAAKyK,KAAL,CAAWgE,QAAX,KAAwB,KAAKhE,KAAL,CAAWgE,QAAX,CAAoBZ,GAApB,CAAwB7N,MAAxB,KAAmC,CAAnC,IAAwC,KAAKyK,KAAL,CAAWgE,QAAX,CAAoBgI,KAApB,CAA0BzW,MAA1B,KAAqC,CAArG,CAFR,EAEkH;AAC9G,qBAAO,KAAP;AACH;;AALO,yDAMY,KAAKyK,KAAL,CAAWiN,YANvB;AAAA;;AAAA;AAMR,wEAA6C;AAAA,oBAAlCjB,KAAkC;;AACzC,oBAAI,CAAC,KAAKiC,mBAAL,CAAyBjC,KAAzB,CAAL,EAAsC;AAClC,yBAAO,KAAP;AACH;AACJ;AAVO;AAAA;AAAA;AAAA;AAAA;;AAWR,mBAAO,IAAP;AACH;;;6CAEkBkE,M,EAA2BC,M,EAAyB;AACnE,mBAAOD,MAAM,CAACE,cAAP,KAA0BD,MAAM,CAACC,cAAjC,IAAmDF,MAAM,CAACG,QAAP,KAAoBF,MAAM,CAACE,QAArF;AACH;;;kDAEuBH,M,EAAgCC,M,EAA8B;AAClF,mBAAOD,MAAM,CAACI,mBAAP,KAA+BH,MAAM,CAACG,mBAA7C;AACH;;;yDAE8BJ,M,EAAuCC,M,EAAqC;AACvG,mBAAOD,MAAM,CAACK,wBAAP,KAAoCJ,MAAM,CAACI,wBAA3C,IAAuEL,MAAM,CAAC/C,OAAP,KAAmBgD,MAAM,CAAChD,OAAxG;AACH;;;+CAEoB+C,M,EAA6BC,M,EAA2B;AACzE,mBAAOD,MAAM,CAACI,mBAAP,KAA+BH,MAAM,CAACG,mBAA7C;AACH;;;sDAE2BJ,M,EAAoCC,M,EAAkC;AAC9F,mBAAOD,MAAM,CAACM,qBAAP,KAAiCL,MAAM,CAACK,qBAAxC,IAAiEN,MAAM,CAAC/C,OAAP,KAAmBgD,MAAM,CAAChD,OAAlG;AACH;;;0CAEe+C,M,EAAwBC,M,EAAsB;AAC1D,mBAAOD,MAAM,CAACE,cAAP,KAA0BD,MAAM,CAACC,cAAjC,IAAmDF,MAAM,CAACG,QAAP,KAAoBF,MAAM,CAACE,QAArF;AACH;;;iDAEsBH,M,EAA+BC,M,EAA6B;AAC/E,mBAAOD,MAAM,CAACO,gBAAP,KAA4BN,MAAM,CAACM,gBAAnC,IAAuDP,MAAM,CAAC/C,OAAP,KAAmBgD,MAAM,CAAChD,OAAxF;AACH;;;mDAEwBuD,Y,EAAuCC,Y,EAAqC;AACjG,mBAAOD,YAAY,CAACN,cAAb,KAAgCO,YAAY,CAACP,cAA7C,IAA+DM,YAAY,CAACvD,OAAb,KAAyBwD,YAAY,CAACxD,OAA5G;AACH;;;4CAEiByD,M,EAA6BC,M,EAA2B;AACtE,mBAAOD,MAAM,CAACR,cAAP,KAA0BS,MAAM,CAACT,cAAjC,IAAmDQ,MAAM,CAACzD,OAAP,KAAmB0D,MAAM,CAAC1D,OAApF;AACH;;;qDAE0B2D,M,EAAwBC,M,EAAsB;AACrE,mBAAOD,MAAM,CAAC/R,OAAP,KAAmBgS,MAAM,CAAChS,OAA1B,IAAqC+R,MAAM,CAAC3gB,KAAP,KAAiB4gB,MAAM,CAAC5gB,KAApE;AACH;;;6CAEkB6gB,M,EAA2BC,M,EAAyB;AACnE,gBAAMC,UAAU,GAAGte,IAAI,CAACS,KAAL,CAAWT,IAAI,CAACC,SAAL,CAAeme,MAAf,CAAX,CAAnB;AACAE,sBAAU,CAACjE,YAAX,GAA0B,IAA1B;AACAiE,sBAAU,CAAClN,QAAX,GAAsB,IAAtB;AACAkN,sBAAU,CAACrM,WAAX,GAAyB,IAAzB;AACA,gBAAMsM,UAAU,GAAGve,IAAI,CAACS,KAAL,CAAWT,IAAI,CAACC,SAAL,CAAeoe,MAAf,CAAX,CAAnB;AACAE,sBAAU,CAAClE,YAAX,GAA0B,IAA1B;AACAkE,sBAAU,CAACnN,QAAX,GAAsB,IAAtB;AACAmN,sBAAU,CAACtM,WAAX,GAAyB,IAAzB,CARmE,CAUnE;AACA;AACA;AACA;AACA;;AACA,mBAAO,CAAC,4CAAK,CAACqM,UAAD,EAAaC,UAAb,CAAb;AACH;;;4BA1qBkB5hB,E,EAAY;AAAE,iBAAKwP,OAAL,GAAexP,EAAf;AAAmB,iBAAK+U,MAAL,GAAc,KAAd;AAAqB,iBAAKkF,mBAAL,GAA2B,KAA3B;AAAkC,iBAAKiD,SAAL;AAAmB;;;;;;;yBAFrHG,wB,EAAwB,gI,EAAA,qI;AAAA,O;;;cAAxBA,wB;AAAwB,6C;AAAA;AAAA;;qBAAxB,+B;AAA2B,a,EAAA,K,EAAA,+D;;;;;;;;;;;;;;ACbxC;;AAoQA;;;;AApQyB;;AAoQpB;;AAAA;;;;;;;;;wEDvPQA,wB,EAAwB;gBALpC,uDAKoC;iBAL1B;AACPrc,oBAAQ,EAAE,sBADH;AAEPC,uBAAW,EAAE,mCAFN;AAGPC,qBAAS,EAAE,CAAC,mCAAD;AAHJ,W;AAK0B,U;;;;;;;AAEpBic,eAAK;kBAAjB;AAAiB,Y;AACRG,uBAAa;kBAAtB;AAAsB,Y;AA+BvBF,6BAAmB;kBADlB,0DACkB;mBADL,kB,EAAoB,CAAC,QAAD,C;AACf;;;;;;;;;;;;;;;;;;;AE/CvB;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;ACOgB;;AACI;;AACJ;;;;;;AAFoD;;AAChD;;AAAA;;;;;;AAMJ;;AAAoC;;AAAyB;;;;;;AAAzB;;AAAA;;;;;;AAoBpC;;AACI;;AACI;;AAAmB;;AAAqB;;AACxC;;AAAK;;AAAkD;;AACvD;;AAAK;;AAAoD;;AACzD;;AAAK;;AAA8C;;AACnD;;AAAK;;AAA0C;;AAC/C;;AAAK;;AAAgD;;AACrD;;AAAK;;AAA8C;;AACnD;;AAAK;;AAA6C;;AAClD;;AAAK;;AAAuD;;AAC5D;;AAAK;;AAA6C;;AAClD;;AAAK;;AAA0C;;AAC/C;;AAAK;;AAA+C;;AACxD;;AACA;;AACI;;AAAmB;;AAAkB;;AACrC;;AAAK;;AAAwC;;AAC7C;;AAAK;;AAAwC;;AAC7C;;AAAK;;AAAoD;;AACzD;;AAAK;;AAA6C;;AAClD;;AAAK;;AAAwC;;AAC7C;;AAAK;;AAAuC;;AAC5C;;AAAK;;AAAwC;;AAC7C;;AAAK;;AAAwC;;AAC7C;;AAAK;;AAAqC;;AAC1C;;AAAK;;AAAiD;;AAC1D;;AACA;;AACI;;AAAmB;;AAAgB;;AACnC;;AAAK;;AAAyC;;AAC9C;;AAAK;;AAA+C;;AACpD;;AAAK;;AAAuC;;AAC5C;;AAAK;;AAAiD;;AACtD;;AAAK;;AAA8C;;AACnD;;AAAK;;AAAgD;;AACrD;;AAAK;;AAAyC;;AAC9C;;AAAK;;AAAoC;;AAC7C;;AACA;;AACI;;AAAmB;;AAAc;;AACjC;;AAAK;;AAAoC;;AACzC;;AAAK;;AAAoC;;AACzC;;AAAK;;AAAgC;;AACzC;;AACA;;AACI;;AAAmB;;AAAqB;;AACxC;;AAAK;;AAAgD;;AACzD;;AACJ;;;;;;AA9Ca;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AAIA;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AAIA;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AAIA;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AAIA;;AAAA;;;;;;;;AArErB;;AACI;;AACI;;AACJ;;AACA;;AACI;;AACI;;AACI;;AAAK;;AAAsD;;AAC3D;;AAAK;;AAAwC;;AAC7C;;AAAK;;AAA4C;;AACrD;;AACA;;AACI;;AAAK;;AAA4C;;AACjD;;AAAK;;AAAsD;;AAC3D;;AAAK;;AAA8C;;AACnD;;AAAK;;AAAsC;;AAC/C;;AACJ;;AACA;;AAAc;AAAA;;AAAA;;AAAA;AAAA;;AAEV;;AACJ;;AACA;;AAkDJ;;AACJ;;;;;;AAvEY;;AAAA;;AAKS;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AAGA;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AAGC;;AAAA;;AAIuB;;AAAA;;;;;;AAyD7B;;AACI;;AACJ;;;;;;AAKQ;;AAAqC;;AAAK;;AAAG;;AAAiB;;AAAI;;;;;;AAArB;;AAAA;;;;;;AAFjD;;AACI;;AAAG;;AAA+B;;AAClC;;AACJ;;;;;;;;AAFO;;AAAA;;AACW;;AAAA;;;;;;AAGd;;AAAG;;AAAiB;;;;;;AAAjB;;AAAA;;;;;;;;AAZnB;;AACI;;AACI;;AAGA;;AAA+B;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAE3B;;AAIA;;AAGJ;;AACJ;;AACJ;;;;;;;;;;AAdqC;;AAAA;;AAIrB;;AAAA;;AACE;;AAAA,iGAAuC,UAAvC,EAAuC,IAAvC;;;;;;;;AAYtB;;AACI;;AACA;AAAA;;AAAA;;AAAA;AAAA;;AAA4D;;AAChE;;;;;;AAFqC;;AAAA,mGAA6B,cAA7B,EAA6B,qCAA7B;;;;UDjGpCyE,mB;AAeT,qCAAoBlf,IAApB,EACoBiM,YADpB,EAEoBD,iBAFpB,EAGoBhO,WAHpB,EAG8C;AAAA;;AAH1B,eAAAgC,IAAA,GAAAA,IAAA;AACA,eAAAiM,YAAA,GAAAA,YAAA;AACA,eAAAD,iBAAA,GAAAA,iBAAA;AACA,eAAAhO,WAAA,GAAAA,WAAA;AAXpB,eAAAmhB,+BAAA,GAAkC,KAAlC;AAKA,eAAAhT,iBAAA,GAAoB,KAApB;AAOC;;;;qCAEO;AAAA;;AACJ,iBAAKH,iBAAL,CAAuBI,iBAAvB,CAAyC,KAAKpM,IAA9C,EAAoD,IAApD,EAA0DlD,IAA1D,CACI,UAACmE,IAAD,EAAe;AACX/B,qBAAO,CAACoB,GAAR,CAAYW,IAAZ;AACA,kBAAMC,QAAQ,GAAGD,IAAjB;AACA,qBAAI,CAACoL,WAAL,GAAmBnL,QAAQ,CAACD,IAA5B;AACH,aALL;AAOH;;;6CAEkB;AAAA;;AACf,gBAAI,CAAC,KAAKqL,uBAAN,KAAkC,CAAtC,EAAyC;AACrC,mBAAKC,iBAAL,GAAyB,KAAKF,WAAL,CAAiBG,IAAjB,CAAsB,UAAAhE,CAAC;AAAA,uBAAIA,CAAC,CAACiE,YAAF,KAAmB,CAAC,OAAI,CAACH,uBAA7B;AAAA,eAAvB,CAAzB;AACA,mBAAKI,eAAL;AACH;AACJ;;;4CAEwB;AAAA;;AACrB,iBAAKT,YAAL,CAAkBU,iBAAlB,CAAoC,KAAK3M,IAAzC,EAA+C,CAA/C,EAAkDlD,IAAlD,CACI,UAAC8P,SAAD,EAAoB;AAChB,kBAAM1L,QAAQ,GAAoB0L,SAAlC;AACA1N,qBAAO,CAACoB,GAAR,CAAYY,QAAZ;AACA,qBAAI,CAACgL,kBAAL,GAA0BhL,QAAQ,CAACD,IAAnC;AACA/B,qBAAO,CAACoB,GAAR,CAAY,OAAI,CAAC4L,kBAAjB;AACH,aANL;AAQH;;;sCAEkBW,O,EAAiB;AAChC,iBAAKG,cAAL,GAAsBH,OAAtB;AACH;;;kCAEOuS,W,EAAqB;AACzB,oBAAQA,WAAW,CAACpd,WAAZ,EAAR;AACI,mBAAK,cAAL;AACI,uBAAOqd,IAAI,CAACC,KAAL,CAAW,CAAC,KAAK/S,iBAAL,CAAuBgT,YAAvB,GAAsC,EAAvC,IAA6C,CAAxD,CAAP;;AACJ,mBAAK,OAAL;AACI,uBAAOF,IAAI,CAACC,KAAL,CAAW,CAAC,KAAK/S,iBAAL,CAAuBiT,KAAvB,GAA+B,EAAhC,IAAsC,CAAjD,CAAP;;AACJ,mBAAK,SAAL;AACI,uBAAOH,IAAI,CAACC,KAAL,CAAW,CAAC,KAAK/S,iBAAL,CAAuBkT,OAAvB,GAAiC,EAAlC,IAAwC,CAAnD,CAAP;;AACJ,mBAAK,SAAL;AACI,uBAAOJ,IAAI,CAACC,KAAL,CAAW,CAAC,KAAK/S,iBAAL,CAAuBmT,OAAvB,GAAiC,EAAlC,IAAwC,CAAnD,CAAP;;AACJ,mBAAK,cAAL;AACI,uBAAOL,IAAI,CAACC,KAAL,CAAW,CAAC,KAAK/S,iBAAL,CAAuBoT,YAAvB,GAAsC,EAAvC,IAA6C,CAAxD,CAAP;;AACJ,mBAAK,UAAL;AACI,uBAAON,IAAI,CAACC,KAAL,CAAW,CAAC,KAAK/S,iBAAL,CAAuBqT,QAAvB,GAAkC,EAAnC,IAAyC,CAApD,CAAP;;AACJ,mBAAK,MAAL;AACI,uBAAOP,IAAI,CAACC,KAAL,CAAW,CAAC,KAAK/S,iBAAL,CAAuBsT,IAAvB,GAA8B,EAA/B,IAAqC,CAAhD,CAAP;AAdR;AAgBH;;;yCAEchT,O,EAAiB;AAAA;;AAC5B,iBAAKV,iBAAL,GAAyB,IAAzB;AACA,iBAAKW,eAAL,GAAuBD,OAAvB;AACAlK,sBAAU,CAAC,YAAM;AACb,qBAAI,CAACsJ,YAAL,CAAkBc,YAAlB,CAA+B,OAAI,CAAC/M,IAApC,EAA0C6M,OAA1C,EAAmD/P,IAAnD,CACI,UAAC8P,SAAD,EAAoB;AAChB,oBAAM1L,QAAQ,GAAoB0L,SAAlC;AACA1N,uBAAO,CAACoB,GAAR,CAAYY,QAAZ;;AACA,oBAAMwG,KAAK,GAAG,OAAI,CAACwE,kBAAL,CAAwB9J,OAAxB,CAAgC,OAAI,CAAC8J,kBAAL,CAAwBM,IAAxB,CAA6B,UAAAhE,CAAC;AAAA,yBAAI,CAACA,CAAC,CAACqE,OAAH,KAAe,CAACA,OAApB;AAAA,iBAA9B,CAAhC,CAAd;;AACA,uBAAI,CAACX,kBAAL,CAAwBxE,KAAxB,IAAiCxG,QAAQ,CAACD,IAA1C;AACA/B,uBAAO,CAACoB,GAAR,CAAY,OAAI,CAAC4L,kBAAL,CAAwBxE,KAAxB,CAAZ;AACH,eAPL;AASH,aAVS,EAUP,IAVO,CAAV;AAWA/E,sBAAU,CAAC,YAAM;AACb,qBAAI,CAACwJ,iBAAL,GAAyB,KAAzB;AACA,qBAAI,CAACW,eAAL,GAAuB,IAAvB;AACH,aAHS,EAGP,IAHO,CAAV;AAIH;;;2CAEgBG,Q,EAAkB;AAC/B/N,mBAAO,CAACoB,GAAR,CAAY2M,QAAZ;AACA/N,mBAAO,CAACoB,GAAR,CAAY2M,QAAQ,CAACC,OAAT,CAAiB,4CAAjB,EAA+D,IAA/D,CAAZ;AACA,mBAAOD,QAAQ,CAACC,OAAT,CAAiB,4CAAjB,EAA+D,IAA/D,CAAP;AACH;;;;;;;yBAhGQgS,mB,EAAmB,gI,EAAA,qI,EAAA,+I,EAAA,+H;AAAA,O;;;cAAnBA,mB;AAAmB,uC;AAAA,iB;AAAA,e;AAAA,u3B;AAAA;AAAA;ACZhC;;AACI;;AACI;;AACI;;AAAkC;;AAAoD;;AACtF;;AAAuD;AAAA,qBAAU,IAAA/R,gBAAA,EAAV;AAA4B,aAA5B,EAA6B,eAA7B,EAA6B;AAAA;AAAA,aAA7B;;AAEnD;;AAAmB;;AAAgB;;AACnC;;AAGJ;;AACJ;;AACA;;AA2EA;;AACI;;AACI;;AAiBJ;;AAEA;;AAKJ;;AACJ;;AACJ;;;;AA9GoB;;AAAA;;AAEI;;AAAA;;AAKX;;AAAA;;AA6EiB;;AAAA;;AAmBJ;;AAAA;;;;;;;;;wEDhGb+R,mB,EAAmB;gBAL/B,uDAK+B;iBALrB;AACP7gB,oBAAQ,EAAE,gBADH;AAEPC,uBAAW,EAAE,6BAFN;AAGPC,qBAAS,EAAE,CAAC,6BAAD;AAHJ,W;AAKqB,U;;;;;;;;;;;;;;;;;;;;;;;;;;;;AEZhC;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAWauhB,wB;AAEX,4CAAc;AAAA;AAAG;;;;sDAEkB9f,I,EAAgB;AACjD,gBAAMmG,eAAe,GAAoB,EAAzC;AACA,gBAAM5F,UAAU,GAAG,yDAAW,0DAAX,GAA0B,mBAA7C;AACA,gBAAMwf,yBAAyB,GAC7B/f,IAAI,CAAC6C,GAAL,CAA0BtC,UAA1B,CADF;AAEA,gBAAMyf,2BAA2B,GAAiBD,yBAAyB,CAACE,SAA1B,CAChD,UAAC/e,QAAD,EAAc;AACZ,kBAAMoI,QAAQ,GAAoBpI,QAAQ,CAACD,IAA3C;;AADY,2DAEUqI,QAFV;AAAA;;AAAA;AAEZ,0EAAgC;AAAA,sBAArB8B,OAAqB;AAC9BjF,iCAAe,CAAC2B,IAAhB,CAAqBsD,OAArB;AACD;AAJW;AAAA;AAAA;AAAA;AAAA;;AAKZ4U,yCAA2B,CAACE,WAA5B;AACD,aAP+C,EAQhD,UAAC/gB,KAAD,EAAW;AACTD,qBAAO,CAACoB,GAAR,CAAY,kDAAkDnB,KAA9D;AACD,aAV+C,EAWhD,YAAM,CACL,CAZ+C,CAAlD;AAcA,mBAAOgH,eAAP;AACD;;;6CAEyBnG,I,EAAgB;AACxC,gBAAMmgB,WAAW,GAAc,EAA/B;AACA,gBAAM5f,UAAU,GAAG,yDAAW,iEAA9B;AACA,gBAAMwf,yBAAyB,GAC7B/f,IAAI,CAAC6C,GAAL,CAA0BtC,UAA1B,CADF;AAEA,gBAAMyf,2BAA2B,GAAiBD,yBAAyB,CAACE,SAA1B,CAChD,UAAC/e,QAAD,EAAc;AACZ,kBAAMoI,QAAQ,GAAcpI,QAAQ,CAACD,IAArC;;AADY,2DAEUqI,QAFV;AAAA;;AAAA;AAEZ,0EAAgC;AAAA,sBAArB8B,OAAqB;AAC9B+U,6BAAW,CAACrY,IAAZ,CAAiBsD,OAAjB;AACD;AAJW;AAAA;AAAA;AAAA;AAAA;;AAKZ4U,yCAA2B,CAACE,WAA5B;AACD,aAP+C,EAQhD,UAAC/gB,KAAD,EAAW;AACTD,qBAAO,CAACoB,GAAR,CAAY,kDAAkDnB,KAA9D;AACD,aAV+C,EAWhD,YAAM,CACL,CAZ+C,CAAlD;AAcA,mBAAOghB,WAAP;AACD;AAED;;;;;;kDAI+BngB,I,EAAgB;AAC7C,gBAAMO,UAAU,GAAG,yDAAW,0DAAX,GAA0B,mBAA7C;AACA,mBAAOP,IAAI,CAACY,OAAL,CAAa,KAAb,EAAoBL,UAApB,EAAgC;AAACQ,0BAAY,EAAE;AAAf,aAAhC,EAAwDC,SAAxD,EAAP;AACD;AAED;;;;;;uCAIoBhB,I,EAAkBiK,gB,EAA0B9H,O,EAAe;AAC7E,gBAAM/B,MAAM,GAAG;AAAC6J,8BAAgB,EAAE5J,SAAnB;AAA8B8B,qBAAO,EAAE9B;AAAvC,aAAf;AACAD,kBAAM,CAAC6J,gBAAP,GAA0BA,gBAA1B;AACA7J,kBAAM,CAAC+B,OAAP,GAAiBA,OAAjB;AACA,gBAAM5B,UAAU,GAAG,yDAAW,yDAA9B;AACA,gBAAMC,MAAM,GAAG,IAAI,+DAAJ,GAAiBC,GAAjB,CAAqB,SAArB,EAAgCC,IAAI,CAACC,SAAL,CAAeP,MAAf,CAAhC,CAAf;AAEA,mBAAOJ,IAAI,CAACY,OAAL,CAAa,MAAb,EAAqBL,UAArB,EAAiC;AAACQ,0BAAY,EAAE,MAAf;AAAuBP,oBAAM,EAANA;AAAvB,aAAjC,EAAiEQ,SAAjE,EAAP;AACD;;;0CAEsBhB,I,EAAkByG,S,EAAmBwD,gB,EAA0B9H,O,EAAe;AACnG,gBAAM/B,MAAM,GAAG;AAACqG,uBAAS,EAAEpG,SAAZ;AAAuB4J,8BAAgB,EAAE5J,SAAzC;AAAoD8B,qBAAO,EAAE9B;AAA7D,aAAf;AACAD,kBAAM,CAACqG,SAAP,GAAmBA,SAAnB;AACArG,kBAAM,CAAC6J,gBAAP,GAA0BA,gBAAgB,KAAK,CAArB,GAAyB,MAAzB,GAAkCA,gBAA5D;AACA7J,kBAAM,CAAC+B,OAAP,GAAiBA,OAAjB;AACA,gBAAM5B,UAAU,GAAG,yDAAW,yDAAX,GAAyB,aAAzB,GAAyCkG,SAA5D;AACA,gBAAMjG,MAAM,GAAG,IAAI,+DAAJ,GAAiBC,GAAjB,CAAqB,SAArB,EAAgCC,IAAI,CAACC,SAAL,CAAeP,MAAf,CAAhC,CAAf;AAEA,mBAAOJ,IAAI,CAACY,OAAL,CAAa,KAAb,EAAoBL,UAApB,EAAgC;AAACQ,0BAAY,EAAE,MAAf;AAAuBP,oBAAM,EAANA;AAAvB,aAAhC,EAAgEQ,SAAhE,EAAP;AACD;AAED;;;;;;yCAIsBhB,I,EAAgB;AACpC,gBAAMO,UAAU,GAAG,yDAAW,iEAA9B;AACA,mBAAOP,IAAI,CAACY,OAAL,CAAa,KAAb,EAAoBL,UAApB,EAAgC;AAACQ,0BAAY,EAAE;AAAf,aAAhC,EAAwDC,SAAxD,EAAP;AACD;;;uCAEmBhB,I,EAAkBmC,O,EAAe;AACnD,gBAAM/B,MAAM,GAAG;AAAE+B,qBAAO,EAAE9B;AAAX,aAAf;AACAD,kBAAM,CAAC+B,OAAP,GAAiBA,OAAjB;AACA,gBAAM5B,UAAU,GAAG,yDAAW,iEAA9B;AACA,gBAAMC,MAAM,GAAG,IAAI,+DAAJ,GAAiBC,GAAjB,CAAqB,SAArB,EAAgCC,IAAI,CAACC,SAAL,CAAeP,MAAf,CAAhC,CAAf;AACA,mBAAOJ,IAAI,CAACY,OAAL,CAAa,MAAb,EAAqBL,UAArB,EAAiC;AAACQ,0BAAY,EAAE,MAAf;AAAuBP,oBAAM,EAANA;AAAvB,aAAjC,EAAiEQ,SAAjE,EAAP;AACD;;;0CAEsBhB,I,EAAkBiK,gB,EAA0B9H,O,EAAe;AAChF,gBAAM/B,MAAM,GAAG;AAAE6J,8BAAgB,EAAE5J,SAApB;AAA+B8B,qBAAO,EAAE9B;AAAxC,aAAf;AACAD,kBAAM,CAAC6J,gBAAP,GAA0BA,gBAA1B;AACA7J,kBAAM,CAAC+B,OAAP,GAAiBA,OAAjB;AACA,gBAAM5B,UAAU,GAAG,yDAAW,iEAAX,GAAiC,oBAAjC,GAAwD0J,gBAA3E;AACA/K,mBAAO,CAACoB,GAAR,CAAYC,UAAZ;AACA,gBAAMC,MAAM,GAAG,IAAI,+DAAJ,GAAiBC,GAAjB,CAAqB,SAArB,EAAgCC,IAAI,CAACC,SAAL,CAAeP,MAAf,CAAhC,CAAf;AAEA,mBAAOJ,IAAI,CAACY,OAAL,CAAa,KAAb,EAAoBL,UAApB,EAAgC;AAACQ,0BAAY,EAAE,MAAf;AAAuBP,oBAAM,EAANA;AAAvB,aAAhC,EAAgEQ,SAAhE,EAAP;AACD;;;;;;;yBA5GU8e,wB;AAAwB,O;;;eAAxBA,wB;AAAwB,iBAAxBA,wBAAwB,K;AAAA,oBAFvB;;;;;wEAEDA,wB,EAAwB;gBAHpC,wDAGoC;iBAHzB;AACVjgB,sBAAU,EAAE;AADF,W;AAGyB,U;;;;;;;;;;;;;;;;;;;;ACXrC;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAMaugB,e;AAET,iCAAoBpgB,IAApB,EAAsC;AAAA;;AAAlB,eAAAA,IAAA,GAAAA,IAAA;AACnB;;;;kCAEcqgB,M,EAAgBC,U,EAAkB;AAC7C,gBAAM/f,UAAU,GAAG+f,UAAU,CAACC,QAAX,CAAoB,OAApB,IACf,iBAAiBF,MAAjB,GAA0B,GAA1B,GAAgCC,UADjB,GAC8B,iBAAiBD,MAAjB,GAA0B,GAA1B,GAAgCC,UAAhC,GAA6C,OAD9F;AAEA,mBAAO,KAAKtgB,IAAL,CAAUY,OAAV,CAAkB,KAAlB,EAAyBL,UAAzB,EAAqC;AAACQ,0BAAY,EAAE;AAAf,aAArC,EAA6DC,SAA7D,EAAP;AACH;;;;;;;yBATQof,e,EAAe,uH;AAAA,O;;;eAAfA,e;AAAe,iBAAfA,eAAe,K;AAAA,oBAFZ;;;;;wEAEHA,e,EAAe;gBAH3B,wDAG2B;iBAHhB;AACRvgB,sBAAU,EAAE;AADJ,W;AAGgB,U;;;;;;;;;;;;;;;;;;;;;;ACN5B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAOa2gB,wB;AAEX,4CAAc;AAAA;;AAEP,eAAA9X,QAAA,GAAsB,EAAtB;AADN;;;;6CAGyB1I,I,EAAkBygB,U,EAAoBha,S,EAAmBia,I,EAAyB;AAC1G,gBAAMtgB,MAAM,GAAG;AAACqG,uBAAS,EAAEpG,SAAZ;AAAuBqgB,kBAAI,EAAErgB;AAA7B,aAAf;AACAD,kBAAM,CAACqG,SAAP,GAAmBA,SAAnB;AACArG,kBAAM,CAACsgB,IAAP,GAAcA,IAAd;AACAxhB,mBAAO,CAACoB,GAAR,CAAYF,MAAZ;AACA,gBAAMG,UAAU,GAAG,yDAAW,6DAAX,GAA6B,aAA7B,GAA6CkG,SAA7C,GAAyD,qBAA5E;AACAvH,mBAAO,CAACoB,GAAR,CAAYC,UAAZ;AACA,gBAAMC,MAAM,GAAG,IAAI,+DAAJ,GAAiBC,GAAjB,CAAqB,MAArB,EAA6BC,IAAI,CAACC,SAAL,CAAeP,MAAf,CAA7B,CAAf;AAEA,mBAAOJ,IAAI,CAACY,OAAL,CAAa6f,UAAb,EAAyBlgB,UAAzB,EAAqC;AAACQ,0BAAY,EAAE,MAAf;AAAuBP,oBAAM,EAANA;AAAvB,aAArC,EAAqEQ,SAArE,EAAP;AACD;;;gDAE4BhB,I,EAAkBygB,U,EAAoBha,S,EAAmBia,I,EAA4B;AAChH,gBAAMtgB,MAAM,GAAG;AAACqG,uBAAS,EAAEpG,SAAZ;AAAuBqgB,kBAAI,EAAErgB;AAA7B,aAAf;AACAD,kBAAM,CAACqG,SAAP,GAAmBA,SAAnB;AACArG,kBAAM,CAACsgB,IAAP,GAAcA,IAAd;;AACA,iBAAK,IAAI5Z,CAAC,GAAG,CAAb,EAAiBA,CAAC,GAAG1G,MAAM,CAACsgB,IAAP,CAAYrd,MAAjC,EAA0CyD,CAAC,EAA3C,EAA+C;AAC7C1G,oBAAM,CAACsgB,IAAP,CAAY5Z,CAAZ,EAAeK,MAAf,GAAwB,CAAC/G,MAAM,CAACsgB,IAAP,CAAY5Z,CAAZ,EAAeK,MAAhB,KAA2B,CAA3B,GAA+B,IAA/B,GAAsC,CAAC/G,MAAM,CAACsgB,IAAP,CAAY5Z,CAAZ,EAAeK,MAA9E;AACD;;AACDjI,mBAAO,CAACoB,GAAR,CAAYmgB,UAAZ;AACAvhB,mBAAO,CAACoB,GAAR,CAAYI,IAAI,CAACC,SAAL,CAAeP,MAAM,CAACsgB,IAAtB,CAAZ;AACA,gBAAMngB,UAAU,GAAG,yDAAW,iEAAX,GAAiC,aAAjC,GAAiDkG,SAAjD,GAA6D,qBAAhF;AACAvH,mBAAO,CAACoB,GAAR,CAAYC,UAAZ;AACA,gBAAMC,MAAM,GAAG,IAAI,+DAAJ,GAAiBC,GAAjB,CAAqB,MAArB,EAA6BC,IAAI,CAACC,SAAL,CAAeP,MAAf,CAA7B,CAAf;AAEA,mBAAOJ,IAAI,CAACY,OAAL,CAAa6f,UAAb,EAAyBlgB,UAAzB,EAAqC;AAACQ,0BAAY,EAAE,MAAf;AAAuBP,oBAAM,EAANA;AAAvB,aAArC,EAAqEQ,SAArE,EAAP;AACD;;;mDAE+BhB,I,EAAkByG,S,EAAiB;AACjE,gBAAMlG,UAAU,GAAG,yDAAW,6DAAX,GAA6B,aAA7B,GAA6CkG,SAAhE;AACA,mBAAOzG,IAAI,CAACY,OAAL,CAAa,KAAb,EAAoBL,UAApB,EAAgC;AAACQ,0BAAY,EAAE;AAAf,aAAhC,EAAwDC,SAAxD,EAAP;AACD;;;kDAE8BhB,I,EAAkByG,S,EAAiB;AAChE,gBAAMlG,UAAU,GAAG,yDAAW,iEAAX,GAAiC,aAAjC,GAAiDkG,SAApE;AACA,mBAAOzG,IAAI,CAACY,OAAL,CAAa,KAAb,EAAoBL,UAApB,EAAgC;AAACQ,0BAAY,EAAE;AAAf,aAAhC,EAAwDC,SAAxD,EAAP;AACD;;;2CAEuBhB,I,EAAgB;AACtC,mBAAOA,IAAI,CAACY,OAAL,CAAa,KAAb,EAAoB,yDAAW,uBAA/B,EAAwD;AAACG,0BAAY,EAAE;AAAf,aAAxD,EAAgFC,SAAhF,EAAP;AACD;;;;;;;yBA9CUwf,wB;AAAwB,O;;;eAAxBA,wB;AAAwB,iBAAxBA,wBAAwB,K;AAAA,oBAFvB;;;;;wEAEDA,wB,EAAwB;gBAHpC,wDAGoC;iBAHzB;AACV3gB,sBAAU,EAAE;AADF,W;AAGyB,U;;;;;;;;;;;;;;;;;;;;ACPrC;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UASa8gB,Y;AAET,gCAAc;AAAA;AACb;;;;yCAEqB3gB,I,EAAkB6M,O,EAAiB+T,a,EAAuB9e,K,EAAe;AAC3F,gBAAMvB,UAAU,GAAG,yDAAW,6DAAX,GAA6B,WAA7B,GAA2CsM,OAA3C,GAAqD,GAArD,GAA2D+T,aAA3D,GAA2E,GAA3E,GAAiF9e,KAApG;AACA5C,mBAAO,CAACoB,GAAR,CAAYC,UAAZ;AACA,mBAAOP,IAAI,CAACY,OAAL,CAAa,yEAAYiZ,GAAZ,CAAgB/Y,QAAhB,EAAb,EAAyCP,UAAzC,EAAqDS,SAArD,EAAP;AACH;;;8CAE0BhB,I,EAAkBygB,U,EAAoBI,O,EAAiBC,Y,EAAwB;AACtG,gBAAM1gB,MAAM,GAAG;AAAC8d,4BAAc,EAAE7d,SAAjB;AAA4B0gB,0BAAY,EAAE1gB;AAA1C,aAAf;AACAD,kBAAM,CAAC8d,cAAP,GAAwB2C,OAAxB;AACAzgB,kBAAM,CAAC2gB,YAAP,GAAsBD,YAAtB;AACA5hB,mBAAO,CAACoB,GAAR,CAAYF,MAAZ;AACA,gBAAMG,UAAU,GAAG,yDAAW,0CAAX,GAAwD,WAAxD,GAAsEsgB,OAAtE,GAAgF,EAAnG;AACA3hB,mBAAO,CAACoB,GAAR,CAAYC,UAAZ;AACA,gBAAMC,MAAM,GAAG,IAAI,+DAAJ,GAAiBC,GAAjB,CAAqB,0BAArB,EAAiDC,IAAI,CAACC,SAAL,CAAeP,MAAf,CAAjD,CAAf;AAEA,mBAAOJ,IAAI,CAACY,OAAL,CAAa6f,UAAb,EAAyBlgB,UAAzB,EAAqC;AAACQ,0BAAY,EAAE,MAAf;AAAuBP,oBAAM,EAANA;AAAvB,aAArC,EAAqEQ,SAArE,EAAP;AACH;;;8CAE0BhB,I,EAAkBygB,U,EAAoB5T,O,EAAiBiB,K,EAAU;AACxF,gBAAM1N,MAAM,GAAG;AAACyM,qBAAO,EAAExM,SAAV;AAAqB2gB,mBAAK,EAAE3gB;AAA5B,aAAf;AACAD,kBAAM,CAACyM,OAAP,GAAiBA,OAAjB;AACAzM,kBAAM,CAAC4gB,KAAP,GAAelT,KAAf;AACA5O,mBAAO,CAACoB,GAAR,CAAYF,MAAZ;AACA,gBAAMG,UAAU,GAAG,yDAAW,+DAA9B;AACArB,mBAAO,CAACoB,GAAR,CAAYC,UAAZ;AACA,gBAAMC,MAAM,GAAG,IAAI,+DAAJ,GAAiBC,GAAjB,CAAqB,OAArB,EAA8BC,IAAI,CAACC,SAAL,CAAeP,MAAf,CAA9B,CAAf;AAEA,mBAAOJ,IAAI,CAACY,OAAL,CAAa6f,UAAb,EAAyBlgB,UAAzB,EAAqC;AAACQ,0BAAY,EAAE,MAAf;AAAuBP,oBAAM,EAANA;AAAvB,aAArC,EAAqEQ,SAArE,EAAP;AACH;;;0CAEsBhB,I,EAAkB6M,O,EAAiB;AACtD,gBAAMtM,UAAU,GAAG,yDAAW,+DAAX,GAA+B,WAA/B,GAA6CsM,OAA7C,GAAuD,EAA1E;AACA3N,mBAAO,CAACoB,GAAR,CAAYC,UAAZ;AACA,mBAAOP,IAAI,CAACY,OAAL,CAAa,yEAAYC,GAAZ,CAAgBC,QAAhB,EAAb,EAAyCP,UAAzC,EAAqDS,SAArD,EAAP;AACH;;;sDAEkChB,I,EAAkB6M,O,EAAiBJ,Y,EAAsB;AACxF,gBAAMlM,UAAU,GAAG,yDAAW,wCAAX,GAAsD,WAAtD,GAAoEsM,OAApE,GAA8E,gBAA9E,GAAiGJ,YAApH;AACAvN,mBAAO,CAACoB,GAAR,CAAYC,UAAZ;AACA,mBAAOP,IAAI,CAACY,OAAL,CAAa,yEAAYC,GAAZ,CAAgBC,QAAhB,EAAb,EAAyCP,UAAzC,EAAqDS,SAArD,EAAP;AACH;;;mDAE+BhB,I,EAAkBygB,U,EAAyBQ,oB,EAA6C;AACpH,gBAAM7gB,MAAM,GAAG;AAAC8gB,mCAAqB,EAAE7gB;AAAxB,aAAf;AACAD,kBAAM,CAAC8gB,qBAAP,GAA+BD,oBAA/B;AACA/hB,mBAAO,CAACoB,GAAR,CAAYF,MAAZ;AACA,gBAAMG,UAAU,GAAG,yDAAW,wCAA9B;AACArB,mBAAO,CAACoB,GAAR,CAAYC,UAAZ;AACA,gBAAMC,MAAM,GAAG,IAAI,+DAAJ,GAAiBC,GAAjB,CAAqB,uBAArB,EAA8CC,IAAI,CAACC,SAAL,CAAeP,MAAf,CAA9C,CAAf;AAEA,mBAAOJ,IAAI,CAACY,OAAL,CAAa6f,UAAU,CAAC3f,QAAX,EAAb,EAAoCP,UAApC,EAAgD;AAACQ,0BAAY,EAAE,MAAf;AAAuBP,oBAAM,EAANA;AAAvB,aAAhD,EAAgFQ,SAAhF,EAAP;AACH;;;+CAE2BhB,I,EAAkByM,Y,EAAsB;AAChE,gBAAMlM,UAAU,GAAG,yDAAW,+DAAX,GAA+B,gBAA/B,GAAkDkM,YAAlD,GAAiE,EAApF;AACAvN,mBAAO,CAACoB,GAAR,CAAYC,UAAZ;AACA,mBAAOP,IAAI,CAACY,OAAL,CAAa,yEAAYC,GAAZ,CAAgBC,QAAhB,EAAb,EAAyCP,UAAzC,EAAqDS,SAArD,EAAP;AACH;;;0CAEsBhB,I,EAAkByM,Y,EAAsB;AAC3D,gBAAMlM,UAAU,GAAG,yDAAW,+DAAX,GAA+B,gBAA/B,GAAkDkM,YAAlD,GAAiE,eAApF;AACAvN,mBAAO,CAACoB,GAAR,CAAYC,UAAZ;AACA,mBAAOP,IAAI,CAACY,OAAL,CAAa,yEAAYC,GAAZ,CAAgBC,QAAhB,EAAb,EAAyCP,UAAzC,EAAqDS,SAArD,EAAP;AACH;;;4CAEwBhB,I,EAAkByM,Y,EAAsB;AAC7D,gBAAMlM,UAAU,GAAG,yDAAW,+DAAX,GAA+B,gBAA/B,GAAkDkM,YAAlD,GAAiE,iBAApF;AACAvN,mBAAO,CAACoB,GAAR,CAAYC,UAAZ;AACA,mBAAOP,IAAI,CAACY,OAAL,CAAa,yEAAYC,GAAZ,CAAgBC,QAAhB,EAAb,EAAyCP,UAAzC,EAAqDS,SAArD,EAAP;AACH;;;uCAEmBhB,I,EAAkB6M,O,EAAiB;AACnD,gBAAMtM,UAAU,GAAG,yDAAW,+DAAX,GAA+B,WAA/B,GAA6CsM,OAA7C,GAAuD,gBAA1E;AACA3N,mBAAO,CAACoB,GAAR,CAAYC,UAAZ;AACA,mBAAOP,IAAI,CAACY,OAAL,CAAa,yEAAYC,GAAZ,CAAgBC,QAAhB,EAAb,EAAyCP,UAAzC,EAAqDS,SAArD,EAAP;AACH;;;8CAE0BhB,I,EAAkBygB,U,EAAoB5T,O,EAAiBiN,K,EAAsB;AAAA;;AACpG,gBAAMqH,aAAa,GAAoBzgB,IAAI,CAACS,KAAL,CAAWT,IAAI,CAACC,SAAL,CAAemZ,KAAf,CAAX,CAAvC;AACAqH,yBAAa,CAACxK,KAAd,GAAsB,IAAtB;AACAwK,yBAAa,CAACvK,EAAd,GAAmB,IAAnB;AACA,gBAAMxW,MAAM,GAAG;AAACyM,qBAAO,EAAExM,SAAV;AAAqB+gB,0BAAY,EAAE/gB;AAAnC,aAAf;AACAD,kBAAM,CAACyM,OAAP,GAAiBA,OAAjB;AACAzM,kBAAM,CAACghB,YAAP,GAAsBD,aAAtB;AACAjiB,mBAAO,CAACoB,GAAR,CAAYF,MAAZ;AACA,gBAAMG,UAAU,GAAG,yDAAW,+DAAX,GAA+B,WAA/B,GAA6CsM,OAA7C,GAAuD,EAA1E;AACA3N,mBAAO,CAACoB,GAAR,CAAYC,UAAZ;AACA,gBAAMC,MAAM,GAAG,IAAI,+DAAJ,GAAiBC,GAAjB,CAAqB,cAArB,EAAqCC,IAAI,CAACC,SAAL,CAAeP,MAAf,CAArC,CAAf;AAEA,mBAAOJ,IAAI,CAACY,OAAL,CAAa6f,UAAb,EAAyBlgB,UAAzB,EAAqC;AAACQ,0BAAY,EAAE,MAAf;AAAuBP,oBAAM,EAANA;AAAvB,aAArC,EAAqEQ,SAArE,GAAiFlE,IAAjF,CACH,UAACukB,gBAAD,EAA2B;AACvBniB,qBAAO,CAACoB,GAAR,CAAY+gB,gBAAZ;AACA,kBAAMngB,QAAQ,GAAoBR,IAAI,CAACS,KAAL,CAAWkgB,gBAAX,CAAlC;AACA,kBAAMnD,cAAc,GAAGhd,QAAQ,CAACD,IAAT,CAAcid,cAArC;AACAhf,qBAAO,CAACoB,GAAR,CAAYY,QAAZ;AACAhC,qBAAO,CAACoB,GAAR,CAAYY,QAAQ,CAACD,IAArB;AACA,qBAAO,OAAI,CAACqgB,wBAAL,CAA8BthB,IAA9B,EAAoCygB,UAApC,EAAgDvC,cAAhD,EAAgEpE,KAAK,CAACnD,KAAtE,EAA6E7Z,IAA7E,CACH,UAACykB,oBAAD,EAA+B;AAC3BriB,uBAAO,CAACoB,GAAR,CAAYihB,oBAAZ;AACA,uBAAO,OAAI,CAACC,qBAAL,CAA2BxhB,IAA3B,EAAiCygB,UAAjC,EAA6CvC,cAA7C,EAA6DpE,KAAK,CAAClD,EAAnE,CAAP;AACH,eAJE,CAAP;AAMH,aAbE,CAAP;AAeH;;;mDAEgC5W,I,EAAkBygB,U,EAAoBvC,c,EAAwBuD,U,EAAkC;AAE7H,gBAAMrhB,MAAM,GAAG;AAAC8d,4BAAc,EAAE7d,SAAjB;AAA4BqhB,+BAAiB,EAAErhB;AAA/C,aAAf;AACAD,kBAAM,CAAC8d,cAAP,GAAwBA,cAAxB;AACA9d,kBAAM,CAACshB,iBAAP,GAA2BD,UAA3B;AACAviB,mBAAO,CAACoB,GAAR,CAAYF,MAAZ;AACA,gBAAMG,UAAU,GAAG,yDAAW,+DAAX,GAA+B,kBAA/B,GAAoD2d,cAApD,GAAqE,EAAxF;AACAhf,mBAAO,CAACoB,GAAR,CAAYC,UAAZ;AACA,gBAAMC,MAAM,GAAG,IAAI,+DAAJ,GAAiBC,GAAjB,CAAqB,mBAArB,EAA0CC,IAAI,CAACC,SAAL,CAAeP,MAAf,CAA1C,CAAf;AAEA,mBAAOJ,IAAI,CAACY,OAAL,CAAa6f,UAAb,EAAyBlgB,UAAzB,EAAqC;AAACQ,0BAAY,EAAE,MAAf;AAAuBP,oBAAM,EAANA;AAAvB,aAArC,EAAqEQ,SAArE,EAAP;AACH;;;gDAE6BhB,I,EAAkBygB,U,EAAoBvC,c,EAAwByD,O,EAA4B;AAEpH,gBAAMvhB,MAAM,GAAG;AAAC8d,4BAAc,EAAE7d,SAAjB;AAA4BuhB,4BAAc,EAAEvhB;AAA5C,aAAf;AACAD,kBAAM,CAAC8d,cAAP,GAAwBA,cAAxB;AACA9d,kBAAM,CAACwhB,cAAP,GAAwBD,OAAxB;AACAziB,mBAAO,CAACoB,GAAR,CAAYF,MAAZ;AACA,gBAAMG,UAAU,GAAG,yDAAW,+DAAX,GAA+B,kBAA/B,GAAoD2d,cAApD,GAAqE,EAAxF;AACAhf,mBAAO,CAACoB,GAAR,CAAYC,UAAZ;AACA,gBAAMC,MAAM,GAAG,IAAI,+DAAJ,GAAiBC,GAAjB,CAAqB,gBAArB,EAAuCC,IAAI,CAACC,SAAL,CAAeP,MAAf,CAAvC,CAAf;AAEA,mBAAOJ,IAAI,CAACY,OAAL,CAAa6f,UAAb,EAAyBlgB,UAAzB,EAAqC;AAACQ,0BAAY,EAAE,MAAf;AAAuBP,oBAAM,EAANA;AAAvB,aAArC,EAAqEQ,SAArE,EAAP;AACH;;;oCAEgBhB,I,EAAkBygB,U,EAAyBlC,gB,EAA0B/C,qB,EAA4C;AAE9H,gBAAMpb,MAAM,GAAG;AAACme,8BAAgB,EAAEle,SAAnB;AAA8BwhB,mCAAqB,EAAExhB;AAArD,aAAf;AACAD,kBAAM,CAACme,gBAAP,GAA0BA,gBAA1B;AACAne,kBAAM,CAACyhB,qBAAP,GAA+BrG,qBAA/B;AACAtc,mBAAO,CAACoB,GAAR,CAAYF,MAAZ;AACA,gBAAMG,UAAU,GAAG,yDAAW,wCAAX,GAAsD,oBAAtD,GAA6Ege,gBAA7E,GAAgG,EAAnH;AACArf,mBAAO,CAACoB,GAAR,CAAYC,UAAZ;AACA,gBAAMC,MAAM,GAAG,IAAI,+DAAJ,GAAiBC,GAAjB,CAAqB,uBAArB,EAA8CC,IAAI,CAACC,SAAL,CAAeP,MAAf,CAA9C,CAAf;AAEA,mBAAOJ,IAAI,CAACY,OAAL,CAAa6f,UAAU,CAAC3f,QAAX,EAAb,EAAoCP,UAApC,EAAgD;AAACQ,0BAAY,EAAE,MAAf;AAAuBP,oBAAM,EAANA;AAAvB,aAAhD,EAAgFQ,SAAhF,EAAP;AACH;;;6BAEShB,I,EAAkBygB,U,EAAyBvC,c,EAAwB3C,c,EAA8B;AACvG,gBAAMnb,MAAM,GAAG;AAAC8d,4BAAc,EAAE7d,SAAjB;AAA4BuhB,4BAAc,EAAEvhB;AAA5C,aAAf;AACAD,kBAAM,CAAC8d,cAAP,GAAwBA,cAAxB;AACA9d,kBAAM,CAACwhB,cAAP,GAAwBrG,cAAxB;AACArc,mBAAO,CAACoB,GAAR,CAAYF,MAAZ;AACA,gBAAMG,UAAU,GAAG,yDAAW,iCAAX,GAA+C,kBAA/C,GAAoE2d,cAApE,GAAqF,EAAxG;AACAhf,mBAAO,CAACoB,GAAR,CAAYC,UAAZ;AACA,gBAAMC,MAAM,GAAG,IAAI,+DAAJ,GAAiBC,GAAjB,CAAqB,gBAArB,EAAuCC,IAAI,CAACC,SAAL,CAAeP,MAAf,CAAvC,CAAf;AAEA,mBAAOJ,IAAI,CAACY,OAAL,CAAa6f,UAAU,CAAC3f,QAAX,EAAb,EAAoCP,UAApC,EAAgD;AAACQ,0BAAY,EAAE,MAAf;AAAuBP,oBAAM,EAANA;AAAvB,aAAhD,EAAgFQ,SAAhF,EAAP;AACH;;;uCAEmBhB,I,EAAkBygB,U,EAAyBpC,wB,EAC3CjD,6B,EAA4D;AAC5E,gBAAMhb,MAAM,GAAG;AAACie,sCAAwB,EAAEhe,SAA3B;AAAsCyhB,2CAA6B,EAAEzhB;AAArE,aAAf;AACAD,kBAAM,CAACie,wBAAP,GAAkCA,wBAAlC;AACAje,kBAAM,CAAC0hB,6BAAP,GAAuC1G,6BAAvC;AACAlc,mBAAO,CAACoB,GAAR,CAAYF,MAAZ;AACA,gBAAMG,UAAU,GAAG,yDAAW,gDAAX,GACb,4BADa,GACkB8d,wBADlB,GAC6C,EADhE;AAEAnf,mBAAO,CAACoB,GAAR,CAAYC,UAAZ;AACA,gBAAMC,MAAM,GAAG,IAAI,+DAAJ,GAAiBC,GAAjB,CAAqB,+BAArB,EAAsDC,IAAI,CAACC,SAAL,CAAeP,MAAf,CAAtD,CAAf;AAEA,mBAAOJ,IAAI,CAACY,OAAL,CAAa6f,UAAU,CAAC3f,QAAX,EAAb,EAAoCP,UAApC,EAAgD;AAACQ,0BAAY,EAAE,MAAf;AAAuBP,oBAAM,EAANA;AAAvB,aAAhD,EAAgFQ,SAAhF,EAAP;AACH;;;gCAEYhB,I,EAAkBygB,U,EAAyBrC,mB,EAA6BjD,sB,EAA8C;AAE/H,gBAAM/a,MAAM,GAAG;AAACge,iCAAmB,EAAE/d,SAAtB;AAAiC0hB,oCAAsB,EAAE1hB;AAAzD,aAAf;AACAD,kBAAM,CAACge,mBAAP,GAA6BA,mBAA7B;AACAhe,kBAAM,CAAC2hB,sBAAP,GAAgC5G,sBAAhC;AACAjc,mBAAO,CAACoB,GAAR,CAAYF,MAAZ;AACA,gBAAMG,UAAU,GAAG,yDAAW,yCAAX,GAAuD,uBAAvD,GAAiF6d,mBAAjF,GAAuG,EAA1H;AACAlf,mBAAO,CAACoB,GAAR,CAAYC,UAAZ;AACA,gBAAMC,MAAM,GAAG,IAAI,+DAAJ,GAAiBC,GAAjB,CAAqB,wBAArB,EAA+CC,IAAI,CAACC,SAAL,CAAeP,MAAf,CAA/C,CAAf;AAEA,mBAAOJ,IAAI,CAACY,OAAL,CAAa6f,UAAU,CAAC3f,QAAX,EAAb,EAAoCP,UAApC,EAAgD;AAACQ,0BAAY,EAAE,MAAf;AAAuBP,oBAAM,EAANA;AAAvB,aAAhD,EAAgFQ,SAAhF,EAAP;AACH;;;oCAEgBhB,I,EAAkBygB,U,EAAyBnC,qB,EAC3ChD,0B,EAAsD;AACnE,gBAAMlb,MAAM,GAAG;AAACke,mCAAqB,EAAEje,SAAxB;AAAmC2hB,wCAA0B,EAAE3hB;AAA/D,aAAf;AACAD,kBAAM,CAACke,qBAAP,GAA+BA,qBAA/B;AACAle,kBAAM,CAAC4hB,0BAAP,GAAoC1G,0BAApC;AACApc,mBAAO,CAACoB,GAAR,CAAYF,MAAZ;AACA,gBAAMG,UAAU,GAAG,yDAAW,6CAAX,GACb,yBADa,GACe+d,qBADf,GACuC,EAD1D;AAEApf,mBAAO,CAACoB,GAAR,CAAYC,UAAZ;AACA,gBAAMC,MAAM,GAAG,IAAI,+DAAJ,GAAiBC,GAAjB,CAAqB,4BAArB,EAAmDC,IAAI,CAACC,SAAL,CAAeP,MAAf,CAAnD,CAAf;AAEA,mBAAOJ,IAAI,CAACY,OAAL,CAAa6f,UAAU,CAAC3f,QAAX,EAAb,EAAoCP,UAApC,EAAgD;AAACQ,0BAAY,EAAE,MAAf;AAAuBP,oBAAM,EAANA;AAAvB,aAAhD,EAAgFQ,SAAhF,EAAP;AACH;;;6BAEShB,I,EAAkBygB,U,EAAyBrC,mB,EAA6B/C,mB,EAAwC;AAEtH,gBAAMjb,MAAM,GAAG;AAACge,iCAAmB,EAAE/d,SAAtB;AAAiC4hB,iCAAmB,EAAE5hB;AAAtD,aAAf;AACAD,kBAAM,CAACge,mBAAP,GAA6BA,mBAA7B;AACAhe,kBAAM,CAAC6hB,mBAAP,GAA6B5G,mBAA7B;AACAnc,mBAAO,CAACoB,GAAR,CAAYF,MAAZ;AACA,gBAAMG,UAAU,GAAG,yDAAW,sCAAX,GAAoD,uBAApD,GAA8E6d,mBAA9E,GAAoG,EAAvH;AACAlf,mBAAO,CAACoB,GAAR,CAAYC,UAAZ;AACA,gBAAMC,MAAM,GAAG,IAAI,+DAAJ,GAAiBC,GAAjB,CAAqB,qBAArB,EAA4CC,IAAI,CAACC,SAAL,CAAeP,MAAf,CAA5C,CAAf;AAEA,mBAAOJ,IAAI,CAACY,OAAL,CAAa6f,UAAU,CAAC3f,QAAX,EAAb,EAAoCP,UAApC,EAAgD;AAACQ,0BAAY,EAAE,MAAf;AAAuBP,oBAAM,EAANA;AAAvB,aAAhD,EAAgFQ,SAAhF,EAAP;AACH;;;gCAEYhB,I,EAAkBygB,U,EAAyBvC,c,EAAwBhD,iB,EAAoC;AAChH,gBAAM9a,MAAM,GAAG;AAAC8d,4BAAc,EAAE7d,SAAjB;AAA4BqhB,+BAAiB,EAAErhB;AAA/C,aAAf;AACAD,kBAAM,CAAC8d,cAAP,GAAwBA,cAAxB;AACA9d,kBAAM,CAACshB,iBAAP,GAA2BxG,iBAA3B;AACAhc,mBAAO,CAACoB,GAAR,CAAYF,MAAZ;AACA,gBAAMG,UAAU,GAAG,yDAAW,oCAAX,GAAkD,kBAAlD,GAAuE2d,cAAvE,GAAwF,EAA3G;AACAhf,mBAAO,CAACoB,GAAR,CAAYC,UAAZ;AACA,gBAAMC,MAAM,GAAG,IAAI,+DAAJ,GAAiBC,GAAjB,CAAqB,mBAArB,EAA0CC,IAAI,CAACC,SAAL,CAAeP,MAAf,CAA1C,CAAf;AAEA,mBAAOJ,IAAI,CAACY,OAAL,CAAa6f,UAAU,CAAC3f,QAAX,EAAb,EAAoCP,UAApC,EAAgD;AAACQ,0BAAY,EAAE,MAAf;AAAuBP,oBAAM,EAANA;AAAvB,aAAhD,EAAgFQ,SAAhF,EAAP;AACH;;;uCAEmBhB,I,EAAkBygB,U,EAAyB5T,O,EAAiBkO,a,EAA4B;AACxG,gBAAM3a,MAAM,GAAG;AAACyM,qBAAO,EAAExM,SAAV;AAAqB+gB,0BAAY,EAAE/gB;AAAnC,aAAf;AACAD,kBAAM,CAACyM,OAAP,GAAiBA,OAAjB;AACAzM,kBAAM,CAACghB,YAAP,GAAsBrG,aAAtB;AACA7b,mBAAO,CAACoB,GAAR,CAAYF,MAAZ;AACA,gBAAMG,UAAU,GAAG,yDAAW,+BAAX,GAA6C,WAA7C,GAA2DsM,OAA3D,GAAqE,EAAxF;AACA3N,mBAAO,CAACoB,GAAR,CAAYC,UAAZ;AACA,gBAAMC,MAAM,GAAG,IAAI,+DAAJ,GAAiBC,GAAjB,CAAqB,cAArB,EAAqCC,IAAI,CAACC,SAAL,CAAeP,MAAf,CAArC,CAAf;AAEA,mBAAOJ,IAAI,CAACY,OAAL,CAAa6f,UAAU,CAAC3f,QAAX,EAAb,EAAoCP,UAApC,EAAgD;AAACQ,0BAAY,EAAE,MAAf;AAAuBP,oBAAM,EAANA;AAAvB,aAAhD,EAAgFQ,SAAhF,EAAP;AACH;;;sCAEkBhB,I,EAAkBygB,U,EAAyBvC,c,EAAwBlD,uB,EAAgD;AAElI,gBAAM5a,MAAM,GAAG;AAACyM,qBAAO,EAAExM,SAAV;AAAqB6hB,qCAAuB,EAAE7hB;AAA9C,aAAf;AACAD,kBAAM,CAACyM,OAAP,GAAiBqR,cAAjB;AACA9d,kBAAM,CAAC8hB,uBAAP,GAAiClH,uBAAjC;AACA9b,mBAAO,CAACoB,GAAR,CAAYF,MAAZ;AACA,gBAAMG,UAAU,GAAG,yDAAW,0CAAX,GAAwD,kBAAxD,GAA6E2d,cAA7E,GAA8F,EAAjH;AACAhf,mBAAO,CAACoB,GAAR,CAAYC,UAAZ;AACA,gBAAMC,MAAM,GAAG,IAAI,+DAAJ,GAAiBC,GAAjB,CAAqB,yBAArB,EAAgDC,IAAI,CAACC,SAAL,CAAeP,MAAf,CAAhD,CAAf;AAEA,mBAAOJ,IAAI,CAACY,OAAL,CAAa6f,UAAU,CAAC3f,QAAX,EAAb,EAAoCP,UAApC,EAAgD;AAACQ,0BAAY,EAAE,MAAf;AAAuBP,oBAAM,EAANA;AAAvB,aAAhD,EAAgFQ,SAAhF,EAAP;AACH;;;gCAEYhB,I,EAAkBygB,U,EAAyBvC,c,EAAwBL,iB,EAAsC;AAElH,gBAAMzd,MAAM,GAAG;AAACyM,qBAAO,EAAExM,SAAV;AAAqB8hB,+BAAiB,EAAE9hB;AAAxC,aAAf;AACAD,kBAAM,CAACyM,OAAP,GAAiBqR,cAAjB;AACA9d,kBAAM,CAAC+hB,iBAAP,GAA2BtE,iBAA3B;AACA3e,mBAAO,CAACoB,GAAR,CAAYF,MAAZ;AACA,gBAAMG,UAAU,GAAG,yDAAW,oCAAX,GAAkD,kBAAlD,GAAuE2d,cAAvE,GAAwF,EAA3G;AACAhf,mBAAO,CAACoB,GAAR,CAAYC,UAAZ;AACA,gBAAMC,MAAM,GAAG,IAAI,+DAAJ,GAAiBC,GAAjB,CAAqB,mBAArB,EAA0CC,IAAI,CAACC,SAAL,CAAeP,MAAf,CAA1C,CAAf;AAEA,mBAAOJ,IAAI,CAACY,OAAL,CAAa6f,UAAU,CAAC3f,QAAX,EAAb,EAAoCP,UAApC,EAAgD;AAACQ,0BAAY,EAAE,MAAf;AAAuBP,oBAAM,EAANA;AAAvB,aAAhD,EAAgFQ,SAAhF,EAAP;AACH;;;gCAEYhB,I,EAAkBygB,U,EAAyBhU,Y,EAAsBqB,M,EAAwB;AAElG,gBAAMsU,UAAU,GAAG1hB,IAAI,CAACS,KAAL,CAAWT,IAAI,CAACC,SAAL,CAAemN,MAAf,CAAX,CAAnB;AACAsU,sBAAU,CAACrH,YAAX,GAA0B,IAA1B;AACAqH,sBAAU,CAACzP,WAAX,GAAyB,IAAzB;AACAyP,sBAAU,CAACtQ,QAAX,GAAsB,IAAtB;AACA,gBAAM1R,MAAM,GAAG;AAACqM,0BAAY,EAAEpM,SAAf;AAA0B2gB,mBAAK,EAAE3gB;AAAjC,aAAf;AACAD,kBAAM,CAACqM,YAAP,GAAsBA,YAAtB;AACArM,kBAAM,CAAC4gB,KAAP,GAAeoB,UAAf;AACAljB,mBAAO,CAACoB,GAAR,CAAYF,MAAZ;AACA,gBAAMG,UAAU,GAAG,yDAAW,sBAAX,GAAoC,gBAApC,GAAuDkM,YAAvD,GAAsE,EAAzF;AACAvN,mBAAO,CAACoB,GAAR,CAAYC,UAAZ;AACA,gBAAMC,MAAM,GAAG,IAAI,+DAAJ,GAAiBC,GAAjB,CAAqB,OAArB,EAA8BC,IAAI,CAACC,SAAL,CAAeP,MAAf,CAA9B,CAAf;AACAlB,mBAAO,CAACoB,GAAR,CAAYF,MAAZ;AAEA,mBAAOJ,IAAI,CAACY,OAAL,CAAa6f,UAAU,CAAC3f,QAAX,EAAb,EAAoCP,UAApC,EAAgD;AAACQ,0BAAY,EAAE,MAAf;AAAuBP,oBAAM,EAANA;AAAvB,aAAhD,EAAgFQ,SAAhF,EAAP;AACH;;;sCAEkBhB,I,EAAkBygB,U,EAAyB5I,a,EAAuBlF,Y,EAAwB;AAEzG,gBAAMvS,MAAM,GAAG;AAACyX,2BAAa,EAAExX,SAAhB;AAA2BgiB,yBAAW,EAAEhiB;AAAxC,aAAf;AACAD,kBAAM,CAACyX,aAAP,GAAuBA,aAAvB;AACAzX,kBAAM,CAACiiB,WAAP,GAAqB1P,YAArB;AACAzT,mBAAO,CAACoB,GAAR,CAAYF,MAAZ;AACA,gBAAMG,UAAU,GAAG,yDAAW,kCAAX,GAAgD,iBAAhD,GAAoEsX,aAApE,GAAoF,EAAvG;AACA3Y,mBAAO,CAACoB,GAAR,CAAYC,UAAZ;AACA,gBAAMC,MAAM,GAAG,IAAI,+DAAJ,GAAiBC,GAAjB,CAAqB,aAArB,EAAoCC,IAAI,CAACC,SAAL,CAAeP,MAAf,CAApC,CAAf;AAEA,mBAAOJ,IAAI,CAACY,OAAL,CAAa6f,UAAU,CAAC3f,QAAX,EAAb,EAAoCP,UAApC,EAAgD;AAACQ,0BAAY,EAAE,MAAf;AAAuBP,oBAAM,EAANA;AAAvB,aAAhD,EAAgFQ,SAAhF,EAAP;AACH;;;mCAEehB,I,EAAkBygB,U,EAAyB6B,W,EAAqBC,S,EAAmB;AAE/F,gBAAMniB,MAAM,GAAG;AAACkiB,yBAAW,EAAEjiB,SAAd;AAAyBmiB,uBAAS,EAAEniB;AAApC,aAAf;AACAD,kBAAM,CAACkiB,WAAP,GAAqBA,WAArB;AACAliB,kBAAM,CAACoiB,SAAP,GAAmBD,SAAnB;AACArjB,mBAAO,CAACoB,GAAR,CAAYF,MAAZ;AACA,gBAAMG,UAAU,GAAG,yDAAW,+BAAX,GAA6C,eAA7C,GAA+D+hB,WAA/D,GAA6E,EAAhG;AACApjB,mBAAO,CAACoB,GAAR,CAAYC,UAAZ;AACA,gBAAMC,MAAM,GAAG,IAAI,+DAAJ,GAAiBC,GAAjB,CAAqB,WAArB,EAAkCC,IAAI,CAACC,SAAL,CAAeP,MAAf,CAAlC,CAAf;AAEA,mBAAOJ,IAAI,CAACY,OAAL,CAAa6f,UAAU,CAAC3f,QAAX,EAAb,EAAoCP,UAApC,EAAgD;AAACQ,0BAAY,EAAE,MAAf;AAAuBP,oBAAM,EAANA;AAAvB,aAAhD,EAAgFQ,SAAhF,EAAP;AACH;;;;;;;yBApTQ2f,Y;AAAY,O;;;eAAZA,Y;AAAY,iBAAZA,YAAY,K;AAAA,oBAFT;;;;;wEAEHA,Y,EAAY;gBAHxB,wDAGwB;iBAHb;AACR9gB,sBAAU,EAAE;AADJ,W;AAGa,U;;;;;;;;;;;;;;;;;;;;ACTzB;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAOa4iB,iB;AAEX,qCAAc;AAAA;AAAG;;;;4CAEUziB,I,EAAkB0iB,e,EAA0B;AACjE,gBAAMniB,UAAU,GAAG,yDAAW,4DAAX,GAA4B,mBAA5B,GAAkDmiB,eAArE;AACAxjB,mBAAO,CAACoB,GAAR,CAAYC,UAAZ;AACA,mBAAOP,IAAI,CAACY,OAAL,CAAa,KAAb,EAAoBL,UAApB,EAAgCS,SAAhC,EAAP;AACH;;;wCAEoBhB,I,EAAkByM,Y,EAAsBiW,e,EAA0B;AACnF,gBAAMniB,UAAU,GAAG,yDAAW,4DAAX,GAA4B,gBAA5B,GAA+CkM,YAA/C,GAA8D,mBAA9D,GAAoFiW,eAAvG;AACAxjB,mBAAO,CAACoB,GAAR,CAAYC,UAAZ;AACA,mBAAOP,IAAI,CAACY,OAAL,CAAa,KAAb,EAAoBL,UAApB,EAAgCS,SAAhC,EAAP;AACH;;;oDAEyBhB,I,EAAkByM,Y,EAAsBkW,O,EAAkB;AAChF,gBAAMpiB,UAAU,GAAG,yDAAW,6DAAX,GAA6B,gBAA7B,GAAgDkM,YAAhD,GAA+D,WAA/D,GAA6EkW,OAAhG;AACAzjB,mBAAO,CAACoB,GAAR,CAAYC,UAAZ;AACA,mBAAOP,IAAI,CAACY,OAAL,CAAa,KAAb,EAAoBL,UAApB,EAAgCS,SAAhC,EAAP;AACH;;;;;;;yBApBQyhB,iB;AAAiB,O;;;eAAjBA,iB;AAAiB,iBAAjBA,iBAAiB,K;AAAA,oBAFhB;;;;;wEAEDA,iB,EAAiB;gBAH7B,wDAG6B;iBAHlB;AACV5iB,sBAAU,EAAE;AADF,W;AAGkB,U;;;;;;;;;;;;;;;;;;;;ACP9B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA,S,CAAA;AACA;;;AACO,UAAI+iB,QAAQ,GAAG,uBAAf;AACA,UAAIC,eAAe,GAAG,oBAAtB;AACA,UAAIC,mBAAmB,GAAG,uBAA1B;AACA,UAAIC,YAAY,GAAG,kBAAnB;AACA,UAAIC,WAAW,GAAG,iBAAlB;AACA,UAAIC,mBAAmB,GAAG,wBAA1B;AAMP;;;;AAGO,UAAIC,iBAAiB,GAAG,+BAAxB;AACA,UAAIC,iBAAiB,GAAG,sBAAxB;AAGP;;;;AAGO,UAAIC,cAAc,GAAG,oBAArB;AACA,UAAIC,eAAe,GAAG,+BAAtB;;;;;;;;;;;;;;;;ACxBP;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAOaC,gB;AAEX,oCAAc;AAAA;AAAG;;;;qCAET,CACP;;;;;;;yBALUA,gB;AAAgB,O;;;cAAhBA,gB;AAAgB,oC;AAAA,gB;AAAA,e;AAAA,sG;AAAA;AAAA;ACP7B;;AACI;;AACA;;AACA;;AACA;;AACA;;AACJ;;;;;;;;wEDCaA,gB,EAAgB;gBAL5B,uDAK4B;iBALlB;AACTjlB,oBAAQ,EAAE,aADD;AAETC,uBAAW,EAAE,0BAFJ;AAGTC,qBAAS,EAAE,CAAC,0BAAD;AAHF,W;AAKkB,U;;;;;;;;;;;;;;;;;;;;AEP7B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAUaglB,wB;AAIT,0CAAoBvjB,IAApB,EACoBsP,WADpB,EACkD;AAAA;;AAD9B,eAAAtP,IAAA,GAAAA,IAAA;AACA,eAAAsP,WAAA,GAAAA,WAAA;AACnB;;;;qCAEO;AAAA;;AACJ,iBAAKA,WAAL,CAAiBE,OAAjB,CAAyB,SAAzB,EAAoC,mBAApC,EAAyD1S,IAAzD,CACI,UAAC4b,WAAD,EAAsB;AAClB;AACA,qBAAI,CAAChJ,qBAAL,GAA6BhP,IAAI,CAACS,KAAL,CAAWuX,WAAX,CAA7B;AACAxZ,qBAAO,CAACoB,GAAR,CAAY,OAAI,CAACoP,qBAAjB;AACH,aALL;AAOH;;;sCAEW;AACR,gBAAI8T,UAAJ;AACAtkB,mBAAO,CAACoB,GAAR,CAAY,KAAKoP,qBAAL,CAA2BuG,YAA3B,CAAwC,GAAxC,CAAZ;AACAuN,sBAAU,GAAG,KAAK9T,qBAAL,CAA2BuG,YAA3B,CAAwC,GAAxC,CAAb;AACA/W,mBAAO,CAACoB,GAAR,CAAYkjB,UAAZ;AACA,gBAAMpjB,MAAM,GAAG;AAAC8d,4BAAc,EAAE7d,SAAjB;AAA4BojB,mBAAK,EAAEpjB;AAAnC,aAAf;AACAD,kBAAM,CAAC8d,cAAP,GAAwB,CAAxB;AACA9d,kBAAM,CAACqjB,KAAP,GAAeD,UAAU,CAAC7M,KAAX,CAAiB,CAAjB,CAAf;AACAzX,mBAAO,CAACoB,GAAR,CAAYF,MAAZ;AACA,gBAAMG,UAAU,GAAG,kEAAW,oCAAX,GAAkD,kBAAlD,GAAuE,CAAvE,GAA2E,EAA9F;AACArB,mBAAO,CAACoB,GAAR,CAAYC,UAAZ;AACA,gBAAMC,MAAM,GAAG,IAAI,+DAAJ,GAAiBC,GAAjB,CAAqB,mBAArB,EAA0CC,IAAI,CAACC,SAAL,CAAeP,MAAf,CAA1C,CAAf;AACA,mBAAO,KAAKJ,IAAL,CAAUY,OAAV,CAAkB,MAAlB,EAA0BL,UAA1B,EAAsC;AAACQ,0BAAY,EAAE,MAAf;AAAuBP,oBAAM,EAANA;AAAvB,aAAtC,EAAsEQ,SAAtE,GAAkFlE,IAAlF,CACH,UAACmE,IAAD,EAAe;AACX/B,qBAAO,CAACoB,GAAR,CAAYW,IAAZ;AACH,aAHE,CAAP;AAKH;;;mCAEQ;AACL,gBAAIyiB,iBAAJ;AACAxkB,mBAAO,CAACoB,GAAR,CAAY,KAAKoP,qBAAjB;AACAxQ,mBAAO,CAACoB,GAAR,CAAY,KAAKoP,qBAAL,CAA2B2G,iBAA3B,CAA6C,EAA7C,CAAZ;AACAqN,6BAAiB,GAAG,KAAKhU,qBAAL,CAA2B2G,iBAA3B,CAA6C,EAA7C,CAApB;AACAnX,mBAAO,CAACoB,GAAR,CAAYojB,iBAAZ;AACA,gBAAMtjB,MAAM,GAAG;AAAC8d,4BAAc,EAAE7d,SAAjB;AAA4BsjB,gBAAE,EAAEtjB;AAAhC,aAAf;AACAD,kBAAM,CAAC8d,cAAP,GAAwB,CAAxB;AACA9d,kBAAM,CAACujB,EAAP,GAAYD,iBAAiB,CAAC9M,EAAlB,CAAqB,CAArB,CAAZ;AACA1X,mBAAO,CAACoB,GAAR,CAAYF,MAAZ;AACA,gBAAMG,UAAU,GAAG,kEAAW,iCAAX,GAA+C,kBAA/C,GAAoE,CAApE,GAAwE,EAA3F;AACArB,mBAAO,CAACoB,GAAR,CAAYC,UAAZ;AACA,gBAAMC,MAAM,GAAG,IAAI,+DAAJ,GAAiBC,GAAjB,CAAqB,gBAArB,EAAuCC,IAAI,CAACC,SAAL,CAAeP,MAAf,CAAvC,CAAf;AACA,mBAAO,KAAKJ,IAAL,CAAUY,OAAV,CAAkB,MAAlB,EAA0BL,UAA1B,EAAsC;AAACQ,0BAAY,EAAE,MAAf;AAAuBP,oBAAM,EAANA;AAAvB,aAAtC,EAAsEQ,SAAtE,GAAkFlE,IAAlF,CACH,UAACmE,IAAD,EAAe;AACX/B,qBAAO,CAACoB,GAAR,CAAYW,IAAZ;AACH,aAHE,CAAP;AAKH;;;6CAEkB;AACf,gBAAMb,MAAM,GAAG;AAAC8d,4BAAc,EAAE7d,SAAjB;AAA4B0gB,0BAAY,EAAE1gB;AAA1C,aAAf;AACAD,kBAAM,CAAC8d,cAAP,GAAwB,CAAxB;AACA9d,kBAAM,CAAC2gB,YAAP,GAAsB,KAAKrR,qBAAL,CAA2B2G,iBAA3B,CAA6C,EAA7C,EAAiDI,WAAvE;AACAvX,mBAAO,CAACoB,GAAR,CAAYF,MAAZ;AACA,gBAAMG,UAAU,GAAG,kEAAW,0CAAX,GAAwD,WAAxD,GAAsE,CAAtE,GAA0E,EAA7F;AACArB,mBAAO,CAACoB,GAAR,CAAYC,UAAZ;AACA,gBAAMC,MAAM,GAAG,IAAI,+DAAJ,GAAiBC,GAAjB,CAAqB,0BAArB,EAAiDC,IAAI,CAACC,SAAL,CAAeP,MAAf,CAAjD,CAAf;AAEA,mBAAO,KAAKJ,IAAL,CAAUY,OAAV,CAAkB,MAAlB,EAA0BL,UAA1B,EAAsC;AAACQ,0BAAY,EAAE,MAAf;AAAuBP,oBAAM,EAANA;AAAvB,aAAtC,EAAsEQ,SAAtE,GAAkFlE,IAAlF,CACH,UAACmE,IAAD,EAAe;AACX/B,qBAAO,CAACoB,GAAR,CAAYW,IAAZ;AACH,aAHE,CAAP;AAKH;;;sCAEW;AACR,gBAAMb,MAAM,GAAG;AAAC8d,4BAAc,EAAE7d,SAAjB;AAA4BujB,mBAAK,EAAEvjB;AAAnC,aAAf;AACAD,kBAAM,CAAC8d,cAAP,GAAwB,CAAxB;AACA9d,kBAAM,CAACwjB,KAAP,GAAe,KAAKlU,qBAAL,CAA2B2G,iBAA3B,CAA6C,EAA7C,EAAiDK,KAAjD,CAAuDzV,IAAtE;AACA/B,mBAAO,CAACoB,GAAR,CAAYF,MAAZ;AACA,gBAAMG,UAAU,GAAG,kEAAW,oCAAX,GAAkD,WAAlD,GAAgE,CAAhE,GAAoE,EAAvF;AACArB,mBAAO,CAACoB,GAAR,CAAYC,UAAZ;AACA,gBAAMC,MAAM,GAAG,IAAI,+DAAJ,GAAiBC,GAAjB,CAAqB,mBAArB,EAA0CC,IAAI,CAACC,SAAL,CAAeP,MAAf,CAA1C,CAAf;AAEA,mBAAO,KAAKJ,IAAL,CAAUY,OAAV,CAAkB,MAAlB,EAA0BL,UAA1B,EAAsC;AAACQ,0BAAY,EAAE,MAAf;AAAuBP,oBAAM,EAANA;AAAvB,aAAtC,EAAsEQ,SAAtE,GAAkFlE,IAAlF,CACH,UAACmE,IAAD,EAAe;AACX/B,qBAAO,CAACoB,GAAR,CAAYW,IAAZ;AACH,aAHE,CAAP;AAKH;;;;;;;yBAvFQsiB,wB,EAAwB,gI,EAAA,4I;AAAA,O;;;cAAxBA,wB;AAAwB,8C;AAAA,iB;AAAA,e;AAAA,8B;AAAA;AAAA;ACVrC;;AAAG;;AAAwB;;AAC3B;;AAAQ;AAAA,qBAAS,IAAAM,SAAA,EAAT;AAAoB,aAApB;;AAAsB;;AAAU;;AACxC;;AAAQ;AAAA,qBAAS,IAAAC,MAAA,EAAT;AAAiB,aAAjB;;AAAmB;;AAAO;;AAClC;;AAAQ;AAAA,qBAAS,IAAAC,gBAAA,EAAT;AAA2B,aAA3B;;AAA6B;;AAAgB;;AACrD;;AAAQ;AAAA,qBAAS,IAAAC,SAAA,EAAT;AAAoB,aAApB;;AAAsB;;AAAU;;;;;;;;wEDM3BT,wB,EAAwB;gBALpC,uDAKoC;iBAL1B;AACPllB,oBAAQ,EAAE,uBADH;AAEPC,uBAAW,EAAE,oCAFN;AAGPC,qBAAS,EAAE,CAAC,oCAAD;AAHJ,W;AAK0B,U;;;;;;;;;;;;;;;;;;;;;;;;AEVrC;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAOa0lB,yB;AAEX,6CAAc;AAAA;AAAG;;;;qCAET,CACP;;;;;;;yBALUA,yB;AAAyB,O;;;cAAzBA,yB;AAAyB,8C;AAAA,gB;AAAA,e;AAAA,sO;AAAA;AAAA;ACPtC;;AACI;;AACI;;AACI;;AACI;;AACI;;AACJ;;AACJ;;AACA;;AACI;;AACJ;;AACJ;;AACJ;;AACJ;;;;;;;;;wEDNaA,yB,EAAyB;gBALrC,uDAKqC;iBAL3B;AACT5lB,oBAAQ,EAAE,uBADD;AAETC,uBAAW,EAAE,oCAFJ;AAGTC,qBAAS,EAAE,CAAC,oCAAD;AAHF,W;AAK2B,U;;;;;;;;;;;;;;;;;;;;AEPtC;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;ACiBoB;;AAAoD;;AAAoB;;;;;;AACxE;;AAAqD;;AAAgC;;;;;;AACrF;;AAAuC;;AAAoB;;;;;;AAE/D;;;;;;AAYI;;AAAoD;;AAAoB;;;;;;AACxE;;AAAiE;;AAA+B;;;;;;AAahG;;AAAkE;;AAAqB;;;;;;;;AAa3F;;AAII;AAAA;;AAAA;;AAAA;AAAA;;AACA;;AACI;;AACJ;;AACJ;;;;;;AAWQ;;AAAsD;;AAA2B;;;;;;AACjF;;AAAmE;;AAAgC;;;;;;AACnG;;AAAuE;;AAA2B;;;;;;;;;;;;;;AAX9G;;AACI;;AACI;;AACI;;AAAW;;AAAe;;AAC1B;;AAEO;AAAA;;AAAA;;AAAA;AAAA;;AAFP;;AAGA;;AAAoB;;AAAO;;AAC3B;;AAAqF;;AAAiB;;AACtG;;AACA;;AACA;;AACJ;;AACJ;;AACJ;;;;;;AANkC;;AAAA;;AACX;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;;;;;AAYX;;AACI;;AACJ;;;;;;AAFuD;;AACnD;;AAAA;;;;;;AAGR;;AAAsD;;AAAgC;;;;;;;;AAX9F;;AACI;;AACI;;AAAqC;;AAAuB;;AAC5D;;AAA0D;AAAA;;AAAA;;AAAA;AAAA;;AAGtD;;AACA;;AAGJ;;AACA;;AACJ;;AACJ;;;;;;AANoB;;AAAA;;AAID;;AAAA;;;;ADnFxB,UAAM2lB,aAAa,GAAgB,SAA7BA,aAA6B,CAACC,SAAD,EAAmD;AACzF,YAAIA,SAAS,CAACthB,GAAV,CAAc,UAAd,EAA0Bf,KAA1B,CAAgCuB,MAAhC,GAAyC,CAA7C,EAAgD;AAC5C,iBAAO;AAAC+gB,2BAAe,EAAE;AAAlB,WAAP;AACH,SAFD,MAEO,IAAID,SAAS,CAACthB,GAAV,CAAc,UAAd,EAA0Bf,KAA1B,CAAgCuB,MAAhC,GAAyC,EAA7C,EAAiD;AACpD,iBAAO;AAACghB,2BAAe,EAAE;AAAlB,WAAP;AACH,SAFM,MAEA;AACH,iBAAO,IAAP;AACH;AACJ,OARM;;AAUA,UAAMC,sBAAsB,GAAgB,SAAtCA,sBAAsC,CAACH,SAAD,EAAmD;AAClG,YAAIA,SAAS,CAACthB,GAAV,CAAc,UAAd,EAA0Bf,KAA1B,CAAgCuB,MAAhC,GAAyC,CAA7C,EAAgD;AAC5C,iBAAO;AAACkhB,2BAAe,EAAE;AAAlB,WAAP;AACH,SAFD,MAEO,IAAIJ,SAAS,CAACthB,GAAV,CAAc,UAAd,EAA0Bf,KAA1B,CAAgCuB,MAAhC,GAAyC,CAA7C,EAAgD;AACnD,iBAAO;AAACmhB,iCAAqB,EAAE;AAAxB,WAAP;AACH;;AACD,YAAIL,SAAS,CAACthB,GAAV,CAAc,UAAd,EAA0Bf,KAA1B,KAAoCqiB,SAAS,CAACthB,GAAV,CAAc,gBAAd,EAAgCf,KAAxE,EAA+E;AAC3E,iBAAO,IAAP;AACH,SAFD,MAEO;AACH,iBAAO;AAAC2iB,4BAAgB,EAAE;AAAnB,WAAP;AACH;AACJ,OAXM;;AAaA,UAAMC,mBAAmB,GAAgB,SAAnCA,mBAAmC,CAACP,SAAD,EAAmD;AAC/F,YAAMra,QAAQ,CAACC,cAAT,CAAwB,gBAAxB,KACED,QAAQ,CAACC,cAAT,CAAwB,gBAAxB,EAA+DjI,KAA/D,CAAqEuB,MAArE,KAAgF,CADpF,IAEKyG,QAAQ,CAACC,cAAT,CAAwB,yBAAxB,KACGD,QAAQ,CAACC,cAAT,CAAwB,yBAAxB,EAAyEjI,KAAzE,CAA+EuB,MAA/E,KAA0F,CAHtG,EAG0G;AACtG,iBAAO;AAACshB,6BAAiB,EAAE;AAApB,WAAP;AACH,SALD,MAKO,IAAM7a,QAAQ,CAACC,cAAT,CAAwB,gBAAxB,KACLD,QAAQ,CAACC,cAAT,CAAwB,gBAAxB,EAA+DjI,KAA/D,CAAqEuB,MAArE,GAA8E,EAD/E,EACoF;AACvF,iBAAO;AAACuhB,iCAAqB,EAAE;AAAxB,WAAP;AACH,SAHM,MAGA;AACH,iBAAO,IAAP;AACH;AACJ,OAZM;;UAmBMC,mB;AAuBT,qCAAoB7mB,WAApB,EACoBgC,IADpB,EAEoBX,MAFpB,EAEkC;AAAA;;AAAA;;AAFd,eAAArB,WAAA,GAAAA,WAAA;AACA,eAAAgC,IAAA,GAAAA,IAAA;AACA,eAAAX,MAAA,GAAAA,MAAA;AArBpB,eAAAolB,gBAAA,GAAmB,KAAnB;AAEA,eAAAK,IAAA,GAAO,IAAP;AAIA,eAAAC,yBAAA,GAA4B,KAA5B;AACA,eAAAC,cAAA,GAAiB,KAAjB;AASA,eAAAC,8BAAA,GAAiC,KAAjC;AACA,eAAAC,oCAAA,GAAuC,KAAvC;;AAqFO,eAAAC,QAAA,GAAW,UAACC,WAAD,EAAsBC,SAAtB,EAA4C;AAC1D,mBAAO,OAAI,CAACC,cAAL,CAAoBC,QAApB,CAA6BH,WAA7B,EAA0CD,QAA1C,CAAmDE,SAAnD,CAAP;AACH,WAFM;;AAwCP,eAAAG,UAAA,GAAa,UAACC,aAAD,EAAmB;AAC5B,gBAAI,OAAI,CAACH,cAAL,CAAoBI,KAAxB,EAA+B;AAC3B,qBAAI,CAACC,mBAAL,CAAyBF,aAAzB;AACH;AACJ,WAJD;;AAMQ,eAAAE,mBAAA,GAAsB,UAACF,aAAD,EAAmB;AAC7C,gBAAMpkB,IAAI,GAAoB;AAC1BpB,sBAAQ,EAAEwlB,aAAa,CAACxlB,QADE;AAE1BC,sBAAQ,EAAEulB,aAAa,CAACvlB,QAFE;AAG1BhC,qBAAO,EAAE,KAHiB;AAI1BC,0BAAY,EAAE;AAJY,aAA9B;AAOA,gBAAMynB,eAAe,GAAe;AAChCnZ,0BAAY,EAAE,OAAI,CAACA,YAAL,GAAoB,OAAI,CAACA,YAAzB,GAAwC,IADtB;AAEhCyE,iBAAG,EAAE,OAAI,CAAC5P,UAAL,CAAgBQ,KAAhB,GAAwB,OAAI,CAACR,UAAL,CAAgBQ,KAAxC,GAAgD,IAFrB;AAGhC+jB,oBAAM,EAAE,CAHwB;AAIhCtG,0BAAY,EAAE,CAJkB;AAKhCC,mBAAK,EAAE,CALyB;AAMhCC,qBAAO,EAAE,CANuB;AAOhCC,qBAAO,EAAE,CAPuB;AAQhCC,0BAAY,EAAE,CARkB;AAShCC,sBAAQ,EAAE,CATsB;AAUhCC,kBAAI,EAAE,CAV0B;AAWhCiG,mCAAqB,EAAE;AAXS,aAApC;;AAcA,mBAAI,CAAC9nB,WAAL,CAAiBwnB,UAAjB,CAA4B,OAAI,CAACxlB,IAAjC,EAAuCqB,IAAvC,EAA6CukB,eAA7C,EACK9oB,IADL,CAEQ,UAACmE,IAAD,EAAe;AACX/B,qBAAO,CAACoB,GAAR,CAAYW,IAAZ;AACA,kBAAMC,QAAQ,GAAoBR,IAAI,CAACS,KAAL,CAAWF,IAAX,CAAlC;AACA,kBAAM8kB,WAAW,GAAoB7kB,QAAQ,CAACD,IAA9C;;AACA,qBAAI,CAAC+kB,MAAL,CAAYD,WAAW,CAAC9lB,QAAxB,EAAkC8lB,WAAW,CAAC7lB,QAA9C;AACH,aAPT,WASQ,UAACe,IAAD,EAAe;AACX/B,qBAAO,CAACoB,GAAR,CAAYW,IAAZ;AACA,kBAAMC,QAAQ,GAAoBD,IAAlC;;AACA,kBAAIC,QAAQ,CAACE,MAAT,KAAoB,GAAxB,EAA6B;AAC7B,uBAAI,CAAC6kB,qBAAL,CAA2B,uCAA3B;AACH;AACJ,aAfL;AAiBH,WAvCO;AA7HP;;;;qCAEO;AAAA;;AACJ,iBAAKX,cAAL,GAAsB,IAAI,wDAAJ,CAAc;AAChCrlB,sBAAQ,EAAE,IAAI,0DAAJ,CAAgB,EAAhB,EAAoB,CAAC,0DAAWimB,QAAZ,EAAsB,0DAAWC,SAAX,CAAqB,EAArB,CAAtB,CAApB,CADsB;AAEhCjmB,sBAAQ,EAAE,IAAI,0DAAJ,CAAgB,EAAhB,EAAoB,CAAC,0DAAWgmB,QAAZ,EAAsB,0DAAWE,SAAX,CAAqB,CAArB,CAAtB,CAApB,CAFsB;AAGhCC,4BAAc,EAAE,IAAI,0DAAJ,CAAgB,EAAhB,EAAoB,CAAC,0DAAWH,QAAZ,CAApB,CAHgB;AAIhCnB,uCAAyB,EAAE,IAAI,0DAAJ,CAAgB,EAAhB,CAJK;AAKhCuB,mCAAqB,EAAE,IAAI,0DAAJ,CAAgB,EAAhB,CALS;AAMhChlB,wBAAU,EAAE,IAAI,0DAAJ,CAAgB,EAAhB;AANoB,aAAd,EAOnB,CAACgjB,sBAAD,EAAyBI,mBAAzB,EAA8CR,aAA9C,CAPmB,CAAtB;;AAQA,gBAAI,KAAKlmB,WAAL,CAAiB0B,MAArB,EAA6B;AACzB,mBAAKyE,OAAL,GAAe,IAAf,CADyB,CAEzB;AACA;;AACA,kBAAMvE,WAAW,GAAG,wBAApB,CAJyB,CAMzB;;AACA,mBAAKP,MAAL,CAAYknB,QAAZ,CAAqB,CAAC3mB,WAAD,CAArB;AACH;;AACD,iBAAK5B,WAAL,CAAiBwoB,oBAAjB,CAAsC,KAAKxmB,IAA3C,EAAiDlD,IAAjD,CACI,UAACmE,IAAD,EAAe;AACX/B,qBAAO,CAACoB,GAAR,CAAYW,IAAZ;AACA,kBAAMC,QAAQ,GAAoBD,IAAlC;AACA,qBAAI,CAACwlB,cAAL,GAAsBvlB,QAAQ,CAACD,IAA/B;AACA/B,qBAAO,CAACoB,GAAR,CAAYY,QAAQ,CAACD,IAArB;AACA/B,qBAAO,CAACoB,GAAR,CAAY,OAAI,CAACmmB,cAAL,CAAoB,CAApB,CAAZ;AACH,aAPL;AASH;;;4CAkBiB;AACd,gBAAI,KAAKnB,cAAL,CAAoBH,QAApB,CAA6B,iBAA7B,CAAJ,EAAqD;AACjD,mBAAKjlB,QAAL,CAAcwmB,SAAd,CAAwB;AAACR,wBAAQ,EAAE;AAAX,eAAxB;AACH,aAFD,MAEO,IAAI,KAAKZ,cAAL,CAAoBH,QAApB,CAA6B,kBAA7B,CAAJ,EAAsD;AACzD,mBAAKkB,cAAL,CAAoBK,SAApB,CAA8B;AAACjC,gCAAgB,EAAE;AAAnB,eAA9B;AACH,aAFM,MAEA,IAAI,KAAKa,cAAL,CAAoBH,QAApB,CAA6B,uBAA7B,CAAJ,EAA2D;AAC9D,mBAAKjlB,QAAL,CAAcwmB,SAAd,CAAwB;AAAClC,qCAAqB,EAAE;AAAxB,eAAxB;AACH,aAFM,MAEA;AACH,mBAAK6B,cAAL,CAAoBK,SAApB,CAA8B,IAA9B;AACH;AACJ;;;8CAEmB;AAChB,gBAAI,KAAKpB,cAAL,CAAoBH,QAApB,CAA6B,mBAA7B,CAAJ,EAAuD;AACnD,mBAAK7jB,UAAL,CAAgBolB,SAAhB,CAA0B;AAACR,wBAAQ,EAAE;AAAX,eAA1B;AACH,aAFD,MAEO,IAAI,KAAKZ,cAAL,CAAoBH,QAApB,CAA6B,uBAA7B,CAAJ,EAA2D;AAC9D,mBAAK7jB,UAAL,CAAgBolB,SAAhB,CAA0B;AAACC,kBAAE,EAAE;AAAL,eAA1B;AACH,aAFM,MAEA;AACH,mBAAKC,+BAAL;AACH;AACJ;;;4CAEiB;AACd,gBAAI,KAAKtB,cAAL,CAAoBH,QAApB,CAA6B,iBAA7B,CAAJ,EAAqD;AACjD,mBAAKllB,QAAL,CAAcymB,SAAd,CAAwB;AAACR,wBAAQ,EAAE;AAAX,eAAxB;AACH,aAFD,MAEO,IAAI,KAAKZ,cAAL,CAAoBH,QAApB,CAA6B,iBAA7B,CAAJ,EAAqD;AACxD,mBAAKllB,QAAL,CAAcymB,SAAd,CAAwB;AAAC9B,qCAAqB,EAAE;AAAxB,eAAxB;AACH,aAFM,MAEA;AACH,mBAAKiC,yBAAL;AACH;AACJ;;;iCAMMC,a,EAAuBC,a,EAAuB;AAAA;;AACjD,gBAAM9mB,QAAQ,GAAG6mB,aAAa,GAAGA,aAAH,GAAoBhd,QAAQ,CAACC,cAAT,CAAwB,cAAxB,EAA6DjI,KAA/G;AACA,gBAAM5B,QAAQ,GAAG6mB,aAAa,GAAGA,aAAH,GAAoBjd,QAAQ,CAACC,cAAT,CAAwB,cAAxB,EAA6DjI,KAA/G,CAFiD,CAGjD;;AAEA5C,mBAAO,CAACoB,GAAR,CAAYL,QAAZ;AACAf,mBAAO,CAACoB,GAAR,CAAYJ,QAAZ;AACA,iBAAKlC,WAAL,CAAiBgoB,MAAjB,CAAwB,KAAKhmB,IAA7B,EAAmCC,QAAnC,EAA6CC,QAA7C,EAAuDpD,IAAvD,CACI,UAACmE,IAAD,EAAe;AACX/B,qBAAO,CAACoB,GAAR,CAAYW,IAAZ;;AACA,kBAAI,OAAI,CAACjD,WAAL,CAAiB0B,MAArB,EAA6B;AACzB,uBAAI,CAACyE,OAAL,GAAe,IAAf,CADyB,CAEzB;AACA;;AACA,oBAAMvE,WAAW,GAAG,wBAApB,CAJyB,CAMzB;;AACA,uBAAI,CAACP,MAAL,CAAYknB,QAAZ,CAAqB,CAAC3mB,WAAD,CAArB;AACH;AACJ,aAZL,EAYO,UAACqB,IAAD,EAAe;AACd/B,qBAAO,CAACoB,GAAR,CAAYW,IAAZ;;AACA,kBAAI,CAAC,OAAI,CAACjD,WAAL,CAAiB0B,MAAtB,EAA8B;AAC1B,uBAAI,CAACumB,qBAAL,CAA2B,wCAA3B;AACH;AACJ,aAjBL,WAmBI,UAAChlB,IAAD,EAAe;AACX/B,qBAAO,CAACoB,GAAR,CAAYW,IAAZ;;AACA,kBAAI,CAAC,OAAI,CAACjD,WAAL,CAAiB0B,MAAtB,EAA8B;AAC1B,uBAAI,CAACumB,qBAAL,CAA2B,wCAA3B;AACH;AACJ,aAxBL;AA2BH;;;gDAiDqB9hB,O,EAAiB;AACnC,iBAAKA,OAAL,GAAeA,OAAf;AACH;;;8DAEmC;AAAA;;AAChC,iBAAK4gB,yBAAL,GAAiC,CAAC,KAAKA,yBAAvC;;AACA,gBAAI,CAAC,KAAKA,yBAAV,EAAqC;AACjC7lB,qBAAO,CAACoB,GAAR,CAAY,KAAKykB,yBAAjB;AACA,mBAAKtY,YAAL,GAAoB,IAApB;AACA,mBAAKnL,UAAL,CAAgBgJ,UAAhB,CAA2B,IAA3B;AACA,mBAAKhJ,UAAL,CAAgB0lB,eAAhB;AACA,mBAAK1lB,UAAL,CAAgB2lB,sBAAhB;AACA,mBAAK3B,cAAL,CAAoB2B,sBAApB;AACAtkB,wBAAU,CAAC,YAAM;AAAC,uBAAI,CAAC0jB,cAAL,CAAoB/b,UAApB,CAA+B,OAAI,CAAC+b,cAAL,CAAoBvkB,KAAnD;AAA4D,eAApE,EAAuE,EAAvE,CAAV;AACH,aARD,MAQO;AACH,mBAAKR,UAAL,CAAgB4lB,aAAhB,CAA8B,CAAC,0DAAWhB,QAAZ,CAA9B;AACA,mBAAK5kB,UAAL,CAAgB2lB,sBAAhB;AACH;;AACD/nB,mBAAO,CAACoB,GAAR,CAAY,KAAKglB,cAAL,CAAoBlkB,MAAhC;AACH;;;mDAEwB;AACrB,iBAAK4jB,cAAL,GAAsB,CAAC,KAAKA,cAA5B;;AACA,gBAAI,CAAC,KAAKA,cAAV,EAA0B;AACtB,mBAAKvY,YAAL,GAAoB,IAApB;AACA,mBAAKnL,UAAL,CAAgBgJ,UAAhB,CAA2B,IAA3B;AACH;AACJ;;;gDAEqB;AAClB,gBAAMhJ,UAAU,GAAIwI,QAAQ,CAACC,cAAT,CAAwB,yBAAxB,EAAyEjI,KAA7F;;AACA,gBAAIR,UAAU,CAAC+B,MAAX,GAAoB,CAAxB,EAA2B;AACvB,mBAAKoJ,YAAL,GAAoB,KAAKga,cAAL,CAAoBja,IAApB,CAAyB,UAAAhE,CAAC;AAAA,uBAAIA,CAAC,CAAC0I,GAAF,KAAU5P,UAAd;AAAA,eAA1B,EAAoDmL,YAAxE;AACH;;AACDvN,mBAAO,CAACoB,GAAR,CAAY,KAAKmM,YAAjB;AACH;;;sDAE2B;AAAA;;AACxB,gBAAI,KAAK0a,aAAT,EAAuB;AACnBC,0BAAY,CAAC,KAAKD,aAAN,CAAZ;AACH,aAHuB,CAKxB;;;AACA,iBAAKA,aAAL,GAAqBxkB,UAAU,CAAC,YAAM;AAAC,qBAAI,CAACsiB,8BAAL,GAAsC,IAAtC;;AAA4C,qBAAI,CAACoC,cAAL;AAAwB,aAA5E,EAA8E,IAA9E,CAA/B;AACH;;;2CAEgB;AAAA;;AACbnoB,mBAAO,CAACoB,GAAR,CAAY,KAAKtC,WAAjB;AACA,iBAAKA,WAAL,CAAiBspB,sBAAjB,CAAwC,KAAKtnB,IAA7C,EAAmD,KAAKC,QAAL,CAAc6B,KAAjE,EAAwEhF,IAAxE,CACI,UAACmE,IAAD,EAAe;AACX,qBAAI,CAACgkB,8BAAL,GAAsC,KAAtC;AACA/lB,qBAAO,CAACoB,GAAR,CAAYW,IAAZ;;AACA,qBAAI,CAAChB,QAAL,CAAcymB,SAAd,CAAwB,IAAxB;;AACA,qBAAI,CAACa,mBAAL,GAA2B,KAA3B;AACH,aANL,WAQI,UAACtmB,IAAD,EAAe;AACX,qBAAI,CAACgkB,8BAAL,GAAsC,KAAtC;AACA/lB,qBAAO,CAACoB,GAAR,CAAYW,IAAZ;AACA,kBAAMC,QAAQ,GAAoBD,IAAlC;;AACA,kBAAIC,QAAQ,CAACE,MAAT,KAAoB,GAAxB,EAA6B;AACzB,uBAAI,CAACnB,QAAL,CAAcymB,SAAd,CAAwB;AAACc,qCAAmB,EAAE;AAAtB,iBAAxB;;AACA7kB,0BAAU,CAAE,YAAM;AAAE,yBAAI,CAAC4kB,mBAAL,GAA2B,IAA3B;AAAkC,iBAA5C,EAA8C,EAA9C,CAAV;AACH;AACJ,aAhBL;AAkBH;;;4DAEiC;AAAA;;AAC9B,gBAAI,KAAKE,mBAAT,EAA6B;AACzBL,0BAAY,CAAC,KAAKK,mBAAN,CAAZ;AACH,aAH6B,CAK9B;;;AACA,iBAAKA,mBAAL,GAA2B9kB,UAAU,CAAC,YAAM;AACxC,qBAAI,CAACuiB,oCAAL,GAA4C,IAA5C;;AAAkD,qBAAI,CAACwC,oBAAL;AACjD,aAFgC,EAE9B,IAF8B,CAArC;AAGH;;;iDAEsB;AAAA;;AACnBxoB,mBAAO,CAACoB,GAAR,CAAY,KAAKtC,WAAjB;AACA,iBAAKA,WAAL,CAAiB2pB,2BAAjB,CAA6C,KAAK3nB,IAAlD,EAAwD,KAAKsB,UAAL,CAAgBQ,KAAxE,EAA+EhF,IAA/E,CACI,UAACmE,IAAD,EAAe;AACX,qBAAI,CAACikB,oCAAL,GAA4C,KAA5C;AACAhmB,qBAAO,CAACoB,GAAR,CAAYW,IAAZ;;AACA,qBAAI,CAACK,UAAL,CAAgBolB,SAAhB,CAA0B,IAA1B;;AACA,qBAAI,CAACkB,yBAAL,GAAiC,KAAjC;AACH,aANL,WAQI,UAAC3mB,IAAD,EAAe;AACX,qBAAI,CAACikB,oCAAL,GAA4C,KAA5C;AACAhmB,qBAAO,CAACoB,GAAR,CAAYW,IAAZ;AACA,kBAAMC,QAAQ,GAAoBD,IAAlC;;AACA,kBAAIC,QAAQ,CAACE,MAAT,KAAoB,GAAxB,EAA6B;AACzB,uBAAI,CAACE,UAAL,CAAgBolB,SAAhB,CAA0B;AAACmB,2CAAyB,EAAE;AAA5B,iBAA1B;;AACAllB,0BAAU,CAAE,YAAM;AAAE,yBAAI,CAACilB,yBAAL,GAAiC,IAAjC;AAAwC,iBAAlD,EAAoD,EAApD,CAAV;AACH;AACJ,aAhBL;AAkBH;;;2CAEgB;AACb1oB,mBAAO,CAACoB,GAAR,CAAY,KAAKglB,cAAL,CAAoBwC,MAAhC;AACA5oB,mBAAO,CAACoB,GAAR,CAAY,KAAKJ,QAAL,CAAc4nB,MAA1B;AACA5oB,mBAAO,CAACoB,GAAR,CAAY,KAAK+lB,cAAL,CAAoByB,MAAhC;AACA5oB,mBAAO,CAACoB,GAAR,CAAY,KAAKL,QAAL,CAAc6nB,MAA1B;AACA5oB,mBAAO,CAACoB,GAAR,CAAY,KAAKgB,UAAL,CAAgBwmB,MAA5B;AACH;;;sCAEW;AACR,iBAAKzoB,MAAL,CAAYknB,QAAZ,CAAqB,CAAC,QAAD,CAArB;AACH;;;8BAtPc;AACX,mBAAO,KAAKjB,cAAL,CAAoBziB,GAApB,CAAwB,UAAxB,CAAP;AACH;;;8BAEc;AACX,mBAAO,KAAKyiB,cAAL,CAAoBziB,GAApB,CAAwB,UAAxB,CAAP;AACH;;;8BAEoB;AACjB,mBAAO,KAAKyiB,cAAL,CAAoBziB,GAApB,CAAwB,gBAAxB,CAAP;AACH;;;8BAEgB;AACb,mBAAO,KAAKyiB,cAAL,CAAoBziB,GAApB,CAAwB,YAAxB,CAAP;AACH;;;;;;;yBAxEQgiB,mB,EAAmB,+H,EAAA,gI,EAAA,uH;AAAA,O;;;cAAnBA,mB;AAAmB,wC;AAAA,iB;AAAA,gB;AAAA,quD;AAAA;AAAA;ACxDhC;;AACI;;AACI;;AAAiE;AAAA,qBAAY,IAAAW,UAAA,0BAAZ;AAA4C,aAA5C;;AAC7D;;AACI;;AACI;;AACJ;;AACJ;;AACA;;AAAyB;AAAA,qBAAS,oBAAT;AAA8B,aAA9B;;AACrB;;AACJ;;AACA;;AACI;;AACI;;AAAW;;AAAmB;;AAC9B;;AAAoF;AAAA,qBAAS,qBAAT;AAA+B,aAA/B;;AAApF;;AACA;;AAAoB;;AAAc;;AAClC;;AAA+E;;AAAiB;;AAChG;;AACA;;AACA;;AACJ;;AACA;;AACJ;;AACA;;AACI;;AACI;;AAAW;;AAAmB;;AAC9B;;AACkC;AAAA,qBAAS,IAAAuC,eAAA,EAAT;AAA0B,aAA1B;;AADlC;;AAEA;;AAAgD;AAAA;AAAA;;AAE5C;;AAAU;;AAA0C;;AACxD;;AACA;;AAAsB;;AAAgB;;AACtC;;AACA;;AACJ;;AACJ;;AAEA;;AACI;;AACI;;AAAW;;AAAc;;AACzB;;AACwC;AAAA,qBAAS,IAAAA,eAAA,EAAT;AAA0B,aAA1B;;AADxC;;AAEA;;AAAgD;AAAA;AAAA;;AAE5C;;AAAU;;AAA0C;;AACxD;;AACA;;AACJ;;AACJ;;AAEA;;AACI;;AAGI;AAAA,qBAAS,IAAAC,iCAAA,EAAT;AAA4C,aAA5C;;AAEA;;AACJ;;AACA;;AACA;;AASJ;;AACA;;AAgBA;;AAeA;;AAAG;;AAAgB;;AACnB;;AAAsF;;AAAO;;AAC7F;;AAAmG;AAAA,qBAAS,eAAT;AAAyB,aAAzB;;AAA2B;;AAAM;;AACxI;;AACJ;;AACJ;;;;AAxGc;;AAAA;;AAc4B;;AAAA;;AACX;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AAEG;;AAAA;;AAKE;;AAAA;;AAEuD;;AAAA,qGAAmC,cAAnC,EAAmC,QAAnC;;AAEzD;;AAAA;;AAGH;;AAAA;;AACA;;AAAA;;AAOK;;AAAA;;AAEuD;;AAAA,qGAAmC,cAAnC,EAAmC,QAAnC;;AAEzD;;AAAA;;AAEH;;AAAA;;AASX;;AAAA;;AAKA;;AAAA;;AASH;;AAAA;;AAgBA;;AAAA;;AAeF;;AAAA;;AACgD;;AAAA;;;;;;;;;wED9ClDnD,mB,EAAmB;gBAL/B,uDAK+B;iBALrB;AACPxmB,oBAAQ,EAAE,iBADH;AAEPC,uBAAW,EAAE,8BAFN;AAGPC,qBAAS,EAAE,CAAC,8BAAD;AAHJ,W;AAKqB,U;;;;;;;;;;;;;;;;;;;;;;;;;;AExDhC;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UASa0pB,uB;AAEX,yCAAoBjqB,WAApB,EACoBkqB,KADpB,EACmC;AAAA;;AADf,eAAAlqB,WAAA,GAAAA,WAAA;AACA,eAAAkqB,KAAA,GAAAA,KAAA;AAAkB;;;;qCAE9B;AACJ,iBAAKlqB,WAAL,CAAiBmqB,OAAjB;AACA,iBAAKD,KAAL,CAAW3B,QAAX,CAAoB,CAAC,GAAD,CAApB;AACH;;;;;;;yBARU0B,uB,EAAuB,+H,EAAA,uH;AAAA,O;;;cAAvBA,uB;AAAuB,4C;AAAA,gB;AAAA,e;AAAA;AAAA;ACTpC;;AAAG;;AAAsB;;;;;;;;wEDSZA,uB,EAAuB;gBALnC,uDAKmC;iBALzB;AACT5pB,oBAAQ,EAAE,qBADD;AAETC,uBAAW,EAAE,kCAFJ;AAGTC,qBAAS,EAAE,CAAC,kCAAD;AAHF,W;AAKyB,U;;;;;;;;;;;;;;;;;;;;;;;;AETpC;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;ACkBoB;;AAAoD;;AAAoB;;;;;;AACxE;;AAAqD;;AAAgC;;;;;;AACrF;;AAA2D;;AAAgB;;;;;;AAa3E;;AAAoD;;AAAoB;;;;;;AACxE;;AAAqD;;AAA+B;;;;;;;;;;UDrB3F6pB,kB;AAYT,oCAAoBpqB,WAApB,EACoBgC,IADpB,EAEoBX,MAFpB,EAEoC;AAAA;;AAAA;;AAFhB,eAAArB,WAAA,GAAAA,WAAA;AACA,eAAAgC,IAAA,GAAAA,IAAA;AACA,eAAAX,MAAA,GAAAA,MAAA;AAVpB,eAAAylB,IAAA,GAAO,IAAP;AAMA,eAAAG,8BAAA,GAAiC,KAAjC;;AA+BO,eAAAE,QAAA,GAAW,UAACC,WAAD,EAAsBC,SAAtB,EAA4C;AAC1D,mBAAO,OAAI,CAACgD,aAAL,CAAmB9C,QAAnB,CAA4BH,WAA5B,EAAyCD,QAAzC,CAAkDE,SAAlD,CAAP;AACH,WAFM;AA1BN;;;;qCAEO;AACJ,iBAAKgD,aAAL,GAAqB,IAAI,wDAAJ,CAAc;AAC/BpoB,sBAAQ,EAAE,IAAI,0DAAJ,CAAgB,EAAhB,EAAoB,CAAC,0DAAWimB,QAAZ,EAAsB,0DAAWC,SAAX,CAAqB,EAArB,CAAtB,CAApB,CADqB;AAE/BjmB,sBAAQ,EAAE,IAAI,0DAAJ,CAAgB,EAAhB,EAAoB,CAAC,0DAAWgmB,QAAZ,EAAsB,0DAAWE,SAAX,CAAqB,CAArB,CAAtB,CAApB;AAFqB,aAAd,CAArB;;AAIA,gBAAI,KAAKpoB,WAAL,CAAiB0B,MAArB,EAA6B;AACzB,mBAAKyE,OAAL,GAAe,IAAf,CADyB,CAEzB;AACA;;AACA,kBAAMvE,WAAW,GAAG,wBAApB,CAJyB,CAMzB;;AACA,mBAAKP,MAAL,CAAYknB,QAAZ,CAAqB,CAAC3mB,WAAD,CAArB;AACH;AACJ;;;4CAciB;AACd,gBAAI,KAAKyoB,aAAL,CAAmBlD,QAAnB,CAA4B,iBAA5B,CAAJ,EAAoD;AAChD,mBAAKjlB,QAAL,CAAcwmB,SAAd,CAAwB;AAACR,wBAAQ,EAAE;AAAX,eAAxB;AACH,aAFD,MAEO,IAAI,KAAKmC,aAAL,CAAmBlD,QAAnB,CAA4B,kBAA5B,CAAJ,EAAqD;AACxD,mBAAKkD,aAAL,CAAmB3B,SAAnB,CAA6B;AAACjC,gCAAgB,EAAE;AAAnB,eAA7B;AACH,aAFM,MAEA,IAAI,KAAK4D,aAAL,CAAmBlD,QAAnB,CAA4B,uBAA5B,CAAJ,EAA0D;AAC7D,mBAAKjlB,QAAL,CAAcwmB,SAAd,CAAwB;AAAClC,qCAAqB,EAAE;AAAxB,eAAxB;AACH,aAFM,MAEA;AACH,mBAAK6D,aAAL,CAAmB3B,SAAnB,CAA6B,IAA7B;AACH;AACJ;;;4CAEiB;AACd,gBAAI,KAAK2B,aAAL,CAAmBlD,QAAnB,CAA4B,iBAA5B,CAAJ,EAAoD;AAChD,mBAAKllB,QAAL,CAAcymB,SAAd,CAAwB;AAACR,wBAAQ,EAAE;AAAX,eAAxB;AACH,aAFD,MAEO,IAAI,KAAKmC,aAAL,CAAmBlD,QAAnB,CAA4B,iBAA5B,CAAJ,EAAoD;AACvD,mBAAKllB,QAAL,CAAcymB,SAAd,CAAwB;AAACP,yBAAS,EAAE;AAAZ,eAAxB;AACH,aAFM,MAEA;AACH,mBAAKU,yBAAL;AACH;AACJ;;;sDAE2B;AAAA;;AACxB,gBAAI,KAAKM,aAAT,EAAuB;AACnBC,0BAAY,CAAC,KAAKD,aAAN,CAAZ;AACH,aAHuB,CAKxB;;;AACA,gBAAI,KAAKlnB,QAAL,CAAc6B,KAAd,CAAoBuB,MAApB,GAA6B,CAAjC,EAAoC;AAChC,mBAAK8jB,aAAL,GAAqBxkB,UAAU,CAAC,YAAM;AAClC,uBAAI,CAACsiB,8BAAL,GAAsC,IAAtC;;AACA,uBAAI,CAACoC,cAAL;AACH,eAH8B,EAG5B,IAH4B,CAA/B;AAIH;AACJ;;;2CAEgB;AAAA;;AACbnoB,mBAAO,CAACoB,GAAR,CAAY,KAAKtC,WAAjB;AACA,iBAAKA,WAAL,CAAiBspB,sBAAjB,CAAwC,KAAKtnB,IAA7C,EAAmD,KAAKC,QAAL,CAAc6B,KAAjE,EAAwEhF,IAAxE,CACI,UAACmE,IAAD,EAAe;AACX,qBAAI,CAACgkB,8BAAL,GAAsC,KAAtC;AACA/lB,qBAAO,CAACoB,GAAR,CAAYW,IAAZ;;AACA,kBAAI,OAAI,CAAChB,QAAL,CAAcklB,QAAd,CAAuB,WAAvB,CAAJ,EAAyC;AACrC,uBAAI,CAACllB,QAAL,CAAcymB,SAAd,CAAwB;AAAC4B,iCAAe,EAAE,IAAlB;AAAwBC,2BAAS,EAAE;AAAnC,iBAAxB;AACH,eAFD,MAEO;AACH,uBAAI,CAACtoB,QAAL,CAAcymB,SAAd,CAAwB;AAAC4B,iCAAe,EAAE;AAAlB,iBAAxB;AACH;;AACD3lB,wBAAU,CAAE,YAAM;AAAE,uBAAI,CAAC2lB,eAAL,GAAuB,IAAvB;AAA8B,eAAxC,EAA0C,EAA1C,CAAV;AACH,aAVL,WAYI,UAACrnB,IAAD,EAAe;AACX,qBAAI,CAACgkB,8BAAL,GAAsC,KAAtC;AACA/lB,qBAAO,CAACoB,GAAR,CAAYW,IAAZ;AACA,kBAAMC,QAAQ,GAAoBD,IAAlC;;AACA,kBAAIC,QAAQ,CAACE,MAAT,KAAoB,GAAxB,EAA6B;AACzB,uBAAI,CAACnB,QAAL,CAAcymB,SAAd,CAAwB,IAAxB;;AACA,uBAAI,CAAC4B,eAAL,GAAuB,KAAvB;AACH;AACJ,aApBL;AAsBH;;;mCAEQ;AAAA;;AACL,gBAAMroB,QAAQ,GAAI6J,QAAQ,CAACC,cAAT,CAAwB,cAAxB,EAA6DjI,KAA/E;AACA,gBAAM5B,QAAQ,GAAI4J,QAAQ,CAACC,cAAT,CAAwB,cAAxB,EAA6DjI,KAA/E;AACA5C,mBAAO,CAACoB,GAAR,CAAYL,QAAZ;AACAf,mBAAO,CAACoB,GAAR,CAAYJ,QAAZ;AACA,iBAAKlC,WAAL,CAAiBgoB,MAAjB,CAAwB,KAAKhmB,IAA7B,EAAmCC,QAAnC,EAA6CC,QAA7C,EAAuDpD,IAAvD,CACI,UAACmE,IAAD,EAAe;AACX/B,qBAAO,CAACoB,GAAR,CAAYW,IAAZ;;AACA,kBAAI,OAAI,CAACjD,WAAL,CAAiB0B,MAArB,EAA6B;AACzB,uBAAI,CAACyE,OAAL,GAAe,IAAf,CADyB,CAEzB;AACA;;AACA,oBAAMvE,WAAW,GAAG,wBAApB,CAJyB,CAMzB;;AACA,uBAAI,CAACP,MAAL,CAAYknB,QAAZ,CAAqB,CAAC3mB,WAAD,CAArB;AACH;AACJ,aAZL,EAYO,UAACqB,IAAD,EAAe;AACd/B,qBAAO,CAACoB,GAAR,CAAYW,IAAZ;;AACA,kBAAI,CAAC,OAAI,CAACjD,WAAL,CAAiB0B,MAAtB,EAA8B;AAC1B,uBAAI,CAACumB,qBAAL,CAA2B,wCAA3B;AACH;AACJ,aAjBL,WAmBI,UAAChlB,IAAD,EAAe;AACX/B,qBAAO,CAACoB,GAAR,CAAYW,IAAZ;;AACA,kBAAI,CAAC,OAAI,CAACjD,WAAL,CAAiB0B,MAAtB,EAA8B;AAC1B,uBAAI,CAACumB,qBAAL,CAA2B,wCAA3B;AACH;AACJ,aAxBL;AA0BH;;;gDAEqB9hB,O,EAAiB;AACnC,iBAAKA,OAAL,GAAeA,OAAf;AACH;;;uCAEY;AACT,iBAAK9E,MAAL,CAAYknB,QAAZ,CAAqB,CAAC,SAAD,CAArB;AACH;;;2CAEgB;AACbrnB,mBAAO,CAACoB,GAAR,CAAY,KAAK+nB,aAAL,CAAmBP,MAA/B;AACA5oB,mBAAO,CAACoB,GAAR,CAAY,KAAK+nB,aAAL,CAAmB9C,QAA/B;AACArmB,mBAAO,CAACoB,GAAR,CAAY,KAAKL,QAAL,CAAc6nB,MAA1B;AACA5oB,mBAAO,CAACoB,GAAR,CAAY,KAAKJ,QAAL,CAAc4nB,MAAd,CAAqBngB,GAAjC;AACH;;;8BAxHc;AACX,mBAAO,KAAK0gB,aAAL,CAAmBxlB,GAAnB,CAAuB,UAAvB,CAAP;AACH;;;8BAEc;AACX,mBAAO,KAAKwlB,aAAL,CAAmBxlB,GAAnB,CAAuB,UAAvB,CAAP;AACH;;;;;;;yBAvCQulB,kB,EAAkB,+H,EAAA,gI,EAAA,uH;AAAA,O;;;cAAlBA,kB;AAAkB,uC;AAAA,iB;AAAA,gB;AAAA,i2B;AAAA;AAAA;ACb/B;;AACI;;AACI;;AAAgE;AAAA,qBAAY,YAAZ;AAAyB,aAAzB;;AAC5D;;AACI;;AACI;;AACJ;;AACJ;;AACA;;AAAyB;AAAA,qBAAS,IAAAI,cAAA,EAAT;AAAyB,aAAzB;;AACrB;;AACJ;;AACA;;AACI;;AACI;;AAAW;;AAAmB;;AAC9B;;AACO;AAAA,qBAAS,qBAAT;AAA+B,aAA/B,EAAgC,eAAhC,EAAgC;AAAA,qBAAkB,YAAlB;AAA+B,aAA/D;;AADP;;AAEA;;AAAoB;;AAAc;;AAClC;;AAA2E;;AAAiB;;AAC5F;;AACA;;AACA;;AACJ;;AACJ;;AACA;;AACI;;AACI;;AAAW;;AAAmB;;AAC9B;;AACkC;AAAA,qBAAS,IAAAT,eAAA,EAAT;AAA0B,aAA1B,EAA2B,eAA3B,EAA2B;AAAA,qBAAkB,YAAlB;AAA+B,aAA1D;;AADlC;;AAEA;;AAAgD;AAAA;AAAA;;AAE5C;;AAAU;;AAA0C;;AACxD;;AACA;;AAAsB;;AAAgB;;AACtC;;AACA;;AACJ;;AACJ;;AAEA;;AAAG;;AAAgB;;AACnB;;AAAmE;;AAAM;;AACzE;;AAAmG;AAAA,qBAAS,gBAAT;AAA0B,aAA1B;;AAA4B;;AAAO;;AAC1I;;AACJ;;AACJ;;;;AAzCc;;AAAA;;AAe4B;;AAAA;;AACX;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AAMK;;AAAA;;AAEuD;;AAAA,qGAAmC,cAAnC,EAAmC,QAAnC;;AAEzD;;AAAA;;AAGH;;AAAA;;AACA;;AAAA;;AAIhB;;AAAA;;AAC8B;;AAAA;;;;;;;;;wED1BhCK,kB,EAAkB;gBAL9B,uDAK8B;iBALpB;AACP/pB,oBAAQ,EAAE,gBADH;AAEPC,uBAAW,EAAE,6BAFN;AAGPC,qBAAS,EAAE,CAAC,6BAAD;AAHJ,W;AAKoB,U;;;;;;;;;;;;;;;;;;;;;;;;;;AEb/B;AAAA;;;AAAA;AAAA;AAAA,S,CAAA;AACA;AACA;;;AAEO,UAAMkqB,WAAW,GAAG;AACzBC,kBAAU,EAAE;AADa,OAApB;AAIP;;;;;;;AAOA;;;;;;;;;;;;;;;;;ACfA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;AAMA,UAAI,sEAAYA,UAAhB,EAA4B;AAC1B;AACD;;AAED,kFAAyB1pB,eAAzB,CAAyC,yDAAzC,WACS,UAAAC,GAAG;AAAA,eAAIC,OAAO,CAACC,KAAR,CAAcF,GAAd,CAAJ;AAAA,OADZ","file":"main-es5.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./$$_lazy_route_resource lazy recursive\";","import {NgModule} from '@angular/core';\r\nimport {Routes, RouterModule} from '@angular/router';\r\nimport {LootTableComponent} from './loot-table/loot-table.component';\r\nimport {GestionDropMonstreComponent} from './gestion-drop-monstre/gestion-drop-monstre.component';\r\nimport {GestionMonstreComponent} from './gestion-monstre/gestion-monstre.component';\r\nimport {FadingInfoComponent} from './fading-info/fading-info.component';\r\nimport {GestionDropMonstreBisComponent} from './gestion-drop-monstre-bis/gestion-drop-monstre-bis.component';\r\nimport {ArmesComponent} from './objets/armes/armes.component';\r\nimport {ArmuresComponent} from './objets/armures/armures.component';\r\nimport {ObjetSimpleComponent} from './objets/objet-simple/objet-simple.component';\r\nimport { TestInsertTableComponent } from './test-insert-table/test-insert-table.component';\r\nimport {PersonnageObjetComponent} from './personnage-objet/personnage-objet.component';\r\nimport {PersonnageComponent} from './personnage/personnage.component';\r\nimport {GestionObjetComponent} from './gestion-objet/gestion-objet.component';\r\nimport {UserLoginComponent} from './user/user-login/user-login.component';\r\nimport {UserCreateComponent} from './user/user-create/user-create.component';\r\nimport {AuthGuard} from './auth/auth.guard';\r\nimport {UserDisconnectComponent} from './user/user-disconnect/user-disconnect.component';\r\nimport {UnauthorizedUserComponent} from './user/unauthorized-user/unauthorized-user.component';\r\n\r\n\r\nconst routes: Routes = [\r\n    {path: 'unauthorized', component: UnauthorizedUserComponent},\r\n    {path: 'deconnexion', component: UserDisconnectComponent},\r\n    {path: 'signin', component: UserCreateComponent},\r\n    {path: 'login', component: UserLoginComponent},\r\n    {path: 'testPersonnage', component: PersonnageComponent},\r\n    {path: 'testPersonnageObjet', component: PersonnageObjetComponent},\r\n    {path: 'testTable', component: TestInsertTableComponent},\r\n    {path: 'testObjet', component: ObjetSimpleComponent},\r\n    {path: 'testArmures', component: ArmuresComponent},\r\n    {path: 'testArmes', component: ArmesComponent},\r\n    {path: 'testBanner', component: FadingInfoComponent},\r\n    {path: 'GestionObjets', component: GestionObjetComponent, canActivate: [AuthGuard]},\r\n    {path: 'GestionMonstre', component: GestionMonstreComponent, canActivate: [AuthGuard]},\r\n    {path: 'GestionDropMonstre', component: GestionDropMonstreComponent, canActivate: [AuthGuard]},\r\n    {path: 'GestionDropMonstreBis', component: GestionDropMonstreBisComponent, canActivate: [AuthGuard]},\r\n    {path: 'LootTable', component: LootTableComponent, canActivate: [AuthGuard]},\r\n    {path: '', redirectTo: '/LootTable', pathMatch: 'full'},\r\n    {path: '**', redirectTo: '/LootTable'}\r\n];\r\n\r\n@NgModule({\r\n    imports: [RouterModule.forRoot(routes)],\r\n    exports: [RouterModule]\r\n})\r\nexport class AppRoutingModule {\r\n}\r\n","import {Component} from '@angular/core';\nimport {AuthService} from './auth/auth.service';\n\n@Component({\n    selector: 'app-root',\n    templateUrl: './app.component.html',\n    styleUrls: ['./app.component.scss']\n})\nexport class AppComponent {\n    title = 'lootTableAngular';\n\n    constructor(private authService: AuthService) {\n    }\n\n    isAdmin() {\n        return this.authService.isAdmin();\n    }\n\n    isGameMaster() {\n        return this.authService.isGameMaster();\n    }\n\n    isAuth() {\n        return this.authService.isAuthenticated();\n    }\n}\n","<mat-toolbar color=\"primary\">\n    <div fxShow=\"true\" fxHide.gt-sm=\"true\">\n        <button mat-icon-button (click)=\"sidenav.toggle()\">\n            <mat-icon>menu</mat-icon>\n        </button>\n    </div>\n    <a mat-button class=\"companyName\" routerLink=\"/\">\n        <span>[Titre du menu]</span>\n    </a>\n    <span class=\"example-spacer\"></span>\n    <div fxShow=\"true\" fxHide.lt-md=\"true\" class=\"menuItems\">\n        <a mat-button routerLink=\"/testPersonnage\">Personnage</a>\n        <a mat-button routerLink=\"/LootTable\" *ngIf=\"isGameMaster()\">Loot</a>\n        <a mat-button routerLink=\"/GestionObjets\" *ngIf=\"isGameMaster()\">Gestion Objets</a>\n        <a mat-button routerLink=\"/GestionMonstre\" *ngIf=\"isGameMaster()\">Gestion Monstre</a>\n        <a mat-button routerLink=\"/GestionDropMonstreBis\" *ngIf=\"isGameMaster()\">Gestion Drop Monstre</a>\n        <a mat-button routerLink=\"/contact\">Contact</a>\n        <button class=\"btn btn-outline-danger\" routerLink=\"/login\" *ngIf=\"!this.isAuth()\">Connexion</button>\n        <button class=\"btn btn-outline-danger\" routerLink=\"/deconnexion\" *ngIf=\"this.isAuth()\">Déconnexion</button>\n    </div>\n</mat-toolbar>\n<mat-sidenav-container fxFlexFill class=\"example-container\">\n    <mat-sidenav color=\"primary\" #sidenav fxLayout=\"column\" mode=\"over\" opened=\"false\" fxHide.gt-sm=\"true\">\n        <div fxLayout=\"column\" class=\"menuItemsMobile\">\n            <a mat-button routerLink=\"/testPersonnage\">Personnages</a>\n            <a mat-button routerLink=\"/LootTable\" *ngIf=\"isGameMaster()\">Loot</a>\n            <a mat-button routerLink=\"/GestionObjets\" *ngIf=\"isGameMaster()\">Gestion Objets</a>\n            <a mat-button routerLink=\"/GestionMonstre\" *ngIf=\"isGameMaster()\">Gestion Monstre</a>\n            <a mat-button routerLink=\"/GestionDropMonstreBis\" *ngIf=\"isGameMaster()\">Gestion Drop Monstre</a>\n            <a mat-button routerLink=\"/contact\">Contact</a>\n            <button class=\"btn btn-outline-danger\" routerLink=\"/login\" *ngIf=\"!this.isAuth()\">Connexion</button>\n            <button class=\"btn btn-outline-danger\" routerLink=\"/deconnexion\" *ngIf=\"this.isAuth()\">Déconnexion</button>\n        </div>\n    </mat-sidenav>\n    <mat-sidenav-content fxFlexFill>\n\n        <!--Composant de base, tout le reste représente le menu-->\n        <router-outlet></router-outlet>\n\n    </mat-sidenav-content>\n</mat-sidenav-container>\n\n","import {NgModule} from '@angular/core';\r\nimport {BrowserModule} from '@angular/platform-browser';\r\n\r\nimport {AppRoutingModule} from './app-routing.module';\r\nimport {AppComponent} from './app.component';\r\nimport {LootTableComponent} from './loot-table/loot-table.component';\r\nimport {FormsModule, ReactiveFormsModule} from '@angular/forms';\r\nimport {MatAutocompleteModule} from '@angular/material/autocomplete';\r\nimport {MAT_FORM_FIELD_DEFAULT_OPTIONS, MatFormFieldModule} from '@angular/material/form-field';\r\nimport {BrowserAnimationsModule} from '@angular/platform-browser/animations';\r\n\r\nimport {HttpClientModule} from '@angular/common/http';\r\nimport {DemoMaterialModule} from './material-module';\r\nimport {FlexLayoutModule} from '@angular/flex-layout';\r\nimport {MatNativeDateModule} from '@angular/material/core';\r\nimport {platformBrowserDynamic} from '@angular/platform-browser-dynamic';\r\nimport {AutocompleteGroupeComponent} from './autocomplete-groupe/autocomplete-groupe.component';\r\nimport {GestionDropMonstreComponent} from './gestion-drop-monstre/gestion-drop-monstre.component';\r\nimport {GestionMonstreComponent} from './gestion-monstre/gestion-monstre.component';\r\nimport {\r\n    AdDirective,\r\n    FadingInfoComponent,\r\n    BannerComponent\r\n} from './fading-info/fading-info.component';\r\nimport {GestionDropMonstreBisComponent} from './gestion-drop-monstre-bis/gestion-drop-monstre-bis.component';\r\nimport {ArmesComponent} from './objets/armes/armes.component';\r\nimport {ArmuresComponent} from './objets/armures/armures.component';\r\nimport {MaledictionsComponent} from './objets/maledictions/maledictions.component';\r\nimport {ObjetSimpleComponent} from './objets/objet-simple/objet-simple.component';\r\nimport {TestInsertTableComponent} from './test-insert-table/test-insert-table.component';\r\nimport {PersonnageComponent} from './personnage/personnage.component';\r\nimport {PersonnageObjetComponent} from './personnage-objet/personnage-objet.component';\r\nimport {GestionObjetComponent} from './gestion-objet/gestion-objet.component';\r\nimport {SpinnerComponent} from './spinner/spinner.component';\r\nimport {PersonnageObjetPersonnageComponent} from './personnage-objet-personnage/personnage-objet-personnage.component';\r\nimport { UserLoginComponent } from './user/user-login/user-login.component';\r\nimport {AuthService} from './auth/auth.service';\nimport { UserCreateComponent } from './user/user-create/user-create.component';\nimport { UserDisconnectComponent } from './user/user-disconnect/user-disconnect.component';\nimport { UnauthorizedUserComponent } from './user/unauthorized-user/unauthorized-user.component';\r\n\r\n\r\n@NgModule({\r\n    declarations: [\r\n        AppComponent,\r\n        LootTableComponent,\r\n        AutocompleteGroupeComponent,\r\n        GestionDropMonstreComponent,\r\n        GestionMonstreComponent,\r\n        FadingInfoComponent,\r\n        AdDirective,\r\n        BannerComponent,\r\n        GestionDropMonstreBisComponent,\r\n        ArmesComponent,\r\n        ArmuresComponent,\r\n        MaledictionsComponent,\r\n        ObjetSimpleComponent,\r\n        TestInsertTableComponent,\r\n        PersonnageComponent,\r\n        PersonnageObjetComponent,\r\n        GestionObjetComponent,\r\n        SpinnerComponent,\r\n        PersonnageObjetPersonnageComponent,\r\n        UserLoginComponent,\r\n        UserCreateComponent,\r\n        UserDisconnectComponent,\r\n        UnauthorizedUserComponent,\r\n    ],\r\n    imports: [\r\n        BrowserModule,\r\n        BrowserAnimationsModule,\r\n        AppRoutingModule,\r\n        FormsModule,\r\n        ReactiveFormsModule,\r\n        MatAutocompleteModule,\r\n        MatFormFieldModule,\r\n        HttpClientModule,\r\n        DemoMaterialModule,\r\n        MatNativeDateModule,\r\n        FlexLayoutModule,\r\n    ],\r\n    entryComponents: [],\r\n    bootstrap: [AppComponent],\r\n    providers: [\r\n        {provide: MAT_FORM_FIELD_DEFAULT_OPTIONS, useValue: {appearance: 'fill'}},\r\n        AuthService,\r\n    ]\r\n})\r\nexport class AppModule {\r\n}\r\n\r\nplatformBrowserDynamic().bootstrapModule(AppModule)\r\n    .catch(err => console.error(err));\r\n","import {Injectable} from '@angular/core';\nimport {CanActivate, ActivatedRouteSnapshot, RouterStateSnapshot, UrlTree, Router} from '@angular/router';\nimport {Observable} from 'rxjs';\nimport {AuthService} from './auth.service';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class AuthGuard implements CanActivate {\n\n    constructor(private authService: AuthService, private router: Router) {\n    }\n\n    canActivate(\n        next: ActivatedRouteSnapshot,\n        state: RouterStateSnapshot): Observable<boolean | UrlTree> | Promise<boolean | UrlTree> | boolean | UrlTree {\n        const url: string = state.url;\n\n        return this.checkLogin(url);\n    }\n\n    checkLogin(url: string): true|UrlTree {\n        if (this.authService.isGameMaster()) { return true; }\n        if (!this.authService.isAuth) { return this.router.parseUrl('/login'); }\n\n        // Store the attempted URL for redirecting\n        this.authService.redirectUrl = url;\n\n        // Redirect to the login page\n        return this.router.parseUrl('/unauthorized');\n    }\n\n}\n","import {HttpClient, HttpParams} from '@angular/common/http';\r\nimport {HttpMethods} from '../interface/http-methods.enum';\r\nimport {BASE_URL, URL_OBJET_COMPLET} from '../services/rest.service';\r\nimport {SpecialResponse} from '../loot-table/loot-table.component';\r\nimport {UserForCreation} from '../user/user-create/user-create.component';\r\n\r\nexport class User {\r\n    idUser: number;\r\n    username: string;\r\n    isGameMaster: false;\r\n    isAdmin: false;\r\n}\r\n\r\nexport class AuthService {\r\n\r\n    isAuth = false;\r\n\r\n    user: User;\r\n\r\n    personnage: Personnage;\r\n\r\n    redirectUrl: string;\r\n\r\n    signIn(http: HttpClient, username: string, password: string) {\r\n        return new Promise(\r\n            (resolve, rejects) => {\r\n                const values = {username: undefined, password: undefined};\r\n                values.username = username;\r\n                values.password = password;\r\n                console.log(values);\r\n                const baseUrlBis = BASE_URL + 'connexion.php';\r\n                console.log(baseUrlBis);\r\n\r\n                const params = new HttpParams().set('Connexion', JSON.stringify(values));\r\n\r\n                http.request(HttpMethods.GET.toString(), baseUrlBis, {responseType: 'text', params}).toPromise().then(\r\n                    (data: any) => {\r\n                        console.log(data);\r\n                        const response: SpecialResponse = JSON.parse(data) as SpecialResponse;\r\n                        if (response.status === 200) {\r\n                            this.isAuth = true;\r\n                            this.user = response.data as User;\r\n                            this.personnage = response.data.personnage as Personnage;\r\n                            resolve(true);\r\n                        } else {\r\n                            rejects(false);\r\n                        }\r\n                    }\r\n                ).catch(\r\n                    (data: any) => {\r\n                        console.log(data);\r\n                        const response: SpecialResponse = data as SpecialResponse;\r\n                        if (response.status === 200) {\r\n                            this.isAuth = true;\r\n                            this.user = response.data as User;\r\n                            this.personnage = response.data.personnage as Personnage;\r\n                            resolve(true);\r\n                        } else {\r\n                            rejects(false);\r\n                        }\r\n                    }\r\n                );\r\n            }\r\n        );\r\n    }\r\n\r\n    signOut() {\r\n        this.user = null;\r\n        this.personnage = null;\r\n        this.isAuth = false;\r\n    }\r\n\r\n    createUser(http: HttpClient, user: UserForCreation, personnage: Personnage): Promise<any> {\r\n        const values = {User: undefined, Personnage: undefined};\r\n        values.User = user;\r\n        values.Personnage = personnage;\r\n        console.log(values);\r\n        const baseUrlBis = BASE_URL + 'connexion.php';\r\n        console.log(baseUrlBis);\r\n\r\n        const params = new HttpParams().set('Creation', JSON.stringify(values));\r\n\r\n        return http.request(HttpMethods.POST.toString(), baseUrlBis, {responseType: 'text', params}).toPromise();\r\n    }\r\n\r\n    getAllLeftPersonnage(http: HttpClient) {\r\n        const baseUrlBis = BASE_URL + 'connexion.php' + '?leftPersonnage=true';\r\n        console.log(baseUrlBis);\r\n        return http.request(HttpMethods.GET.toString(), baseUrlBis).toPromise();\r\n    }\r\n\r\n    checkUsernameAvailable(http: HttpClient, usernameToCheck: string) {\r\n        const fakeUser: UserForCreation = {\r\n            username: usernameToCheck,\r\n            password: null,\r\n            isGameMaster: null,\r\n            isAdmin: null,\r\n        };\r\n        const values = {User: undefined};\r\n        values.User = fakeUser;\r\n        const params = new HttpParams().set('User', JSON.stringify(values));\r\n        const baseUrlBis = BASE_URL + 'connexion.php' + '?checkAvailable=true';\r\n        console.log(baseUrlBis);\r\n        return http.request(HttpMethods.GET.toString(), baseUrlBis, {responseType: 'text', params}).toPromise();\r\n    }\r\n\r\n    checkPersonnageNomAvailable(http: HttpClient, personnageNomToCheck: string) {\r\n        const baseUrlBis = BASE_URL + 'connexion.php' + '?nomPersonnage=' + personnageNomToCheck + '&checkAvailable=true';\r\n        console.log(baseUrlBis);\r\n        return http.request(HttpMethods.GET.toString(), baseUrlBis).toPromise();\r\n    }\r\n\r\n    isAdmin() {\r\n        return this.user && this.user.isAdmin;\r\n    }\r\n\r\n    isGameMaster() {\r\n        return this.user && (this.user.isGameMaster || this.isAdmin());\r\n    }\r\n\r\n    isAuthenticated() {\r\n        return this.isAuth;\r\n    }\r\n}\r\n","import {Component, Input, OnInit, Output, EventEmitter, ViewChildren, ElementRef, ViewChild} from '@angular/core';\r\nimport {FormBuilder, FormGroup} from '@angular/forms';\r\nimport {Observable} from 'rxjs';\r\nimport {startWith, map} from 'rxjs/operators';\r\n\r\nexport const filter = (opt: Monstre[], value: string): Monstre[] => {\r\n  const filterValue = value.toLowerCase().trim();\r\n\r\n  return opt.filter(item => item.libelle.toLowerCase().trim().indexOf(filterValue) !== -1);\r\n};\r\n\r\n/**\r\n * @title Option groups autocomplete\r\n */\r\n@Component({\r\n  selector: 'app-autocomplete-groupe',\r\n  templateUrl: './autocomplete-groupe.component.html',\r\n  styleUrls: ['./autocomplete-groupe.component.scss']\r\n})\r\nexport class AutocompleteGroupeComponent implements OnInit {\r\n\r\n  monstreForm: FormGroup = this.formBuilder.group({\r\n    monstreGroup: '',\r\n  });\r\n  @Input() monsterGroupes: MonstreGroupe[];\r\n  @Output() monstreEventEmitter = new EventEmitter<Monstre>();\r\n\r\n  monstreGroupOptions: Observable<MonstreGroupe[]>;\r\n\r\n  constructor(private formBuilder: FormBuilder) {}\r\n\r\n  ngOnInit() {\r\n    // Je mets un setTimeout ici car sinon l'affichage des possibilités ne se fait pas quand la page vient de se charger\r\n    // et que l'on clique sur l'élément. On est obligé de taper une lettre pour que celle-ci se fasse.\r\n    // setTimout semble éviter ce disfonctionnement.\r\n    setTimeout( () => {\r\n      this.monstreGroupOptions = this.monstreForm.get('monstreGroup').valueChanges\r\n        .pipe(\r\n          startWith(''),\r\n          map(value => this._filterGroup(value))\r\n        );\r\n    }, 100);\r\n  }\r\n\r\n  private _filterGroup(value: string): MonstreGroupe[] {\r\n    if (value) {\r\n      return this.monsterGroupes\r\n        .map(group => ({Famille: group.Famille, Membres: filter(group.Membres, value)}))\r\n        .filter(group => group.Membres.length > 0);\r\n    }\r\n\r\n    return this.monsterGroupes;\r\n  }\r\n\r\n  selection(monstre: Monstre) {\r\n    this.monstreEventEmitter.emit(monstre);\r\n  }\r\n\r\n  handleEmpty() {\r\n    // alert((event.srcElement as Element).nodeValue);\r\n  }\r\n}\r\n\r\n","<form [formGroup]=\"monstreForm\">\r\n  <mat-form-field #MonstresGroupes>\r\n    <label for=\"Familles\"></label>\r\n    <input type=\"text\"\r\n           matInput\r\n           formControlName=\"monstreGroup\"\r\n           [matAutocomplete]=\"autoGroup\"\r\n           (change)=\"handleEmpty()\"\r\n           (click)=\"$event.target.select()\"\r\n           id=\"Familles\"\r\n           >\r\n    <mat-label>Monstres</mat-label>\r\n    <!-- #docregion mat-autocomplete -->\r\n    <mat-autocomplete #autoGroup=\"matAutocomplete\">\r\n      <mat-optgroup *ngFor=\"let group of monstreGroupOptions | async\" [label]=\"group.Famille\">\r\n        <mat-option *ngFor=\"let membre of group.Membres\" [value]=\"membre.libelle\"\r\n                    (onSelectionChange)=\"selection(membre)\">\r\n          {{membre.libelle}}\r\n        </mat-option>\r\n      </mat-optgroup>\r\n    </mat-autocomplete>\r\n    <!-- #enddocregion mat-autocomplete -->\r\n  </mat-form-field>\r\n</form>\r\n\r\n<!-- Copyright 2020 Google LLC. All Rights Reserved.\r\n    Use of this source code is governed by an MIT-style license that\r\n    can be found in the LICENSE file at http://angular.io/license -->\r\n","import {\r\n    AfterViewInit,\r\n    Component,\r\n    ComponentFactoryResolver,\r\n    Directive,\r\n    Input,\r\n    OnDestroy,\r\n    OnInit,\r\n    Type,\r\n    ViewChild,\r\n    ViewContainerRef\r\n} from '@angular/core';\r\n\r\n\r\n@Directive({\r\n    selector: '[adHost]',\r\n})\r\nexport class AdDirective {\r\n    constructor(public viewContainerRef: ViewContainerRef) {\r\n    }\r\n}\r\n\r\n@Component({\r\n    selector: 'app-fading-info',\r\n    templateUrl: './fading-info.component.html',\r\n    styleUrls: ['./fading-info.component.scss']\r\n})\r\nexport class FadingInfoComponent implements OnDestroy {\r\n\r\n    currentAdIndex = -1;\r\n    @ViewChild(AdDirective, {static: true}) adHost: AdDirective;\r\n    interval: any;\r\n\r\n    constructor(private componentFactoryResolver: ComponentFactoryResolver) {\r\n    }\r\n\r\n    ngOnDestroy() {\r\n        clearInterval(this.interval);\r\n    }\r\n\r\n    loadComponent(title: string, message: string, color: string) {\r\n        const adItem = new AdItem(BannerComponent, {title, message, color});\r\n\r\n        const componentFactory = this.componentFactoryResolver.resolveComponentFactory(adItem.component);\r\n\r\n        const componentRef = this.adHost.viewContainerRef.createComponent<BannerComponent>(componentFactory);\r\n        componentRef.instance.data = adItem.data;\r\n\r\n        this.interval = setTimeout(() => {\r\n            this.adHost.viewContainerRef.remove(this.adHost.viewContainerRef.indexOf(componentRef.hostView));\r\n        }, 4500);\r\n    }\r\n}\r\n\r\n@Component({\r\n    template: `\r\n        <div class=\"banner\" #BannerElement>\r\n            <h3>{{data.title}}</h3>\r\n\r\n            <p>{{data.message}}</p>\r\n\r\n        </div>\r\n    `,\r\n    styleUrls: ['./fading-info.component.scss']\r\n})\r\nexport class BannerComponent implements OnInit, OnDestroy, AfterViewInit {\r\n    @Input() data: any;\r\n    @ViewChild('BannerElement') Banner;\r\n    timer: any;\r\n\r\n    ngOnInit() {\r\n        this.timer = setTimeout(() => {\r\n            this.Banner.nativeElement.style.setProperty('opacity', '0');\r\n        }, 3000);\r\n    }\r\n\r\n    ngAfterViewInit() {\r\n        if (this.data.color.startsWith('2')) {\r\n            this.Banner.nativeElement.classList.add('Mission-Complete');\r\n        } else if (this.data.color.startsWith('4')) {\r\n            this.Banner.nativeElement.classList.add('SQL-Error');\r\n        } else if (this.data.color.startsWith('5')) {\r\n            this.Banner.nativeElement.classList.add('Server-Error');\r\n        } else {\r\n            this.Banner.nativeElement.classList.add('Unknown-Error');\r\n        }\r\n    }\r\n\r\n    ngOnDestroy() {\r\n        clearInterval(this.timer);\r\n    }\r\n}\r\n\r\n\r\nexport class AdItem {\r\n    constructor(public component: Type<any>, public data: any) {\r\n    }\r\n}\r\n\r\n\r\n","<div class=\"ad-banner-example\">\r\n  <ng-template adHost></ng-template>\r\n</div>\r\n","import {Component, OnInit, ViewChild} from '@angular/core';\r\nimport {HttpClient} from '@angular/common/http';\r\nimport {FamilleAndMonstreService} from '../services/famille-and-monstre.service';\r\nimport {MonstreLootChanceService} from '../services/monstre-loot-chance.service';\r\nimport {SpecialResponse} from '../loot-table/loot-table.component';\r\nimport {FadingInfoComponent} from '../fading-info/fading-info.component';\r\n\r\n@Component({\r\n  selector: 'app-gestion-drop-monstre-bis',\r\n  templateUrl: './gestion-drop-monstre-bis.component.html',\r\n  styleUrls: ['./gestion-drop-monstre-bis.component.scss']\r\n})\r\nexport class GestionDropMonstreBisComponent implements OnInit {\r\n\r\n  @ViewChild('Banner') banner: FadingInfoComponent;\r\n\r\n  monstresGroupes: MonstreGroupe[];\r\n  monstreCourrant: Monstre;\r\n  monstreSelectionneLootChance: MonstreLootChanceBis[];\r\n  monstreSelectionneLootChanceOriginal: MonstreLootChanceBis[];\r\n  lootPossible: Loot[] = [];\r\n\r\n  unUpdatableMonstreLootChance: MonstreLootChanceBis[] = [];\r\n  monstreLootChanceToPOST: MonstreLootChanceBis[] = [];\r\n  monstreLootChanceToPUT: MonstreLootChanceBis[] = [];\r\n  unchangesLootChance: MonstreLootChanceBis[] = [];\r\n\r\n  differ: any;\r\n\r\n  constructor(private http: HttpClient,\r\n              private familleMonstre: FamilleAndMonstreService,\r\n              private monstreLootChance: MonstreLootChanceService,\r\n  ) {\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.chargerFamilles(this.http);\r\n    this.monstreLootChance.getLootPossibles(this.http).then(\r\n      (data: any) => {\r\n        const response: SpecialResponse = JSON.parse(data) as SpecialResponse;\r\n        this.lootPossible  = response.data as Loot[];\r\n      }\r\n    );\r\n  }\r\n\r\n  public chargerFamilles(http: HttpClient) {\r\n    this.monstresGroupes = this.familleMonstre.chargerFamillesAvecMonstres(http);\r\n    console.log(JSON.stringify(this.monstresGroupes));\r\n  }\r\n\r\n  public chargerMonstreLootChance() {\r\n    this.monstreSelectionneLootChance = [];\r\n    this.monstreSelectionneLootChanceOriginal = [];\r\n\r\n    this.monstreLootChance.getMonstreLootChanceBis(this.http, this.monstreCourrant.idMonstre).then(\r\n      (data: any) => {\r\n        console.log(data);\r\n        const response: SpecialResponse = JSON.parse(data) as SpecialResponse;\r\n        this.monstreSelectionneLootChance = response.data as MonstreLootChanceBis[];\r\n        this.remplissageLootManquant(this.monstreSelectionneLootChance , this.lootPossible);\r\n        this.monstreSelectionneLootChanceOriginal = this.monstreSelectionneLootChance .map(x => Object.assign({}, x));\r\n      });\r\n  }\r\n\r\n  public remplissageLootManquant(monstreSelectionneLootChance: MonstreLootChanceBis[], lootPossible: Loot[]) {\r\n    for (let i = 0; i < 20; i++) {\r\n      if (!monstreSelectionneLootChance.map(a => + a.roll).includes((i + 1))) {\r\n        monstreSelectionneLootChance.splice(i, 0,\r\n          {\r\n            roll: (i + 1), idLoot: 0, niveauMonstre: null, multiplier: null, diceNumber: null, dicePower: null, poids: null\r\n          } as unknown as MonstreLootChanceBis);\r\n\r\n      }\r\n    }\r\n  }\r\n\r\n  selectionMonstre($event: Monstre) {\r\n    if (!this.monstreCourrant || this.monstreCourrant.idMonstre !== $event.idMonstre) {\r\n      this.monstreCourrant = $event;\r\n      this.chargerMonstreLootChance();\r\n    }\r\n  }\r\n\r\n  public missingAtLeastOneValue(index: number) {\r\n    for (const key in this.monstreSelectionneLootChance[index]) {\r\n      if (this.monstreSelectionneLootChance[index][key] == null && key !== 'niveauMonstre' && key !== 'poids') {\r\n        return true;\r\n      }\r\n    }\r\n    return false;\r\n  }\r\n\r\n  public thereIsAtLeastOneValue(index: number) {\r\n    for (const key in this.monstreSelectionneLootChance[index]) {\r\n      if (this.monstreSelectionneLootChance[index][key] != null && key !== 'niveauMonstre' && key !== 'poids' && key !== 'idLoot') {\r\n        return true;\r\n      }\r\n    }\r\n    return false;\r\n  }\r\n\r\n  public originalLootChanceWasEmpty(index: number) {\r\n    for (const key in this.monstreSelectionneLootChanceOriginal[index]) {\r\n      if (this.monstreSelectionneLootChanceOriginal[index][key] != null && key !== 'niveauMonstre' && key !== 'poids'\r\n        && key !== 'roll' && key !== 'libelle' && this.monstreSelectionneLootChanceOriginal[index].idLoot !== 0) {\r\n        return false;\r\n      }\r\n    }\r\n    console.log('originalLootChanceWasEmpty => true');\r\n    return true;\r\n  }\r\n\r\n  public missingMyValue(index: number, key: string) {\r\n    return this.monstreSelectionneLootChance[index][key] == null;\r\n  }\r\n\r\n  public lootChanceIsCorrect(index: number) {\r\n    for (const key in this.monstreSelectionneLootChance[index]) {\r\n      if (this.monstreSelectionneLootChance[index][key] == null && key !== 'niveauMonstre' && key !== 'poids') {\r\n        console.log('La clef ' + key + 'est null');\r\n        return false;\r\n      }\r\n    }\r\n    return true;\r\n  }\r\n\r\n  public lootChanceIsDifferentFromOriginalOne(index: number) {\r\n    return !(JSON.stringify(this.monstreSelectionneLootChanceOriginal[index]) === JSON.stringify(this.monstreSelectionneLootChance[index]));\r\n  }\r\n\r\n  public updateOrCreateLootChance() {\r\n    this.monstreLootChanceToPOST = [];\r\n    this.monstreLootChanceToPUT = [];\r\n    this.unUpdatableMonstreLootChance = [];\r\n    this.unchangesLootChance = [];\r\n    for (let i = 0; i < 20; i++) {\r\n      console.log(this.monstreSelectionneLootChance[i]);\r\n      if (this.thereIsAtLeastOneValue(i) && this.missingAtLeastOneValue(i)) {\r\n        // console.log('Ajout dans unUpdatable');\r\n        this.unUpdatableMonstreLootChance.push(this.monstreSelectionneLootChance[i]);\r\n      } else if (this.originalLootChanceWasEmpty(i) && this.lootChanceIsCorrect(i)) {\r\n        console.log('Ajout dans POST');\r\n        console.log(this.monstreSelectionneLootChance[i]);\r\n        this.monstreLootChanceToPOST.push(this.monstreSelectionneLootChance[i]);\r\n      } else if (this.lootChanceIsCorrect(i) && this.lootChanceIsDifferentFromOriginalOne(i)) {\r\n        console.log('Ajout dans PUT');\r\n        console.log(this.monstreSelectionneLootChance[i]);\r\n        this.monstreLootChanceToPUT.push(this.monstreSelectionneLootChance[i]);\r\n      } else {\r\n        console.log('Ajout dans unChanged');\r\n        this.unchangesLootChance.push(this.monstreSelectionneLootChance[i]);\r\n      }\r\n    }\r\n    if (this.monstreLootChanceToPOST.length > 0) {\r\n      this.monstreLootChance.envoyerLootChancesBis(this.http, 'POST', this.monstreCourrant.idMonstre, this.monstreLootChanceToPOST).then(\r\n        (data: any) => {\r\n          console.log(data);\r\n          const response: SpecialResponse = JSON.parse(data) as SpecialResponse;\r\n          this.banner.loadComponent(response.status_message, JSON.stringify(response.data), '' + response.status);\r\n          this.monstreLootChanceToPOST = [];\r\n          this.monstreLootChanceToPUT = [];\r\n          this.unUpdatableMonstreLootChance = [];\r\n          this.unchangesLootChance = [];\r\n          this.chargerMonstreLootChance();\r\n        });\r\n    }\r\n    if (this.monstreLootChanceToPUT.length > 0) {\r\n      this.monstreLootChance.envoyerLootChancesBis(this.http, 'PUT', this.monstreCourrant.idMonstre, this.monstreLootChanceToPUT).then(\r\n        (data: any) => {\r\n          console.log(data);\r\n          const response: SpecialResponse = JSON.parse(data) as SpecialResponse;\r\n          this.banner.loadComponent(response.status_message, JSON.stringify(response.data), '' + response.status);\r\n          this.monstreLootChanceToPOST = [];\r\n          this.monstreLootChanceToPUT = [];\r\n          this.unUpdatableMonstreLootChance = [];\r\n          this.unchangesLootChance = [];\r\n          this.chargerMonstreLootChance();\r\n        });\r\n    }\r\n  }\r\n\r\n  public uncompleteForm(): boolean {\r\n    if (this.monstreSelectionneLootChance) {\r\n      for (let i = 0; i < this.monstreSelectionneLootChance.length; i++) {\r\n        if (this.missingAtLeastOneValue(i)) {\r\n          return true;\r\n        }\r\n      }\r\n      return false;\r\n    }\r\n    return false;\r\n  }\r\n\r\n}\r\n","<div id=\"fakebody\">\r\n  <div class=\"principal\">\r\n    <div id=\"caracterSelection\" class=\"caracterSelection\">\r\n      <h3>Selectionnez un monstre</h3>\r\n      <app-autocomplete-groupe (monstreEventEmitter)=\"selectionMonstre($event)\"\r\n                               [monsterGroupes]=\"monstresGroupes\">\r\n        loading\r\n      </app-autocomplete-groupe>\r\n    </div>\r\n    <div style=\"width: 100%\">\r\n      <h3 *ngIf=\"monstreCourrant\"> {{monstreCourrant.libelle}}</h3>\r\n    </div>\r\n    <div style=\"width: 100%\">\r\n      <form class=\"needs-validation\" id=\"gestionDropMonstreBisForm\">\r\n        <div class=\"form-row\" *ngFor=\"let lootChance of monstreSelectionneLootChance; let index = index;\">\r\n          <label class=\"labelFormGroup\" [ngClass]=\"{'missingValue': this.missingAtLeastOneValue(index)}\" [for]=\"'fromgroup'+this.monstreSelectionneLootChance[index].roll\">\r\n            {{this.monstreSelectionneLootChance[index].roll}} : </label>\r\n          <div class=\"form-group col-md-2\" [id]=\"'fromgroup'+this.monstreSelectionneLootChance[index].roll\">\r\n            <label for=\"inputFamilleMonstre\">Loot</label>\r\n            <select id=\"inputFamilleMonstre\" class=\"form-control\" [(ngModel)]=\"this.monstreSelectionneLootChance[index].idLoot\"\r\n                    [name]=\"'Loot'+index\">\r\n              <option selected value=0> </option>\r\n              <option *ngFor=\"let loot of this.lootPossible\" [value]=\"loot.idLoot\">\r\n                {{loot.idLoot}} - {{loot.libelle}}\r\n              </option>\r\n            </select>\r\n          </div>\r\n          <div class=\"col-md-1 mb-5\" [ngClass]=\"{'missing': !this.monstreSelectionneLootChance[index].diceNumber, 'missingValue': this.missingMyValue(index, 'diceNumber')}\">\r\n            <label [for]=\"'diceNumber'+index\"> diceNumber\r\n            </label>\r\n            <input min=\"1\" max=\"1000\" type=\"number\" class=\"form-control\" [id]=\"'diceNumber'+index\"\r\n                   [name]=\"'diceNumber'+index\"\r\n                   [placeholder]=\"'diceNumber'+monstreSelectionneLootChance[index].roll\"\r\n                   [(ngModel)]=\"this.monstreSelectionneLootChance[index].diceNumber\"\r\n                   required>\r\n          </div>\r\n          <div class=\"col-md-1 mb-5\" [ngClass]=\"{'missing': !this.monstreSelectionneLootChance[index].dicePower, 'missingValue': this.missingMyValue(index, 'dicePower')}\">\r\n            <label [for]=\"'dicePower'+index\"> dicePower\r\n            </label>\r\n            <input min=\"1\" max=\"1000\" type=\"number\" class=\"form-control\" [id]=\"'dicePower'+index\"\r\n                   [name]=\"'dicePower'+index\"\r\n                   [placeholder]=\"'dicePower'+monstreSelectionneLootChance[index].roll\"\r\n                   [(ngModel)]=\"this.monstreSelectionneLootChance[index].dicePower\"\r\n                   required>\r\n          </div>\r\n          <div class=\"col-md-1 mb-5\" [ngClass]=\"{'missing': !this.monstreSelectionneLootChance[index].multiplier, 'missingValue': this.missingMyValue(index, 'multiplier')}\">\r\n            <label [for]=\"'multiplier'+index\"> Multiplier\r\n            </label>\r\n            <input min=\"1\" max=\"1000\" type=\"number\" class=\"form-control\" [id]=\"'multiplier'+index\"\r\n                   [name]=\"'multiplier'+index\"\r\n                   [placeholder]=\"'multiplier'+monstreSelectionneLootChance[index].roll\"\r\n                   [(ngModel)]=\"this.monstreSelectionneLootChance[index].multiplier\"\r\n                   required>\r\n          </div>\r\n        </div>\r\n\r\n        <button class=\"btn pull-right\" type=\"submit\" id=\"submissionEffectButton\" style=\"transition: 0.5s\"\r\n                (click)=\"this.updateOrCreateLootChance();\"\r\n                [ngClass]=\"this.uncompleteForm() ? 'btn-danger' : 'btn-outline-warning'\">\r\n          Valider les chances de loot\r\n        </button>\r\n      </form>\r\n\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<app-fading-info #Banner></app-fading-info>\r\n\r\n\r\n","import {Component, IterableDiffers, OnInit} from '@angular/core';\r\nimport {HttpClient} from '@angular/common/http';\r\nimport {FamilleAndMonstreService} from '../services/famille-and-monstre.service';\r\nimport {MonstreLootChanceService} from '../services/monstre-loot-chance.service';\r\nimport {SpecialResponse} from '../loot-table/loot-table.component';\r\n\r\n\r\nexport const filterMissing = (opt: MonstreLootChance[], values: any[]): string[] => {\r\n  return values.map(a => a.libelle).filter(f => !opt.map(a => a.libelle).includes(f));\r\n};\r\n\r\n@Component({\r\n  selector: 'app-gestion-drop-monstre',\r\n  templateUrl: './gestion-drop-monstre.component.html',\r\n  styleUrls: ['./gestion-drop-monstre.component.scss']\r\n})\r\nexport class GestionDropMonstreComponent implements OnInit {\r\n\r\n  monstresGroupes: MonstreGroupe[];\r\n  monstreCourrant: Monstre;\r\n  monstreSelectionneLootChance: MonstreLootChance[];\r\n  monstreSelectionneLootChanceOriginal: MonstreLootChance[];\r\n  lootPossible: string[] = [];\r\n  addedRow: boolean[] = [];\r\n\r\n  unUpdatableMonstreLootChance: MonstreLootChance[] = [];\r\n  monstreLootChanceToPOST: MonstreLootChance[] = [];\r\n  monstreLootChanceToPUT: MonstreLootChance[] = [];\r\n  unchangesLootChance: MonstreLootChance[] = [];\r\n\r\n  differ: any;\r\n\r\n  constructor(private http: HttpClient,\r\n              private familleMonstre: FamilleAndMonstreService,\r\n              private monstreLootChance: MonstreLootChanceService,\r\n              ) {\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.chargerFamilles(this.http);\r\n    this.monstreLootChance.getLootPossibles(this.http).then(\r\n      (data: any) => {\r\n        const response: SpecialResponse = JSON.parse(data) as SpecialResponse;\r\n        this.lootPossible  = response.data as string[];\r\n      }\r\n    );\r\n  }\r\n\r\n  public chargerFamilles(http: HttpClient) {\r\n    this.monstresGroupes = this.familleMonstre.chargerFamillesAvecMonstres(http);\r\n    console.log(JSON.stringify(this.monstresGroupes));\r\n  }\r\n\r\n  public chargerMonstreLootChance(http: HttpClient, idMonstre: number) {\r\n    this.monstreSelectionneLootChance = [];\r\n    this.addedRow = [];\r\n    this.monstreLootChance.getMonstreLootChanceTest(this.http, this.monstreCourrant.idMonstre).then(\r\n      (data: any) => {\r\n        const response: SpecialResponse = JSON.parse(data) as SpecialResponse;\r\n        this.monstreSelectionneLootChance  = response.data as MonstreLootChance[];\r\n        this.addedRow = this.remplissageLootManquant(this.monstreSelectionneLootChance , this.lootPossible);\r\n        this.monstreSelectionneLootChanceOriginal = this.monstreSelectionneLootChance .map(x => Object.assign({}, x));\r\n      });\r\n  }\r\n\r\n  public remplissageLootManquant(monstreSelectionneLootChance: MonstreLootChance[], lootPossible: string[]): boolean[] {\r\n    const addedRow: boolean[] = [];\r\n    for (const value of lootPossible) {\r\n      addedRow.push(false);\r\n    }\r\n    for (let i = 0; i < lootPossible.length; i++) {\r\n      if (!monstreSelectionneLootChance.map(a => a.libelle).includes(lootPossible[i])) {\r\n        monstreSelectionneLootChance.splice(i, 0,\r\n          {\r\n            idLoot: (i + 1), libelle: lootPossible[i], minRoll: null, maxRoll: null, niveauMonstre: null, multiplier: null,\r\n            dicePower: null, poids: null\r\n          } as unknown as MonstreLootChance);\r\n        addedRow[i] = true;\r\n      }\r\n    }\r\n    return addedRow;\r\n  }\r\n\r\n  selectionMonstre($event: Monstre) {\r\n    if (!this.monstreCourrant || this.monstreCourrant.idMonstre !== $event.idMonstre) {\r\n      this.monstreCourrant = $event;\r\n      this.chargerMonstreLootChance(this.http, $event.idMonstre);\r\n    }\r\n  }\r\n\r\n  public missingAtLeastOneValue(index: number) {\r\n    for (const key in this.monstreSelectionneLootChance[index]) {\r\n      if (this.monstreSelectionneLootChance[index][key] == null && key !== 'niveauMonstre' && key !== 'poids') {\r\n        return true;\r\n      }\r\n    }\r\n    return false;\r\n  }\r\n\r\n  public thereIsAtLeastOneValue(index: number) {\r\n    for (const key in this.monstreSelectionneLootChance[index]) {\r\n      if (this.monstreSelectionneLootChance[index][key] != null && key !== 'niveauMonstre' && key !== 'poids' && key !== 'idLoot') {\r\n        return true;\r\n      }\r\n    }\r\n    return false;\r\n  }\r\n\r\n  public originalLootChanceWasEmpty(index: number) {\r\n    for (const key in this.monstreSelectionneLootChanceOriginal[index]) {\r\n      if (this.monstreSelectionneLootChanceOriginal[index][key] != null && key !== 'niveauMonstre' && key !== 'poids'\r\n        && key !== 'idLoot' && key !== 'libelle') {\r\n        return false;\r\n      }\r\n    }\r\n    console.log('originalLootChanceWasEmpty => true');\r\n    return true;\r\n  }\r\n\r\n  public missingMyValue(index: number, key: string) {\r\n    return this.monstreSelectionneLootChance[index][key] == null;\r\n  }\r\n\r\n  public lootChanceIsCorrect(index: number) {\r\n    for (const key in this.monstreSelectionneLootChance[index]) {\r\n      if (this.monstreSelectionneLootChance[index][key] == null && key !== 'niveauMonstre' && key !== 'poids') {\r\n        console.log('La clef ' + key + 'est null');\r\n        return false;\r\n      }\r\n    }\r\n    return true;\r\n  }\r\n\r\n  public lootChanceIsDifferentFromOriginalOne(index: number) {\r\n    return !(JSON.stringify(this.monstreSelectionneLootChanceOriginal[index]) === JSON.stringify(this.monstreSelectionneLootChance[index]));\r\n  }\r\n\r\n  public updateOrCreateLootChance() {\r\n    for (let i = 0; i < this.lootPossible.length; i++) {\r\n      console.log(this.monstreSelectionneLootChance[i]);\r\n      if (this.thereIsAtLeastOneValue(i) && this.missingAtLeastOneValue(i)) {\r\n        console.log('Ajout dans unUpdatable');\r\n        this.unUpdatableMonstreLootChance.push(this.monstreSelectionneLootChance[i]);\r\n      } else if (this.originalLootChanceWasEmpty(i) && this.lootChanceIsCorrect(i)) {\r\n        console.log('Ajout dans POST');\r\n        this.monstreLootChanceToPOST.push(this.monstreSelectionneLootChance[i]);\r\n      } else if (this.lootChanceIsCorrect(i) && this.lootChanceIsDifferentFromOriginalOne(i)) {\r\n        console.log('Ajout dans PUT');\r\n        this.monstreLootChanceToPUT.push(this.monstreSelectionneLootChance[i]);\r\n      } else {\r\n        console.log('Ajout dans unChanged');\r\n        this.unchangesLootChance.push(this.monstreSelectionneLootChance[i]);\r\n      }\r\n      console.log((this.unUpdatableMonstreLootChance.length + this.monstreLootChanceToPOST.length\r\n        + this.monstreLootChanceToPUT.length + this.unchangesLootChance.length));\r\n    }\r\n    if (this.monstreLootChanceToPOST.length > 0) {\r\n      this.monstreLootChance.envoyerLootChances(this.http, 'POST', this.monstreCourrant.idMonstre, this.monstreLootChanceToPOST).then(\r\n        (data: any) => {\r\n          console.log(data);\r\n          this.monstreLootChanceToPOST = [];\r\n          this.monstreLootChanceToPUT = [];\r\n          this.unUpdatableMonstreLootChance = [];\r\n          this.unchangesLootChance = [];\r\n        });\r\n    }\r\n    if (this.monstreLootChanceToPUT.length > 0) {\r\n      this.monstreLootChance.envoyerLootChances(this.http, 'PUT', this.monstreCourrant.idMonstre, this.monstreLootChanceToPUT).then(\r\n        (data: any) => {\r\n          console.log(data);\r\n          this.monstreLootChanceToPOST = [];\r\n          this.monstreLootChanceToPUT = [];\r\n          this.unUpdatableMonstreLootChance = [];\r\n          this.unchangesLootChance = [];\r\n        });\r\n    }\r\n  }\r\n\r\n  public uncompleteForm(): boolean {\r\n    if (this.monstreSelectionneLootChance) {\r\n      for (let i = 0; i < this.monstreSelectionneLootChance.length; i++) {\r\n        if (this.missingAtLeastOneValue(i)) {\r\n          return true;\r\n        }\r\n      }\r\n      return false;\r\n    }\r\n    return false;\r\n  }\r\n\r\n}\r\n","<div id=\"fakebody\">\r\n  <div class=\"principal\">\r\n    <div id=\"caracterSelection\" class=\"caracterSelection\">\r\n      <h3>Selectionnez un monstre</h3>\r\n      <app-autocomplete-groupe (monstreEventEmitter)=\"selectionMonstre($event)\"\r\n                               [monsterGroupes]=\"monstresGroupes\">\r\n        loading\r\n      </app-autocomplete-groupe>\r\n    </div>\r\n    <div style=\"width: 100%\">\r\n      <h3 *ngIf=\"monstreCourrant\"> {{monstreCourrant.libelle}}</h3>\r\n    </div>\r\n    <div style=\"width: 100%\">\r\n      <form class=\"needs-validation\" id=\"gestionDropMonstreForm\">\r\n        <div class=\"form-row\" *ngFor=\"let lootChance of monstreSelectionneLootChance; let index = index;\">\r\n          <div style=\"display: flex; align-items: center; justify-content: left; width : 150px;\" [ngClass]=\"{'missingValue': this.missingAtLeastOneValue(index)}\">\r\n            {{ monstreSelectionneLootChance[index].libelle }} ({{this.monstreSelectionneLootChance[index].idLoot}}) : </div>\r\n          <div class=\"col-md-1 mb-5\" [ngClass]=\"{'missing': !this.monstreSelectionneLootChance[index].minRoll, 'missingValue': this.missingMyValue(index, 'minRoll')}\">\r\n            <label [for]=\"'minRoll'+index\"> MinRoll\r\n            </label>\r\n            <input min=\"1\" max=\"20\" type=\"number\" class=\"form-control\" [id]=\"'minRoll'+index\"\r\n                   [name]=\"'minRoll'+index\"\r\n                   [placeholder]=\"'minRoll'+monstreSelectionneLootChance[index].libelle\"\r\n                   [(ngModel)]=\"this.monstreSelectionneLootChance[index].minRoll\"\r\n                   required>\r\n          </div>\r\n          <div class=\"col-md-1 mb-5\" [ngClass]=\"{'missing': !this.monstreSelectionneLootChance[index].maxRoll, 'missingValue': this.missingMyValue(index, 'maxRoll')}\">\r\n            <label [for]=\"'maxRoll'+index\"> MaxRoll\r\n            </label>\r\n            <input min=\"1\" max=\"20\" type=\"number\" class=\"form-control\" [id]=\"'maxRoll'+index\"\r\n                   [name]=\"'maxRoll'+index\"\r\n                   [placeholder]=\"'maxRoll'+monstreSelectionneLootChance[index].libelle\"\r\n                   [(ngModel)]=\"this.monstreSelectionneLootChance[index].maxRoll\"\r\n                   required>\r\n          </div>\r\n          <div class=\"col-md-1 mb-5\" [ngClass]=\"{'missing': !this.monstreSelectionneLootChance[index].dicePower, 'missingValue': this.missingMyValue(index, 'dicePower')}\">\r\n            <label [for]=\"'dicePower'+index\"> dicePower\r\n            </label>\r\n            <input min=\"1\" max=\"1000\" type=\"number\" class=\"form-control\" [id]=\"'dicePower'+index\"\r\n                   [name]=\"'dicePower'+index\"\r\n                   [placeholder]=\"'dicePower'+monstreSelectionneLootChance[index].libelle\"\r\n                   [(ngModel)]=\"this.monstreSelectionneLootChance[index].dicePower\"\r\n                   required>\r\n          </div>\r\n          <div class=\"col-md-1 mb-5\" [ngClass]=\"{'missing': !this.monstreSelectionneLootChance[index].multiplier, 'missingValue': this.missingMyValue(index, 'multiplier')}\">\r\n            <label [for]=\"'multiplier'+index\"> Multiplier\r\n            </label>\r\n            <input min=\"1\" max=\"1000\" type=\"number\" class=\"form-control\" [id]=\"'multiplier'+index\"\r\n                   [name]=\"'multiplier'+index\"\r\n                   [placeholder]=\"'multiplier'+monstreSelectionneLootChance[index].libelle\"\r\n                   [(ngModel)]=\"this.monstreSelectionneLootChance[index].multiplier\"\r\n                   required>\r\n          </div>\r\n        </div>\r\n\r\n        <button class=\"btn pull-right\" type=\"submit\" id=\"submissionEffectButton\" style=\"transition: 0.5s\"\r\n                (click)=\"this.updateOrCreateLootChance();\"\r\n                [ngClass]=\"this.uncompleteForm() ? 'btn-danger' : 'btn-outline-warning'\">\r\n          Valider les chances de loot\r\n        </button>\r\n      </form>\r\n\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n\r\n","import {Component, ContentChild, OnInit, ViewChild} from '@angular/core';\r\nimport {HttpClient} from '@angular/common/http';\r\nimport {FamilleAndMonstreService} from '../services/famille-and-monstre.service';\r\nimport {FormControl} from '@angular/forms';\r\nimport {Observable} from 'rxjs';\r\nimport {map, startWith} from 'rxjs/operators';\r\nimport {SpecialResponse} from '../loot-table/loot-table.component';\r\nimport {AutocompleteGroupeComponent} from '../autocomplete-groupe/autocomplete-groupe.component';\r\nimport {FadingInfoComponent} from '../fading-info/fading-info.component';\r\n\r\n@Component({\r\n  selector: 'app-gestion-monstre',\r\n  templateUrl: './gestion-monstre.component.html',\r\n  styleUrls: ['./gestion-monstre.component.scss']\r\n})\r\nexport class GestionMonstreComponent implements OnInit {\r\n\r\n  @ContentChild('monstreLibelle') child: HTMLInputElement;\r\n  @ViewChild('autocompleteGroupeMonstre') autocompleteGroupeMonstre: AutocompleteGroupeComponent;\r\n  @ViewChild('Banner') banner: FadingInfoComponent;\r\n\r\n\r\n  myControl = new FormControl();\r\n  familles: Famille[];\r\n  familleCourante: Famille;\r\n  filteredFamilles: Observable<Famille[]>;\r\n\r\n  monstresGroupes: MonstreGroupe[];\r\n  monstreCourrant: Monstre;\r\n  familleMonstreSelectionne: Famille;\r\n\r\n  monstreExactMatchV: boolean;\r\n\r\n  constructor(private http: HttpClient,\r\n              private familleAndMonstreService: FamilleAndMonstreService,\r\n  ) {\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    // this.familles = this.familleAndMonstreService.chargerAllFamilles(this.http);\r\n    this.chargerFamille();\r\n    // this.monstresGroupes = this.familleAndMonstreService.chargerFamillesAvecMonstres(this.http);\r\n    this.chargerFamilleEtMonstre();\r\n    this.filteredFamilles = this.myControl.valueChanges.pipe(\r\n      startWith(''),\r\n      map(value => this.filter(value))\r\n    );\r\n  }\r\n\r\n  private chargerFamille() {\r\n    this.familleAndMonstreService.getAllFamilles(this.http).then(\r\n      (data: any) => {\r\n        const response: SpecialResponse = JSON.parse(data) as SpecialResponse;\r\n        this.familles = response.data as Famille[];\r\n        this.filteredFamilles = this.myControl.valueChanges.pipe(\r\n          startWith(''),\r\n          map(value => this.filter(value))\r\n        );\r\n        this.updateFamilleCourante();\r\n        this.chargerFamilleEtMonstre();\r\n      }\r\n    );\r\n  }\r\n\r\n  private chargerFamilleEtMonstre() {\r\n    this.familleAndMonstreService.getFamillesAvecMonstres(this.http).then(\r\n      (data: any) => {\r\n        const response: SpecialResponse = JSON.parse(data) as SpecialResponse;\r\n        this.monstresGroupes = response.data as MonstreGroupe[];\r\n      }\r\n    );\r\n    if (this.monstresGroupes) {\r\n      this.updateMonstreCourant();\r\n    }\r\n    this.monstreExactMatchV = this.monstreExactMatch();\r\n  }\r\n\r\n  private filter(value: string): Famille[] {\r\n    if (value) {\r\n      const filterValue = value.toLowerCase();\r\n      return this.familles.filter(option => option.libelle.toLowerCase().includes(filterValue));\r\n    }\r\n    return this.familles;\r\n  }\r\n\r\n  /* ---------------------------------------------------*\r\n  |                  Partie Monstre                     |\r\n  *-----------------------------------------------------*/\r\n  selectionMonstre($event: Monstre) {\r\n    if (!this.monstreCourrant || this.monstreCourrant.idMonstre !== $event.idMonstre\r\n      || this.monstreCourrant.libelle.toLowerCase() !== $event.libelle.toLowerCase()\r\n      || (this.familleMonstreSelectionne\r\n        && this.familleMonstreSelectionne.libelle !== (document.getElementById('inputFamilleMonstre') as HTMLSelectElement)\r\n        .options.item(this.familleMonstreSelectionne.idFamilleMonstre).label)) {\r\n\r\n      // On met à jour le monstre courant, et on change la selection en JS vanilla. A voir si on peut faire autrement.\r\n      this.monstreCourrant = $event;\r\n      (document.getElementById('monstreLibelle') as HTMLInputElement).value = this.monstreCourrant.libelle;\r\n\r\n      // Selection de la famille et affichage en JS vanilla, car je n'arrive pas à le faire sans JS Vanilla.\r\n      this.familleMonstreSelectionne = this.familles.filter(f => +f.idFamilleMonstre === +$event.idFamilleMonstre)[0];\r\n      const familleToSelect: number = this.familleMonstreSelectionne !== undefined ? this.familleMonstreSelectionne.idFamilleMonstre : 0;\r\n\r\n      // Oblige de mettre un Timeout, sinon ça ne passe pas du tout ... Sinon ça reste à la première valeur.\r\n      setTimeout( () => { (document.getElementById('inputFamilleMonstre') as HTMLSelectElement)\r\n        .options[+familleToSelect].selected = true; }, 15);\r\n\r\n      // Changement de valeur de l'autocomplete des monstres, pour garder un affichage cohérent\r\n      this.autocompleteGroupeMonstre.monstreForm.patchValue({\r\n        monstreGroup: this.monstreCourrant.libelle,\r\n      });\r\n      setTimeout( () => { this.monstreExactMatchV = this.monstreExactMatch(); }, 10);\r\n    }\r\n  }\r\n\r\n  public updateMonstreCourant() {\r\n    const libelleCourant: string = (document.getElementById('monstreLibelle') as HTMLInputElement).value;\r\n    const monstre: Monstre = this.searchExistingMonstreByName(libelleCourant);\r\n    if (monstre !== undefined) {\r\n      this.selectionMonstre(monstre);\r\n    }\r\n  }\r\n\r\n  inputMonstreNameAlreadyExist(): boolean {\r\n    if (this.monstresGroupes) {\r\n      const value: string = (document.getElementById('monstreLibelle') as HTMLInputElement).value;\r\n      const monstre: Monstre = this.searchExistingMonstreByName(value);\r\n      return monstre !== undefined;\r\n    }\r\n    return true;\r\n  }\r\n\r\n  monstreExactMatch(): boolean {\r\n    if (this.monstreCourrant) {\r\n      // On cherche si un monstre du même nom existe déja.\r\n      const libelleCourant: string = (document.getElementById('monstreLibelle') as HTMLInputElement).value;\r\n      const monstre: Monstre = this.searchExistingMonstreByName(libelleCourant);\r\n\r\n      // Valeur de la famille choisie dans l'input.\r\n      const select = (document.getElementById('inputFamilleMonstre') as HTMLSelectElement);\r\n      const idFamille = +select.options[select.selectedIndex].value !== 0 ? +select.options[select.selectedIndex].value : undefined;\r\n\r\n      // Si le monstre existe, et qu'il a la même famille que celle selectionnée, et le même nom que le monstre selectionné.\r\n      return monstre !== undefined && monstre.idFamilleMonstre === idFamille\r\n        && (document.getElementById('monstreLibelle') as HTMLInputElement).value === this.monstreCourrant.libelle;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  searchExistingMonstreByName(monstreLibelle: string): Monstre {\r\n    let monstre: Monstre[] = this.monstresGroupes\r\n      .map(f => {\r\n        for (const membre of f.Membres) {\r\n          if (membre.libelle.toLowerCase() === monstreLibelle.toLowerCase()) {\r\n            return membre;\r\n          }\r\n        }\r\n        return undefined;\r\n      });\r\n    monstre = monstre.filter(element => element !== undefined);\r\n    return monstre[0];\r\n  }\r\n\r\n  modifierMonstre() {\r\n    const libelle: string = (document.getElementById('monstreLibelle') as HTMLInputElement).value;\r\n    console.log('Modification monstre');\r\n\r\n    const select = (document.getElementById('inputFamilleMonstre') as HTMLSelectElement);\r\n    const idFamille = select.options[select.selectedIndex].value;\r\n    this.familleAndMonstreService.modifierMonstre(this.http, this.monstreCourrant.idMonstre,\r\n      +idFamille, libelle).then(\r\n      (data: any) => {\r\n        console.log(data);\r\n        this.familleAndMonstreService.getFamillesAvecMonstres(this.http).then(\r\n          (reload: any) => {\r\n            const response: SpecialResponse = JSON.parse(reload) as SpecialResponse;\r\n            this.monstresGroupes = response.data as MonstreGroupe[];\r\n            this.updateMonstreCourant();\r\n          }\r\n        );\r\n        const responseModification: SpecialResponse = JSON.parse(data) as SpecialResponse;\r\n        this.banner.loadComponent(responseModification.status_message, JSON.stringify(responseModification.data),\r\n          '' + responseModification.status);\r\n      }\r\n    );\r\n  }\r\n\r\n  creerMonstre() {\r\n    const libelle: string = (document.getElementById('monstreLibelle') as HTMLInputElement).value;\r\n    console.log('Ajout monstre');\r\n    this.familleAndMonstreService.creerMonstre(this.http, this.familleMonstreSelectionne.idFamilleMonstre, libelle).then(\r\n      (data: any) => {\r\n        console.log(data);\r\n        this.familleAndMonstreService.getFamillesAvecMonstres(this.http).then(\r\n          (reload: any) => {\r\n            const response: SpecialResponse = JSON.parse(reload) as SpecialResponse;\r\n            this.monstresGroupes = response.data as MonstreGroupe[];\r\n            this.updateMonstreCourant();\r\n          }\r\n        );\r\n        const responseCreation: SpecialResponse = JSON.parse(data) as SpecialResponse;\r\n        this.banner.loadComponent(responseCreation.status_message, JSON.stringify(responseCreation.data),\r\n          '' + responseCreation.status);\r\n      }\r\n    );\r\n    this.monstresGroupes = this.familleAndMonstreService.chargerFamillesAvecMonstres(this.http);\r\n  }\r\n\r\n  updateFamilleMonstreSelectionnee() {\r\n    const select = (document.getElementById('inputFamilleMonstre') as HTMLSelectElement);\r\n    const idFamille = select.options[select.selectedIndex].value;\r\n    this.familleMonstreSelectionne = this.familles.filter(f => f.idFamilleMonstre === +idFamille)[0];\r\n  }\r\n\r\n  emptyMonstre() {\r\n    return (document.getElementById('monstreLibelle') as HTMLInputElement).value.length === 0;\r\n  }\r\n\r\n  /* ---------------------------------------------------*\r\n  |                  Partie Famille                     |\r\n  |                  myControl = new FormControl();     |\r\n  |                  familles: Famille[];               |\r\n  |                  familleCourante: Famille;          |\r\n  |                  filteredFamilles: Observable<Famille[]>;|\r\n  *-----------------------------------------------------*/\r\n  selectionFamille(familleAsString: string) {\r\n    const famille = this.searchExistingFamilleByName(familleAsString);\r\n    if (famille && [!this.familleCourante || this.familleCourante.idFamilleMonstre !== famille.idFamilleMonstre\r\n      || this.familleCourante.libelle !== famille.libelle]) {\r\n      this.familleCourante = famille;\r\n      (document.getElementById('familleLibelle') as HTMLInputElement).value = this.familleCourante.libelle;\r\n      // Changement de valeur de l'autocomplete des familles, pour garder un affichage cohérent\r\n      this.myControl.setValue(this.familleCourante.libelle);\r\n    }\r\n  }\r\n\r\n  familleExactMatch(): boolean {\r\n    if (this.familleCourante) {\r\n      // On cherche si une famille du même nom existe déja.\r\n      const libelleCourant: string = (document.getElementById('familleLibelle') as HTMLInputElement).value;\r\n      const famille: Famille = this.searchExistingFamilleByName(libelleCourant);\r\n\r\n      // Si la famille existe, et le même nom que la famille selectionnée.\r\n      return famille && (document.getElementById('familleLibelle') as HTMLInputElement).value === this.familleCourante.libelle;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  public updateFamilleCourante() {\r\n    this.selectionFamille((document.getElementById('familleLibelle') as HTMLInputElement).value);\r\n  }\r\n\r\n  searchExistingFamilleByName(familleLibelle: string): Famille {\r\n    const famille: Famille[] = this.familles.filter(f => f.libelle.toLowerCase() === familleLibelle.toLowerCase());\r\n    return famille[0];\r\n  }\r\n\r\n  emptyFamille() {\r\n    return (document.getElementById('familleLibelle') as HTMLInputElement).value.length === 0;\r\n  }\r\n\r\n  modifierFamille() {\r\n    const libelle: string = (document.getElementById('familleLibelle') as HTMLInputElement).value;\r\n    console.log('Modification famille');\r\n    this.familleAndMonstreService.modifierFamille(this.http, this.familleCourante.idFamilleMonstre, libelle).then(\r\n      (data: any) => {\r\n        this.chargerNouvellesDonnees(data);\r\n        const response: SpecialResponse = JSON.parse(data) as SpecialResponse;\r\n        this.banner.loadComponent(response.status_message, JSON.stringify(response.data), '' + response.status);\r\n      }\r\n    );\r\n  }\r\n\r\n  creerFamille() {\r\n    const libelle: string = (document.getElementById('familleLibelle') as HTMLInputElement).value;\r\n    console.log('Ajout famille');\r\n    this.familleAndMonstreService.creerFamille(this.http, libelle).then(\r\n      (data: any) => {\r\n        this.chargerNouvellesDonnees(data);\r\n        const response: SpecialResponse = JSON.parse(data) as SpecialResponse;\r\n        this.banner.loadComponent(response.status_message, JSON.stringify(response.data), '' + response.status);\r\n      }\r\n    );\r\n  }\r\n\r\n  private chargerNouvellesDonnees(data: any) {\r\n    console.log(data);\r\n    this.familleAndMonstreService.getAllFamilles(this.http).then(\r\n      (reload: any) => {\r\n        const response: SpecialResponse = JSON.parse(reload) as SpecialResponse;\r\n        this.familles = response.data as Famille[];\r\n        this.filteredFamilles = this.myControl.valueChanges.pipe(\r\n          startWith(''),\r\n          map(value => this.filter(value))\r\n        );\r\n        this.chargerFamille();\r\n      }\r\n    );\r\n  }\r\n\r\n}\r\n","<div id=\"fakebody\">\r\n  <div class=\"principal\">\r\n    <div id=\"caracterSelection\" class=\"caracterSelection\">\r\n      <h3>Selectionnez un monstre</h3>\r\n      <app-autocomplete-groupe #autocompleteGroupeMonstre (monstreEventEmitter)=\"selectionMonstre($event)\"\r\n                               [monsterGroupes]=\"this.monstresGroupes\">\r\n        loading\r\n      </app-autocomplete-groupe>\r\n      <div style=\"width: 100%\">\r\n        <div style=\"width: 100%\" *ngIf=\"monstreCourrant\">\r\n          <h3> {{monstreCourrant.libelle}}</h3>\r\n        </div>\r\n        <div style=\"width: 100%\">\r\n          <form class=\"needs-validation\" id=\"monstre\">\r\n            <div class=\"form-row\">\r\n              <div class=\"col-md-3 mb-5\">\r\n                <label for=\"monstreLibelle\"> Libelle\r\n                </label>\r\n                <input type=\"text\" class=\"form-control\" id=\"monstreLibelle\"\r\n                       name=\"monstreLibelle\"\r\n                       placeholder=\"libelle\"\r\n                       (keyup)=\"this.updateMonstreCourant()\"\r\n                       required>\r\n              </div>\r\n              <div class=\"form-group col-md-4\">\r\n                <label for=\"inputFamilleMonstre\">Famille</label>\r\n                <select id=\"inputFamilleMonstre\" class=\"form-control\" (change)=\"updateFamilleMonstreSelectionnee()\">\r\n                  <option selected value=0> </option>\r\n                  <option *ngFor=\"let famille of familles\" [value]=\"famille.idFamilleMonstre\">\r\n                    {{famille.idFamilleMonstre}} - {{famille.libelle}}\r\n                  </option>\r\n                </select>\r\n              </div>\r\n\r\n\r\n            </div>\r\n\r\n            <div style=\"float: right;\">\r\n              <button class=\"btn btn-danger pull-right\" type=\"submit\" id=\"submissionModifierMonstreButton\"\r\n                      style=\"transition: 0.5s ; margin-right: 50px\"\r\n                      *ngIf=\"!this.monstreExactMatch()\"\r\n                      (click)=\"this.modifierMonstre()\"\r\n                      [disabled]=\"this.inputMonstreNameAlreadyExist() || this.emptyMonstre()\"\r\n                      [title]=\"this.inputMonstreNameAlreadyExist() ? 'Le nom choisi existe déjà. Les noms sont uniques.' : ''\">\r\n                Modifier un monstre\r\n              </button>\r\n              <button class=\"btn btn-outline-warning pull-right\" type=\"submit\" id=\"submissionCreerMonstreButton\"\r\n                      style=\"transition: 0.5s;\"\r\n                      *ngIf=\"!this.monstreExactMatch()\"\r\n                      (click)=\"this.creerMonstre()\"\r\n                      [disabled]=\"this.inputMonstreNameAlreadyExist() || this.emptyMonstre()\"\r\n                      [title]=\"this.inputMonstreNameAlreadyExist() ? 'Le nom choisi existe déjà. Les noms doivent être uniques.' : ''\">\r\n                Créer un monstre\r\n              </button>\r\n            </div>\r\n          </form>\r\n\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- /*---------------------------------------------------*\r\n          |                  Partie famille                   |\r\n          *---------------------------------------------------*/ -->\r\n\r\n    <div id=\"familleSelection\" class=\"familleSelection\">\r\n      <h3>Selectionnez une Famille</h3>\r\n      <form class=\"example-form\">\r\n        <mat-form-field class=\"\">\r\n          <input type=\"text\"\r\n                 aria-label=\"Number\"\r\n                 matInput\r\n                 [formControl]=\"myControl\"\r\n                 [matAutocomplete]=\"auto\">\r\n          <mat-label>Familles</mat-label>\r\n          <mat-autocomplete #auto=\"matAutocomplete\"\r\n                            (optionSelected)=\"selectionFamille($event.option.value)\">\r\n            <mat-option *ngFor=\"let famille of filteredFamilles | async\" [value]=\"famille.libelle\">\r\n              {{famille.libelle}}\r\n            </mat-option>\r\n          </mat-autocomplete>\r\n        </mat-form-field>\r\n      </form>\r\n      <div style=\"width: 100%\">\r\n        <div style=\"width: 100%\" *ngIf=\"familleCourante\">\r\n          <h3> {{familleCourante.libelle}}</h3>\r\n        </div>\r\n        <div style=\"width: 100%\">\r\n          <form class=\"needs-validation\" id=\"famille\">\r\n            <div class=\"form-row\">\r\n              <div class=\"col-md-3 mb-5\">\r\n                <label for=\"familleLibelle\"> Libelle\r\n                </label>\r\n                <input type=\"text\" class=\"form-control\" id=\"familleLibelle\"\r\n                       name=\"familleLibelle\"\r\n                       placeholder=\"libelle\"\r\n                       (keyup)=\"this.updateFamilleCourante()\"\r\n                       required>\r\n              </div>\r\n\r\n\r\n            </div>\r\n\r\n            <div style=\"float: right;\">\r\n              <button class=\"btn btn-danger pull-right\" type=\"submit\" id=\"submissionModifierFamilleButton\"\r\n                      style=\"transition: 0.5s ; margin-right: 50px\"\r\n                      *ngIf=\"!this.familleExactMatch()\"\r\n                      [disabled]=\"this.emptyFamille()\"\r\n                      (click)=\"this.modifierFamille()\">\r\n                Modifier une famille\r\n              </button>\r\n              <button class=\"btn btn-outline-warning pull-right\" type=\"submit\" id=\"submissionCreerFamilleButton\"\r\n                      style=\"transition: 0.5s;\"\r\n                      *ngIf=\"!this.familleExactMatch()\"\r\n                      [disabled]=\"this.emptyFamille()\"\r\n                      (click)=\"this.creerFamille()\">\r\n                Créer une famille\r\n              </button>\r\n            </div>\r\n          </form>\r\n\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n  </div>\r\n\r\n</div>\r\n\r\n<app-fading-info #Banner></app-fading-info>\r\n","import {Component, OnInit} from '@angular/core';\r\nimport {HttpClient} from '@angular/common/http';\r\nimport {PersonnageService} from '../services/personnage.service';\r\nimport {ObjetService} from '../services/objet.service';\r\nimport {SpecialResponse} from '../loot-table/loot-table.component';\r\n\r\n@Component({\r\n    selector: 'app-gestion-objet',\r\n    templateUrl: './gestion-objet.component.html',\r\n    styleUrls: ['./gestion-objet.component.scss']\r\n})\r\nexport class GestionObjetComponent implements OnInit {\r\n\r\n    personnages: Personnage[];\r\n    idPersonnageSelectionne: number;\r\n    currentPersonnage: Personnage;\r\n\r\n    objetMinimisations: ObjetMinimisation[] = [];\r\n\r\n    objetCourantID: number;\r\n\r\n    updatingObjetName = false;\r\n\r\n    updatingObjetID: number;\r\n\r\n    constructor(private http: HttpClient,\r\n                private personnageService: PersonnageService,\r\n                private objetService: ObjetService,\r\n    ) {\r\n    }\r\n\r\n    ngOnInit(): void {\r\n        this.personnageService.getAllPersonnages(this.http, true).then(\r\n            (data: any) => {\r\n                const response = data as SpecialResponse;\r\n                this.personnages = response.data as Personnage[];\r\n            }\r\n        );\r\n    }\r\n\r\n    selectPersonnage() {\r\n        if (+this.idPersonnageSelectionne !== 0) {\r\n            this.currentPersonnage = this.personnages.find(f => f.idPersonnage === +this.idPersonnageSelectionne);\r\n            this.loadObjetsNames();\r\n        } else {\r\n            this.currentPersonnage = null;\r\n            this.objetMinimisations = null;\r\n            // TODO: Récupérer tous les objets non assignés\r\n        }\r\n    }\r\n\r\n    public loadObjetsNames() {\r\n        this.objetService.getAllObjetsNames(this.http, 1).then(\r\n            (dataObjet: any) => {\r\n                const response: SpecialResponse = dataObjet as SpecialResponse;\r\n                console.log(response);\r\n                this.objetMinimisations = response.data as ObjetMinimisation[];\r\n                console.log(this.objetMinimisations);\r\n            }\r\n        );\r\n    }\r\n\r\n    reloadObjetsNames(idObjet: number) {\r\n        this.updatingObjetName = true;\r\n        this.updatingObjetID = idObjet;\r\n        setTimeout(() => {\r\n            this.objetService.getObjetName(this.http, idObjet).then(\r\n                (dataObjet: any) => {\r\n                    const response: SpecialResponse = dataObjet as SpecialResponse;\r\n                    console.log(response);\r\n                    const index = this.objetMinimisations.indexOf(this.objetMinimisations.find(f => +f.idObjet === +idObjet));\r\n                    this.objetMinimisations[index] = response.data as ObjetMinimisation;\r\n                    console.log(this.objetMinimisations[index]);\r\n                }\r\n            );\r\n        }, 1250);\r\n        setTimeout(() => {\r\n            this.updatingObjetName = false;\r\n            this.updatingObjetID = null;\r\n        }, 2500);\r\n    }\r\n\r\n    public selectObjet(idObjet: number) {\r\n        this.objetCourantID = idObjet;\r\n    }\r\n\r\n    getNomSansBalise(objetNom: string) {\r\n        console.log(objetNom);\r\n        console.log(objetNom.replace(/<a href=\"http:\\/\\/([a-z]*.*?)\">(.*?)<\\/a>/g, '$2'));\r\n        return objetNom.replace(/<a href=\"http:\\/\\/([a-z]*.*?)\">(.*?)<\\/a>/g, '$2');\r\n    }\r\n\r\n}\r\n","<div id=\"fakebody\">\r\n    <div class=\"principal\">\r\n        <div id=\"caracterSelection\" class=\"caracterSelection\">\r\n            <label for=\"inputPersonnageChoix\">Selectionnez un personnage pour visionner ses objets</label>\r\n            <select id=\"inputPersonnageChoix\" class=\"form-control\" (change)=\"selectPersonnage()\" [(ngModel)]=\"this.idPersonnageSelectionne\">\r\n                <option value=\"0\"> Objets non possédés</option>\r\n                <option *ngFor=\"let personnage of this.personnages\" [value]=\"personnage.idPersonnage\">\r\n                    {{personnage.idPersonnage}} - {{personnage.nom}}\r\n                </option>\r\n            </select>\r\n        </div>\r\n        <div style=\"width: 100%\">\r\n            <h3 *ngIf=\"this.currentPersonnage\"> {{currentPersonnage.nom}}</h3>\r\n        </div>\r\n        <div style=\"width: 100%\">\r\n            <div class=\"noms\">\r\n                <ng-container *ngFor=\"let objet of this.objetMinimisations\">\r\n                    <div class=\"nomObjet\">\r\n                        <div class=\"spinner_overlay\" *ngIf=\"this.updatingObjetName && this.updatingObjetID === objet.idObjet\">\r\n                            <app-spinner></app-spinner>\r\n                        </div>\r\n                        <button class=\"btn btn-danger\" (click)=\"this.selectObjet(objet.idObjet)\" [disabled]=\"this.updatingObjetName && this.updatingObjetID !== objet.idObjet\">\r\n                            <b>{{getNomSansBalise(objet.nom)}}</b><ng-container *ngIf=\"objet.fauxNom\"> <br/><i>{{objet.fauxNom}}</i></ng-container>\r\n                        </button>\r\n                    </div>\r\n                </ng-container>\r\n            </div>\r\n\r\n            <ng-container *ngIf=\"this.objetCourantID\">\r\n                <app-personnage-objet [idObj]=\"this.objetCourantID\" (changingObjet)=\"this.reloadObjetsNames($event)\"></app-personnage-objet>\r\n            </ng-container>\r\n\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n\r\n","export enum HttpMethods {\n    GET = 'GET',\n    POST = 'POST',\n    PUT = 'PUT',\n    DELETE = 'DELETE'\n}\n","import {Component, OnInit} from '@angular/core';\r\nimport {HttpClient} from '@angular/common/http';\r\nimport {FamilleAndMonstreService} from '../services/famille-and-monstre.service';\r\nimport {MonstreLootChanceService} from '../services/monstre-loot-chance.service';\r\nimport {ObjetSimpleComponent} from '../objets/objet-simple/objet-simple.component';\r\nimport {ArmesComponent} from '../objets/armes/armes.component';\r\nimport {ArmuresComponent} from '../objets/armures/armures.component';\r\nimport {ObjetService} from '../services/objet.service';\r\n\r\nexport interface SpecialResponse {\r\n    status: number;\r\n    status_message: string;\r\n    data: any;\r\n}\r\n\r\n\r\n@Component({\r\n    selector: 'app-loot-table',\r\n    templateUrl: './loot-table.component.html',\r\n    styleUrls: ['./loot-table.component.scss']\r\n})\r\nexport class LootTableComponent implements OnInit {\r\n\r\n    monstresGroupes: MonstreGroupe[];\r\n    monstreCourrant: Monstre;\r\n    monstreSelectionneLootChance: MonstreLootChanceBis[];\r\n    lootSelectionne: MonstreLootChanceBis;\r\n    lootPossible: Loot[] = [];\r\n    input1: number = null;\r\n    input2: number;\r\n    input3: number;\r\n    deDeDrop: number;\r\n    parametres: string[];\r\n    parametres2: string[];\r\n    parametres3: string[];\r\n\r\n    armure: ArmuresComponent;\r\n    arme: ArmesComponent;\r\n    objetSimple: ObjetSimpleComponent;\r\n\r\n\r\n    ngOnInit(): void {\r\n        this.chargerFamilles(this.http);\r\n        this.monstreLootChance.getLootPossibles(this.http).then(\r\n            (data: any) => {\r\n                const response: SpecialResponse = JSON.parse(data) as SpecialResponse;\r\n                this.lootPossible = response.data as Loot[];\r\n            }\r\n        );\r\n    }\r\n\r\n    constructor(private http: HttpClient,\r\n                private familleMonstre: FamilleAndMonstreService,\r\n                private monstreLootChance: MonstreLootChanceService,\r\n                private objetService: ObjetService) {\r\n    }\r\n\r\n    public chargerFamilles(http: HttpClient) {\r\n        this.monstresGroupes = this.familleMonstre.chargerFamillesAvecMonstres(http);\r\n    }\r\n\r\n    public chargerMonstreLootChance() {\r\n        this.monstreSelectionneLootChance = [];\r\n        this.monstreLootChance.getMonstreLootChanceBis(this.http, this.monstreCourrant.idMonstre).then(\r\n            (data: any) => {\r\n                const response: SpecialResponse = JSON.parse(data) as SpecialResponse;\r\n                this.monstreSelectionneLootChance = response.data as MonstreLootChanceBis[];\r\n            });\r\n    }\r\n\r\n    selectionMonstre($event: Monstre) {\r\n        this.monstreCourrant = $event;\r\n        this.monstreSelectionneLootChance = [];\r\n        this.chargerMonstreLootChance();\r\n    }\r\n\r\n    selectionLoot(event: any) {\r\n        if (+event.target.value > 20) {\r\n            event.target.value = 20;\r\n        }\r\n        this.deDeDrop = +event.target.value;\r\n        this.lootSelectionne = this.monstreSelectionneLootChance.filter(lc => +lc.roll === this.deDeDrop)[0];\r\n    }\r\n\r\n    public isObjet(): boolean {\r\n        // this.setParametres();\r\n        return this.lootSelectionne && (this.lootSelectionne.idLoot === 6 || this.isObjetMaudit());\r\n    }\r\n\r\n    public isObjetMaudit(): boolean {\r\n        return this.lootSelectionne && (this.lootSelectionne.idLoot === 1);\r\n    }\r\n\r\n    public isDoubleObjet() {\r\n        return this.input1 >= 71 && this.input1 <= 80;\r\n    }\r\n\r\n    public isRecompenseValide(): boolean {\r\n        if (!(this.deDeDrop && this.lootSelectionne)) {\r\n            return false;\r\n        }\r\n        switch (+this.lootSelectionne.idLoot) {\r\n            case 2:\r\n            case 3:\r\n            case 4:\r\n            case 5:\r\n                return this.input1 != null;\r\n        }\r\n    }\r\n\r\n    public getRecompense() {\r\n        switch (this.lootSelectionne.idLoot) {\r\n            case 2:\r\n                return 'Vous avez gagné ' + this.getRecompenseValue() + ' pièces de cuivre.';\r\n            case 3:\r\n                return 'Vous avez gagné ' + this.getRecompenseValue() + ' pièces d\\'argent.';\r\n            case 4:\r\n                return 'Vous avez gagné ' + this.getRecompenseValue() + ' pièces d\\'or.';\r\n            case 5:\r\n                return 'Vous avez gagné ' + this.getRecompenseValue() + ' pièces d\\'or.';\r\n        }\r\n    }\r\n\r\n    public getRecompenseValue() {\r\n        switch (this.lootSelectionne.idLoot) {\r\n            case 2:\r\n            case 3:\r\n            case 4:\r\n            case 5:\r\n                return this.input1 * this.lootSelectionne.multiplier;\r\n        }\r\n    }\r\n\r\n    lootSelectionneNom(): string {\r\n        return this.lootPossible.filter(lp => lp.idLoot === this.lootSelectionne.idLoot)[0].libelle;\r\n    }\r\n\r\n    isMe(objet: string) {\r\n        if (objet === 'simple' && this.input1 && this.input1 <= 20) {\r\n            this.parametres = ['Ceci sera un anneau', 'Dead Anno', 'Anneau', 'magique', 'anneauxMagiques'];\r\n            return true;\r\n        } else if (objet === 'armes' && this.input1 >= 21 && this.input1 <= 35) {\r\n            return true;\r\n        } else if (objet === 'armures' && this.input1 >= 36 && this.input1 <= 50) {\r\n            return true;\r\n        } else if (objet === 'simple' && this.input1 >= 51 && this.input1 <= 60) {\r\n            this.parametres = ['Ceci est un bâton', 'Débat thon', 'Bâton', 'magique', 'batons'];\r\n            return true;\r\n        } else if (objet === 'simple' && this.input1 >= 61 && this.input1 <= 70) {\r\n            this.parametres = ['Ceci est un sceptre', 'Dé septentrional', 'Sceptre', 'magique', 'sceptres'];\r\n            return true;\r\n        } else if (objet === 'objets' && this.input1 >= 71 && this.input1 <= 80) {\r\n            return true;\r\n        } else if (objet === 'simple' && this.input1 >= 81 && this.input1 <= 100) {\r\n            this.parametres = ['Ceci est un objet merveilleux', 'Demer veille eux', 'Objet merveileux', 'magique', 'objetsMerveilleux'];\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    setParametres() {\r\n        if (this.input1 && this.input1 <= 20) {\r\n            this.parametres = ['Ceci sera un anneau', 'Dead Anno', 'Anneau', 'magique', 'anneauxMagiques'];\r\n        } else if (this.input1 >= 51 && this.input1 <= 60) {\r\n            this.parametres = ['Ceci est un bâton', 'Débat thon', 'Bâton', 'magique', 'batons'];\r\n        } else if (this.input1 >= 61 && this.input1 <= 70) {\r\n            this.parametres = ['Ceci est un sceptre', 'Dé septentrional', 'Sceptre', 'magique', 'sceptres'];\r\n        } else if (this.input1 >= 81 && this.input1 <= 100) {\r\n            this.parametres = ['Ceci est un objet merveilleux', 'Demer veille eux', 'Objet merveileux', 'magique', 'objetsMerveilleux'];\r\n        }\r\n    }\r\n\r\n    isMeReduced(objet: string, isInput2: boolean) {\r\n        let input;\r\n        let parameter = null;\r\n        let hasToBeTrue = false;\r\n        if (isInput2) {\r\n            input = this.input2;\r\n        } else {\r\n            input = this.input3;\r\n        }\r\n        if (objet === 'simple' && input && input <= 20) {\r\n            parameter = ['Ceci sera un anneau', 'Dead Anno', 'Anneau', 'magique', 'anneauxMagiques'];\r\n            hasToBeTrue = true;\r\n        } else if (objet === 'armes' && input >= 21 && input <= 35) {\r\n            hasToBeTrue = true;\r\n        } else if (objet === 'armures' && input >= 36 && input <= 50) {\r\n            hasToBeTrue = true;\r\n        } else if (objet === 'simple' && input >= 51 && input <= 65) {\r\n            parameter = ['Ceci est un bâton', 'Débat thon', 'Bâton', 'magique', 'batons'];\r\n            hasToBeTrue = true;\r\n        } else if (objet === 'simple' && input >= 65 && input <= 80) {\r\n            parameter = ['Ceci est un sceptre', 'Dé septentrional', 'Sceptre', 'magique', 'sceptres'];\r\n            hasToBeTrue = true;\r\n        } else if (objet === 'simple' && input >= 81 && input <= 100) {\r\n            parameter = ['Ceci est un objet merveilleux', 'Demer veille eux', 'Objet merveileux', 'magique', 'objetsMerveilleux'];\r\n            hasToBeTrue = true;\r\n        }\r\n        if (isInput2) {\r\n            this.parametres2 = parameter;\r\n        } else {\r\n            this.parametres3 = parameter;\r\n        }\r\n        return hasToBeTrue;\r\n    }\r\n\r\n    getObjetSimple($event: ObjetSimpleComponent) {\r\n        if ($event) {\r\n            this.armure = null;\r\n            this.arme = null;\r\n            this.objetSimple = $event;\r\n\r\n            this.sendObjet(this.objetSimple.castToObjetCommunForDB());\r\n        }\r\n    }\r\n\r\n    getArme($event: ArmesComponent) {\r\n        this.armure = null;\r\n        this.arme = $event;\r\n        this.objetSimple = null;\r\n\r\n        this.sendObjet(this.arme.castToObjetCommunForDB());\r\n    }\r\n\r\n    getArmure($event: ArmuresComponent) {\r\n        this.armure = $event;\r\n        this.arme = null;\r\n        this.objetSimple = null;\r\n\r\n        this.sendObjet(this.armure.castToObjetCommunForDB());\r\n    }\r\n\r\n    sendObjet(objetCommunDB: ObjetCommunForDB) {\r\n        // On fait l'ajout de l'objet, puis de la propriété magique, puis des tables, puis des ul.\r\n        // Car sinon, il y a trop de données, et on a une erreur :\r\n        // CORS policy: No 'Access-Control-Allow-Origin' header is present on the requested resource\r\n        const objetCommunDBModified: ObjetCommunForDB = JSON.parse(JSON.stringify(objetCommunDB)) as ObjetCommunForDB;\r\n        objetCommunDBModified.proprieteMagique = null;\r\n        this.objetService.envoyerObjetComplet(this.http, 'POST', null, objetCommunDBModified).then(\r\n            (dataObjet: any) => {\r\n                console.log(dataObjet);\r\n                const response = JSON.parse(dataObjet) as SpecialResponse;\r\n                const objet: ObjetCommunForDB = response.data as ObjetCommunForDB;\r\n                const idObjet = objet.idObjet;\r\n                console.log(idObjet);\r\n                // this.ajouterMateriau(idObjet, this.armure.materiau);\r\n                // this.ajouterMalediction(idObjet, this.armure.malediction);\r\n                // Obligé de faire comme ça, alors que tout d'un coup marche, sinon erreur ... cf : voir au dessus\r\n                this.ajouterProprietesMagiques(idObjet, objetCommunDB.proprieteMagique);\r\n            }\r\n        );\r\n    }\r\n\r\n    ajouterProprietesMagiques(idObjet: number, proprietesMagiques: MagicalProperty[]) {\r\n        for (const proprieteMagique of proprietesMagiques) {\r\n            this.objetService.envoyerEffetMagique(this.http, 'POST', idObjet, proprieteMagique).then(\r\n                (data: any) => {\r\n                    console.log(data);\r\n                }\r\n            );\r\n        }\r\n    }\r\n}\r\n","<div id=\"fakebody\">\r\n    <div class=\"principal\">\r\n        <div id=\"caracterSelection\" class=\"caracterSelection\">\r\n            <h3>Selectionnez un monstre</h3>\r\n            <app-autocomplete-groupe (monstreEventEmitter)=\"selectionMonstre($event)\"\r\n                                     [monsterGroupes]=\"monstresGroupes\">\r\n                loading\r\n            </app-autocomplete-groupe>\r\n        </div>\r\n        <div style=\"width: 100%\">\r\n            <h3 *ngIf=\"monstreCourrant\"> {{monstreCourrant.libelle}}</h3>\r\n            <form class=\"needs-validation\" id=\"looTableForm\">\r\n                <div class=\"form-row\">\r\n                    <div class=\"col-md-2 mb-3\" *ngIf=\"monstreCourrant\">\r\n                        <label for=\"DedeDrop\">Dé de drop\r\n                        </label>\r\n                        <input min=\"1\" max=\"20\" type=\"number\" class=\"form-control\" id=\"DedeDrop\"\r\n                               name=\"DedeDrop\"\r\n                               placeholder=\"Dé de drop\"\r\n                               [(ngModel)]=\"this.deDeDrop\"\r\n                               (keyup)=\"selectionLoot($event)\"\r\n                               required>\r\n                    </div>\r\n\r\n                    <div class=\"col-md-2 mb-3\"\r\n                         *ngIf=\"deDeDrop && this.lootSelectionne\">\r\n                        <label for=\"validationInput1\"> {{this.lootSelectionneNom()}}\r\n                            : {{this.lootSelectionne.diceNumber}}D{{this.lootSelectionne.dicePower}} </label>\r\n                        <input min=\"1\" max=\"{{this.lootSelectionne.dicePower}}\" type=\"number\" class=\"form-control\"\r\n                               id=\"validationInput1\"\r\n                               name=\"validationInput1\"\r\n                               placeholder=\"{{this.lootSelectionneNom()}}\"\r\n                               [(ngModel)]=\"this.input1\" required>\r\n                    </div>\r\n\r\n                </div>\r\n            </form>\r\n        </div>\r\n        <hr style=\"width: 75%; background-color: lightgrey; margin-left: 0; height : 1px\" *ngIf=\"isRecompenseValide()\">\r\n        <div style=\"width: 100%\" *ngIf=\"isRecompenseValide()\">\r\n            <h3>Récompense</h3>\r\n            <p>{{this.getRecompense()}}</p>\r\n        </div>\r\n        <div *ngIf=\"(deDeDrop && this.isObjet() && this.input1) && !this.isDoubleObjet()\" style=\"width: 100%\">\r\n            <app-armes *ngIf=\"isMe('armes')\" [maudit]=\"this.isObjetMaudit()\" (armeEventEmitter)=\"this.getArme($event)\"></app-armes>\r\n            <app-armures *ngIf=\"isMe('armures')\" [maudit]=\"this.isObjetMaudit()\" (armureEventEmitter)=\"this.getArmure($event)\"></app-armures>\r\n            <app-objet-simple *ngIf=\"isMe('simple')\" [parametres]=\"this.parametres\" [maudit]=\"this.isObjetMaudit()\" (objetSimpleEventEmitter)=\"this.getObjetSimple($event)\"></app-objet-simple>\r\n        </div>\r\n        <div *ngIf=\"this.isDoubleObjet()\" style=\"width: 100%\">\r\n            <div class=\"col-md-2 mb-3\">\r\n                <label for=\"validationInput2\"> Objet1\r\n                    : {{this.lootSelectionne.diceNumber}}D{{this.lootSelectionne.dicePower}} </label>\r\n                <input min=\"1\" max=\"{{this.lootSelectionne.dicePower}}\" type=\"number\" class=\"form-control\"\r\n                       id=\"validationInput2\"\r\n                       name=\"validationInput2\"\r\n                       placeholder=\"Objet1\"\r\n                       [(ngModel)]=\"this.input2\" required>\r\n            </div>\r\n            <div *ngIf=\"this.isDoubleObjet() && this.input2\" style=\"width: 100%\">\r\n                <app-armes *ngIf=\"isMeReduced('armes', true)\" [maudit]=\"false\" (armeEventEmitter)=\"this.getArme($event)\"></app-armes>\r\n                <app-armures *ngIf=\"isMeReduced('armures', true)\" [maudit]=\"false\" (armureEventEmitter)=\"this.getArmure($event)\"></app-armures>\r\n                <app-objet-simple *ngIf=\"isMeReduced('simple', true)\" [parametres]=\"this.parametres2\" [maudit]=\"this.isObjetMaudit()\" (objetSimpleEventEmitter)=\"this.getObjetSimple($event)\"></app-objet-simple>\r\n            </div>\r\n\r\n            <hr style=\"width: 50%; background-color: lightgrey; margin-left: 0; height : 1px\">\r\n\r\n            <div class=\"col-md-2 mb-3\"\r\n                 *ngIf=\"deDeDrop && this.lootSelectionne\">\r\n                <label for=\"validationInput3\"> Objet2\r\n                    : {{this.lootSelectionne.diceNumber}}D{{this.lootSelectionne.dicePower}} </label>\r\n                <input min=\"1\" max=\"{{this.lootSelectionne.dicePower}}\" type=\"number\" class=\"form-control\"\r\n                       id=\"validationInput3\"\r\n                       name=\"validationInput3\"\r\n                       placeholder=\"Objet2\"\r\n                       [(ngModel)]=\"this.input3\" required>\r\n            </div>\r\n\r\n            <div *ngIf=\"this.isDoubleObjet() && this.input3\" style=\"width: 100%\">\r\n                <app-armes *ngIf=\"isMeReduced('armes', false)\" [maudit]=\"false\" (armeEventEmitter)=\"this.getArme($event)\"></app-armes>\r\n                <app-armures *ngIf=\"isMeReduced('armures', false)\" [maudit]=\"false\" (armureEventEmitter)=\"this.getArmure($event)\"></app-armures>\r\n                <app-objet-simple *ngIf=\"isMeReduced('simple', false)\" [parametres]=\"this.parametres3\" [maudit]=\"this.isObjetMaudit()\" (objetSimpleEventEmitter)=\"this.getObjetSimple($event)\"></app-objet-simple>\r\n            </div>\r\n\r\n        </div>\r\n\r\n    </div>\r\n</div>\r\n\r\n\r\n\r\n","import {NgModule} from '@angular/core';\r\nimport {MatToolbarModule} from '@angular/material/toolbar';\r\nimport {MatButtonToggleModule} from '@angular/material/button-toggle';\r\nimport {MatTreeModule} from '@angular/material/tree';\r\nimport {MatProgressBarModule} from '@angular/material/progress-bar';\r\nimport {MatSlideToggleModule} from '@angular/material/slide-toggle';\r\nimport {ScrollingModule} from '@angular/cdk/scrolling';\r\nimport {MatPaginatorModule} from '@angular/material/paginator';\r\nimport {MatInputModule} from '@angular/material/input';\r\nimport {MatExpansionModule} from '@angular/material/expansion';\r\nimport {MatDatepickerModule} from '@angular/material/datepicker';\r\nimport {MatSnackBarModule} from '@angular/material/snack-bar';\r\nimport {OverlayModule} from '@angular/cdk/overlay';\r\nimport {MatMenuModule} from '@angular/material/menu';\r\nimport {MatGridListModule} from '@angular/material/grid-list';\r\nimport {MatSortModule} from '@angular/material/sort';\r\nimport {MatAutocompleteModule} from '@angular/material/autocomplete';\r\nimport {MatCheckboxModule} from '@angular/material/checkbox';\r\nimport {MatTableModule} from '@angular/material/table';\r\nimport {CdkStepperModule} from '@angular/cdk/stepper';\r\nimport {MatCardModule} from '@angular/material/card';\r\nimport {MatTabsModule} from '@angular/material/tabs';\r\nimport {MatTooltipModule} from '@angular/material/tooltip';\r\nimport {MatButtonModule} from '@angular/material/button';\r\nimport {A11yModule} from '@angular/cdk/a11y';\r\nimport {PortalModule} from '@angular/cdk/portal';\r\nimport {CdkTableModule} from '@angular/cdk/table';\r\nimport {CdkTreeModule} from '@angular/cdk/tree';\r\nimport {MatSelectModule} from '@angular/material/select';\r\nimport {MatIconModule} from '@angular/material/icon';\r\nimport {MatListModule} from '@angular/material/list';\r\nimport {MatStepperModule} from '@angular/material/stepper';\r\nimport {MatSidenavModule} from '@angular/material/sidenav';\r\nimport {MatProgressSpinnerModule} from '@angular/material/progress-spinner';\r\nimport {MatRadioModule} from '@angular/material/radio';\r\nimport {ClipboardModule} from '@angular/cdk/clipboard';\r\nimport {MatChipsModule} from '@angular/material/chips';\r\nimport {MatNativeDateModule, MatRippleModule} from '@angular/material/core';\r\nimport {MatSliderModule} from '@angular/material/slider';\r\nimport {DragDropModule} from '@angular/cdk/drag-drop';\r\nimport {MatBadgeModule} from '@angular/material/badge';\r\nimport {MatBottomSheetModule} from '@angular/material/bottom-sheet';\r\nimport {MatDialogModule} from '@angular/material/dialog';\r\nimport {MatDividerModule} from '@angular/material/divider';\r\n\r\n\r\n@NgModule({\r\n  exports: [\r\n    A11yModule,\r\n    ClipboardModule,\r\n    CdkStepperModule,\r\n    CdkTableModule,\r\n    CdkTreeModule,\r\n    DragDropModule,\r\n    MatAutocompleteModule,\r\n    MatBadgeModule,\r\n    MatBottomSheetModule,\r\n    MatButtonModule,\r\n    MatButtonToggleModule,\r\n    MatCardModule,\r\n    MatCheckboxModule,\r\n    MatChipsModule,\r\n    MatStepperModule,\r\n    MatDatepickerModule,\r\n    MatDialogModule,\r\n    MatDividerModule,\r\n    MatExpansionModule,\r\n    MatGridListModule,\r\n    MatIconModule,\r\n    MatInputModule,\r\n    MatListModule,\r\n    MatMenuModule,\r\n    MatNativeDateModule,\r\n    MatPaginatorModule,\r\n    MatProgressBarModule,\r\n    MatProgressSpinnerModule,\r\n    MatRadioModule,\r\n    MatRippleModule,\r\n    MatSelectModule,\r\n    MatSidenavModule,\r\n    MatSliderModule,\r\n    MatSlideToggleModule,\r\n    MatSnackBarModule,\r\n    MatSortModule,\r\n    MatTableModule,\r\n    MatTabsModule,\r\n    MatToolbarModule,\r\n    MatTooltipModule,\r\n    MatTreeModule,\r\n    OverlayModule,\r\n    PortalModule,\r\n    ScrollingModule,\r\n  ]\r\n})\r\n\r\nexport class DemoMaterialModule {}\r\n","import {Component, EventEmitter, Input, OnInit, Output, ViewChild} from '@angular/core';\r\nimport {JSonLoadService} from '../../services/json-load.service';\r\nimport {ObjetCombat} from '../objet-combat';\r\nimport {MaledictionsComponent} from '../maledictions/maledictions.component';\r\n\r\n@Component({\r\n    selector: 'app-armes',\r\n    templateUrl: './armes.component.html',\r\n    styleUrls: ['./armes.component.scss']\r\n})\r\nexport class ArmesComponent extends ObjetCombat implements OnInit {\r\n\r\n    @Output() armeEventEmitter = new EventEmitter<ArmesComponent>();\r\n    @ViewChild('maledictionsComponent') maledictionComponent: MaledictionsComponent;\r\n    @Input() maudit: boolean;\r\n\r\n    allArmesSpeciales: SortedMagicalProperty;\r\n\r\n    arme: Arme;\r\n    taille: DegatsParTaille;\r\n    degats: string;\r\n\r\n    allArmeCourantes: CategoriesArmes;\r\n    allArmesGuerre: CategoriesArmes;\r\n    allArmesExotiques: CategoriesArmes;\r\n    allCategoriesCourante: CategoriesArmes;\r\n\r\n    constructor(private jsonService: JSonLoadService) {\r\n        super(jsonService);\r\n    }\r\n\r\n    ngOnInit(): void {\r\n        this.jsonService.getJSON('magique', 'effetsMagiquesArmes').then(\r\n            (effetsMagiquesArmes: any) => {\r\n                this.allProprietesMagiques = JSON.parse(effetsMagiquesArmes) as SortedMagicalProperty;\r\n                this.jsonService.getJSON('magique', 'armesSpeciales').then(\r\n                    (armesSpeciales: any) => {\r\n                        this.allArmesSpeciales = JSON.parse(armesSpeciales) as SortedMagicalProperty;\r\n                    }\r\n                );\r\n            }\r\n        );\r\n        this.jsonService.getJSON('objets/classique', 'armesCourantes').then(\r\n            (armesCourantes: any) => {\r\n                this.allArmeCourantes = JSON.parse(armesCourantes) as CategoriesArmes;\r\n            }\r\n        );\r\n        this.jsonService.getJSON('objets/classique', 'armesGuerre').then(\r\n            (armesCourantes: any) => {\r\n                this.allArmesGuerre = JSON.parse(armesCourantes) as CategoriesArmes;\r\n            }\r\n        );\r\n        this.jsonService.getJSON('objets/classique', 'armesExotiques').then(\r\n            (armesCourantes: any) => {\r\n                this.allArmesExotiques = JSON.parse(armesCourantes) as CategoriesArmes;\r\n            }\r\n        );\r\n    }\r\n\r\n    setBonusArme() {\r\n        this.reset();\r\n        this.isSpecial = false;\r\n        this.isMagique = false;\r\n        this.deSpecial = undefined;\r\n        this.deProprieteMagique = undefined;\r\n        this.deType = undefined;\r\n        this.bonus = undefined;\r\n        switch (this.dePuissance) {\r\n            case 1:\r\n                if (this.deBonus && this.deBonus <= 70) {\r\n                    this.bonus = 1;\r\n                } else if (this.deBonus > 70 && this.deBonus <= 85) {\r\n                    this.bonus = 2;\r\n                } else if (this.deBonus > 85 && this.deBonus <= 90) {\r\n                    this.bonus = 0;\r\n                    this.isSpecial = true;\r\n                } else if (this.deBonus > 90 && this.deBonus <= 100) {\r\n                    this.bonus = 1;\r\n                    this.isMagique = true;\r\n                }\r\n                break;\r\n            case 2:\r\n                if (this.deBonus && this.deBonus <= 10) {\r\n                    this.bonus = 1;\r\n                } else if (this.deBonus > 10 && this.deBonus <= 29) {\r\n                    this.bonus = 2;\r\n                } else if (this.deBonus > 29 && this.deBonus <= 58) {\r\n                    this.bonus = 3;\r\n                } else if (this.deBonus > 58 && this.deBonus <= 62) {\r\n                    this.bonus = 4;\r\n                } else if (this.deBonus > 62 && this.deBonus <= 68) {\r\n                    this.bonus = 0;\r\n                    this.isSpecial = true;\r\n                } else if (this.deBonus > 68 && this.deBonus <= 100) {\r\n                    this.bonus = 1;\r\n                    this.isMagique = true;\r\n                }\r\n                break;\r\n            case 3:\r\n                if (this.deBonus && this.deBonus <= 20) {\r\n                    this.bonus = 3;\r\n                } else if (this.deBonus > 20 && this.deBonus <= 38) {\r\n                    this.bonus = 4;\r\n                } else if (this.deBonus > 38 && this.deBonus <= 49) {\r\n                    this.bonus = 5;\r\n                } else if (this.deBonus > 49 && this.deBonus <= 63) {\r\n                    this.bonus = 0;\r\n                    this.isSpecial = true;\r\n                } else if (this.deBonus > 63 && this.deBonus <= 100) {\r\n                    this.bonus = 1;\r\n                    this.isMagique = true;\r\n                }\r\n                break;\r\n        }\r\n        if (!this.isSpecial && this.categorieObjet) {\r\n            this.arme = JSON.parse(JSON.stringify(\r\n                this.allCategoriesCourante.Categories.find(f => f.title === this.categorieObjet).armes[this.deObjet - 1])) as Arme;\r\n            this.setNom();\r\n            this.setType();\r\n        } else {\r\n            this.type = null;\r\n            this.nom = null;\r\n        }\r\n    }\r\n\r\n    getArmeSpeciale() {\r\n        this.deProprieteMagique = undefined;\r\n        this.deType = undefined;\r\n        this.nom = undefined;\r\n        this.reset();\r\n        if (this.deSpecial && this.deSpecial <= this.getNbProprietesMagiques(this.allArmesSpeciales)) {\r\n            const armeSpecial: MagicalProperty = JSON.parse(JSON.stringify(\r\n                this.getProprietesMagiques(this.allArmesSpeciales)[this.deSpecial - 1])) as MagicalProperty;\r\n            this.setType();\r\n            this.bonus = 0;\r\n            this.proprietesMagiques.push(armeSpecial);\r\n            this.nom = armeSpecial.title;\r\n            this.getPrixAndCurrency();\r\n        }\r\n    }\r\n\r\n    getPrixFromBonus() {\r\n        switch (this.bonus) {\r\n            case 1:\r\n                this.prix = 2000;\r\n                break;\r\n            case 2:\r\n                this.prix = 8000;\r\n                break;\r\n            case 3:\r\n                this.prix = 18000;\r\n                break;\r\n            case 4:\r\n                this.prix = 32000;\r\n                break;\r\n            case 5:\r\n                this.prix = 50000;\r\n                break;\r\n        }\r\n    }\r\n\r\n    setArme() {\r\n        this.resetHard();\r\n        if (!this.isSpecial) {\r\n            if (this.deObjet) {\r\n                this.arme = JSON.parse(JSON.stringify(\r\n                    this.allCategoriesCourante.Categories.find(f => f.title === this.categorieObjet).armes[this.deObjet - 1])) as Arme;\r\n                this.setType();\r\n                this.setNom();\r\n            }\r\n        } else {\r\n            this.type = null;\r\n            this.nom = null;\r\n        }\r\n    }\r\n\r\n    getNbArme() {\r\n        return this.allCategoriesCourante.Categories.find(f => f.title === this.categorieObjet).armes.length;\r\n    }\r\n\r\n    setAllArmesCourantes() {\r\n        this.deObjet = null;\r\n        this.allCategoriesCourante = null;\r\n        if (+this.Categories === 1) {\r\n            this.allCategoriesCourante = this.allArmeCourantes;\r\n        } else if (+this.Categories === 2) {\r\n            this.allCategoriesCourante = this.allArmesGuerre;\r\n        } else if (+this.Categories === 3) {\r\n            this.allCategoriesCourante = this.allArmesExotiques;\r\n        }\r\n    }\r\n\r\n    allCategoriesLoaded() {\r\n        return !!(this.allArmeCourantes && this.allArmesExotiques && this.allArmesGuerre);\r\n    }\r\n\r\n    setTaille() {\r\n        this.taille = JSON.parse(JSON.stringify(this.arme.degatsParTaille.find(f => f.taille === this.nomTaille))) as DegatsParTaille;\r\n        this.getDegats();\r\n        this.setNom();\r\n    }\r\n\r\n    getNomsTailles() {\r\n        return this.arme.degatsParTaille.map(f => f.taille);\r\n    }\r\n\r\n    getTailles() {\r\n        return this.arme.degatsParTaille;\r\n    }\r\n\r\n    getDegats() {\r\n        this.degats = this.taille.degats === '-' ? '1d0'\r\n            : this.taille.degats === '1' ? '1d1'\r\n                : this.taille.degats;\r\n    }\r\n\r\n    getNbTailleArme() {\r\n        // console.log(this.arme);\r\n        return this.arme.degatsParTaille.length;\r\n    }\r\n\r\n    setMateriau() {\r\n        this.materiau = JSON.parse(JSON.stringify(\r\n            this.arme.autresMateriaux.find(f => f.nom.replace(/<a.*>(.*)<\\/a>/, '$1') === this.nomMateriau))) as Materiau;\r\n        this.setNom();\r\n    }\r\n\r\n    getNomsMateriaux() {\r\n        return this.arme.autresMateriaux.map(f => f.nom.replace(/<a.*>(.*)<\\/a>/, '$1'));\r\n    }\r\n\r\n    getMateriaux() {\r\n        return this.arme.autresMateriaux;\r\n    }\r\n\r\n    getNbMateriaux() {\r\n        return this.arme.autresMateriaux.length;\r\n    }\r\n\r\n    setNom() {\r\n        if (this.arme) {\r\n            this.nom = this.arme.nom;\r\n        }\r\n        if (this.taille) {\r\n            this.nom += ' ' + this.taille.taille;\r\n        }\r\n        if (this.materiau) {\r\n            this.nom += ' en ' + this.materiau.nom;\r\n        }\r\n        this.nom += ' ' + this.getNomsProprieteMagique();\r\n        // console.log(this.nom);\r\n    }\r\n\r\n    setType() {\r\n        this.type = this.isSpecial ? 'Arme spéciale' : this.categorieObjet;\r\n    }\r\n\r\n    resetHard() {\r\n        super.resetHard();\r\n        this.taille = undefined;\r\n    }\r\n\r\n    resetContenu() {\r\n        super.resetContenu();\r\n        this.getDegats();\r\n        this.setMateriau();\r\n        this.setTaille();\r\n        this.setType();\r\n    }\r\n\r\n    selection() {\r\n        this.valide = true;\r\n        this.armeEventEmitter.emit(this);\r\n    }\r\n\r\n    deselection() {\r\n        this.valide = false;\r\n        this.armeEventEmitter.emit(null);\r\n    }\r\n\r\n    castToObjetCommunForDB(): ObjetCommunForDB {\r\n        const maledictionToAdd = this.getMalediction();\r\n        let values: ObjetCommunForDB;\r\n        values = {\r\n            idObjet: null,\r\n            idPersonnage: 1,\r\n            nom: this.nom,\r\n            bonus: this.bonus,\r\n            type: this.type,\r\n            prix: this.prix + this.prixProprieteMagique,\r\n            prixNonHumanoide: null,\r\n            devise: this.currencyType,\r\n            proprieteMagique: this.proprietesMagiques,\r\n            malediction: maledictionToAdd,\r\n            categorie: this.categorieObjet,\r\n            materiau: this.materiau,\r\n            taille: this.taille.taille,\r\n            degats: this.degats,\r\n            critique: this.arme.critique,\r\n            facteurPortee: this.arme.facteurPortee,\r\n            armure: null,\r\n            bonusDexteriteMax: null,\r\n            malusArmureTests: null,\r\n            risqueEchecSorts: null,\r\n            afficherNom: this.afficherNom,\r\n            afficherEffetMagique: this.afficherEffetMagique,\r\n            afficherMalediction: this.afficherMalediction,\r\n            afficherMateriau: this.afficherMateriau,\r\n            afficherInfos: this.afficherInfos,\r\n        } as ObjetCommunForDB;\r\n\r\n        return values;\r\n    }\r\n}\r\n","<app-maledictions *ngIf=\"this.maudit\" #maledictionsComponent\r\n                  (maledictionEventEmitter)=\"selectionMalediction($event)\"></app-maledictions>\r\n\r\n<div style=\"width: 100%\" class=\"objetArme\">\r\n    <div class=\"titleTop\">\r\n        <div class=\"h1Fake\">Ceci est une arme</div>\r\n        <div class=\"validationAffichage\">\r\n            <div class=\"validationBox\" (click)=\"this.changeValidation('nom')\" [ngClass]=\"{'validatedBox' : this.afficherNom}\"\r\n                 data-toggle=\"tooltip\" data-placement=\"bottom\" matTooltip=\"Afficher le nom réel de l'objet\">{{this.afficherNom ? 1 : 0}}</div>\r\n            <div class=\"validationBox\" (click)=\"this.changeValidation('effetMagique')\" [ngClass]=\"{'validatedBox' : this.afficherEffetMagique}\"\r\n                 data-toggle=\"tooltip\" data-placement=\"bottom\" matTooltip=\"Afficher l'effet magique de l'objet\">{{this.afficherEffetMagique ? 1 : 0}}</div>\r\n            <div class=\"validationBox\" (click)=\"this.changeValidation('malediction')\" [ngClass]=\"{'validatedBox' : this.afficherMalediction}\"\r\n                 data-toggle=\"tooltip\" data-placement=\"bottom\" matTooltip=\"Afficher la malédiction de l'objet\">{{this.afficherMalediction ? 1 : 0}}</div>\r\n            <div class=\"validationBox\" (click)=\"this.changeValidation('materiau')\" [ngClass]=\"{'validatedBox' : this.afficherMateriau}\"\r\n                 data-toggle=\"tooltip\" data-placement=\"bottom\" matTooltip=\"Afficher le matériau de l'objet\">{{this.afficherMateriau ? 1 : 0}}</div>\r\n            <div class=\"validationBox\" (click)=\"this.changeValidation('infos')\" [ngClass]=\"{'validatedBox' : this.afficherInfos}\"\r\n                 data-toggle=\"tooltip\" data-placement=\"bottom\" matTooltip=\"Afficher les infos de l'effet magique\">{{this.afficherInfos ? 1 : 0}}</div>\r\n        </div>\r\n    </div>\r\n    <form class=\"needs-validation\" id=\"armeForm\">\r\n        <div class=\"form-row\" *ngIf=\"!this.isSpecial\">\r\n            <div class=\"form-group col-md-2\" *ngIf=\"this.allCategoriesLoaded()\">\r\n                <label for=\"selectCategories\">Reclassement</label>\r\n                <select id=\"selectCategories\" class=\"form-control\" [(ngModel)]=\"this.Categories\"\r\n                        (ngModelChange)=\"this.setAllArmesCourantes()\"\r\n                        name=\"'Categories Armes'\">\r\n                    <option value=\"1\">Armes courantes</option>\r\n                    <option value=\"2\">Armes de guerre</option>\r\n                    <option value=\"3\">Armes exotiques</option>\r\n                </select>\r\n            </div>\r\n            <div class=\"form-group col-md-2\" *ngIf=\"this.allCategoriesCourante\">\r\n                <label for=\"inputFamilleMonstre\">Categorie (1D{{this.allCategoriesCourante.Categories.length}})</label>\r\n                <select id=\"inputFamilleMonstre\" class=\"form-control\" [(ngModel)]=\"this.categorieObjet\"\r\n                        (ngModelChange)=\"this.setArme()\"\r\n                        [name]=\"'categorieArme'\">\r\n                    <option *ngFor=\"let armeCourante of this.allCategoriesCourante.Categories\"\r\n                            [value]=\"armeCourante.title\">\r\n                        {{armeCourante.title}}\r\n                    </option>\r\n                </select>\r\n            </div>\r\n            <div class=\"col-md-2 mb-3\" *ngIf=\"this.categorieObjet\">\r\n                <label for=\"categorieArme\">Dé de l'arme (1D{{this.getNbArme()}})\r\n                </label>\r\n                <input min=\"1\" [max]=\"this.getNbArme()\" type=\"number\" class=\"form-control\" id=\"categorieArme\"\r\n                       name=\"categorieArme\"\r\n                       placeholder=\"Categorie de l'arme\"\r\n                       [(ngModel)]=\"this.deObjet\"\r\n                       (ngModelChange)=\"this.setArme()\"\r\n                       required>\r\n            </div>\r\n            <div class=\"form-group col-md-2\" *ngIf=\"this.arme && this.arme.degatsParTaille\">\r\n                <label for=\"tailleArme\">Taille Arme (1D{{this.getNbTailleArme()}})</label>\r\n                <select id=\"tailleArme\" class=\"form-control\" [(ngModel)]=\"this.nomTaille\"\r\n                        (ngModelChange)=\"this.setTaille()\"\r\n                        [name]=\"'tailleArme'\">\r\n                    <option *ngFor=\"let taille of this.getNomsTailles()\" [value]=\"taille\">\r\n                        {{taille}}\r\n                    </option>\r\n                </select>\r\n            </div>\r\n\r\n            <div class=\"form-group col-md-2\" *ngIf=\"this.arme && this.arme.autresMateriaux\">\r\n                <label for=\"typeMateriau\">materiau Arme (1D{{this.getNbMateriaux()}})</label>\r\n                <select id=\"typeMateriau\" class=\"form-control\" [(ngModel)]=\"this.nomMateriau\"\r\n                        (ngModelChange)=\"this.setMateriau()\"\r\n                        [name]=\"'materiauArme'\">\r\n                    <option *ngFor=\"let materiau of this.getNomsMateriaux()\" [value]=\"materiau\">\r\n                        {{materiau}}\r\n                    </option>\r\n                </select>\r\n            </div>\r\n        </div>\r\n        <div class=\"form-row\">\r\n            <div class=\"col-md-2 mb-3\">\r\n                <label for=\"dePuissanceArme\">Dé de puissance de l'arme\r\n                </label>\r\n                <input min=\"1\" max=\"3\" type=\"number\" class=\"form-control\" id=\"dePuissanceArme\"\r\n                       name=\"dePuissanceArme\"\r\n                       placeholder=\"Puissance de l'arme\"\r\n                       [(ngModel)]=\"this.dePuissance\"\r\n                       (ngModelChange)=\"this.setBonusArme()\"\r\n                       required>\r\n            </div>\r\n\r\n            <div class=\"col-md-2 mb-3\" *ngIf=\"this.dePuissance\">\r\n                <label for=\"DeBonusArme\">Dé de bonus de l'arme\r\n                </label>\r\n                <input min=\"1\" max=\"100\" type=\"number\" class=\"form-control\" id=\"DeBonusArme\"\r\n                       name=\"DeBonusArme\"\r\n                       placeholder=\"Bonus Arme\"\r\n                       [(ngModel)]=\"this.deBonus\"\r\n                       (ngModelChange)=\"this.setBonusArme()\"\r\n                       required>\r\n            </div>\r\n        </div>\r\n        <div *ngIf=\"this.isSpecial\" style=\"width: 100%\">\r\n            <h3>Cette arme sera spéciale</h3>\r\n            <div class=\"col-md-2 mb-3\">\r\n                <label for=\"ArmeSpec\">Dé d'arme Spéciale 1D{{this.getNbProprietesMagiques(this.allArmesSpeciales)}}\r\n                </label>\r\n                <input min=\"1\" [max]=\"this.getNbProprietesMagiques(this.allArmesSpeciales)\"\r\n                       type=\"number\" class=\"form-control\" id=\"ArmeSpec\"\r\n                       name=\"ArmeSpec\"\r\n                       placeholder=\"Arme Spéciale\"\r\n                       [(ngModel)]=\"this.deSpecial\"\r\n                       (ngModelChange)=\"this.getArmeSpeciale()\"\r\n                       required>\r\n            </div>\r\n        </div>\r\n\r\n\r\n        <div *ngIf=\"this.isMagique\" style=\"width: 100%\">\r\n            <h3>Cette arme sera magique</h3>\r\n            <div class=\"col-md-2 mb-3\">\r\n                <label for=\"PropMag\">Dé de propriété magique :\r\n                    1D{{this.getNbProprietesMagiques(this.allProprietesMagiques)}}\r\n                </label>\r\n                <input min=\"1\" [max]=\"this.getNbProprietesMagiques(this.allProprietesMagiques)\" type=\"number\"\r\n                       class=\"form-control\"\r\n                       id=\"PropMag\"\r\n                       name=\"PropMag\"\r\n                       placeholder=\"Propriété Magique\"\r\n                       [(ngModel)]=\"this.deProprieteMagique\"\r\n                       (ngModelChange)=\"this.getProprieteMagique()\"\r\n                       required>\r\n            </div>\r\n        </div>\r\n\r\n\r\n    </form>\r\n    <div style=\"width: 100%\" *ngIf=\"this.nom && !this.modificationEnCours\">\r\n        <div style=\"width: 100%\" *ngIf=\"this.nom\">\r\n            <h1>Résultat de l'arme</h1>\r\n            <h3><span [innerHTML]=\"this.nom\"></span></h3>\r\n            <h4 *ngIf=\"this.fauxNom\"> Faux Nom : {{this.fauxNom}}</h4>\r\n            <p>{{this.type}} <span *ngIf=\"this.taille\"> - {{this.degats}}</span><span\r\n                *ngIf=\"this.bonus\"> - Bonus +{{this.bonus}}</span></p>\r\n\r\n            <ng-container *ngFor=\"let proprieteMagique of this.proprietesMagiques;\">\r\n                <h4>{{proprieteMagique.title}}</h4>\r\n                <span *ngFor=\"let description of proprieteMagique.description; let index = index;\">\r\n                    <span [innerHTML]=\"description\"></span><br/>\r\n\r\n                    <ng-container *ngFor=\"let table of proprieteMagique.table;\">\r\n                        <span *ngIf=\"table.position === index + 1\">\r\n                            <table cellspacing=\"1\" border=\"1\">\r\n                                <tbody>\r\n                                <tr *ngFor=\"let th of table.title; let thIndex = index\">\r\n                                    <ng-container *ngFor=\"let title of th; let titleIndex = index\">\r\n                                        <th *ngIf=\"thIndex === 0 && table.title.length > 1 && table.title[0].length < table.title[1].length; else elseBlock\"\r\n                                            [colSpan]=\"table.title[1].length / table.title[0].length\">{{title}}</th>\r\n                                        <ng-template #elseBlock>\r\n                                            <th>{{title}}</th>\r\n                                        </ng-template>\r\n                                    </ng-container>\r\n                                </tr>\r\n                                <tr *ngFor=\"let td of table.tr; let tdIndex = index\">\r\n                                    <ng-container *ngFor=\"let content of td\">\r\n                                        <td>{{content}}</td>\r\n                                    </ng-container>\r\n                                </tr>\r\n                                </tbody>\r\n                            </table>\r\n                        </span>\r\n                    </ng-container>\r\n\r\n\r\n                    <ng-container *ngFor=\"let ul of proprieteMagique.ul;\">\r\n                        <span *ngIf=\"+ul.position === index + 1\">\r\n                            <ul>\r\n                                <li *ngFor=\"let li of ul.li;\" [innerHTML]=\"li\"></li>\r\n                            </ul>\r\n                        </span>\r\n                    </ng-container>\r\n                </span>\r\n                <br/>\r\n                <br/>\r\n                <span *ngIf=\"this.proprieteMagique.infos\" [innerHTML]=\"proprieteMagique.infos.data\"></span><br/><br/>\r\n            </ng-container>\r\n            <div *ngIf=\"this.materiau\"><span [innerHTML]=\"this.materiau.nom\"></span> : <span>{{materiau.effet}}</span></div>\r\n        </div>\r\n        <button (click)=\"this.modifierContenu()\" [disabled]=\"this.valide\">Modifier propriété magique</button>\r\n        <button *ngIf=\"!this.valide else objetValidee\" (click)=\"this.selection()\">Valider objet</button>\r\n        <ng-template #objetValidee>\r\n            <button (click)=\"this.deselection()\">Dévalider objet</button>\r\n        </ng-template>\r\n    </div>\r\n\r\n    <div style=\"width: 100%\" *ngIf=\"this.nom && this.modificationEnCours\">\r\n        <h1>Résultat de l'arme</h1>\r\n        <h3><textarea [(ngModel)]=\"this.nom\"></textarea></h3>\r\n        <mat-form-field appearance=\"fill\" class=\"fauxNom\">\r\n            <mat-label>Faux nom</mat-label>\r\n            <textarea [(ngModel)]=\"this.fauxNom\" rows=\"1\" matInput></textarea>\r\n        </mat-form-field>\r\n        <p><textarea [(ngModel)]=\"this.type\"></textarea>\r\n            <span *ngIf=\"this.taille\"> - <textarea [(ngModel)]=\"this.degats\"></textarea></span>\r\n            <span *ngIf=\"this.bonus\"> - Bonus +<textarea [(ngModel)]=\"this.bonus\"></textarea></span>\r\n        </p>\r\n\r\n        <ng-container\r\n            *ngFor=\"let proprieteObjet of this.proprietesMagiques; let indexPropriete = index; trackBy: trackByFn\">\r\n            <h4><textarea [(ngModel)]=\"this.proprietesMagiques[indexPropriete].title\"></textarea></h4>\r\n            <span\r\n                *ngFor=\"let description of this.proprietesMagiques[indexPropriete].description; let indexDescription = index; trackBy: trackByFn\">\r\n                    <textarea\r\n                        [(ngModel)]=\"this.proprietesMagiques[indexPropriete].description[indexDescription]\"></textarea><br/>\r\n\r\n                    <ng-container\r\n                        *ngFor=\"let table of this.proprietesMagiques[indexPropriete].table; let indexTable = index\">\r\n                        <span *ngIf=\"+table.position === indexDescription + 1\">\r\n                            <table>\r\n                                <tbody>\r\n                                <tr *ngFor=\"let th of this.proprietesMagiques[indexPropriete].table[indexTable].title; let thIndex = index\">\r\n                                    <ng-container\r\n                                        *ngFor=\"let title of this.proprietesMagiques[indexPropriete].table[indexTable].title[thIndex]; let tdIndex = index; trackBy: trackByFn\">\r\n                                        <th *ngIf=\"thIndex === 0 && table.title.length > 1 && table.title[0].length < table.title[1].length; else elseBlock\"\r\n                                            [colSpan]=\"table.title[1].length / table.title[0].length\">\r\n                                            <textarea\r\n                                                [(ngModel)]=\"this.proprietesMagiques[indexPropriete].table[indexTable].title[thIndex][tdIndex]\"></textarea>\r\n                                        </th>\r\n                                        <ng-template #elseBlock>\r\n                                            <th>\r\n                                                <textarea\r\n                                                    [(ngModel)]=\"this.proprietesMagiques[indexPropriete].table[indexTable].title[thIndex][tdIndex]\"></textarea>\r\n                                            </th>\r\n                                        </ng-template>\r\n                                    </ng-container>\r\n                                </tr>\r\n                                <tr *ngFor=\"let td of this.proprietesMagiques[indexPropriete].table[indexTable].tr; let trIndex = index\">\r\n                                    <ng-container\r\n                                        *ngFor=\"let content of this.proprietesMagiques[indexPropriete].table[indexTable].tr[trIndex]; let tdIndex = index; trackBy: trackByFn\">\r\n                                        <td>\r\n                                            <textarea\r\n                                                [(ngModel)]=\"this.proprietesMagiques[indexPropriete].table[indexTable].tr[trIndex][tdIndex]\"></textarea>\r\n                                        </td>\r\n                                    </ng-container>\r\n                                </tr>\r\n                                </tbody>\r\n                            </table>\r\n                        </span>\r\n                    </ng-container>\r\n\r\n                    <ng-container *ngFor=\"let shit of this.proprietesMagiques[indexPropriete].ul; let indexUl = index;\">\r\n                        <span\r\n                            *ngIf=\"this.proprietesMagiques[indexPropriete].ul[indexUl].position === indexDescription + 1\">\r\n                            <ul>\r\n                                <li *ngFor=\"let shitBis of this.proprietesMagiques[indexPropriete].ul[indexUl].li; let indexLi = index; trackBy: trackByFn\">\r\n                                    <textarea\r\n                                        [(ngModel)]=\"this.proprietesMagiques[indexPropriete].ul[indexUl].li[indexLi]\"\r\n                                        [name]=\"'positon'+this.proprietesMagiques[indexPropriete].ul[indexUl].position+'ul'+indexUl+'li'+indexLi\"></textarea>\r\n                                </li>\r\n                            </ul>\r\n                        </span>\r\n                    </ng-container>\r\n                </span>\r\n            <br/>\r\n            <br/>\r\n            <ng-container\r\n                *ngFor=\"let shit of this.proprietesMagiques[indexPropriete].infos.data; let indexData = index; trackBy: trackByFn\">\r\n                <textarea [(ngModel)]=\"this.proprietesMagiques[indexPropriete].infos.data[indexData]\"></textarea>\r\n            </ng-container>\r\n        </ng-container>\r\n        <div *ngIf=\"this.materiau\"><textarea [(ngModel)]=\"this.materiau.nom\"></textarea> : <textarea\r\n            [(ngModel)]=\"this.materiau.effet\"></textarea>\r\n        </div>\r\n        <button (click)=\"this.modifierContenu()\">Valider propriété magique</button>\r\n        <button (click)=\"this.resetContenu()\">Reset propriété magique</button>\r\n    </div>\r\n</div>\r\n","import {Component, EventEmitter, Input, OnInit, Output, ViewChild} from '@angular/core';\r\nimport {JSonLoadService} from '../../services/json-load.service';\r\nimport {ObjetCombat} from '../objet-combat';\r\nimport {MaledictionsComponent} from '../maledictions/maledictions.component';\r\n\r\n@Component({\r\n    selector: 'app-armures',\r\n    templateUrl: './armures.component.html',\r\n    styleUrls: ['./armures.component.scss']\r\n})\r\nexport class ArmuresComponent extends ObjetCombat implements OnInit {\r\n\r\n    @Output() armureEventEmitter = new EventEmitter<ArmuresComponent>();\r\n    @ViewChild('maledictionsComponent') maledictionComponent: MaledictionsComponent;\r\n    @Input() maudit: boolean;\r\n\r\n    bouclier = false;\r\n\r\n    allArmuresSpeciales: SortedMagicalProperty;\r\n    allBoucliersSpeciaux: SortedMagicalProperty;\r\n\r\n    armure: Armure;\r\n    taille: PrixParTaille;\r\n\r\n    allArmures: CategoriesArmures;\r\n\r\n    constructor(private jsonService: JSonLoadService) {\r\n        super(jsonService);\r\n    }\r\n\r\n    ngOnInit(): void {\r\n        this.jsonService.getJSON('magique', 'effetsArmuresMagiques').then(\r\n            (effetsArmuresMagiques: any) => {\r\n                this.allProprietesMagiques = JSON.parse(effetsArmuresMagiques) as SortedMagicalProperty;\r\n                this.jsonService.getJSON('magique', 'armuresMagiquesSpeciales').then(\r\n                    (armuresMagiquesSpeciales: any) => {\r\n                        this.allArmuresSpeciales = JSON.parse(armuresMagiquesSpeciales) as SortedMagicalProperty;\r\n                        this.jsonService.getJSON('magique', 'boucliersSpeciaux').then(\r\n                            (boucliersSpeciaux: any) => {\r\n                                this.allBoucliersSpeciaux = JSON.parse(boucliersSpeciaux) as SortedMagicalProperty;\r\n                            }\r\n                        );\r\n                    }\r\n                );\r\n            }\r\n        );\r\n        this.jsonService.getJSON('objets/classique', 'armures').then(\r\n            (armuresCourantes: any) => {\r\n                this.allArmures = JSON.parse(armuresCourantes) as CategoriesArmures;\r\n            }\r\n        );\r\n    }\r\n\r\n    isBouclier() {\r\n        this.reset();\r\n        this.isSpecial = false;\r\n        this.isMagique = false;\r\n        this.deSpecial = undefined;\r\n        this.deProprieteMagique = undefined;\r\n        this.deType = undefined;\r\n        switch (this.dePuissance) {\r\n            case 1:\r\n                if (this.deBonus && this.deBonus <= 80) {\r\n                    this.bonus = 1;\r\n                } else if (this.deBonus > 80 && this.deBonus <= 87) {\r\n                    console.log('Je suis bonus +2');\r\n                    this.bonus = 2;\r\n                } else if (this.deBonus > 87 && this.deBonus <= 89) {\r\n                    this.bonus = 0;\r\n                    this.isSpecial = true;\r\n                    this.bouclier = false;\r\n                    this.type = 'Armure speciale';\r\n                } else if (this.deBonus > 89 && this.deBonus <= 91) {\r\n                    this.bonus = 0;\r\n                    this.isSpecial = true;\r\n                    this.bouclier = true;\r\n                    this.type = 'Bouclier special';\r\n                } else if (this.deBonus > 91 && this.deBonus <= 100) {\r\n                    this.bonus = 1;\r\n                    this.isMagique = true;\r\n                }\r\n                break;\r\n            case 2:\r\n                if (this.deBonus && this.deBonus <= 10) {\r\n                    this.bonus = 1;\r\n                } else if (this.deBonus > 10 && this.deBonus <= 30) {\r\n                    this.bonus = 2;\r\n                } else if (this.deBonus > 30 && this.deBonus <= 50) {\r\n                    this.bonus = 3;\r\n                } else if (this.deBonus > 50 && this.deBonus <= 57) {\r\n                    this.bonus = 4;\r\n                } else if (this.deBonus > 57 && this.deBonus <= 60) {\r\n                    this.bonus = 0;\r\n                    this.isSpecial = true;\r\n                    this.bouclier = false;\r\n                    this.type = 'Armure speciale';\r\n                } else if (this.deBonus > 60 && this.deBonus <= 63) {\r\n                    this.bonus = 0;\r\n                    this.isSpecial = true;\r\n                    this.bouclier = true;\r\n                    this.type = 'Bouclier special';\r\n                } else if (this.deBonus > 63 && this.deBonus <= 100) {\r\n                    this.bonus = 1;\r\n                    this.isMagique = true;\r\n                }\r\n                break;\r\n            case 3:\r\n                if (this.deBonus && this.deBonus <= 16) {\r\n                    this.bonus = 3;\r\n                } else if (this.deBonus > 16 && this.deBonus <= 38) {\r\n                    this.bonus = 4;\r\n                } else if (this.deBonus > 38 && this.deBonus <= 57) {\r\n                    this.bonus = 5;\r\n                } else if (this.deBonus > 57 && this.deBonus <= 60) {\r\n                    this.bonus = 0;\r\n                    this.isSpecial = true;\r\n                    this.bouclier = false;\r\n                    this.type = 'Armure speciale';\r\n                } else if (this.deBonus > 60 && this.deBonus <= 63) {\r\n                    this.bonus = 0;\r\n                    this.isSpecial = true;\r\n                    this.bouclier = true;\r\n                    this.type = 'Bouclier special';\r\n                } else if (this.deBonus > 63 && this.deBonus <= 100) {\r\n                    this.bonus = 1;\r\n                    this.isMagique = true;\r\n                }\r\n                break;\r\n        }\r\n        if (!this.isSpecial && this.categorieObjet) {\r\n            this.armure = JSON.parse(JSON.stringify(\r\n                this.allArmures.Categories.find(f => f.title === this.categorieObjet).armures[this.deObjet - 1])) as Armure;\r\n            this.setNom();\r\n            this.setType();\r\n        } else {\r\n            this.type = null;\r\n            this.nom = null;\r\n        }\r\n        return this.bouclier;\r\n    }\r\n\r\n    getSpecial() {\r\n        this.deProprieteMagique = undefined;\r\n        this.deType = undefined;\r\n        this.reset();\r\n        if (this.deSpecial) {\r\n            let special: MagicalProperty = null;\r\n            if (this.bouclier && this.deSpecial <= this.getNbProprietesMagiques(this.allBoucliersSpeciaux)) {\r\n                special = JSON.parse(JSON.stringify(\r\n                    this.getProprietesMagiques(this.allBoucliersSpeciaux)[this.deSpecial - 1])) as MagicalProperty;\r\n            } else if (!this.bouclier && this.deSpecial <= this.getNbProprietesMagiques(this.allArmuresSpeciales)) {\r\n                special = JSON.parse(JSON.stringify(\r\n                    this.getProprietesMagiques(this.allArmuresSpeciales)[this.deSpecial - 1])) as MagicalProperty;\r\n            }\r\n            if (special) {\r\n                this.bonus = 0;\r\n                this.proprietesMagiques.push(special);\r\n                this.nom = special.title;\r\n                this.getPrixAndCurrency();\r\n            }\r\n        }\r\n    }\r\n\r\n    getNbSpecials(): number {\r\n        return this.bouclier ? this.getNbProprietesMagiques(this.allBoucliersSpeciaux)\r\n            : this.getNbProprietesMagiques(this.allArmuresSpeciales);\r\n    }\r\n\r\n    setArmure() {\r\n        this.resetHard();\r\n        if (this.deObjet && !this.isSpecial) {\r\n            this.armure = JSON.parse(JSON.stringify(\r\n                this.allArmures.Categories.find(f => f.title === this.categorieObjet).armures[this.deObjet - 1])) as Armure;\r\n            this.bouclier = this.categorieObjet === 'Boucliers';\r\n            this.type = this.categorieObjet;\r\n            this.setNom();\r\n        } else {\r\n            this.type = null;\r\n            this.nom = null;\r\n        }\r\n    }\r\n\r\n    getNbArmure() {\r\n        return this.allArmures.Categories.find(f => f.title === this.categorieObjet).armures.length;\r\n    }\r\n\r\n    setTaille() {\r\n        this.taille = JSON.parse(JSON.stringify(this.armure.prixParTaille.find(f => f.taille === this.nomTaille))) as PrixParTaille;\r\n        this.prix = +this.taille.prixHumanoide.match(/([0-9]+ )+/)[0].replace(' ', '');\r\n        this.setNom();\r\n    }\r\n\r\n    getNomsTailles() {\r\n        return this.armure.prixParTaille.map(f => f.taille);\r\n    }\r\n\r\n    getTailles() {\r\n        return this.armure.prixParTaille;\r\n    }\r\n\r\n    getNbTailleArmure() {\r\n        // console.log(this.armure);\r\n        return this.armure.prixParTaille.length;\r\n    }\r\n\r\n    setMateriau() {\r\n        this.materiau = JSON.parse(JSON.stringify(\r\n            this.armure.autresMateriaux.find(f => f.nom.replace(/<a.*>(.*)<\\/a>/, '$1') === this.nomMateriau))) as Materiau;\r\n        this.prix = +this.taille.prixHumanoide.match(/([0-9]+ )+/)[0].replace(' ', '');\r\n        const prixDuMateriau: number = +this.materiau.prix.match(/([0-9]+ )+/)[0]\r\n            .replace(' ', '').replace(' ', '');\r\n        const prixDeBase: number = +this.armure.prixParTaille.find(f => f.taille === 'Moyenne')\r\n            .prixHumanoide.match(/([0-9]+ )+/)[0].replace(' ', '');\r\n        this.prix = this.prix * (prixDuMateriau / prixDeBase);\r\n        this.setNom();\r\n    }\r\n\r\n    getNomsMateriaux() {\r\n        return this.armure.autresMateriaux.map(f => f.nom.replace(/<a.*>(.*)<\\/a>/, '$1'));\r\n    }\r\n\r\n    getMateriaux() {\r\n        return this.armure.autresMateriaux;\r\n    }\r\n\r\n    getNbMateriaux() {\r\n        return this.armure.autresMateriaux.length;\r\n    }\r\n\r\n    setNom() {\r\n        if (this.armure) {\r\n            this.nom = this.armure.nom;\r\n        }\r\n        if (this.taille) {\r\n            this.nom += ' ' + this.taille.taille;\r\n        }\r\n        if (this.materiau) {\r\n            this.nom += ' en ' + this.materiau.nom;\r\n        }\r\n        this.nom += ' ' + this.getNomsProprieteMagique();\r\n        // console.log(this.nom);\r\n    }\r\n\r\n    setType() {\r\n        this.type = !this.isSpecial ? this.categorieObjet\r\n            :  this.bouclier ? 'Bouclier spécial'\r\n                : 'Armure spéciale';\r\n    }\r\n\r\n    resetHard() {\r\n        super.resetHard();\r\n        this.taille = undefined;\r\n    }\r\n\r\n    resetContenu() {\r\n        super.resetContenu();\r\n        this.setMateriau();\r\n        this.setArmure();\r\n        this.setTaille();\r\n        this.setType();\r\n    }\r\n\r\n    selection() {\r\n        this.valide = true;\r\n        this.armureEventEmitter.emit(this);\r\n    }\r\n\r\n    deselection() {\r\n        this.valide = false;\r\n        this.armureEventEmitter.emit(null);\r\n    }\r\n\r\n    castToObjetCommunForDB(): ObjetCommunForDB {\r\n        const maledictionToAdd = this.getMalediction();\r\n        let values: ObjetCommunForDB;\r\n        values = {\r\n            idObjet: null,\r\n            idPersonnage: 1,\r\n            nom: this.nom,\r\n            bonus: this.bonus,\r\n            type: this.type,\r\n            prix: this.prix + this.prixProprieteMagique,\r\n            prixNonHumanoide: this.prix,\r\n            devise: this.currencyType,\r\n            proprieteMagique: this.proprietesMagiques,\r\n            malediction: maledictionToAdd,\r\n            categorie: this.categorieObjet,\r\n            materiau: this.materiau,\r\n            taille: this.taille.taille,\r\n            degats: null,\r\n            critique: null,\r\n            facteurPortee: null,\r\n            armure: +this.armure.bonArm.replace('—', '0').replace('+', ''),\r\n            bonusDexteriteMax: +this.armure.bonDext.replace('—', '0').replace('+', ''),\r\n            malusArmureTests: +this.armure.malArm.replace('—', '0'),\r\n            risqueEchecSorts: this.armure.RisqEch,\r\n            afficherNom: this.afficherNom,\r\n            afficherEffetMagique: this.afficherEffetMagique,\r\n            afficherMalediction: this.afficherMalediction,\r\n            afficherMateriau: this.afficherMateriau,\r\n            afficherInfos: this.afficherInfos,\r\n        } as ObjetCommunForDB;\r\n\r\n        return values;\r\n    }\r\n}\r\n","<app-maledictions *ngIf=\"this.maudit\" #maledictionsComponent\r\n                  (maledictionEventEmitter)=\"selectionMalediction($event)\"></app-maledictions>\r\n\r\n<div style=\"width: 100%\" class=\"objetArmure\">\r\n    <div class=\"titleTop\">\r\n        <div class=\"h1Fake\">Ceci est une armure ou un bouclier</div>\r\n        <div class=\"validationAffichage\">\r\n            <div class=\"validationBox\" (click)=\"this.changeValidation('nom')\" [ngClass]=\"{'validatedBox' : this.afficherNom}\"\r\n                 data-toggle=\"tooltip\" data-placement=\"bottom\" matTooltip=\"Afficher le nom réel de l'objet\">{{this.afficherNom ? 1 : 0}}</div>\r\n            <div class=\"validationBox\" (click)=\"this.changeValidation('effetMagique')\" [ngClass]=\"{'validatedBox' : this.afficherEffetMagique}\"\r\n                 data-toggle=\"tooltip\" data-placement=\"bottom\" matTooltip=\"Afficher l'effet magique de l'objet\">{{this.afficherEffetMagique ? 1 : 0}}</div>\r\n            <div class=\"validationBox\" (click)=\"this.changeValidation('malediction')\" [ngClass]=\"{'validatedBox' : this.afficherMalediction}\"\r\n                 data-toggle=\"tooltip\" data-placement=\"bottom\" matTooltip=\"Afficher la malédiction de l'objet\">{{this.afficherMalediction ? 1 : 0}}</div>\r\n            <div class=\"validationBox\" (click)=\"this.changeValidation('materiau')\" [ngClass]=\"{'validatedBox' : this.afficherMateriau}\"\r\n                 data-toggle=\"tooltip\" data-placement=\"bottom\" matTooltip=\"Afficher le matériau de l'objet\">{{this.afficherMateriau ? 1 : 0}}</div>\r\n            <div class=\"validationBox\" (click)=\"this.changeValidation('infos')\" [ngClass]=\"{'validatedBox' : this.afficherInfos}\"\r\n                 data-toggle=\"tooltip\" data-placement=\"bottom\" matTooltip=\"Afficher les infos de l'effet magique\">{{this.afficherInfos ? 1 : 0}}</div>\r\n        </div>\r\n    </div>\r\n    <form class=\"needs-validation\" id=\"armureForm\">\r\n        <div class=\"form-row\" *ngIf=\"!this.isSpecial\">\r\n            <div class=\"form-group col-md-2\" *ngIf=\"this.allArmures\">\r\n                <label for=\"inputFamilleMonstre\">Categorie (1D{{this.allArmures.Categories.length}})</label>\r\n                <select id=\"inputFamilleMonstre\" class=\"form-control\" [(ngModel)]=\"this.categorieObjet\"\r\n                        (ngModelChange)=\"this.setArmure()\"\r\n                        [name]=\"'categorieArmure'\">\r\n                    <option *ngFor=\"let armureCourante of this.allArmures.Categories\" [value]=\"armureCourante.title\">\r\n                        {{armureCourante.title}}\r\n                    </option>\r\n                </select>\r\n            </div>\r\n            <div class=\"col-md-2 mb-3\" *ngIf=\"this.categorieObjet\">\r\n                <label for=\"categorieArmure\">Dé de l'armure (1D{{this.getNbArmure()}})\r\n                </label>\r\n                <input min=\"1\" [max]=\"this.getNbArmure()\" type=\"number\" class=\"form-control\" id=\"categorieArmure\"\r\n                       name=\"categorieArmure\"\r\n                       placeholder=\"Categorie de l'armure\"\r\n                       [(ngModel)]=\"this.deObjet\"\r\n                       (ngModelChange)=\"this.setArmure()\"\r\n                       required>\r\n            </div>\r\n            <div class=\"form-group col-md-2\" *ngIf=\"this.armure && this.armure.prixParTaille\">\r\n                <label for=\"tailleArmure\">Taille Armure (1D{{this.getNbTailleArmure()}})</label>\r\n                <select id=\"tailleArmure\" class=\"form-control\" [(ngModel)]=\"this.nomTaille\"\r\n                        (ngModelChange)=\"this.setTaille()\"\r\n                        [name]=\"'tailleArmure'\">\r\n                    <option *ngFor=\"let taille of this.getNomsTailles()\" [value]=\"taille\">\r\n                        {{taille}}\r\n                    </option>\r\n                </select>\r\n            </div>\r\n\r\n            <div class=\"form-group col-md-2\" *ngIf=\"this.armure && this.armure.autresMateriaux\">\r\n                <label for=\"typeMateriau\">Materiau Armure (1D{{this.getNbMateriaux()}})</label>\r\n                <select id=\"typeMateriau\" class=\"form-control\" [(ngModel)]=\"this.nomMateriau\"\r\n                        (ngModelChange)=\"this.setMateriau()\"\r\n                        [name]=\"'materiauArmure'\">\r\n                    <option *ngFor=\"let materiau of this.getNomsMateriaux()\" [value]=\"materiau\">\r\n                        {{materiau}}\r\n                    </option>\r\n                </select>\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"form-row\">\r\n            <div class=\"col-md-2 mb-3\">\r\n                <label for=\"dePuissanceArmure\">Dé de puissance (1D3)\r\n                </label>\r\n                <input min=\"1\" max=\"3\" type=\"number\" class=\"form-control\" id=\"dePuissanceArmure\"\r\n                       name=\"dePuissanceArmure\"\r\n                       placeholder=\"Puissance de l'armure\"\r\n                       [(ngModel)]=\"this.dePuissance\"\r\n                       required>\r\n            </div>\r\n\r\n            <div class=\"col-md-2 mb-3\">\r\n                <label for=\"DeBonusArmure\">Dé de bonus (1D100)\r\n                </label>\r\n                <input min=\"1\" max=\"100\" type=\"number\" class=\"form-control\" id=\"DeBonusArmure\"\r\n                       name=\"DeBonusArmure\"\r\n                       placeholder=\"Bonus Armure\"\r\n                       [(ngModel)]=\"this.deBonus\"\r\n                       (ngModelChange)=\"this.isBouclier()\"\r\n                       required>\r\n            </div>\r\n            <div *ngIf=\"this.isSpecial && this.dePuissance && this.deBonus\" style=\"width: 100%\">\r\n                <h3>{{this.type}}</h3>\r\n                <div class=\"col-md-2 mb-3\">\r\n                    <label for=\"Spec\">Dé spécial (1D{{this.getNbSpecials()}})\r\n                    </label>\r\n                    <input min=\"1\" [max]=\"this.getNbSpecials()\" type=\"number\" class=\"form-control\" id=\"Spec\"\r\n                           name=\"Spec\"\r\n                           placeholder=\"Spéciale\"\r\n                           [(ngModel)]=\"this.deSpecial\"\r\n                           (ngModelChange)=\"this.getSpecial()\"\r\n                           required>\r\n                </div>\r\n            </div>\r\n\r\n            <div *ngIf=\"this.isMagique\" style=\"width: 100%\">\r\n                <h3>Cette armure sera magique</h3>\r\n                <div class=\"col-md-2 mb-3\">\r\n                    <label for=\"PropMag\">Dé de propriété magique\r\n                        (1D{{this.getNbProprietesMagiques(this.allProprietesMagiques)}})\r\n                    </label>\r\n                    <input min=\"1\" [max]=\"this.getNbProprietesMagiques(this.allProprietesMagiques)\" type=\"number\"\r\n                           class=\"form-control\"\r\n                           id=\"PropMag\"\r\n                           name=\"PropMag\"\r\n                           placeholder=\"Propriété Magique\"\r\n                           [(ngModel)]=\"this.deProprieteMagique\"\r\n                           (ngModelChange)=\"this.getProprieteMagique()\"\r\n                           required>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n\r\n    </form>\r\n    <div style=\"width: 100%\" *ngIf=\"this.nom && !this.modificationEnCours\">\r\n        <div style=\"width: 100%\" *ngIf=\"this.nom\">\r\n            <h1>Résultat</h1>\r\n            <h3><span [innerHTML]=\"this.nom\"></span></h3>\r\n            <h4 *ngIf=\"this.fauxNom\"> Faux Nom : {{this.fauxNom}}</h4>\r\n            <p>{{this.type}}<span *ngIf=\"this.armure\"> - {{this.armure.bonArm}} armure\r\n                <span *ngIf=\"this.bonus\">- Bonus +{{this.bonus}}</span></span>\r\n                <span *ngIf=\"this.prix\"> - Prix : {{this.prix.toLocaleString(\"fr\")}} po</span>\r\n            </p>\r\n\r\n            <ng-container *ngFor=\"let proprieteMagique of this.proprietesMagiques;\">\r\n                <h4>{{proprieteMagique.title}}</h4>\r\n                <span *ngFor=\"let description of proprieteMagique.description; let index = index;\">\r\n                    <span [innerHTML]=\"description\"></span><br/>\r\n\r\n                    <ng-container *ngFor=\"let table of proprieteMagique.table;\">\r\n                        <span *ngIf=\"table.position === index + 1\">\r\n                            <table cellspacing=\"1\" border=\"1\">\r\n                                <tbody>\r\n                                <tr *ngFor=\"let th of table.title; let thIndex = index\">\r\n                                    <ng-container *ngFor=\"let title of th; let titleIndex = index\">\r\n                                        <th *ngIf=\"thIndex === 0 && table.title.length > 1 && table.title[0].length < table.title[1].length; else elseBlock\"\r\n                                            [colSpan]=\"table.title[1].length / table.title[0].length\">{{title}}</th>\r\n                                        <ng-template #elseBlock>\r\n                                            <th>{{title}}</th>\r\n                                        </ng-template>\r\n                                    </ng-container>\r\n                                </tr>\r\n                                <tr *ngFor=\"let td of table.tr; let tdIndex = index\">\r\n                                    <ng-container *ngFor=\"let content of td\">\r\n                                        <td>{{content}}</td>\r\n                                    </ng-container>\r\n                                </tr>\r\n                                </tbody>\r\n                            </table>\r\n                        </span>\r\n                    </ng-container>\r\n\r\n\r\n                    <ng-container *ngFor=\"let ul of proprieteMagique.ul;\">\r\n                        <span *ngIf=\"+ul.position === index + 1\">\r\n                            <ul>\r\n                                <li *ngFor=\"let li of ul.li;\" [innerHTML]=\"li\"></li>\r\n                            </ul>\r\n                        </span>\r\n                    </ng-container>\r\n                </span>\r\n                <br/>\r\n                <br/>\r\n                <span [innerHTML]=\"proprieteMagique.infos.data\"></span><br/><br/>\r\n            </ng-container>\r\n            <div *ngIf=\"this.materiau\"><span [innerHTML]=\"this.materiau.nom\"></span> : <span>{{materiau.effet}}</span>\r\n            </div>\r\n        </div>\r\n        <button (click)=\"this.modifierContenu()\" [disabled]=\"this.valide\">Modifier propriété magique</button>\r\n        <button *ngIf=\"!this.valide else objetValidee\" (click)=\"this.selection()\">Valider objet</button>\r\n        <ng-template #objetValidee>\r\n            <button (click)=\"this.deselection()\">Dévalider objet</button>\r\n        </ng-template>\r\n    </div>\r\n\r\n    <div style=\"width: 100%\" *ngIf=\"this.proprietesMagiques.length > 0 && this.modificationEnCours\">\r\n        <h1>Résultat de l'arme</h1>\r\n        <h3><textarea [(ngModel)]=\"this.nom\"></textarea></h3>\r\n        <mat-form-field appearance=\"fill\" class=\"fauxNom\">\r\n            <mat-label>Faux nom</mat-label>\r\n            <textarea [(ngModel)]=\"this.fauxNom\" rows=\"1\" matInput></textarea>\r\n        </mat-form-field>\r\n        <p><textarea [(ngModel)]=\"this.type\"></textarea><span *ngIf=\"this.armure\"> - <textarea [(ngModel)]=\"this.armure.bonArm\"></textarea> armure\r\n                <span *ngIf=\"this.proprietesMagiques.length > 0\">- Bonus +<textarea [(ngModel)]=\"this.bonus\"></textarea></span></span>\r\n            <span *ngIf=\"this.prix\"> - Prix : <textarea [(ngModel)]=\"this.prix\"></textarea> po</span>\r\n        </p>\r\n\r\n        <ng-container\r\n            *ngFor=\"let proprieteObjet of this.proprietesMagiques; let indexPropriete = index; trackBy: trackByFn\">\r\n            <h4><textarea [(ngModel)]=\"this.proprietesMagiques[indexPropriete].title\"></textarea></h4>\r\n            <span\r\n                *ngFor=\"let description of this.proprietesMagiques[indexPropriete].description; let indexDescription = index; trackBy: trackByFn\">\r\n                    <textarea\r\n                        [(ngModel)]=\"this.proprietesMagiques[indexPropriete].description[indexDescription]\"></textarea><br/>\r\n\r\n                    <ng-container\r\n                        *ngFor=\"let table of this.proprietesMagiques[indexPropriete].table; let indexTable = index\">\r\n                        <span *ngIf=\"+table.position === indexDescription + 1\">\r\n                            <table>\r\n                                <tbody>\r\n                                <tr *ngFor=\"let th of this.proprietesMagiques[indexPropriete].table[indexTable].title; let thIndex = index\">\r\n                                    <ng-container\r\n                                        *ngFor=\"let title of this.proprietesMagiques[indexPropriete].table[indexTable].title[thIndex]; let tdIndex = index; trackBy: trackByFn\">\r\n                                        <th *ngIf=\"thIndex === 0 && table.title.length > 1 && table.title[0].length < table.title[1].length; else elseBlock\"\r\n                                            [colSpan]=\"table.title[1].length / table.title[0].length\">\r\n                                            <textarea\r\n                                                [(ngModel)]=\"this.proprietesMagiques[indexPropriete].table[indexTable].title[thIndex][tdIndex]\"></textarea>\r\n                                        </th>\r\n                                        <ng-template #elseBlock>\r\n                                            <th>\r\n                                                <textarea\r\n                                                    [(ngModel)]=\"this.proprietesMagiques[indexPropriete].table[indexTable].title[thIndex][tdIndex]\"></textarea>\r\n                                            </th>\r\n                                        </ng-template>\r\n                                    </ng-container>\r\n                                </tr>\r\n                                <tr *ngFor=\"let td of this.proprietesMagiques[indexPropriete].table[indexTable].tr; let trIndex = index\">\r\n                                    <ng-container\r\n                                        *ngFor=\"let content of this.proprietesMagiques[indexPropriete].table[indexTable].tr[trIndex]; let tdIndex = index; trackBy: trackByFn\">\r\n                                        <td>\r\n                                            <textarea\r\n                                                [(ngModel)]=\"this.proprietesMagiques[indexPropriete].table[indexTable].tr[trIndex][tdIndex]\"></textarea>\r\n                                        </td>\r\n                                    </ng-container>\r\n                                </tr>\r\n                                </tbody>\r\n                            </table>\r\n                        </span>\r\n                    </ng-container>\r\n\r\n                    <ng-container *ngFor=\"let shit of this.proprietesMagiques[indexPropriete].ul; let indexUl = index;\">\r\n                        <span\r\n                            *ngIf=\"this.proprietesMagiques[indexPropriete].ul[indexUl].position === indexDescription + 1\">\r\n                            <ul>\r\n                                <li *ngFor=\"let shitBis of this.proprietesMagiques[indexPropriete].ul[indexUl].li; let indexLi = index; trackBy: trackByFn\">\r\n                                    <textarea\r\n                                        [(ngModel)]=\"this.proprietesMagiques[indexPropriete].ul[indexUl].li[indexLi]\"\r\n                                        [name]=\"'positon'+this.proprietesMagiques[indexPropriete].ul[indexUl].position+'ul'+indexUl+'li'+indexLi\"></textarea>\r\n                                </li>\r\n                            </ul>\r\n                        </span>\r\n                    </ng-container>\r\n                </span>\r\n            <br/>\r\n            <br/>\r\n            <ng-container\r\n                *ngFor=\"let shit of this.proprietesMagiques[indexPropriete].infos.data; let indexData = index; trackBy: trackByFn\">\r\n                <textarea [(ngModel)]=\"this.proprietesMagiques[indexPropriete].infos.data[indexData]\"></textarea>\r\n            </ng-container>\r\n        </ng-container>\r\n        <div *ngIf=\"this.materiau\"><textarea [(ngModel)]=\"this.materiau.nom\"></textarea> : <textarea\r\n            [(ngModel)]=\"this.materiau.effet\"></textarea>\r\n        </div>\r\n        <button (click)=\"this.modifierContenu()\">Valider propriété magique</button>\r\n        <button (click)=\"this.resetContenu()\">Reset propriété magique</button>\r\n    </div>\r\n</div>\r\n","import {Component, EventEmitter, OnInit, Output} from '@angular/core';\r\nimport {JSonLoadService} from '../../services/json-load.service';\r\n\r\n@Component({\r\n    selector: 'app-maledictions',\r\n    templateUrl: './maledictions.component.html',\r\n    styleUrls: ['./maledictions.component.scss']\r\n})\r\nexport class MaledictionsComponent implements OnInit {\r\n\r\n    @Output() maledictionEventEmitter = new EventEmitter<MagicalProperty>();\r\n\r\n    modificationEnCoursMalediction = false;\r\n    validee = false;\r\n\r\n    malediction: MagicalProperty;\r\n    deMalediction: number;\r\n    deMalediction2: number;\r\n    // ---------------------------------------\r\n    conditionsExterieur: MagicalProperty;\r\n    // ---------------------------------------\r\n    conditionsDeFonctionnement: TablesChances;\r\n    conditionDeFonctionnement: string;\r\n    // ----------------------------------------\r\n    inconveniants: TablesChances;\r\n    inconveniant: string;\r\n    // ----------------------------------------\r\n    allObjetsMaudits: SortedMagicalProperty;\r\n    dePuissanceMalediction: number;\r\n\r\n    constructor(private jsonService: JSonLoadService) {\r\n    }\r\n\r\n    ngOnInit(): void {\r\n        this.jsonService.getJSON('magique', 'inconvenientsMalediction').then(\r\n            (data: any) => {\r\n                // console.log(data);\r\n                this.inconveniants = JSON.parse(data) as TablesChances;\r\n                // console.log(this.inconveniants);\r\n            }\r\n        );\r\n        this.jsonService.getJSON('magique', 'conditionsMalediction').then(\r\n            (data: any) => {\r\n                // console.log(data);\r\n                this.conditionsDeFonctionnement = JSON.parse(data) as TablesChances;\r\n                // console.log(this.conditions);\r\n            }\r\n        );\r\n        this.jsonService.getJSON('magique', 'conditionExterieurMaledition').then(\r\n            (data: any) => {\r\n                // console.log(data);\r\n                this.conditionsExterieur = JSON.parse(data) as MagicalProperty;\r\n                // console.log(this.conditionsExterieur);\r\n            }\r\n        );\r\n        this.jsonService.getJSON('magique', 'objetsMauditsSpeciaux').then(\r\n            (mauditsSpeciaux: any) => {\r\n                // console.log(mauditsSpeciaux);\r\n                this.allObjetsMaudits = JSON.parse(mauditsSpeciaux) as SortedMagicalProperty;\r\n                // console.log(JSON.parse(mauditsSpeciaux).strongAnfPowerful[9]);\r\n                // console.log(this.allObjetsMaudits.strongAnfPowerful[9]);\r\n            }\r\n        );\r\n    }\r\n\r\n    loadComplete(): boolean {\r\n        return !!(this.inconveniants && this.conditionsDeFonctionnement && this.conditionsExterieur && this.allObjetsMaudits);\r\n    }\r\n\r\n    getFromChance(maledictions: TablesChances, dice: number) {\r\n        const malediction = (JSON.parse(JSON.stringify(\r\n            maledictions.Chances.filter(chance => (chance.lootChanceMin <= dice && chance.lootChanceMax >= dice))[0])) as Chances);\r\n        return malediction.name;\r\n    }\r\n\r\n    getNbObjetsMaudits(): number {\r\n        return this.getObjetsMaudits().length;\r\n    }\r\n\r\n    getObjetsMaudits() {\r\n        return this.dePuissanceMalediction === 1 ? this.allObjetsMaudits.weakAndSmall.concat(this.allObjetsMaudits.unknown)\r\n            : this.dePuissanceMalediction === 2 ? this.allObjetsMaudits.moderate.concat(this.allObjetsMaudits.unknown)\r\n                : this.dePuissanceMalediction === 3 ? this.allObjetsMaudits.strongAnfPowerful.concat(this.allObjetsMaudits.unknown)\r\n                    : null;\r\n    }\r\n\r\n    modifierMalediction() {\r\n        this.modificationEnCoursMalediction = !this.modificationEnCoursMalediction;\r\n    }\r\n\r\n    resetContenuMalediction() {\r\n        this.getMalediction();\r\n        this.modificationEnCoursMalediction = false;\r\n    }\r\n\r\n    trackByFn(index, item) {\r\n        return index;\r\n    }\r\n\r\n    resetMalediction() {\r\n        this.deMalediction2 = null;\r\n        this.malediction = null;\r\n    }\r\n\r\n    getMalediction(): MagicalProperty {\r\n        this.malediction = null;\r\n        let magicalProperty: MagicalProperty;\r\n        if (this.deMalediction && this.deMalediction <= 11) { // Imaginaire\r\n            magicalProperty = {\r\n                description: ['Le possesseur pense que l’objet est ce qu’il semble être, alors qu’il n’a d’autre pouvoir que d’abuser son utilisateur. Ce dernier est persuadé que l’objet fonctionne normalement et seul le sort délivrance des malédictions peut le convaincre du contraire.'],\r\n                infos: null,\r\n                table: null,\r\n                title: 'Effet imaginaire.',\r\n                ul: null,\r\n            } as MagicalProperty;\r\n        } else if (this.deMalediction > 11 && this.deMalediction <= 23) { // Inversé\r\n            magicalProperty = {\r\n                description: ['Soit les objets maudits de ce genre ont un effet inverse de celui qui était prévu, soit ils affectent leur possesseur au lieu de ses adversaires. Certains de ces objets peuvent toutefois présenter un intérêt indéniable, même si leur fonction est totalement différente de ce qu’elle devrait être.\\n' +\r\n                'Parmi les objets maudits à effet opposé, on trouve les armes qui s’accompagnent d’un malus aux jets d’attaque et de dégâts. De même que les personnages ne connaissent pas immédiatement la valeur exacte du bonus d’altération conféré par leurs armes utiles, il n’y a aucune raison qu’ils se rendent compte immédiatement que leur nouvelle arme est maudite. Une fois qu’ils le comprennent, ils peuvent s’en séparer librement, à moins que l’arme ne s’accompagne d’un enchantement incitant son possesseur à vouloir la garder et à l’utiliser. Dans ce cas, le sort délivrance des malédictions est nécessaire pour s’en débarrasser.'],\r\n                infos: null,\r\n                table: null,\r\n                title: 'Effet (ou cible) inversé.',\r\n                ul: null,\r\n            } as MagicalProperty;\r\n        } else if (this.deMalediction > 23 && this.deMalediction <= 34) { // Fiabilité douteuse\r\n            magicalProperty = {\r\n                description: ['Chaque fois que l’objet est activé, il y a 5% de chances (01–05 sur 1d100) qu’il ne fonctionne pas. Ce risque de dysfonctionnement peut varier entre 1% et 10%, selon la campagne et le type d’objet.'],\r\n                infos: null,\r\n                table: null,\r\n                title: 'Fiabilité douteuse.',\r\n                ul: null,\r\n            } as MagicalProperty;\r\n        } else if (this.deMalediction > 34 && this.deMalediction <= 46) { // Condition extèrieure\r\n            magicalProperty = {\r\n                description: [''],\r\n                infos: null,\r\n                table: null,\r\n                title: 'Dépendant d’une condition extérieure',\r\n                ul: null,\r\n            } as MagicalProperty;\r\n            if (this.deMalediction2) {\r\n                this.conditionDeFonctionnement = this.getFromChance(this.conditionsDeFonctionnement, this.deMalediction2);\r\n            }\r\n            magicalProperty.description[0] = this.conditionDeFonctionnement;\r\n        } else if (this.deMalediction > 46 && this.deMalediction <= 57) { // Incontrolable\r\n            magicalProperty = {\r\n                description: ['Un objet incontrôlable se met à fonctionner n’importe quand, sans que son propriétaire le décide. ' +\r\n                'Jetez 1d100 chaque jour. ' +\r\n                'Sur un résultat de 01–05, l’objet se met en marche au cours de la journée (l’instant exact étant déterminé aléatoirement). ' +\r\n                'L’effet peut parfois être amusant, comme lorsqu’un personnage portant un anneau d’invisibilité disparaît en pleine séance de marchandage acharné, mais il peut également être désastreux, comme quand la baguette de boule de feu de l’aventurier s’actionne alors qu’il discute avec ses amis (lesquels ne le demeureront probablement pas après une telle mésaventure).'],\r\n                infos: null,\r\n                table: null,\r\n                title: 'Incontrôlable.',\r\n                ul: null,\r\n            } as MagicalProperty;\r\n        } else if (this.deMalediction > 57 && this.deMalediction <= 69) { // Conditions de fonctionnement\r\n            magicalProperty = (JSON.parse(JSON.stringify(this.conditionsExterieur)) as MagicalProperty);\r\n        } else if (this.deMalediction > 69 && this.deMalediction <= 80) { // Inconveniant\r\n            magicalProperty = {\r\n                description: [''],\r\n                infos: null,\r\n                table: null,\r\n                title: 'Inconvéniant',\r\n                ul: null,\r\n            } as MagicalProperty;\r\n            if (this.deMalediction2) {\r\n                this.inconveniant = this.getFromChance(this.inconveniants, this.deMalediction2);\r\n            }\r\n            magicalProperty.description[0] = this.inconveniant;\r\n        } else if (this.deMalediction > 80 && this.deMalediction <= 92) { // Effet inventé\r\n            magicalProperty = {\r\n                description: ['Choisissez un effet préjudiciable, en vous inspirant éventuellement des objets maudits spéciaux, détaillés ci-dessous. ' +\r\n                'L’objet peut commencer à fonctionner normalement, mais à un moment, ses propriétés changent radicalement.'],\r\n                infos: null,\r\n                table: null,\r\n                title: 'Effet radicalement différent.',\r\n                ul: null,\r\n            } as MagicalProperty;\r\n        } else if (this.deMalediction > 92) { // Objet maudit spécial\r\n            if (this.deMalediction2 && this.dePuissanceMalediction) {\r\n                magicalProperty = JSON.parse(JSON.stringify(this.getObjetsMaudits()[this.deMalediction2 - 1])) as MagicalProperty;\r\n            }\r\n        }\r\n        this.malediction = magicalProperty;\r\n        return magicalProperty;\r\n    }\r\n\r\n    isInconveniant(): boolean {\r\n        return this.deMalediction > 69 && this.deMalediction <= 80;\r\n    }\r\n\r\n    isConditionDeFonctionnement(): boolean {\r\n        return this.deMalediction > 57 && this.deMalediction <= 69;\r\n    }\r\n\r\n    isConditionExterieure(): boolean {\r\n        return this.deMalediction > 34 && this.deMalediction <= 46;\r\n    }\r\n\r\n    isObjetMauditSpecial(): boolean {\r\n        return this.deMalediction > 92;\r\n    }\r\n\r\n    selection() {\r\n        this.validee = true;\r\n        this.maledictionEventEmitter.emit(this.malediction);\r\n    }\r\n\r\n    deselection() {\r\n        this.validee = false;\r\n        this.maledictionEventEmitter.emit(null);\r\n    }\r\n\r\n}\r\n","<div class=\"form-row\">\r\n    <div class=\"col-md-2 mb-3\">\r\n        <label for=\"Malediction\">Dé Malédiction (1D100)\r\n        </label>\r\n        <input min=\"1\" max=\"100\" type=\"number\" class=\"form-control\"\r\n               id=\"Malediction\"\r\n               name=\"Malediction\"\r\n               placeholder=\"Malediction\"\r\n               [(ngModel)]=\"this.deMalediction\"\r\n               (ngModelChange)=\"this.resetMalediction(); this.getMalediction()\"\r\n               required>\r\n    </div>\r\n\r\n    <div class=\"col-md-2 mb-3\" *ngIf=\"this.isObjetMauditSpecial()\">\r\n        <label for=\"PuissanceMalediction\">Puissance Malédiction (1D3)\r\n        </label>\r\n        <input min=\"1\" max=\"3\" type=\"number\" class=\"form-control\"\r\n               id=\"PuissanceMalediction\"\r\n               name=\"PuissanceMalediction\"\r\n               placeholder=\"PuissanceMalediction\"\r\n               [(ngModel)]=\"this.dePuissanceMalediction\"\r\n               (ngModelChange)=\"this.resetMalediction(); this.getMalediction()\"\r\n               required>\r\n    </div>\r\n\r\n    <div class=\"col-md-2 mb-3\" *ngIf=\"this.isConditionExterieure() || this.isInconveniant()\">\r\n        <label for=\"deMalediction2\">Dé condition ou inconveniant (1D100)\r\n        </label>\r\n        <input min=\"1\" max=\"100\" type=\"number\" class=\"form-control\"\r\n               id=\"deMalediction2\"\r\n               name=\"deMalediction2\"\r\n               placeholder=\"deMalediction2\"\r\n               [(ngModel)]=\"this.deMalediction2\"\r\n               (ngModelChange)=\"this.getMalediction()\"\r\n               required>\r\n    </div>\r\n    <div class=\"col-md-2 mb-3\" *ngIf=\"this.dePuissanceMalediction && this.isObjetMauditSpecial()\">\r\n        <label for=\"deMalediction2Bis\">Objet maudit spécial (1D{{this.getNbObjetsMaudits()}})\r\n        </label>\r\n        <input min=\"1\" [max]=\"this.getNbObjetsMaudits()\" type=\"number\" class=\"form-control\"\r\n               id=\"deMalediction2Bis\"\r\n               name=\"deMalediction2Bis\"\r\n               placeholder=\"deMalediction2Bis\"\r\n               [(ngModel)]=\"this.deMalediction2\"\r\n               (ngModelChange)=\"this.getMalediction()\"\r\n               required>\r\n    </div>\r\n</div>\r\n\r\n<div *ngIf=\"this.malediction && !this.modificationEnCoursMalediction\">\r\n    <h3>Malediction</h3>\r\n    <h4>{{this.malediction.title}}</h4>\r\n    <span *ngFor=\"let description of this.malediction.description; let index = index;\">\r\n                <span [innerHTML]=\"description\"></span><br/>\r\n                <ng-container *ngFor=\"let table of this.malediction.table;\">\r\n                    <span *ngIf=\"table.position === index + 1\">\r\n                        <table cellspacing=\"1\" border=\"1\">\r\n                            <tbody>\r\n                            <tr *ngFor=\"let th of table.title; let thIndex = index\">\r\n                                <ng-container *ngFor=\"let title of th; let titleIndex = index\">\r\n                                    <th *ngIf=\"thIndex === 0 && table.title.length > 1 && table.title[0].length < table.title[1].length; else elseBlock\"\r\n                                        [colSpan]=\"table.title[1][thIndex].length / table.title[0][thIndex].length\">{{title}}</th>\r\n                                    <ng-template #elseBlock>\r\n                                        <th>{{title}}</th>\r\n                                    </ng-template>\r\n                                </ng-container>\r\n                            </tr>\r\n                            <tr *ngFor=\"let td of table.tr; let tdIndex = index\">\r\n                                <ng-container *ngFor=\"let content of td\">\r\n                                    <td>{{content}}</td>\r\n                                </ng-container>\r\n                            </tr>\r\n                            </tbody>\r\n                        </table>\r\n                    </span>\r\n                </ng-container>\r\n\r\n\r\n                <ng-container *ngFor=\"let ul of this.malediction.ul;\">\r\n                    <span *ngIf=\"+ul.position === index + 1\">\r\n                        <ul>\r\n                            <li *ngFor=\"let li of ul.li;\">{{li}}</li>\r\n                        </ul>\r\n                    </span>\r\n                </ng-container>\r\n            </span>\r\n    <span *ngIf=\"malediction.infos\" [innerHTML]=\"malediction.infos.data\"></span><br/><br/>\r\n    <button (click)=\"this.modifierMalediction()\" [disabled]=\"this.validee\">Modifier malediction</button>\r\n    <button *ngIf=\"!this.validee else maledictionValidee\" (click)=\"this.selection()\">Valider malediction</button>\r\n    <ng-template #maledictionValidee>\r\n        <button (click)=\"this.deselection()\">Dévalider malediction</button>\r\n    </ng-template>\r\n</div>\r\n\r\n<span *ngIf=\"this.malediction && this.modificationEnCoursMalediction\">\r\n    <h3>Malediction</h3>\r\n    <h4><textarea [(ngModel)]=\"this.malediction.title\"></textarea></h4>\r\n    <span\r\n        *ngFor=\"let description of this.malediction.description; let indexMalediction = index; trackBy: trackByFn\">\r\n\r\n        <span>\r\n            <textarea [(ngModel)]=\"malediction.description[indexMalediction]\"></textarea>\r\n        </span>\r\n        <br/>\r\n\r\n        <ng-container *ngFor=\"let ul of this.malediction.ul\">\r\n                    <span *ngIf=\"ul.position === this.indexMalediction + 1\">\r\n                        <ul>\r\n                            <li *ngFor=\"let li of ul.li;\">{{li}}</li>\r\n                        </ul>\r\n                    </span>\r\n        </ng-container>\r\n    </span>\r\n    <span *ngIf=\"malediction.infos\">\r\n        <ng-container\r\n            *ngFor=\"let shit of this.malediction.infos.data; let indexDataMalediction = index; trackBy: trackByFn\">\r\n                    <textarea [(ngModel)]=\"this.malediction.infos.data[indexDataMalediction]\"></textarea>\r\n            </ng-container>\r\n    </span>\r\n    <button (click)=\"this.modifierMalediction()\">Valider les modifications</button>\r\n    <button (click)=\"this.resetContenuMalediction()\">Reset malediction</button>\r\n</span>\r\n","import {JSonLoadService} from '../services/json-load.service';\r\nimport {ObjetCommun} from './objet-commun';\r\n\r\nexport abstract class ObjetCombat extends ObjetCommun {\r\n\r\n    deBonus: number;\r\n    deSpecial: number;\r\n    deType: number;\r\n\r\n    isSpecial = false;\r\n    isMagique = false;\r\n\r\n    categorieObjet: string;\r\n    nomTaille: string;\r\n    materiau: Materiau;\r\n    nomMateriau: string;\r\n\r\n    deObjet: number;\r\n    Categories: number;\r\n\r\n    constructor(jsonService: JSonLoadService) {\r\n        super(jsonService);\r\n    }\r\n\r\n    getProprieteMagique() {\r\n        this.bonus = 1;\r\n        super.getProprieteMagique();\r\n        this.setBonus();\r\n    }\r\n\r\n    setBonus() {\r\n        if (this.deProprieteMagique && this.deProprieteMagique <= this.getNbProprietesMagiques(this.allProprietesMagiques)) {\r\n            const data = this.proprietesMagiques[0].infos.data;\r\n            const indexPrix = data.indexOf(data.filter(f => f.includes('Prix'))[0]);\r\n            const bonusToNumber = data[indexPrix].match(/[Bb]onus.* \\+([0-9])/);\r\n            if (bonusToNumber && !isNaN(+bonusToNumber[1])) {\r\n                this.bonus = +bonusToNumber[1];\r\n            }\r\n        }\r\n    }\r\n\r\n    getNomsProprieteMagique(): string {\r\n        return this.isSpecial ? ''\r\n            : this.proprietesMagiques.length < 1 ? ''\r\n            : this.proprietesMagiques.length < 2 ? this.proprietesMagiques[0].title\r\n                : this.proprietesMagiques[0].title + ' et ' + this.proprietesMagiques[1].title;\r\n    }\r\n\r\n    reset() {\r\n        this.proprietesMagiques = [];\r\n        this.bonus = 1;\r\n        // this.prix = 0;\r\n    }\r\n\r\n    resetHard() {\r\n        this.nomMateriau = undefined;\r\n        this.nomTaille = undefined;\r\n        this.materiau = undefined;\r\n    }\r\n}\r\n","import {JSonLoadService} from '../services/json-load.service';\r\nimport {MaledictionsComponent} from './maledictions/maledictions.component';\r\n\r\nexport abstract class ObjetCommun {\r\n\r\n    maledictionComponent: MaledictionsComponent;\r\n    maudit: boolean;\r\n\r\n    nom: string;\r\n    fauxNom: string;\r\n    bonus: number;\r\n    type: string;\r\n    proprietesMagiques: MagicalProperty[] = [];\r\n    prix = 0;\r\n    currencyType = 'po';\r\n    prixProprieteMagique: number;\r\n    proprieteMagiqueCurrencyType: string;\r\n\r\n    dePuissance: number;\r\n    deProprieteMagique: number;\r\n\r\n    allProprietesMagiques: SortedMagicalProperty;\r\n\r\n    modificationEnCours = false;\r\n\r\n    malediction: MagicalProperty;\r\n\r\n    valide = false;\r\n\r\n    afficherNom = false;\r\n    afficherEffetMagique = false;\r\n    afficherMalediction = false;\r\n    afficherMateriau = false;\r\n    afficherInfos = false;\r\n\r\n    protected constructor(jsonService: JSonLoadService) {\r\n    }\r\n\r\n    resetContenu() {\r\n        this.getProprieteMagique();\r\n        this.setNom();\r\n        this.modificationEnCours = false;\r\n    }\r\n\r\n    trackByFn(index, item) {\r\n        return index;\r\n    }\r\n\r\n    selectionMalediction($event: MagicalProperty) {\r\n        this.malediction = $event;\r\n        // console.log(this.malediction);\r\n    }\r\n\r\n    modifierContenu() {\r\n        this.modificationEnCours = !this.modificationEnCours;\r\n        this.checkProprietesMagiquesIntegrity();\r\n    }\r\n\r\n    getProprietesMagiques(proprietesMagiques: SortedMagicalProperty) {\r\n        return this.dePuissance === 1 ? proprietesMagiques.weakAndSmall.concat(proprietesMagiques.unknown)\r\n            : this.dePuissance === 2 ? proprietesMagiques.moderate.concat(proprietesMagiques.unknown)\r\n                : this.dePuissance === 3 ? proprietesMagiques.strongAnfPowerful.concat(proprietesMagiques.unknown) :\r\n                    null;\r\n    }\r\n\r\n    getProprieteMagique() {\r\n        this.proprietesMagiques = [];\r\n        if (this.dePuissance && this.deProprieteMagique\r\n            && this.deProprieteMagique <= this.getNbProprietesMagiques(this.allProprietesMagiques)) {\r\n            this.proprietesMagiques.push(\r\n                JSON.parse(JSON.stringify(\r\n                    this.getProprietesMagiques(this.allProprietesMagiques)[this.deProprieteMagique - 1])) as MagicalProperty);\r\n            this.setNom();\r\n            this.getPrixAndCurrency();\r\n        }\r\n    }\r\n\r\n    getNbProprietesMagiques(proprietesMagiques: SortedMagicalProperty): number {\r\n        return this.getProprietesMagiques(proprietesMagiques).length;\r\n    }\r\n\r\n    getPrixAndCurrency() {\r\n        this.prixProprieteMagique = 0;\r\n        this.proprieteMagiqueCurrencyType = null;\r\n        for (const proprieteMagique of this.proprietesMagiques) {\r\n            const data = proprieteMagique.infos.data;\r\n            const indexPrix = data.indexOf(data.filter(f => f.includes('Prix'))[0]);\r\n            if (!data[indexPrix].includes('bonus')) {\r\n                const match = data[indexPrix].match(/([0-9]+ )+/)[0];\r\n                this.prixProprieteMagique = +match.replace(' ', '').replace(' ', '');\r\n                const matchCurrency = data[indexPrix].substring(data[indexPrix].indexOf(match)).match(/[a-z]+[ |\\.]/)[0];\r\n                this.proprieteMagiqueCurrencyType = matchCurrency.replace(match, '')\r\n                    .replace(' ', '').replace('.', '');\r\n            }\r\n        }\r\n    }\r\n\r\n    getMalediction(): Malediction {\r\n        let maledictionToAdd = null;\r\n        if (this.malediction) {\r\n            let descriptionMalediction = '';\r\n            for (const description of this.malediction.description) {\r\n                descriptionMalediction += description;\r\n            }\r\n            maledictionToAdd = {\r\n                idMalediction: null,\r\n                nom: this.malediction.title,\r\n                description: descriptionMalediction,\r\n            } as Malediction;\r\n        }\r\n        return maledictionToAdd;\r\n    }\r\n\r\n    checkProprietesMagiquesIntegrity() {\r\n        for (let i = 0 ; i < this.proprietesMagiques.length ; i++) {\r\n            for (let indexDescription = 0 ; indexDescription < this.proprietesMagiques[i].description.length ; indexDescription++) {\r\n                if (this.proprietesMagiques[i].description[indexDescription].length === 0) {\r\n                    this.proprietesMagiques[i].description.splice(indexDescription, 1);\r\n                    indexDescription--;\r\n                }\r\n            }\r\n            if (this.proprietesMagiques[i].table) {\r\n                for (let indexTable = 0; indexTable < this.proprietesMagiques[i].table.length; indexTable++) {\r\n                    for (let indexTableTitle = 0; indexTableTitle <\r\n                    this.proprietesMagiques[i].table[indexTable].title.length; indexTableTitle++) {\r\n                        for (let indexTableTitleContent = 0; indexTableTitleContent <\r\n                        this.proprietesMagiques[i].table[indexTable].title[indexTableTitle].length; indexTableTitleContent++) {\r\n                            if (this.proprietesMagiques[i].table[indexTable].title[indexTableTitle][indexTableTitleContent].length === 0) {\r\n                                this.proprietesMagiques[i].table[indexTable].title[indexTableTitle].splice(indexTableTitleContent, 1);\r\n                                indexTableTitleContent--;\r\n                            }\r\n                        }\r\n                        if (this.proprietesMagiques[i].table[indexTable].title[indexTableTitle].length === 0) {\r\n                            this.proprietesMagiques[i].table[indexTable].title.splice(indexTableTitle, 1);\r\n                            indexTableTitle--;\r\n                        }\r\n                    }\r\n                    for (let indexTableTr = 0; indexTableTr <\r\n                    this.proprietesMagiques[i].table[indexTable].tr.length; indexTableTr++) {\r\n                        for (let indexTableTrContent = 0; indexTableTrContent <\r\n                        this.proprietesMagiques[i].table[indexTable].tr[indexTableTr].length; indexTableTrContent++) {\r\n                            if (this.proprietesMagiques[i].table[indexTable].tr[indexTableTr][indexTableTrContent].length === 0) {\r\n                                this.proprietesMagiques[i].table[indexTable].tr[indexTableTr].splice(indexTableTrContent, 1);\r\n                                indexTableTrContent--;\r\n                            }\r\n                        }\r\n                        if (this.proprietesMagiques[i].table[indexTable].tr[indexTableTr].length === 0) {\r\n                            this.proprietesMagiques[i].table[indexTable].tr.splice(indexTableTr, 1);\r\n                            indexTableTr--;\r\n                        }\r\n                    }\r\n                    if (this.proprietesMagiques[i].table[indexTable].title.length === 0\r\n                        && this.proprietesMagiques[i].table[indexTable].tr.length === 0) {\r\n                        this.proprietesMagiques[i].table.splice(indexTable, 1);\r\n                        indexTable--;\r\n                    }\r\n                }\r\n            }\r\n            if (this.proprietesMagiques[i].ul) {\r\n                for (let indexUl = 0; indexUl < this.proprietesMagiques[i].ul.length; indexUl++) {\r\n                    for (let indexLi = 0; indexLi < this.proprietesMagiques[i].ul[indexUl].li.length; indexLi++) {\r\n                        if (this.proprietesMagiques[i].ul[indexUl].li[indexLi].length === 0) {\r\n                            this.proprietesMagiques[i].ul[indexUl].li.splice(indexLi, 1);\r\n                            indexLi--;\r\n                        }\r\n                    }\r\n                    if (this.proprietesMagiques[i].ul.length === 0) {\r\n                        this.proprietesMagiques[i].ul.splice(indexUl, 1);\r\n                        indexUl--;\r\n                    }\r\n                }\r\n            }\r\n\r\n            if (this.proprietesMagiques[i].description.length === 0\r\n                && !this.proprietesMagiques[i].table\r\n                && !this.proprietesMagiques[i].ul) {\r\n                console.log('Suppression de la propriete magique :' + this.proprietesMagiques[i].title);\r\n                this.proprietesMagiques.splice(i, 1);\r\n                i--;\r\n            }\r\n        }\r\n    }\r\n\r\n    abstract castToObjetCommunForDB();\r\n\r\n    abstract setNom();\r\n\r\n    changeValidation(name: string) {\r\n        switch (name.toLowerCase()) {\r\n            case 'nom':\r\n                this.afficherNom = !this.afficherNom;\r\n                break;\r\n            case 'effetmagique':\r\n                this.afficherEffetMagique = !this.afficherEffetMagique;\r\n                break;\r\n            case 'malediction':\r\n                this.afficherMalediction = !this.afficherMalediction;\r\n                break;\r\n            case 'materiau':\r\n                this.afficherMateriau = !this.afficherMateriau;\r\n                break;\r\n            case 'infos':\r\n                this.afficherInfos = !this.afficherInfos;\r\n                break;\r\n\r\n        }\r\n    }\r\n}\r\n\r\n","import {Component, EventEmitter, Input, OnInit, Output, ViewChild} from '@angular/core';\r\nimport {JSonLoadService} from '../../services/json-load.service';\r\nimport {MaledictionsComponent} from '../maledictions/maledictions.component';\r\nimport {ObjetCommun} from '../objet-commun';\r\n\r\n@Component({\r\n    selector: 'app-objet-simple',\r\n    templateUrl: './objet-simple.component.html',\r\n    styleUrls: ['./objet-simple.component.scss']\r\n})\r\nexport class ObjetSimpleComponent extends ObjetCommun implements OnInit {\r\n\r\n    @Output() objetSimpleEventEmitter = new EventEmitter<ObjetSimpleComponent>();\r\n    @ViewChild('maledictionsComponent') maledictionComponent: MaledictionsComponent;\r\n    @Input() maudit: boolean;\r\n\r\n    @Input() parametres: string[];\r\n\r\n    constructor(private jsonService: JSonLoadService) {\r\n        super(jsonService);\r\n    }\r\n\r\n    ngOnInit(): void {\r\n        this.jsonService.getJSON(this.parametres[3], this.parametres[4]).then(\r\n            (effetsObjet: any) => {\r\n                // console.log(effetsObjet);\r\n                this.allProprietesMagiques = JSON.parse(effetsObjet) as SortedMagicalProperty;\r\n                // console.log(JSON.parse(effetsObjet).strongAnfPowerful[9]);\r\n                // console.log(this.allObjets.strongAnfPowerful[9]);\r\n            }\r\n        );\r\n        this.type = this.parametres[2];\r\n    }\r\n\r\n    loadComplete(): boolean {\r\n        if (this.maudit) {\r\n            return this.allProprietesMagiques && this.maledictionComponent.loadComplete();\r\n        } else {\r\n            return !!this.allProprietesMagiques;\r\n        }\r\n    }\r\n\r\n    reset() {\r\n        this.proprietesMagiques = [];\r\n        this.nom = undefined;\r\n        // this.prix = 0;\r\n    }\r\n\r\n    getNomsProprieteMagique(): string {\r\n        return this.proprietesMagiques.length < 1 ? '' :\r\n            this.proprietesMagiques.length < 2 ? this.proprietesMagiques[0].title :\r\n                this.proprietesMagiques[0].title + ' et ' + this.proprietesMagiques[1].title;\r\n    }\r\n\r\n    setNom() {\r\n        if (this.proprietesMagiques.length > 0) {\r\n            this.nom = this.proprietesMagiques[0].title;\r\n        }\r\n        // console.log(this.nom);\r\n    }\r\n\r\n    setBonus(data: string[]) {\r\n        this.bonus = null;\r\n    }\r\n\r\n    selection() {\r\n        this.valide = true;\r\n        this.objetSimpleEventEmitter.emit(this);\r\n    }\r\n\r\n    deselection() {\r\n        this.valide = false;\r\n        this.objetSimpleEventEmitter.emit(null);\r\n    }\r\n\r\n    castToObjetCommunForDB(): ObjetCommunForDB {\r\n        const maledictionToAdd = this.getMalediction();\r\n        let values: ObjetCommunForDB;\r\n        console.log(this.prix);\r\n        console.log(this.proprietesMagiques);\r\n        values = {\r\n            idObjet: null,\r\n            idPersonnage: 1,\r\n            nom: this.nom,\r\n            bonus: this.bonus,\r\n            type: this.type,\r\n            prix: this.prix + this.prixProprieteMagique,\r\n            prixNonHumanoide: null,\r\n            devise: this.currencyType,\r\n            proprieteMagique: this.proprietesMagiques,\r\n            malediction: maledictionToAdd,\r\n            categorie: null,\r\n            materiau: null,\r\n            taille: null,\r\n            degats: null,\r\n            critique: null,\r\n            facteurPortee: null,\r\n            armure: null,\r\n            bonusDexteriteMax: null,\r\n            malusArmureTests: null,\r\n            risqueEchecSorts: null,\r\n            afficherNom: this.afficherNom,\r\n            afficherEffetMagique: this.afficherEffetMagique,\r\n            afficherMalediction: this.afficherMalediction,\r\n            afficherMateriau: this.afficherMateriau,\r\n            afficherInfos: this.afficherInfos,\r\n        } as ObjetCommunForDB;\r\n\r\n        return values;\r\n    }\r\n}\r\n","<app-maledictions *ngIf=\"this.maudit\" #maledictionsComponent (maledictionEventEmitter)=\"selectionMalediction($event)\"></app-maledictions>\r\n\r\n<div style=\"width: 100%\" class=\"objetSimple\">\r\n    <div class=\"titleTop\">\r\n        <div class=\"h1Fake\">{{this.parametres[0]}}</div>\r\n        <div class=\"validationAffichage\">\r\n            <div class=\"validationBox\" (click)=\"this.changeValidation('nom')\" [ngClass]=\"{'validatedBox' : this.afficherNom}\"\r\n                 data-toggle=\"tooltip\" data-placement=\"bottom\" matTooltip=\"Afficher le nom réel de l'objet\">{{this.afficherNom ? 1 : 0}}</div>\r\n            <div class=\"validationBox\" (click)=\"this.changeValidation('effetMagique')\" [ngClass]=\"{'validatedBox' : this.afficherEffetMagique}\"\r\n                 data-toggle=\"tooltip\" data-placement=\"bottom\" matTooltip=\"Afficher l'effet magique de l'objet\">{{this.afficherEffetMagique ? 1 : 0}}</div>\r\n            <div class=\"validationBox\" (click)=\"this.changeValidation('malediction')\" [ngClass]=\"{'validatedBox' : this.afficherMalediction}\"\r\n                 data-toggle=\"tooltip\" data-placement=\"bottom\" matTooltip=\"Afficher la malédiction de l'objet\">{{this.afficherMalediction ? 1 : 0}}</div>\r\n            <div class=\"validationBox\" (click)=\"this.changeValidation('materiau')\" [ngClass]=\"{'validatedBox' : this.afficherMateriau}\"\r\n                 data-toggle=\"tooltip\" data-placement=\"bottom\" matTooltip=\"Afficher le matériau de l'objet\">{{this.afficherMateriau ? 1 : 0}}</div>\r\n            <div class=\"validationBox\" (click)=\"this.changeValidation('infos')\" [ngClass]=\"{'validatedBox' : this.afficherInfos}\"\r\n                 data-toggle=\"tooltip\" data-placement=\"bottom\" matTooltip=\"Afficher les infos de l'effet magique\">{{this.afficherInfos ? 1 : 0}}</div>\r\n        </div>\r\n    </div>\r\n    <form class=\"needs-validation\" id=\"objetSimpleForm\">\r\n        <div class=\"form-row\">\r\n            <div style=\"width: 100%\" *ngIf=\"this.loadComplete()\">\r\n                <div class=\"form-row\">\r\n                    <div class=\"col-md-2 mb-3\">\r\n                        <label for=\"PuissMag\">Puissance\r\n                        </label>\r\n                        <input min=\"1\" max=\"3\" type=\"number\" class=\"form-control\"\r\n                               id=\"PuissMag\"\r\n                               name=\"PuissMag\"\r\n                               placeholder=\"Puissance Magique\"\r\n                               [(ngModel)]=\"this.dePuissance\"\r\n                               (ngModelChange)=\"this.getProprieteMagique()\"\r\n                               required>\r\n                    </div>\r\n                    <div class=\"col-md-2 mb-3\" *ngIf=\"this.dePuissance\">\r\n                        <label for=\"PropMag\">{{this.parametres[1]}} (1D{{this.getNbProprietesMagiques(this.allProprietesMagiques)}})\r\n                        </label>\r\n                        <input min=\"1\" [max]=\"this.getNbProprietesMagiques(this.allProprietesMagiques)\" type=\"number\" class=\"form-control\"\r\n                               id=\"PropMag\"\r\n                               name=\"PropMag\"\r\n                               placeholder=\"Propriété Magique\"\r\n                               [(ngModel)]=\"this.deProprieteMagique\"\r\n                               (ngModelChange)=\"this.getProprieteMagique()\"\r\n                               required>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n\r\n    </form>\r\n    <div style=\"width: 100%\" *ngIf=\"this.proprietesMagiques.length > 0 && !this.modificationEnCours\">\r\n        <h1>Résultat</h1>\r\n        <div>\r\n            <h3>{{this.parametres[2]}} : <span *ngIf=\"this.proprietesMagiques.length > 0\">{{this.getNomsProprieteMagique()}}</span></h3>\r\n            <h4 *ngIf=\"this.fauxNom\"> Faux Nom : {{this.fauxNom}}</h4>\r\n\r\n            <ng-container *ngFor=\"let proprieteMagique of this.proprietesMagiques;\">\r\n                <h4>{{proprieteMagique.title}}</h4>\r\n                <span *ngFor=\"let description of proprieteMagique.description; let index = index;\">\r\n                    <span [innerHTML]=\"description\"></span><br/>\r\n                    <ng-container *ngFor=\"let table of proprieteMagique.table;\">\r\n                        <span *ngIf=\"table.position === index + 1\">\r\n                            <table cellspacing=\"1\" border=\"1\">\r\n                                <tbody>\r\n                                <tr *ngFor=\"let th of table.title; let thIndex = index\">\r\n                                    <ng-container *ngFor=\"let title of th; let titleIndex = index\">\r\n                                        <th *ngIf=\"thIndex === 0 && table.title.length > 1 && table.title[0].length < table.title[1].length; else elseBlock\"\r\n                                            [colSpan]=\"table.title[1].length / table.title[0].length\">{{title}}</th>\r\n                                        <ng-template #elseBlock>\r\n                                            <th>{{title}}</th>\r\n                                        </ng-template>\r\n                                    </ng-container>\r\n                                </tr>\r\n                                <tr *ngFor=\"let td of table.tr; let tdIndex = index\">\r\n                                    <ng-container *ngFor=\"let content of td\">\r\n                                        <td>{{content}}</td>\r\n                                    </ng-container>\r\n                                </tr>\r\n                                </tbody>\r\n                            </table>\r\n                        </span>\r\n                    </ng-container>\r\n\r\n                    <ng-container *ngFor=\"let ul of proprieteMagique.ul;\">\r\n                        <span *ngIf=\"+ul.position === index + 1\">\r\n                            <ul>\r\n                                <li *ngFor=\"let li of ul.li;\" [innerHTML]=\"li\"></li>\r\n                            </ul>\r\n                        </span>\r\n                    </ng-container>\r\n                </span>\r\n                <br/>\r\n                <br/>\r\n                <span *ngIf=\"this.proprieteMagique.infos\" [innerHTML]=\"this.proprieteMagique.infos.data\"></span><br/><br/>\r\n            </ng-container>\r\n        </div>\r\n        <button (click)=\"this.modifierContenu()\" [disabled]=\"this.valide\">Modifier propriété magique</button>\r\n        <button *ngIf=\"!this.valide else objetValidee\" (click)=\"this.selection()\">Valider objet</button>\r\n        <ng-template #objetValidee>\r\n            <button (click)=\"this.deselection()\">Dévalider objet</button>\r\n        </ng-template>\r\n    </div>\r\n\r\n\r\n    <div style=\"width: 100%\" *ngIf=\"this.proprietesMagiques.length > 0 && this.modificationEnCours\">\r\n        <h1>Résultat</h1>\r\n        <div>\r\n            <h3>{{this.parametres[2]}} : <span *ngIf=\"this.proprietesMagiques.length > 0\">{{this.getNomsProprieteMagique()}}</span></h3>\r\n\r\n            <ng-container\r\n                *ngFor=\"let proprieteObjet of this.proprietesMagiques; let indexPropriete = index; trackBy: trackByFn\">\r\n                <h4><textarea [(ngModel)]=\"this.proprietesMagiques[indexPropriete].title\"></textarea></h4>\r\n                <mat-form-field appearance=\"fill\" class=\"fauxNom\">\r\n                    <mat-label>Faux nom</mat-label>\r\n                    <textarea [(ngModel)]=\"this.fauxNom\" rows=\"1\" matInput></textarea>\r\n                </mat-form-field>\r\n                <span\r\n                    *ngFor=\"let description of this.proprietesMagiques[indexPropriete].description; let indexDescription = index; trackBy: trackByFn\">\r\n                    <textarea\r\n                        [(ngModel)]=\"this.proprietesMagiques[indexPropriete].description[indexDescription]\"></textarea><br/>\r\n\r\n                    <ng-container\r\n                        *ngFor=\"let table of this.proprietesMagiques[indexPropriete].table; let indexTable = index\">\r\n                        <span *ngIf=\"+table.position === indexDescription + 1\">\r\n                            <table>\r\n                                <tbody>\r\n                                <tr *ngFor=\"let th of this.proprietesMagiques[indexPropriete].table[indexTable].title; let thIndex = index\">\r\n                                    <ng-container\r\n                                        *ngFor=\"let title of this.proprietesMagiques[indexPropriete].table[indexTable].title[thIndex]; let tdIndex = index; trackBy: trackByFn\">\r\n                                        <th *ngIf=\"thIndex === 0 && table.title.length > 1 && table.title[0].length < table.title[1].length; else elseBlock\"\r\n                                            [colSpan]=\"table.title[1].length / table.title[0].length\">\r\n                                            <textarea\r\n                                                [(ngModel)]=\"this.proprietesMagiques[indexPropriete].table[indexTable].title[thIndex][tdIndex]\"></textarea>\r\n                                        </th>\r\n                                        <ng-template #elseBlock>\r\n                                            <th>\r\n                                                <textarea\r\n                                                    [(ngModel)]=\"this.proprietesMagiques[indexPropriete].table[indexTable].title[thIndex][tdIndex]\"></textarea>\r\n                                            </th>\r\n                                        </ng-template>\r\n                                    </ng-container>\r\n                                </tr>\r\n                                <tr *ngFor=\"let td of this.proprietesMagiques[indexPropriete].table[indexTable].tr; let trIndex = index\">\r\n                                    <ng-container\r\n                                        *ngFor=\"let content of this.proprietesMagiques[indexPropriete].table[indexTable].tr[trIndex]; let tdIndex = index; trackBy: trackByFn\">\r\n                                        <td>\r\n                                            <textarea\r\n                                                [(ngModel)]=\"this.proprietesMagiques[indexPropriete].table[indexTable].tr[trIndex][tdIndex]\"></textarea>\r\n                                        </td>\r\n                                    </ng-container>\r\n                                </tr>\r\n                                </tbody>\r\n                            </table>\r\n                        </span>\r\n                    </ng-container>\r\n\r\n                    <ng-container *ngFor=\"let shit of this.proprietesMagiques[indexPropriete].ul; let indexUl = index;\">\r\n                        <span *ngIf=\"this.proprietesMagiques[indexPropriete].ul[indexUl].position === indexDescription + 1\">\r\n                            <ul>\r\n                                <li *ngFor=\"let shitBis of this.proprietesMagiques[indexPropriete].ul[indexUl].li; let indexLi = index; trackBy: trackByFn\">\r\n                                    <textarea [(ngModel)]=\"this.proprietesMagiques[indexPropriete].ul[indexUl].li[indexLi]\"\r\n                                              [name]=\"'positon'+this.proprietesMagiques[indexPropriete].ul[indexUl].position+'ul'+indexUl+'li'+indexLi\"></textarea>\r\n                                </li>\r\n                            </ul>\r\n                        </span>\r\n                    </ng-container>\r\n                </span>\r\n                <br/>\r\n                <br/>\r\n                <ng-container\r\n                    *ngFor=\"let shit of this.proprietesMagiques[indexPropriete].infos.data; let indexData = index; trackBy: trackByFn\">\r\n                    <textarea [(ngModel)]=\"this.proprietesMagiques[indexPropriete].infos.data[indexData]\"></textarea>\r\n                </ng-container>\r\n            </ng-container>\r\n        </div>\r\n        <button (click)=\"this.modifierContenu()\">Valider propriété magique</button>\r\n        <button (click)=\"this.resetContenu()\">Reset propriété magique</button>\r\n    </div>\r\n\r\n</div>\r\n","import {Component, EventEmitter, HostListener, Input, OnInit, Output, ViewChild} from '@angular/core';\nimport {HttpClient} from '@angular/common/http';\nimport {ObjetService} from '../services/objet.service';\nimport {SpecialResponse} from '../loot-table/loot-table.component';\nimport {HttpMethods} from '../interface/http-methods.enum';\nimport {FadingInfoComponent} from '../fading-info/fading-info.component';\nimport {AuthService} from '../auth/auth.service';\n\n@Component({\n  selector: 'app-personnage-objet-personnage',\n  templateUrl: './personnage-objet-personnage.component.html',\n  styleUrls: ['./personnage-objet-personnage.component.scss']\n})\nexport class PersonnageObjetPersonnageComponent implements OnInit {\n\n    @Input() set idObj(id: number) { this.idObjet = id; this.loadObjet(); }\n    @Input() idPersonnage: number;\n    @Output() changingObjetEffetDecouvert = new EventEmitter<any>();\n    @ViewChild('Banner') banner: FadingInfoComponent;\n\n    idObjet: number;\n\n    objet: ObjetCommunFromDB;\n    effetsMagiquesDecouverts: EffetMagiqueDecouvert[];\n    effetsMagiquesDecouvertsOriginal: EffetMagiqueDecouvert[];\n    modificationsEnCours: boolean[];\n\n    ajoutEffetDecouvert = false;\n    effetDecouvertAAjouter: string;\n\n    updating = false;\n\n    constructor(private http: HttpClient,\n                private objetService: ObjetService,\n                private authService: AuthService) { }\n\n    ngOnInit(): void {\n    }\n\n    loadObjet() {\n        this.objetService.getObjetComplet(this.http, this.idObjet).then(\n            (dataObjet: any) => {\n                const response: SpecialResponse = dataObjet as SpecialResponse;\n                console.log(response);\n                this.objet = response.data as ObjetCommunFromDB;\n                console.log(this.objet);\n                this.loadEffetsMagiquesDecouverts();\n            }\n        );\n    }\n\n    loadEffetsMagiquesDecouverts() {\n        this.objetService.getEffetsMagiquesDecouverts(this.http, this.idObjet, this.idPersonnage).then(\n            (data: any) => {\n                console.log(data);\n                const response: SpecialResponse = data as SpecialResponse;\n                this.effetsMagiquesDecouverts = response.data as EffetMagiqueDecouvert[];\n                this.effetsMagiquesDecouvertsOriginal = JSON.parse(\n                    JSON.stringify(this.effetsMagiquesDecouverts)) as EffetMagiqueDecouvert[];\n\n                this.modificationsEnCours = [];\n                for (const effetsMagiquesDecouvert of this.effetsMagiquesDecouverts) {\n                    this.modificationsEnCours.push(false);\n                }\n            }\n        );\n    }\n\n    @HostListener('document:keydown', ['$event'])\n    handleKeyboardEvent(event: KeyboardEvent) {\n        if (event.key === 'Enter' && event.ctrlKey) {\n            // TODO : Gérer la modification d'un effet magique découvert\n        }\n    }\n\n    aModificationIsOccuring(): boolean {\n        return this.getModificationIndex() !== -1;\n    }\n\n    getModificationIndex(): number {\n        return this.modificationsEnCours.indexOf(this.modificationsEnCours.find(f => f === true));\n    }\n\n    trackByFn(index, item) {\n        return index;\n    }\n\n    supprimerEffetDecouvert(indexEffetDecouvert: number) {\n        this.objetService.effetsMagiquesDecouverts(this.http, HttpMethods.DELETE, this.effetsMagiquesDecouverts[indexEffetDecouvert]).then(\n            (data: any) => {\n                console.log(data);\n                const respone: SpecialResponse = JSON.parse(data) as SpecialResponse;\n                setTimeout( () => {\n                    this.banner.loadComponent(respone.status_message, JSON.stringify(respone.data), '' + respone.status); }, 1250 );\n            }\n        );\n        this.modificationsEnCours[indexEffetDecouvert] = false;\n\n        this.reloadingInterface();\n        this.loadEffetsMagiquesDecouverts();\n    }\n\n    modifierEffetDecouvert(indexEffetDecouvert: number) {\n        this.objetService.effetsMagiquesDecouverts(this.http, HttpMethods.PUT, this.effetsMagiquesDecouverts[indexEffetDecouvert]).then(\n            (data: any) => {\n                console.log(data);\n                const respone: SpecialResponse = JSON.parse(data) as SpecialResponse;\n                setTimeout( () => {\n                    this.banner.loadComponent(respone.status_message, JSON.stringify(respone.data), '' + respone.status); }, 1250 );\n            }\n        );\n        this.modificationsEnCours[indexEffetDecouvert] = false;\n\n        this.reloadingInterface();\n        // this.loadEffetsMagiquesDecouverts();\n    }\n\n    annulerModificationEffetDecouvert(indexEffetDecouvert: number) {\n        this.effetsMagiquesDecouverts[indexEffetDecouvert].effet = this.effetsMagiquesDecouvertsOriginal[indexEffetDecouvert].effet;\n        this.modificationsEnCours[indexEffetDecouvert] = false;\n    }\n\n    ajouterEffetDecouvert() {\n        this.fermerModificationCourante();\n        this.ajoutEffetDecouvert = !this.ajoutEffetDecouvert;\n    }\n\n    annulerAjoutEffetDecouvert() {\n        this.effetDecouvertAAjouter = null;\n        this.ajoutEffetDecouvert = false;\n    }\n\n    validerAjoutEffetDecouvert() {\n        const effetMagiqueDecouvert = {\n            idEffetMagiqueDecouvert: null,\n            idObjet: this.idObjet,\n            idPersonnage: this.idPersonnage,\n            effet: this.effetDecouvertAAjouter,\n        } as EffetMagiqueDecouvert;\n        this.objetService.effetsMagiquesDecouverts(this.http, HttpMethods.POST, effetMagiqueDecouvert).then(\n            (data: any) => {\n                console.log(data);\n                const respone: SpecialResponse = JSON.parse(data) as SpecialResponse;\n                setTimeout( () => {\n                    this.banner.loadComponent(respone.status_message, JSON.stringify(respone.data), '' + respone.status); }, 1250 );\n            }\n        );\n        this.effetDecouvertAAjouter = null;\n        this.ajoutEffetDecouvert = false;\n\n        this.reloadingInterface();\n        // this.loadEffetsMagiquesDecouverts();\n    }\n\n    reloadingInterface() {\n        this.updating = true;\n        this.changingObjetEffetDecouvert.emit(this.objet.idObjet);\n        setTimeout( () => { this.loadEffetsMagiquesDecouverts(); }, 1250 );\n        setTimeout( () => {\n            this.updating = false;\n        }, 2500 );\n    }\n\n    lancerModification(indexEffetMagiqueDecouvert: number) {\n        this.fermerModificationCourante();\n        this.annulerAjoutEffetDecouvert();\n        this.modificationsEnCours[indexEffetMagiqueDecouvert] = true;\n    }\n\n    fermerModificationCourante() {\n        if (this.aModificationIsOccuring()) {\n            this.annulerModificationEffetDecouvert(this.getModificationIndex());\n        }\n    }\n\n    effetsMagiquesDecouvertsAffichables(): boolean {\n        return (this.authService.personnage && this.authService.personnage.idPersonnage === this.idPersonnage)\n            || (this.authService.user && this.authService.isAdmin());\n    }\n\n}\n","<div style=\"width: 100%\" *ngIf=\"this.objet && !this.updating\" class=\"personnageObjet\">\n    <div style=\"width: 100%\">\n        <div class=\"titleTop\">\n            <div *ngIf=\"this.objet.afficherNom; else fauxNom\" class=\"h1Fake\" [innerHTML]=\"this.objet.nom\"></div>\n            <ng-template #fauxNom>\n                <div class=\"h1Fake\" [innerHTML]=\"this.objet.fauxNom\"></div>\n            </ng-template>\n        </div>\n        <div *ngIf=\"this.objet.afficherEffetMagique && this.objet.effetMagique\">{{this.objet.type}}</div>\n        <p *ngIf=\"this.objet.afficherInfos && this.objet.armure\">\n            <span *ngIf=\"this.objet.armure\"> Armure: {{this.objet.armure}}\n                <span *ngIf=\"this.objet.bonus\">- Bonus +{{this.objet.bonus}}</span>\n            </span>\n            <span *ngIf=\"this.objet.prix\"> - Prix : {{this.objet.prix.toLocaleString(\"fr\")}} po</span>\n        </p>\n        <p *ngIf=\"this.objet.afficherInfos && this.objet.degats\">\n            <span *ngIf=\"this.objet.taille\"> Dégats : {{this.objet.degats}}</span>\n            <span *ngIf=\"this.objet.bonus\"> - Bonus +{{this.objet.bonus}}</span></p>\n        <div *ngIf=\"this.objet.afficherMalediction && this.objet.malediction\">\n            Malediction\n            <br/>\n            <span [innerHTML]=\"this.objet.malediction.nom\"></span> : <span>{{this.objet.malediction.description}}</span>\n        </div>\n        <br/>\n        <ng-container *ngIf=\"this.objet.afficherEffetMagique\">\n            <ng-container *ngFor=\"let effetMagique of this.objet.effetMagique;\">\n                <h4>{{effetMagique.title}}</h4>\n                <span *ngFor=\"let description of effetMagique.effetMagiqueDescription; let index = index;\">\n                    <span [innerHTML]=\"description.contenu\"></span><br/>\n\n                    <ng-container *ngFor=\"let table of effetMagique.effetMagiqueTable;\">\n                        <span *ngIf=\"table.position === index + 1\">\n                            <table cellspacing=\"1\" border=\"1\">\n                                <tbody>\n                                <tr *ngFor=\"let th of table.effetMagiqueTableTitle; let thIndex = index\"\n                                    style=\"text-align: center\">\n                                    <ng-container\n                                        *ngFor=\"let title of th.effetMagiqueTableTitleContent; let titleIndex = index\">\n                                        <th *ngIf=\"thIndex === 0 && table.effetMagiqueTableTitle.length > 1\n                                        && table.effetMagiqueTableTitle[0].effetMagiqueTableTitleContent.length < table.effetMagiqueTableTitle[1].effetMagiqueTableTitleContent.length; else elseBlock\"\n                                            [colSpan]=\"(table.effetMagiqueTableTitle[1].effetMagiqueTableTitleContent.length / table.effetMagiqueTableTitle[0].effetMagiqueTableTitleContent.length)\">{{title.contenu}}</th>\n                                        <ng-template #elseBlock>\n                                            <th>{{title.contenu}}</th>\n                                        </ng-template>\n                                    </ng-container>\n                                </tr>\n                                <tr *ngFor=\"let td of table.effetMagiqueTableTr; let tdIndex = index\">\n                                    <ng-container *ngFor=\"let content of td.effetMagiqueTableTrContent\">\n                                        <td>{{content.contenu}}</td>\n                                    </ng-container>\n                                </tr>\n                                </tbody>\n                            </table>\n                        </span>\n                    </ng-container>\n\n\n                    <ng-container *ngFor=\"let ul of effetMagique.effetMagiqueUl;\">\n                        <span *ngIf=\"+ul.position === index + 1\">\n                            <ul>\n                                <li *ngFor=\"let li of ul.effetMagiqueUlContent;\" [innerHTML]=\"li.contenu\"></li>\n                            </ul>\n                        </span>\n                    </ng-container>\n                </span>\n                <br/>\n                <br/>\n                <span *ngIf=\"this.objet.afficherInfos && effetMagique.effetMagiqueDBInfos\">\n                    <span *ngFor=\"let info of effetMagique.effetMagiqueDBInfos\" [innerHTML]=\"info.contenu\"></span>\n                    <br/>\n                </span>\n            </ng-container>\n        </ng-container>\n        <div *ngIf=\"this.objet.afficherMateriau && this.objet.materiau\">\n            Materiau\n            <br/>\n            <span [innerHTML]=\"this.objet.materiau.nom\"></span> : <span>{{this.objet.materiau.effet}}</span>\n        </div>\n    </div>\n    <br/>\n    <div class=\"effetsMagiquesDecouverts\" *ngIf=\"this.effetsMagiquesDecouvertsAffichables()\">\n        <div class=\"effetMagiqueDecouvert\" *ngFor=\"let effetMagique of this.effetsMagiquesDecouverts; let indexEffetMagiqueDecouvert = index\">\n            <div *ngIf=\"this.modificationsEnCours[indexEffetMagiqueDecouvert] === false; else modification\">\n                <p>{{effetsMagiquesDecouverts[indexEffetMagiqueDecouvert].effet}}</p>\n                <button class=\"btn btn-primary\" (click)=\"this.lancerModification(indexEffetMagiqueDecouvert)\">Modifier</button>\n            </div>\n            <ng-template #modification>\n                <div>\n                    <mat-form-field class=\"example-full-width\">\n                        <mat-label>Effet découvert n°{{indexEffetMagiqueDecouvert}}</mat-label>\n                        <textarea [(ngModel)]=\"effetsMagiquesDecouverts[indexEffetMagiqueDecouvert].effet\" matInput></textarea>\n                    </mat-form-field>\n                </div>\n                <button class=\"btn btn-danger\" (click)=\"this.supprimerEffetDecouvert(this.indexEffetMagiqueDecouvert)\">Supprimer</button>\n                <button class=\"btn btn-warning\" (click)=\"this.modifierEffetDecouvert(this.indexEffetMagiqueDecouvert)\">Modifier</button>\n                <button class=\"btn btn-light\" (click)=\"this.annulerModificationEffetDecouvert(this.indexEffetMagiqueDecouvert)\">Annuler</button>\n            </ng-template>\n        </div>\n        <button class=\"btn btn-outline-primary\" (click)=\"this.ajouterEffetDecouvert()\" *ngIf=\"!this.ajoutEffetDecouvert\">Ajouter un effet découvert</button>\n        <div *ngIf=\"this.ajoutEffetDecouvert\">\n            <div>\n                <mat-form-field class=\"example-full-width\">\n                    <mat-label>Effet découvert à ajouter</mat-label>\n                    <textarea [(ngModel)]=\"this.effetDecouvertAAjouter\" matInput></textarea>\n                </mat-form-field>\n            </div>\n            <button class=\"btn btn-light\" (click)=\"this.annulerAjoutEffetDecouvert()\">Annuler</button>\n            <button class=\"btn btn-primary\" (click)=\"this.validerAjoutEffetDecouvert()\">Valider</button>\n        </div>\n    </div>\n</div>\n\n<div *ngIf=\"this.objet && this.updating\">\n    <div class=\"messageChargement\">Chargement en cours</div>\n    <mat-progress-bar mode=\"query\"></mat-progress-bar>\n</div>\n\n<app-fading-info #Banner></app-fading-info>\n","import {Component, EventEmitter, HostListener, Input, OnChanges, OnInit, Output, SimpleChanges} from '@angular/core';\r\nimport {ObjetService} from '../services/objet.service';\r\nimport {HttpClient} from '@angular/common/http';\r\nimport {SpecialResponse} from '../loot-table/loot-table.component';\r\nimport {HttpMethods} from '../interface/http-methods.enum';\r\n\r\nimport * as equal from 'fast-deep-equal';\r\n\r\n@Component({\r\n    selector: 'app-personnage-objet',\r\n    templateUrl: './personnage-objet.component.html',\r\n    styleUrls: ['./personnage-objet.component.scss']\r\n})\r\nexport class PersonnageObjetComponent implements OnInit {\r\n\r\n    @Input() set idObj(id: number) { this.idObjet = id; this.valide = false; this.modificationEnCours = false; this.loadObjet(); }\r\n    @Output() changingObjet = new EventEmitter<any>();\r\n\r\n    idObjet: number;\r\n\r\n    objet: ObjetCommunFromDB;\r\n    objetOriginal: ObjetCommunFromDB;\r\n\r\n    modificationEnCours = false;\r\n    valide = false;\r\n\r\n    updating = false;\r\n\r\n    constructor(private http: HttpClient,\r\n                private objetService: ObjetService) { }\r\n\r\n    ngOnInit(): void {\r\n    }\r\n\r\n    loadObjet() {\r\n        this.objetService.getObjetComplet(this.http, this.idObjet).then(\r\n            (dataObjet: any) => {\r\n                const response: SpecialResponse = dataObjet as SpecialResponse;\r\n                console.log(response);\r\n                this.objet = response.data as ObjetCommunFromDB;\r\n                this.objetOriginal = JSON.parse(JSON.stringify(this.objet)) as ObjetCommunFromDB;\r\n                console.log(this.objet);\r\n            }\r\n        );\r\n    }\r\n\r\n    @HostListener('document:keydown', ['$event'])\r\n    handleKeyboardEvent(event: KeyboardEvent) {\r\n        if (this.modificationEnCours && event.key === 'Enter' && event.ctrlKey) {\r\n            this.modifierContenu();\r\n        }\r\n    }\r\n\r\n    trackByFn(index, item) {\r\n        return index;\r\n    }\r\n\r\n    modifierContenu() {\r\n        this.modificationEnCours = !this.modificationEnCours;\r\n        // this.checkProprietesMagiquesIntegrity();\r\n    }\r\n\r\n    resetContenu() {\r\n        this.objet = JSON.parse(JSON.stringify(this.objetOriginal)) as ObjetCommunFromDB;\r\n    }\r\n\r\n    selection() {\r\n        this.valide = !this.valide;\r\n        if (this.valide && JSON.stringify(this.objetOriginal) !== JSON.stringify(this.objet)) {\r\n            this.updating = true;\r\n            this.updateObjet();\r\n            this.changingObjet.emit(this.objet.idObjet);\r\n            setTimeout( () => { this.loadObjet(); }, 1250 );\r\n            setTimeout( () => {\r\n                this.updating = false;\r\n                this.valide = false;\r\n                this.modificationEnCours = false;\r\n            }, 2500 );\r\n        }\r\n    }\r\n\r\n    checkProprietesMagiquesIntegrity() {\r\n        for (let i = 0 ; i < this.objet.effetMagique.length ; i++) {\r\n            for (let indexDescription = 0 ;\r\n                 indexDescription < this.objet.effetMagique[i].effetMagiqueDescription.length ; indexDescription++) {\r\n                if (this.objet.effetMagique[i].effetMagiqueDescription[indexDescription].contenu.length === 0) {\r\n                    this.objet.effetMagique[i].effetMagiqueDescription.splice(indexDescription, 1);\r\n                    indexDescription--;\r\n                }\r\n            }\r\n            if (this.objet.effetMagique[i].effetMagiqueTable) {\r\n                for (let indexTable = 0; indexTable < this.objet.effetMagique[i].effetMagiqueTable.length; indexTable++) {\r\n                    for (let indexTableTitle = 0; indexTableTitle <\r\n                    this.objet.effetMagique[i].effetMagiqueTable[indexTable].effetMagiqueTableTitle.length; indexTableTitle++) {\r\n                        for (let indexTableTitleContent = 0; indexTableTitleContent <\r\n                        this.objet.effetMagique[i].effetMagiqueTable[indexTable]\r\n                            .effetMagiqueTableTitle[indexTableTitle].effetMagiqueTableTitleContent.length; indexTableTitleContent++) {\r\n                            if\r\n                            (this.objet.effetMagique[i].effetMagiqueTable[indexTable].effetMagiqueTableTitle[indexTableTitle]\r\n                                .effetMagiqueTableTitleContent[indexTableTitleContent].contenu.length === 0) {\r\n                                this.objet.effetMagique[i].effetMagiqueTable[indexTable].effetMagiqueTableTitle[indexTableTitle]\r\n                                    .effetMagiqueTableTitleContent.splice(indexTableTitleContent, 1);\r\n                                indexTableTitleContent--;\r\n                            }\r\n                        }\r\n                        if (this.objet.effetMagique[i].effetMagiqueTable[indexTable]\r\n                            .effetMagiqueTableTitle[indexTableTitle].effetMagiqueTableTitleContent.length === 0) {\r\n                            this.objet.effetMagique[i].effetMagiqueTable[indexTable].effetMagiqueTableTitle.splice(indexTableTitle, 1);\r\n                            indexTableTitle--;\r\n                        }\r\n                    }\r\n                    for (let indexTableTr = 0; indexTableTr <\r\n                    this.objet.effetMagique[i].effetMagiqueTable[indexTable].effetMagiqueTableTr.length; indexTableTr++) {\r\n                        for (let indexTableTrContent = 0; indexTableTrContent <\r\n                        this.objet.effetMagique[i].effetMagiqueTable[indexTable].effetMagiqueTableTr[indexTableTr]\r\n                            .effetMagiqueTableTrContent.length; indexTableTrContent++) {\r\n                            if (this.objet.effetMagique[i].effetMagiqueTable[indexTable].effetMagiqueTableTr[indexTableTr]\r\n                                .effetMagiqueTableTrContent[indexTableTrContent].contenu.length === 0) {\r\n                                this.objet.effetMagique[i].effetMagiqueTable[indexTable]\r\n                                    .effetMagiqueTableTr[indexTableTr].effetMagiqueTableTrContent.splice(indexTableTrContent, 1);\r\n                                indexTableTrContent--;\r\n                            }\r\n                        }\r\n                        if (this.objet.effetMagique[i].effetMagiqueTable[indexTable]\r\n                            .effetMagiqueTableTr[indexTableTr].effetMagiqueTableTrContent.length === 0) {\r\n                            this.objet.effetMagique[i].effetMagiqueTable[indexTable].effetMagiqueTableTr.splice(indexTableTr, 1);\r\n                            indexTableTr--;\r\n                        }\r\n                    }\r\n                    if (this.objet.effetMagique[i].effetMagiqueTable[indexTable].effetMagiqueTableTitle.length === 0\r\n                        && this.objet.effetMagique[i].effetMagiqueTable[indexTable].effetMagiqueTableTr.length === 0) {\r\n                        this.objet.effetMagique[i].effetMagiqueTable.splice(indexTable, 1);\r\n                        indexTable--;\r\n                    }\r\n                }\r\n            }\r\n            if (this.objet.effetMagique[i].effetMagiqueUl) {\r\n                for (let indexUl = 0; indexUl < this.objet.effetMagique[i].effetMagiqueUl.length; indexUl++) {\r\n                    for (let indexLi = 0; indexLi < this.objet.effetMagique[i]\r\n                        .effetMagiqueUl[indexUl].effetMagiqueUlContent.length; indexLi++) {\r\n                        if (this.objet.effetMagique[i].effetMagiqueUl[indexUl].effetMagiqueUlContent[indexLi].contenu.length === 0) {\r\n                            this.objet.effetMagique[i].effetMagiqueUl[indexUl].effetMagiqueUlContent.splice(indexLi, 1);\r\n                            indexLi--;\r\n                        }\r\n                    }\r\n                    if (this.objet.effetMagique[i].effetMagiqueUl.length === 0) {\r\n                        this.objet.effetMagique[i].effetMagiqueUl.splice(indexUl, 1);\r\n                        indexUl--;\r\n                    }\r\n                }\r\n            }\r\n\r\n            for (let indexInfos = 0 ;\r\n                 indexInfos < this.objet.effetMagique[i].effetMagiqueDBInfos.length ; indexInfos++) {\r\n                if (this.objet.effetMagique[i].effetMagiqueDBInfos[indexInfos].contenu.length === 0) {\r\n                    this.objet.effetMagique[i].effetMagiqueDBInfos.splice(indexInfos, 1);\r\n                    indexInfos--;\r\n                }\r\n            }\r\n\r\n            if (this.objet.materiau) {\r\n                if (this.objet.materiau.effet.length === 0 && this.objet.materiau.nom.length === 0) {\r\n                    this.objet.materiau = null;\r\n                }\r\n            }\r\n\r\n            if (this.objet.malediction) {\r\n                if (this.objet.malediction.description.length === 0 && this.objet.malediction.nom.length === 0) {\r\n                    this.objet.malediction = null;\r\n                }\r\n            }\r\n\r\n            if (this.objet.effetMagique[i].effetMagiqueDescription.length === 0\r\n                && !this.objet.effetMagique[i].effetMagiqueTable\r\n                && !this.objet.effetMagique[i].effetMagiqueUl) {\r\n                console.log('Suppression de la propriete magique :' + this.objet.effetMagique[i].title);\r\n                this.objet.effetMagique.splice(i, 1);\r\n                i--;\r\n            }\r\n        }\r\n    }\r\n\r\n    changeValidation(name: string) {\r\n        switch (name.toLowerCase()) {\r\n            case 'nom':\r\n                this.objet.afficherNom = !this.objet.afficherNom;\r\n                break;\r\n            case 'effetmagique':\r\n                this.objet.afficherEffetMagique = !this.objet.afficherEffetMagique;\r\n                break;\r\n            case 'malediction':\r\n                this.objet.afficherMalediction = !this.objet.afficherMalediction;\r\n                break;\r\n            case 'materiau':\r\n                this.objet.afficherMateriau = !this.objet.afficherMateriau;\r\n                break;\r\n            case 'infos':\r\n                this.objet.afficherInfos = !this.objet.afficherInfos;\r\n                break;\r\n\r\n        }\r\n        this.areDifferentObjets(this.objet, this.objetOriginal);\r\n    }\r\n\r\n    // Ne gère que l'update. La suppression sera à gérer dans la fonction checkProprietesMagiquesIntegrity.\r\n    // Ça sera plus simple.\r\n    // Ou alors, il ne faut mettre à jour la supression que quand on valide l'objet.\r\n    // Et ne plus utiliser checkProprietesMagiquesIntegrity, ce qui serait plus simple.\r\n    // Sinon, on ne sait pas quelle ligne supprimer.\r\n    updateObjet() {\r\n        this.setEmptyToNull();\r\n        if (this.isEmptyObjet()) {\r\n            // TODO : Supprimer objet\r\n            this.objetService.objet(this.http, HttpMethods.DELETE, 0, this.objet)\r\n                .then(\r\n                    (data: any) => {\r\n                        console.log(data);\r\n                    }\r\n                );\r\n        } else {\r\n            for (let indexEffet = 0; indexEffet < this.objet.effetMagique.length; indexEffet++) {\r\n                if (this.isEmptyEffetMagique(this.objet.effetMagique[indexEffet])) {\r\n                    // TODO : Supprimer effet\r\n                    this.objetService.effetMagique(this.http, HttpMethods.DELETE, 0, this.objet.effetMagique[indexEffet])\r\n                        .then(\r\n                            (data: any) => {\r\n                                console.log(data);\r\n                            }\r\n                        );\r\n                } else {\r\n                    for (let indexTable = 0; indexTable < this.objet.effetMagique[indexEffet].effetMagiqueTable.length; indexTable++) {\r\n                        if (this.isEmptyTable(this.objet.effetMagique[indexEffet].effetMagiqueTable[indexTable])) {\r\n                            // TODO : Supprimer table\r\n                            this.objetService.table(this.http, HttpMethods.DELETE, 0,\r\n                                this.objet.effetMagique[indexEffet].effetMagiqueTable[indexTable])\r\n                                .then(\r\n                                    (data: any) => {\r\n                                        console.log(data);\r\n                                    }\r\n                                );\r\n                        } else {\r\n                            if (this.areDifferentTables(this.objet.effetMagique[indexEffet].effetMagiqueTable[indexTable],\r\n                                this.objetOriginal.effetMagique[indexEffet].effetMagiqueTable[indexTable])) {\r\n                                // TODO : Modifier la table.\r\n                                this.objetService.table(this.http, HttpMethods.PUT, 0,\r\n                                    this.objet.effetMagique[indexEffet].effetMagiqueTable[indexTable])\r\n                                    .then(\r\n                                        (data: any) => {\r\n                                            console.log(data);\r\n                                        }\r\n                                    );\r\n                            }\r\n                            for (let indexTitle = 0;\r\n                                 indexTitle < this.objet.effetMagique[indexEffet].effetMagiqueTable[indexTable]\r\n                                     .effetMagiqueTableTitle.length;\r\n                                 indexTitle++) {\r\n                                if (this.isEmptyTableTitle(this.objet.effetMagique[indexEffet].effetMagiqueTable[indexTable]\r\n                                    .effetMagiqueTableTitle[indexTitle])) {\r\n                                    // TODO : Supprimer title\r\n                                    this.objetService.title(this.http, HttpMethods.DELETE, 0,\r\n                                        this.objet.effetMagique[indexEffet].effetMagiqueTable[indexTable]\r\n                                            .effetMagiqueTableTitle[indexTitle])\r\n                                        .then(\r\n                                            (data: any) => {\r\n                                                console.log(data);\r\n                                            }\r\n                                        );\r\n                                } else {\r\n                                    if (this.areDifferentTableTitles(this.objet.effetMagique[indexEffet].effetMagiqueTable[indexTable]\r\n                                            .effetMagiqueTableTitle[indexTitle],\r\n                                        this.objetOriginal.effetMagique[indexEffet].effetMagiqueTable[indexTable]\r\n                                            .effetMagiqueTableTitle[indexTitle])) {\r\n                                        // TODO : Modifier title\r\n                                        this.objetService.title(this.http, HttpMethods.PUT, 0,\r\n                                            this.objet.effetMagique[indexEffet].effetMagiqueTable[indexTable]\r\n                                                .effetMagiqueTableTitle[indexTitle])\r\n                                            .then(\r\n                                                (data: any) => {\r\n                                                    console.log(data);\r\n                                                }\r\n                                            );\r\n                                    }\r\n                                    for (let indexTitleContent = 0;\r\n                                         indexTitleContent < this.objet.effetMagique[indexEffet].effetMagiqueTable[indexTable]\r\n                                             .effetMagiqueTableTitle[indexTitle].effetMagiqueTableTitleContent.length;\r\n                                         indexTitleContent++) {\r\n                                        if (this.isEmptyTableTitleContent(this.objet.effetMagique[indexEffet].effetMagiqueTable[indexTable]\r\n                                            .effetMagiqueTableTitle[indexTitle].effetMagiqueTableTitleContent[indexTitleContent])) {\r\n                                            // TODO : Supprimer title content\r\n                                            this.objetService.titleContent(this.http, HttpMethods.DELETE, 0,\r\n                                                this.objet.effetMagique[indexEffet].effetMagiqueTable[indexTable]\r\n                                                    .effetMagiqueTableTitle[indexTitle]\r\n                                                    .effetMagiqueTableTitleContent[indexTitleContent]).then(\r\n                                                (data: any) => {\r\n                                                    console.log(data);\r\n                                                }\r\n                                            );\r\n                                        } else {\r\n                                            if (this.areDifferentTableTitleContents(this.objet.effetMagique[indexEffet]\r\n                                                    .effetMagiqueTable[indexTable].effetMagiqueTableTitle[indexTitle]\r\n                                                    .effetMagiqueTableTitleContent[indexTitleContent],\r\n                                                this.objetOriginal.effetMagique[indexEffet].effetMagiqueTable[indexTable]\r\n                                                    .effetMagiqueTableTitle[indexTitle]\r\n                                                    .effetMagiqueTableTitleContent[indexTitleContent])) {\r\n                                                // TODO : Modifier title content\r\n                                                this.objetService.titleContent(this.http, HttpMethods.PUT, 0,\r\n                                                    this.objet.effetMagique[indexEffet].effetMagiqueTable[indexTable]\r\n                                                        .effetMagiqueTableTitle[indexTitle]\r\n                                                        .effetMagiqueTableTitleContent[indexTitleContent]).then(\r\n                                                    (data: any) => {\r\n                                                        console.log(data);\r\n                                                    }\r\n                                                );\r\n                                            }\r\n                                        }\r\n                                    }\r\n                                }\r\n                            }\r\n                            for (let indexTr = 0;\r\n                                 indexTr < this.objet.effetMagique[indexEffet].effetMagiqueTable[indexTable].effetMagiqueTableTr.length;\r\n                                 indexTr++) {\r\n                                if (this.isEmptyTableTr(this.objet.effetMagique[indexEffet].effetMagiqueTable[indexTable]\r\n                                    .effetMagiqueTableTr[indexTr])) {\r\n                                    // TODO : Supprimer tr\r\n                                    this.objetService.tr(this.http, HttpMethods.DELETE, 0,\r\n                                        this.objet.effetMagique[indexEffet].effetMagiqueTable[indexTable].effetMagiqueTableTr[indexTr])\r\n                                        .then(\r\n                                            (data: any) => {\r\n                                                console.log(data);\r\n                                            }\r\n                                        );\r\n                                } else {\r\n                                    if (this.areDifferentTableTrs(this.objet.effetMagique[indexEffet].effetMagiqueTable[indexTable]\r\n                                            .effetMagiqueTableTr[indexTr],\r\n                                        this.objetOriginal.effetMagique[indexEffet].effetMagiqueTable[indexTable]\r\n                                            .effetMagiqueTableTr[indexTr])) {\r\n                                        // TODO : Modifier tr\r\n                                        this.objetService.tr(this.http, HttpMethods.PUT, 0,\r\n                                            this.objet.effetMagique[indexEffet].effetMagiqueTable[indexTable].effetMagiqueTableTr[indexTr])\r\n                                            .then(\r\n                                                (data: any) => {\r\n                                                    console.log(data);\r\n                                                }\r\n                                            );\r\n                                    }\r\n                                    for (let indexTrContent = 0;\r\n                                         indexTrContent < this.objet.effetMagique[indexEffet].effetMagiqueTable[indexTable]\r\n                                             .effetMagiqueTableTr[indexTr].effetMagiqueTableTrContent.length;\r\n                                         indexTrContent++) {\r\n                                        if (this.isEmptyTableTrContent(this.objet.effetMagique[indexEffet].effetMagiqueTable[indexTable]\r\n                                            .effetMagiqueTableTr[indexTr].effetMagiqueTableTrContent[indexTrContent])) {\r\n                                            // TODO : Supprimer tr content\r\n                                            this.objetService.trContent(this.http, HttpMethods.DELETE, 0,\r\n                                                this.objet.effetMagique[indexEffet].effetMagiqueTable[indexTable]\r\n                                                    .effetMagiqueTableTr[indexTr].effetMagiqueTableTrContent[indexTrContent]).then(\r\n                                                (data: any) => {\r\n                                                    console.log(data);\r\n                                                }\r\n                                            );\r\n                                        } else {\r\n                                            if (this.areDifferentTableTrContents(this.objet.effetMagique[indexEffet]\r\n                                                    .effetMagiqueTable[indexTable].effetMagiqueTableTr[indexTr]\r\n                                                    .effetMagiqueTableTrContent[indexTrContent],\r\n                                                this.objetOriginal.effetMagique[indexEffet].effetMagiqueTable[indexTable]\r\n                                                    .effetMagiqueTableTr[indexTr].effetMagiqueTableTrContent[indexTrContent])) {\r\n                                                // TODO : Modifier tr content\r\n                                                this.objetService.trContent(this.http, HttpMethods.PUT, 0,\r\n                                                    this.objet.effetMagique[indexEffet].effetMagiqueTable[indexTable]\r\n                                                        .effetMagiqueTableTr[indexTr].effetMagiqueTableTrContent[indexTrContent]).then(\r\n                                                    (data: any) => {\r\n                                                        console.log(data);\r\n                                                    }\r\n                                                );\r\n                                            }\r\n                                        }\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                    for (let indexUl = 0; indexUl < this.objet.effetMagique[indexEffet].effetMagiqueUl.length; indexUl++) {\r\n                        if (this.isEmptyUl(this.objet.effetMagique[indexEffet].effetMagiqueUl[indexUl])) {\r\n                            // TODO : Supprimer ul\r\n                            this.objetService.ul(this.http, HttpMethods.DELETE, 0,\r\n                                this.objet.effetMagique[indexEffet].effetMagiqueUl[indexUl]).then(\r\n                                (data: any) => {\r\n                                    console.log(data);\r\n                                }\r\n                            );\r\n                        } else {\r\n                            if (this.areDifferentUls(this.objet.effetMagique[indexEffet].effetMagiqueUl[indexUl],\r\n                                this.objetOriginal.effetMagique[indexEffet].effetMagiqueUl[indexUl])) {\r\n                                // TODO : Modifier ul\r\n                                this.objetService.ul(this.http, HttpMethods.PUT, 0,\r\n                                    this.objet.effetMagique[indexEffet].effetMagiqueUl[indexUl]).then(\r\n                                    (data: any) => {\r\n                                        console.log(data);\r\n                                    }\r\n                                );\r\n                            }\r\n                            for (let indexUlContent = 0;\r\n                                 indexUlContent < this.objet.effetMagique[indexEffet].effetMagiqueUl[indexUl].effetMagiqueUlContent.length;\r\n                                 indexUlContent++) {\r\n                                if (this.isEmptyUlContent(this.objet.effetMagique[indexEffet].effetMagiqueUl[indexUl]\r\n                                    .effetMagiqueUlContent[indexUlContent])) {\r\n                                    // TODO : Supprimer ul content\r\n                                    this.objetService.ulContent(this.http, HttpMethods.DELETE, 0,\r\n                                        this.objet.effetMagique[indexEffet].effetMagiqueUl[indexUl]\r\n                                            .effetMagiqueUlContent[indexUlContent]).then(\r\n                                        (data: any) => {\r\n                                            console.log(data);\r\n                                        }\r\n                                    );\r\n                                } else {\r\n                                    if (this.areDifferentUlContents(this.objet.effetMagique[indexEffet].effetMagiqueUl[indexUl]\r\n                                            .effetMagiqueUlContent[indexUlContent],\r\n                                        this.objetOriginal.effetMagique[indexEffet].effetMagiqueUl[indexUl]\r\n                                            .effetMagiqueUlContent[indexUlContent])) {\r\n                                        // TODO : Modifier ul content\r\n                                        console.log('Je modifie une valeur, car :' +\r\n                                            this.objet.effetMagique[indexEffet].effetMagiqueUl[indexUl]\r\n                                                .effetMagiqueUlContent[indexUlContent].contenu + ' !== ' +\r\n                                            this.objetOriginal.effetMagique[indexEffet].effetMagiqueUl[indexUl]\r\n                                                .effetMagiqueUlContent[indexUlContent].contenu);\r\n                                        this.objetService.ulContent(this.http, HttpMethods.PUT, 0,\r\n                                            this.objet.effetMagique[indexEffet].effetMagiqueUl[indexUl]\r\n                                                .effetMagiqueUlContent[indexUlContent]).then(\r\n                                            (data: any) => {\r\n                                                console.log(data);\r\n                                            }\r\n                                        );\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n\r\n\r\n                    for (let indexDescription = 0; indexDescription < this.objet.effetMagique[indexEffet].effetMagiqueDescription.length;\r\n                         indexDescription++) {\r\n                        if (this.isEmptyDescription(this.objet.effetMagique[indexEffet].effetMagiqueDescription[indexDescription])) {\r\n                            // TODO : Supprimer description\r\n                            this.objetService.description(this.http, HttpMethods.DELETE, 0,\r\n                                this.objet.effetMagique[indexEffet].effetMagiqueDescription[indexDescription])\r\n                                .then(\r\n                                    (data: any) => {\r\n                                        console.log(data);\r\n                                    }\r\n                                );\r\n                        } else {\r\n                            if (this.areDifferentDescriptions(this.objet.effetMagique[indexEffet].effetMagiqueDescription[indexDescription],\r\n                                this.objetOriginal.effetMagique[indexEffet].effetMagiqueDescription[indexDescription])) {\r\n                                // TODO : Modifier description\r\n                                this.objetService.description(this.http, HttpMethods.PUT, 0,\r\n                                    this.objet.effetMagique[indexEffet].effetMagiqueDescription[indexDescription])\r\n                                    .then(\r\n                                        (data: any) => {\r\n                                            console.log(data);\r\n                                        }\r\n                                    );\r\n                            }\r\n                        }\r\n                    }\r\n\r\n\r\n                    for (let indexInfos = 0; indexInfos < this.objet.effetMagique[indexEffet].effetMagiqueDBInfos.length;\r\n                         indexInfos++) {\r\n                        if (this.isEmptyInfo(this.objet.effetMagique[indexEffet].effetMagiqueDBInfos[indexInfos])) {\r\n                            // TODO : Supprimer infos\r\n                            this.objetService.infos(this.http, HttpMethods.DELETE, 0,\r\n                                this.objet.effetMagique[indexEffet].effetMagiqueDBInfos[indexInfos])\r\n                                .then(\r\n                                    (data: any) => {\r\n                                        console.log(data);\r\n                                    }\r\n                                );\r\n                        } else {\r\n                            if (this.areDifferentInfos(this.objet.effetMagique[indexEffet].effetMagiqueDBInfos[indexInfos],\r\n                                this.objetOriginal.effetMagique[indexEffet].effetMagiqueDBInfos[indexInfos])) {\r\n                                // TODO : Modifier infos\r\n                                this.objetService.infos(this.http, HttpMethods.PUT, 0,\r\n                                    this.objet.effetMagique[indexEffet].effetMagiqueDBInfos[indexInfos])\r\n                                    .then(\r\n                                        (data: any) => {\r\n                                            console.log(data);\r\n                                        }\r\n                                    );\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                    if (this.areDifferentEffetsMagiques(this.objet.effetMagique[indexEffet], this.objetOriginal.effetMagique[indexEffet])) {\r\n                        // TODO : Modifier effet\r\n                        this.objetService.effetMagique(this.http, HttpMethods.PUT, 0, this.objet.effetMagique[indexEffet])\r\n                            .then(\r\n                                (data: any) => {\r\n                                    console.log(data);\r\n                                }\r\n                            );\r\n                    }\r\n                }\r\n            }\r\n            if (this.areDifferentObjets(this.objet, this.objetOriginal)) {\r\n                this.objetService.objet(this.http, HttpMethods.PUT, 0, this.objet).then(\r\n                    (data: any) => {\r\n                        console.log(data);\r\n                    }\r\n                );\r\n            }\r\n        }\r\n    }\r\n\r\n    setEmptyToNull() {\r\n        this.objet.fauxNom = this.objet.fauxNom ? this.objet.fauxNom.length !== 0 ? this.objet.fauxNom : null : null;\r\n        this.objet.nom = this.objet.nom ? this.objet.nom.length !== 0 ? this.objet.nom : null : null;\r\n        this.objet.type = this.objet.type ? this.objet.type.length !== 0 ? this.objet.type : null : null;\r\n        this.objet.degats = this.objet.degats ? this.objet.degats.length !== 0 ? this.objet.degats : null : null;\r\n        this.objet.categorie = this.objet.categorie ? this.objet.categorie.length !== 0 ? this.objet.categorie : null : null;\r\n        this.objet.critique = this.objet.critique ? this.objet.critique.length !== 0 ? this.objet.critique : null : null;\r\n        this.objet.devise = this.objet.devise ? this.objet.devise.length !== 0 ? this.objet.devise : null : null;\r\n        this.objet.facteurPortee = this.objet.facteurPortee ?\r\n            this.objet.facteurPortee.length !== 0 ? this.objet.facteurPortee : null\r\n            : null;\r\n        this.objet.risqueEchecSorts = this.objet.risqueEchecSorts ?\r\n            this.objet.risqueEchecSorts.length !== 0 ? this.objet.risqueEchecSorts : null\r\n            : null;\r\n        this.objet.taille = this.objet.taille ? this.objet.taille.length !== 0 ? this.objet.taille : null : null;\r\n    }\r\n\r\n    isEmptyTable(effetMagiqueTable: EffetMagiqueTable): boolean {\r\n        for (const title of effetMagiqueTable.effetMagiqueTableTitle) {\r\n            if (!this.isEmptyTableTitle(title)) {\r\n                return false;\r\n            }\r\n        }\r\n        for (const tr of effetMagiqueTable.effetMagiqueTableTr) {\r\n            if (!this.isEmptyTableTr(tr)) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n\r\n    isEmptyTableTitle(effetMagiqueTableTitle: EffetMagiqueTableTitle): boolean {\r\n        for (const titleContent of effetMagiqueTableTitle.effetMagiqueTableTitleContent) {\r\n            if (!this.isEmptyTableTitleContent(titleContent)) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n\r\n    isEmptyTableTitleContent(effetMagiqueTableTitleContent: EffetMagiqueTableTitleContent): boolean {\r\n        return effetMagiqueTableTitleContent.contenu.length === 0 || !(!!effetMagiqueTableTitleContent.contenu);\r\n    }\r\n\r\n    isEmptyTableTr(effetMagiqueTableTr: EffetMagiqueTableTr): boolean {\r\n        for (const trContent of effetMagiqueTableTr.effetMagiqueTableTrContent) {\r\n            if (!this.isEmptyTableTrContent(trContent)) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n\r\n    isEmptyTableTrContent(effetMagiqueTableTrContent: EffetMagiqueTableTrContent): boolean {\r\n        return !(!!effetMagiqueTableTrContent.contenu) || effetMagiqueTableTrContent.contenu.length === 0;\r\n    }\r\n\r\n    isEmptyUl(effetMagiqueUl: EffetMagiqueUl): boolean {\r\n        for (const ulContent of effetMagiqueUl.effetMagiqueUlContent) {\r\n            if (!this.isEmptyUlContent(ulContent)) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n\r\n    isEmptyUlContent(effetMagiqueUlContent: EffetMagiqueUlContent): boolean {\r\n        return effetMagiqueUlContent.contenu.length === 0;\r\n    }\r\n\r\n    isEmptyDescriptions(effetMagiqueDescriptions: EffetMagiqueDescription[]) {\r\n        for (const description of effetMagiqueDescriptions) {\r\n            if (!this.isEmptyDescription(description)) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n\r\n    isEmptyDescription(description: EffetMagiqueDescription): boolean {\r\n        return !(!!description.contenu) || description.contenu.length === 0;\r\n    }\r\n\r\n    isEmptyInfos(effetMagiqueInfos: EffetMagiqueDBInfos[]) {\r\n        for (const infos of effetMagiqueInfos) {\r\n            if (!this.isEmptyInfo(infos)) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n\r\n    isEmptyInfo(info: EffetMagiqueDBInfos) {\r\n        return !(!!info.contenu) || info.contenu.length === 0;\r\n    }\r\n\r\n    isEmptyEffetMagique(effetMagique: EffetMagiqueDB) {\r\n        for (const table of effetMagique.effetMagiqueTable) {\r\n            if (!this.isEmptyTable(table)) {\r\n                return false;\r\n            }\r\n        }\r\n        for (const ul of effetMagique.effetMagiqueUl) {\r\n            if (!this.isEmptyUl(ul)) {\r\n                return false;\r\n            }\r\n        }\r\n        if (!this.isEmptyDescriptions(effetMagique.effetMagiqueDescription)) {\r\n            return false;\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    isEmptyObjet(): boolean {\r\n        if (this.objet.nom.length !== 0\r\n            || (this.objet.malediction && (this.objet.malediction.nom.length !== 0 || this.objet.malediction.description.length !== 0))\r\n            || (this.objet.materiau && (this.objet.materiau.nom.length !== 0 || this.objet.materiau.effet.length !== 0))) {\r\n            return false;\r\n        }\r\n        for (const effet of this.objet.effetMagique) {\r\n            if (!this.isEmptyEffetMagique(effet)) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n\r\n    areDifferentTables(table1: EffetMagiqueTable, table2: EffetMagiqueTable): boolean {\r\n        return table1.idEffetMagique !== table2.idEffetMagique || table1.position !== table2.position;\r\n    }\r\n\r\n    areDifferentTableTitles(table1: EffetMagiqueTableTitle, table2: EffetMagiqueTableTitle): boolean {\r\n        return table1.idEffetMagiqueTable !== table2.idEffetMagiqueTable;\r\n    }\r\n\r\n    areDifferentTableTitleContents(table1: EffetMagiqueTableTitleContent, table2: EffetMagiqueTableTitleContent): boolean {\r\n        return table1.idEffetMagiqueTableTitle !== table2.idEffetMagiqueTableTitle || table1.contenu !== table2.contenu;\r\n    }\r\n\r\n    areDifferentTableTrs(table1: EffetMagiqueTableTr, table2: EffetMagiqueTableTr): boolean {\r\n        return table1.idEffetMagiqueTable !== table2.idEffetMagiqueTable;\r\n    }\r\n\r\n    areDifferentTableTrContents(table1: EffetMagiqueTableTrContent, table2: EffetMagiqueTableTrContent): boolean {\r\n        return table1.idEffetMagiqueTableTr !== table2.idEffetMagiqueTableTr || table1.contenu !== table2.contenu;\r\n    }\r\n\r\n    areDifferentUls(table1: EffetMagiqueUl, table2: EffetMagiqueUl): boolean {\r\n        return table1.idEffetMagique !== table2.idEffetMagique || table1.position !== table2.position;\r\n    }\r\n\r\n    areDifferentUlContents(table1: EffetMagiqueUlContent, table2: EffetMagiqueUlContent): boolean {\r\n        return table1.idEffetMagiqueUl !== table2.idEffetMagiqueUl || table1.contenu !== table2.contenu;\r\n    }\r\n\r\n    areDifferentDescriptions(description1: EffetMagiqueDescription, description2: EffetMagiqueDescription): boolean {\r\n        return description1.idEffetMagique !== description2.idEffetMagique || description1.contenu !== description2.contenu;\r\n    }\r\n\r\n    areDifferentInfos(infos1: EffetMagiqueDBInfos, infos2: EffetMagiqueDBInfos): boolean {\r\n        return infos1.idEffetMagique !== infos2.idEffetMagique || infos1.contenu !== infos2.contenu;\r\n    }\r\n\r\n    areDifferentEffetsMagiques(effet1: EffetMagiqueDB, effet2: EffetMagiqueDB): boolean {\r\n        return effet1.idObjet !== effet2.idObjet || effet1.title !== effet2.title;\r\n    }\r\n\r\n    areDifferentObjets(objet1: ObjetCommunFromDB, objet2: ObjetCommunFromDB): boolean {\r\n        const objetTemp1 = JSON.parse(JSON.stringify(objet1)) as ObjetCommunFromDB;\r\n        objetTemp1.effetMagique = null;\r\n        objetTemp1.materiau = null;\r\n        objetTemp1.malediction = null;\r\n        const objetTemp2 = JSON.parse(JSON.stringify(objet2)) as ObjetCommunFromDB;\r\n        objetTemp2.effetMagique = null;\r\n        objetTemp2.materiau = null;\r\n        objetTemp2.malediction = null;\r\n\r\n        // console.log(objetTemp1);\r\n        // console.log(objetTemp2);\r\n        // console.log(JSON.stringify(objetTemp1) !== JSON.stringify(objetTemp2));\r\n        // console.log(!equal(objetTemp1, objetTemp2)); // true\r\n        // return JSON.stringify(objetTemp1) !== JSON.stringify(objetTemp2);\r\n        return !equal(objetTemp1, objetTemp2);\r\n    }\r\n}\r\n","<div style=\"width: 100%\" *ngIf=\"this.objet && !this.updating\" class=\"personnageObjet\">\r\n    <div style=\"width: 100%\" *ngIf=\"!this.modificationEnCours\">\r\n        <div class=\"titleTop\">\r\n            <div class=\"h1Fake\" [innerHTML]=\"this.objet.nom\"></div>\r\n            <div class=\"validationAffichage\">\r\n                <div class=\"validationBox\" (click)=\"this.changeValidation('nom')\" [ngClass]=\"{'validatedBox' : this.objet.afficherNom}\"\r\n                     data-toggle=\"tooltip\" data-placement=\"bottom\" matTooltip=\"Afficher le nom réel de l'objet\">{{this.objet.afficherNom ? 1 : 0}}</div>\r\n                <div class=\"validationBox\" (click)=\"this.changeValidation('effetMagique')\" [ngClass]=\"{'validatedBox' : this.objet.afficherEffetMagique}\"\r\n                     data-toggle=\"tooltip\" data-placement=\"bottom\" matTooltip=\"Afficher l'effet magique de l'objet\">{{this.objet.afficherEffetMagique ? 1 : 0}}</div>\r\n                <div class=\"validationBox\" (click)=\"this.changeValidation('malediction')\" [ngClass]=\"{'validatedBox' : this.objet.afficherMalediction}\"\r\n                     data-toggle=\"tooltip\" data-placement=\"bottom\" matTooltip=\"Afficher la malédiction de l'objet\">{{this.objet.afficherMalediction ? 1 : 0}}</div>\r\n                <div class=\"validationBox\" (click)=\"this.changeValidation('materiau')\" [ngClass]=\"{'validatedBox' : this.objet.afficherMateriau}\"\r\n                     data-toggle=\"tooltip\" data-placement=\"bottom\" matTooltip=\"Afficher le matériau de l'objet\">{{this.objet.afficherMateriau ? 1 : 0}}</div>\r\n                <div class=\"validationBox\" (click)=\"this.changeValidation('infos')\" [ngClass]=\"{'validatedBox' : this.objet.afficherInfos}\"\r\n                     data-toggle=\"tooltip\" data-placement=\"bottom\" matTooltip=\"Afficher les infos de l'effet magique\">{{this.objet.afficherInfos ? 1 : 0}}</div>\r\n            </div>\r\n        </div>\r\n        <h4 *ngIf=\"this.objet.fauxNom\"> Faux Nom : {{this.objet.fauxNom}}</h4>\r\n        <div *ngIf=\"this.objet.effetMagique\">{{this.objet.type}}</div>\r\n        <p *ngIf=\"this.objet.armure\"><span *ngIf=\"this.objet.armure\"> Armure: {{this.objet.armure}}\r\n                <span *ngIf=\"this.objet.bonus\">- Bonus +{{this.objet.bonus}}</span></span>\r\n            <span *ngIf=\"this.objet.prix\"> - Prix : {{this.objet.prix.toLocaleString(\"fr\")}} po</span>\r\n        </p>\r\n        <p *ngIf=\"this.objet.degats\"> <span *ngIf=\"this.objet.taille\"> Dégats : {{this.objet.degats}}</span><span\r\n            *ngIf=\"this.objet.bonus\"> - Bonus +{{this.objet.bonus}}</span></p>\r\n        <div *ngIf=\"this.objet.malediction\">\r\n            Malediction\r\n            <br/>\r\n            <span [innerHTML]=\"this.objet.malediction.nom\"></span> : <span>{{this.objet.malediction.description}}</span>\r\n        </div>\r\n        <br/>\r\n        <ng-container *ngFor=\"let effetMagique of this.objet.effetMagique;\">\r\n            <h4>{{effetMagique.title}}</h4>\r\n            <span *ngFor=\"let description of effetMagique.effetMagiqueDescription; let index = index;\">\r\n                    <span [innerHTML]=\"description.contenu\"></span><br/>\r\n\r\n                    <ng-container *ngFor=\"let table of effetMagique.effetMagiqueTable;\">\r\n                        <span *ngIf=\"table.position === index + 1\">\r\n                            <table cellspacing=\"1\" border=\"1\">\r\n                                <tbody>\r\n                                <tr *ngFor=\"let th of table.effetMagiqueTableTitle; let thIndex = index\" style=\"text-align: center\">\r\n                                    <ng-container *ngFor=\"let title of th.effetMagiqueTableTitleContent; let titleIndex = index\">\r\n                                        <th *ngIf=\"thIndex === 0 && table.effetMagiqueTableTitle.length > 1\r\n                                        && table.effetMagiqueTableTitle[0].effetMagiqueTableTitleContent.length < table.effetMagiqueTableTitle[1].effetMagiqueTableTitleContent.length; else elseBlock\"\r\n                                            [colSpan]=\"(table.effetMagiqueTableTitle[1].effetMagiqueTableTitleContent.length / table.effetMagiqueTableTitle[0].effetMagiqueTableTitleContent.length)\">{{title.contenu}}</th>\r\n                                        <ng-template #elseBlock>\r\n                                            <th>{{title.contenu}}</th>\r\n                                        </ng-template>\r\n                                    </ng-container>\r\n                                </tr>\r\n                                <tr *ngFor=\"let td of table.effetMagiqueTableTr; let tdIndex = index\">\r\n                                    <ng-container *ngFor=\"let content of td.effetMagiqueTableTrContent\">\r\n                                        <td>{{content.contenu}}</td>\r\n                                    </ng-container>\r\n                                </tr>\r\n                                </tbody>\r\n                            </table>\r\n                        </span>\r\n                    </ng-container>\r\n\r\n\r\n                    <ng-container *ngFor=\"let ul of effetMagique.effetMagiqueUl;\">\r\n                        <span *ngIf=\"+ul.position === index + 1\">\r\n                            <ul>\r\n                                <li *ngFor=\"let li of ul.effetMagiqueUlContent;\" [innerHTML]=\"li.contenu\"></li>\r\n                            </ul>\r\n                        </span>\r\n                    </ng-container>\r\n                </span>\r\n            <br/>\r\n            <br/>\r\n            <span *ngIf=\"effetMagique.effetMagiqueDBInfos\"> <span *ngFor=\"let info of effetMagique.effetMagiqueDBInfos\" [innerHTML]=\"info.contenu\"></span></span><br/><br/>\r\n        </ng-container>\r\n        <div *ngIf=\"this.objet.materiau\">\r\n            Materiau\r\n            <br/>\r\n            <span [innerHTML]=\"this.objet.materiau.nom\"></span> : <span>{{this.objet.materiau.effet}}</span>\r\n        </div>\r\n        <button class=\"btn btn-light\" (click)=\"this.modifierContenu()\" [disabled]=\"this.valide\">Modifier propriété magique</button>\r\n        <button class=\"btn btn-success\" *ngIf=\"!this.valide else objetValidee\" (click)=\"this.selection()\"\r\n                [disabled]=\"!this.areDifferentObjets(this.objet, this.objetOriginal) || (!this.objet.afficherNom && (!this.objet.fauxNom || this.objet.fauxNom.length === 0))\"\r\n                title=\"Des modifications doivent être faites, et vous ne pouvez valider si le nom ne sera pas afficher, et qu'aucun faux nom n'est défini.\">\r\n            Valider objet\r\n        </button>\r\n        <ng-template #objetValidee>\r\n            <button class=\"btn btn-outline-warning\" (click)=\"this.selection()\">Dévalider objet</button>\r\n        </ng-template>\r\n    </div>\r\n\r\n    <div style=\"width: 100%\" *ngIf=\"this.modificationEnCours\">\r\n        <div class=\"titleTop\">\r\n            <div class=\"h1Fake\" [innerHTML]=\"this.objet.nom\"></div>\r\n            <div class=\"validationAffichage\">\r\n                <div class=\"validationBox\" (click)=\"this.changeValidation('nom')\" [ngClass]=\"{'validatedBox' : this.objet.afficherNom}\"\r\n                     data-toggle=\"tooltip\" data-placement=\"bottom\" matTooltip=\"Afficher le nom réel de l'objet\">{{this.objet.afficherNom ? 1 : 0}}</div>\r\n                <div class=\"validationBox\" (click)=\"this.changeValidation('effetMagique')\" [ngClass]=\"{'validatedBox' : this.objet.afficherEffetMagique}\"\r\n                     data-toggle=\"tooltip\" data-placement=\"bottom\" matTooltip=\"Afficher l'effet magique de l'objet\">{{this.objet.afficherEffetMagique ? 1 : 0}}</div>\r\n                <div class=\"validationBox\" (click)=\"this.changeValidation('malediction')\" [ngClass]=\"{'validatedBox' : this.objet.afficherMalediction}\"\r\n                     data-toggle=\"tooltip\" data-placement=\"bottom\" matTooltip=\"Afficher la malédiction de l'objet\">{{this.objet.afficherMalediction ? 1 : 0}}</div>\r\n                <div class=\"validationBox\" (click)=\"this.changeValidation('materiau')\" [ngClass]=\"{'validatedBox' : this.objet.afficherMateriau}\"\r\n                     data-toggle=\"tooltip\" data-placement=\"bottom\" matTooltip=\"Afficher le matériau de l'objet\">{{this.objet.afficherMateriau ? 1 : 0}}</div>\r\n                <div class=\"validationBox\" (click)=\"this.changeValidation('infos')\" [ngClass]=\"{'validatedBox' : this.objet.afficherInfos}\"\r\n                     data-toggle=\"tooltip\" data-placement=\"bottom\" matTooltip=\"Afficher les infos de l'effet magique\">{{this.objet.afficherInfos ? 1 : 0}}</div>\r\n            </div>\r\n        </div>\r\n        <h6>\r\n            <mat-form-field class=\"example-full-width\">\r\n                <mat-label>Nom de l'bjet</mat-label>\r\n                <textarea [(ngModel)]=\"this.objet.nom\" matInput></textarea>\r\n            </mat-form-field>\r\n         </h6>\r\n        <mat-form-field appearance=\"fill\" class=\"example-full-width\">\r\n            <mat-label>Faux nom</mat-label>\r\n            <textarea [(ngModel)]=\"this.objet.fauxNom\" rows=\"1\" matInput></textarea>\r\n        </mat-form-field>\r\n        <mat-form-field>\r\n            <mat-label>Type de l'objet</mat-label>\r\n            <textarea [(ngModel)]=\"this.objet.type\" matInput></textarea>\r\n        </mat-form-field>\r\n        <!--Si c'est une arme-->\r\n        <div *ngIf=\"this.objet.degats\" style=\"width: 100%\">\r\n            <span *ngIf=\"this.objet.taille\">\r\n                <mat-form-field>\r\n                <mat-label>Dégâts</mat-label>\r\n                    <textarea [(ngModel)]=\"this.objet.degats\" matInput></textarea>\r\n                </mat-form-field>\r\n            </span>\r\n            <span *ngIf=\"this.objet.bonus\">\r\n                <mat-form-field>\r\n                <mat-label>Bonus dégâts +</mat-label>\r\n                    <textarea [(ngModel)]=\"this.objet.bonus\" matInput></textarea>\r\n                </mat-form-field>\r\n            </span>\r\n        </div>\r\n        <!--Si c'est une armure-->\r\n        <div *ngIf=\"this.objet.armure\" style=\"width: 100%\">\r\n\r\n            <span *ngIf=\"this.objet.armure\">\r\n                <mat-form-field>\r\n                <mat-label>Armure</mat-label>\r\n                    <textarea [(ngModel)]=\"this.objet.armure\" matInput></textarea>\r\n                </mat-form-field>\r\n            </span>\r\n\r\n            <span *ngIf=\"this.objet.bonus\">\r\n                <mat-form-field>\r\n                <mat-label>Bonus d'armure +</mat-label>\r\n                    <textarea [(ngModel)]=\"this.objet.bonus\" matInput></textarea>\r\n                </mat-form-field>\r\n            </span>\r\n\r\n            <span *ngIf=\"this.objet.prix\">\r\n                <mat-form-field>\r\n                <mat-label>Prix (po)</mat-label>\r\n                    <textarea [(ngModel)]=\"this.objet.prix\" matInput></textarea>\r\n                </mat-form-field>\r\n            </span>\r\n        </div>\r\n\r\n        <div *ngIf=\"this.objet.malediction\">\r\n            <hr  style=\"width: 66%; background-color: lightgrey; margin-left: 0; height : 1px\">\r\n            <h6>Malediction</h6>\r\n            <mat-form-field class=\"example-full-width\">\r\n                <mat-label>Nom malediction</mat-label>\r\n                <textarea [(ngModel)]=\"this.objet.malediction.nom\" matInput></textarea>\r\n            </mat-form-field>\r\n\r\n            <mat-form-field class=\"example-full-width\" style=\"width: 100%\">\r\n                <mat-label>Effet malediction</mat-label>\r\n                <textarea [(ngModel)]=\"this.objet.malediction.description\" matInput></textarea>\r\n            </mat-form-field>\r\n        </div>\r\n\r\n        <ng-container *ngFor=\"let proprieteObjet of this.objet.effetMagique; let indexPropriete = index; trackBy: trackByFn\">\r\n            <hr  style=\"width: 66%; background-color: lightgrey; margin-left: 0; height : 1px\">\r\n            <h6>Effet Magique</h6>\r\n            <h6>\r\n                <mat-form-field class=\"example-full-width\">\r\n                    <mat-label>Titre effetMagique</mat-label>\r\n                    <textarea [(ngModel)]=\"this.objet.effetMagique[indexPropriete].title\" matInput></textarea>\r\n                </mat-form-field>\r\n            </h6>\r\n            <span\r\n                *ngFor=\"let description of this.objet.effetMagique[indexPropriete].effetMagiqueDescription; let indexDescription = index; trackBy: trackByFn\">\r\n                    <textarea\r\n                        [(ngModel)]=\"this.objet.effetMagique[indexPropriete].effetMagiqueDescription[indexDescription].contenu\"></textarea><br/>\r\n\r\n                    <ng-container\r\n                        *ngFor=\"let table of this.objet.effetMagique[indexPropriete].effetMagiqueTable; let indexTable = index\">\r\n                        <span *ngIf=\"+table.position === indexDescription + 1\">\r\n                            <table>\r\n                                <tbody>\r\n                                <tr *ngFor=\"let th of this.objet.effetMagique[indexPropriete].effetMagiqueTable[indexTable].effetMagiqueTableTitle; let thIndex = index\">\r\n                                    <ng-container\r\n                                        *ngFor=\"let title of this.objet.effetMagique[indexPropriete].effetMagiqueTable[indexTable].effetMagiqueTableTitle[thIndex].effetMagiqueTableTitleContent; let tdIndex = index; trackBy: trackByFn\">\r\n                                        <th *ngIf=\"thIndex === 0 && table.effetMagiqueTableTitle.length > 1 && table.effetMagiqueTableTitle[0].effetMagiqueTableTitleContent.length < table.effetMagiqueTableTitle[1].effetMagiqueTableTitleContent.length; else elseBlock\"\r\n                                            [colSpan]=\"table.effetMagiqueTableTitle[1].effetMagiqueTableTitleContent.length / table.effetMagiqueTableTitle[0].effetMagiqueTableTitleContent.length\">\r\n                                            <textarea\r\n                                                [(ngModel)]=\"this.objet.effetMagique[indexPropriete].effetMagiqueTable[indexTable].effetMagiqueTableTitle[thIndex].effetMagiqueTableTitleContent[tdIndex].contenu\"></textarea>\r\n                                        </th>\r\n                                        <ng-template #elseBlock>\r\n                                            <th>\r\n                                                <textarea\r\n                                                    [(ngModel)]=\"this.objet.effetMagique[indexPropriete].effetMagiqueTable[indexTable].effetMagiqueTableTitle[thIndex].effetMagiqueTableTitleContent[tdIndex].contenu\"></textarea>\r\n                                            </th>\r\n                                        </ng-template>\r\n                                    </ng-container>\r\n                                </tr>\r\n                                <tr *ngFor=\"let td of this.objet.effetMagique[indexPropriete].effetMagiqueTable[indexTable].effetMagiqueTableTr; let trIndex = index\">\r\n                                    <ng-container\r\n                                        *ngFor=\"let content of this.objet.effetMagique[indexPropriete].effetMagiqueTable[indexTable].effetMagiqueTableTr[trIndex].effetMagiqueTableTrContent; let tdIndex = index; trackBy: trackByFn\">\r\n                                        <td>\r\n                                            <textarea\r\n                                                [(ngModel)]=\"this.objet.effetMagique[indexPropriete].effetMagiqueTable[indexTable].effetMagiqueTableTr[trIndex].effetMagiqueTableTrContent[tdIndex].contenu\"></textarea>\r\n                                        </td>\r\n                                    </ng-container>\r\n                                </tr>\r\n                                </tbody>\r\n                            </table>\r\n                        </span>\r\n                    </ng-container>\r\n\r\n                    <ng-container *ngFor=\"let shit of this.objet.effetMagique[indexPropriete].effetMagiqueUl; let indexUl = index;\">\r\n                        <span\r\n                            *ngIf=\"this.objet.effetMagique[indexPropriete].effetMagiqueUl[indexUl].position === indexDescription + 1\">\r\n                            <ul>\r\n                                <li *ngFor=\"let shitBis of this.objet.effetMagique[indexPropriete].effetMagiqueUl[indexUl].effetMagiqueUlContent; let indexLi = index; trackBy: trackByFn\">\r\n                                    <textarea\r\n                                        [(ngModel)]=\"this.objet.effetMagique[indexPropriete].effetMagiqueUl[indexUl].effetMagiqueUlContent[indexLi].contenu\"\r\n                                        [name]=\"'positon'+this.objet.effetMagique[indexPropriete].effetMagiqueUl[indexUl].position+'ul'+indexUl+'li'+indexLi\"></textarea>\r\n                                </li>\r\n                            </ul>\r\n                        </span>\r\n                    </ng-container>\r\n                </span>\r\n            <br/>\r\n            <h6>Infos effet magique</h6>\r\n            <ng-container\r\n                *ngFor=\"let shit of this.objet.effetMagique[indexPropriete].effetMagiqueDBInfos; let indexData = index; trackBy: trackByFn\">\r\n                <textarea [(ngModel)]=\"this.objet.effetMagique[indexPropriete].effetMagiqueDBInfos[indexData].contenu\"></textarea>\r\n            </ng-container>\r\n        </ng-container>\r\n        <div *ngIf=\"this.objet.materiau\">\r\n            <hr  style=\"width: 66%; background-color: lightgrey; margin-left: 0; height : 1px\">\r\n            <h6>Materiau</h6>\r\n            <mat-form-field class=\"example-full-width\">\r\n                <mat-label>Nom materiau</mat-label>\r\n                <textarea [(ngModel)]=\"this.objet.materiau.nom\" matInput></textarea>\r\n            </mat-form-field>\r\n\r\n            <mat-form-field class=\"example-full-width\" style=\"width: 100%\">\r\n                <mat-label>Effet materiau</mat-label>\r\n                <textarea [(ngModel)]=\"this.objet.materiau.effet\" matInput></textarea>\r\n            </mat-form-field>\r\n        </div>\r\n        <button class=\"btn btn-outline-light\" (click)=\"this.modifierContenu()\" [disabled]=\"!this.objet.afficherNom && (!this.objet.fauxNom || this.objet.fauxNom.length === 0)\"\r\n        title=\"Vous ne pouvez valider si le nom ne sera pas afficher, et qu'aucun faux nom n'est défini.\">Valider propriété magique</button>\r\n        <button class=\"btn btn-outline-warning\" (click)=\"this.resetContenu()\">Reset propriété magique</button>\r\n    </div>\r\n</div>\r\n<div *ngIf=\"this.objet && this.updating\">\r\n    <div class=\"messageChargement\">Chargement en cours</div>\r\n    <mat-progress-bar mode=\"query\"></mat-progress-bar>\r\n</div>\r\n","import {Component, OnInit} from '@angular/core';\nimport {SpecialResponse} from '../loot-table/loot-table.component';\nimport {HttpClient} from '@angular/common/http';\nimport {ObjetService} from '../services/objet.service';\nimport {PersonnageService} from '../services/personnage.service';\nimport {AuthService} from '../auth/auth.service';\n\n@Component({\n    selector: 'app-personnage',\n    templateUrl: './personnage.component.html',\n    styleUrls: ['./personnage.component.scss']\n})\nexport class PersonnageComponent implements OnInit {\n\n    personnages: Personnage[];\n\n    currentPersonnage: Personnage;\n    idPersonnageSelectionne: number;\n\n    afficherStatistiquesSecondaires = false;\n\n    objetMinimisations: ObjetMinimisation[];\n    objetCourantID: number;\n\n    updatingObjetName = false;\n    updatingObjetID: number;\n\n    constructor(private http: HttpClient,\n                private objetService: ObjetService,\n                private personnageService: PersonnageService,\n                private authService: AuthService) {\n    }\n\n    ngOnInit(): void {\n        this.personnageService.getAllPersonnages(this.http, true).then(\n            (data: any) => {\n                console.log(data);\n                const response = data as SpecialResponse;\n                this.personnages = response.data as Personnage[];\n            }\n        );\n    }\n\n    selectPersonnage() {\n        if (+this.idPersonnageSelectionne !== 0) {\n            this.currentPersonnage = this.personnages.find(f => f.idPersonnage === +this.idPersonnageSelectionne);\n            this.loadObjetsNames();\n        }\n    }\n\n    public loadObjetsNames() {\n        this.objetService.getAllObjetsNames(this.http, 1).then(\n            (dataObjet: any) => {\n                const response: SpecialResponse = dataObjet as SpecialResponse;\n                console.log(response);\n                this.objetMinimisations = response.data as ObjetMinimisation[];\n                console.log(this.objetMinimisations);\n            }\n        );\n    }\n\n    public selectObjet(idObjet: number) {\n        this.objetCourantID = idObjet;\n    }\n\n    basedOn(statistique: string) {\n        switch (statistique.toLowerCase()) {\n            case 'intelligence':\n                return Math.floor((this.currentPersonnage.intelligence - 10) / 2);\n            case 'force':\n                return Math.floor((this.currentPersonnage.force - 10) / 2);\n            case 'agilite':\n                return Math.floor((this.currentPersonnage.agilite - 10) / 2);\n            case 'sagesse':\n                return Math.floor((this.currentPersonnage.sagesse - 10) / 2);\n            case 'constitution':\n                return Math.floor((this.currentPersonnage.constitution - 10) / 2);\n            case 'vitalite':\n                return Math.floor((this.currentPersonnage.vitalite - 10) / 2);\n            case 'mana':\n                return Math.floor((this.currentPersonnage.mana - 10) / 2);\n        }\n    }\n\n    reloadingObjet(idObjet: number) {\n        this.updatingObjetName = true;\n        this.updatingObjetID = idObjet;\n        setTimeout(() => {\n            this.objetService.getObjetName(this.http, idObjet).then(\n                (dataObjet: any) => {\n                    const response: SpecialResponse = dataObjet as SpecialResponse;\n                    console.log(response);\n                    const index = this.objetMinimisations.indexOf(this.objetMinimisations.find(f => +f.idObjet === +idObjet));\n                    this.objetMinimisations[index] = response.data as ObjetMinimisation;\n                    console.log(this.objetMinimisations[index]);\n                }\n            );\n        }, 1250);\n        setTimeout(() => {\n            this.updatingObjetName = false;\n            this.updatingObjetID = null;\n        }, 2500);\n    }\n\n    getNomSansBalise(objetNom: string) {\n        console.log(objetNom);\n        console.log(objetNom.replace(/<a href=\"http:\\/\\/([a-z]*.*?)\">(.*?)<\\/a>/g, '$2'));\n        return objetNom.replace(/<a href=\"http:\\/\\/([a-z]*.*?)\">(.*?)<\\/a>/g, '$2');\n    }\n}\n","<div id=\"fakebody\">\r\n    <div class=\"principal\">\r\n        <div id=\"caracterSelection\" class=\"caracterSelection\">\r\n            <label for=\"inputPersonnageChoix\">Selectionnez un personnage pour visionner ses objets</label>\r\n            <select id=\"inputPersonnageChoix\" class=\"form-control\" (change)=\"selectPersonnage()\"\r\n                    [(ngModel)]=\"this.idPersonnageSelectionne\">\r\n                <option value=\"0\"> Aucun personnage</option>\r\n                <option *ngFor=\"let personnage of this.personnages\" [value]=\"personnage.idPersonnage\">\r\n                    {{personnage.idPersonnage}} - {{personnage.nom}}\r\n                </option>\r\n            </select>\r\n        </div>\r\n        <div *ngIf=\"this.currentPersonnage\" style=\"width: 100%;\">\r\n            <div style=\"width: 100%\">\r\n                <h3 *ngIf=\"this.currentPersonnage\"> {{currentPersonnage.nom}}</h3>\r\n            </div>\r\n            <div class=\"statistiques\">\r\n                <div class=\"statistiquesPrincipales\">\r\n                    <div>\r\n                        <div>Intelligence : {{this.currentPersonnage.intelligence}}</div>\r\n                        <div>Force : {{this.currentPersonnage.force}}</div>\r\n                        <div>Agilité : {{this.currentPersonnage.agilite}}</div>\r\n                    </div>\r\n                    <div>\r\n                        <div>Sagesse : {{this.currentPersonnage.sagesse}}</div>\r\n                        <div>Constitution : {{this.currentPersonnage.constitution}}</div>\r\n                        <div>Vitalité : {{this.currentPersonnage.vitalite}}</div>\r\n                        <div>Mana : {{this.currentPersonnage.mana}}</div>\r\n                    </div>\r\n                </div>\r\n                <mat-checkbox [(ngModel)]=\"this.afficherStatistiquesSecondaires\"\r\n                              color=\"primary\">\r\n                    Afficher statistiques secondaires\r\n                </mat-checkbox>\r\n                <div class=\"statistiquesSecondaires\" *ngIf=\"this.afficherStatistiquesSecondaires\">\r\n                    <div class=\"categorieStatistiquesSecondaires\">\r\n                        <div class=\"titre\">Lié à la Intelligence</div>\r\n                        <div>Art de la magie : {{this.basedOn('intelligence')}}</div>\r\n                        <div>Artisanat (Autre) : {{this.basedOn('intelligence')}}</div>\r\n                        <div>Art martial : {{this.basedOn('intelligence')}}</div>\r\n                        <div>Art psi : {{this.basedOn('intelligence')}}</div>\r\n                        <div>Connaissances : {{this.basedOn('intelligence')}}</div>\r\n                        <div>Contrefaçon : {{this.basedOn('intelligence')}}</div>\r\n                        <div>Décryptage : {{this.basedOn('intelligence')}}</div>\r\n                        <div>Désamorçage/sabotage : {{this.basedOn('intelligence')}}</div>\r\n                        <div>Estimation : {{this.basedOn('intelligence')}}</div>\r\n                        <div>Fouille : {{this.basedOn('intelligence')}}</div>\r\n                        <div>Prime idiome : {{this.basedOn('intelligence')}}</div>\r\n                    </div>\r\n                    <div class=\"categorieStatistiquesSecondaires\">\r\n                        <div class=\"titre\">Lié à la Dextérité</div>\r\n                        <div>Acrobaties : {{this.basedOn('agilite')}}</div>\r\n                        <div>Crochetage : {{this.basedOn('agilite')}}</div>\r\n                        <div>Déplacement silencieux : {{this.basedOn('agilite')}}</div>\r\n                        <div>Vision nocturne : {{this.basedOn('agilite')}}</div>\r\n                        <div>Discrétion : {{this.basedOn('agilite')}}</div>\r\n                        <div>Équilibre : {{this.basedOn('agilite')}}</div>\r\n                        <div>Équitation : {{this.basedOn('agilite')}}</div>\r\n                        <div>Escamotage : {{this.basedOn('agilite')}}</div>\r\n                        <div>Évasion : {{this.basedOn('agilite')}}</div>\r\n                        <div>Maîtrise des cordes : {{this.basedOn('agilite')}}</div>\r\n                    </div>\r\n                    <div class=\"categorieStatistiquesSecondaires\">\r\n                        <div class=\"titre\">Lié à la Sagesse</div>\r\n                        <div>Autohypnose : {{this.basedOn('sagesse')}}</div>\r\n                        <div>Contrôle de forme : {{this.basedOn('sagesse')}}</div>\r\n                        <div>Détection : {{this.basedOn('sagesse')}}</div>\r\n                        <div>Perception auditive : {{this.basedOn('sagesse')}}</div>\r\n                        <div>Premiers secours : {{this.basedOn('sagesse')}}</div>\r\n                        <div>Profession (Autre) : {{this.basedOn('sagesse')}}</div>\r\n                        <div>Psychologie : {{this.basedOn('sagesse')}}</div>\r\n                        <div>Survie : {{this.basedOn('sagesse')}}</div>\r\n                    </div>\r\n                    <div class=\"categorieStatistiquesSecondaires\">\r\n                        <div class=\"titre\">Lié à la force</div>\r\n                        <div>Escalade : {{this.basedOn('force')}}</div>\r\n                        <div>Natation : {{this.basedOn('force')}}</div>\r\n                        <div>Saut : {{this.basedOn('force')}}</div>\r\n                    </div>\r\n                    <div class=\"categorieStatistiquesSecondaires\">\r\n                        <div class=\"titre\">Lié à la Constitution</div>\r\n                        <div>Concentration : {{this.basedOn('constitution')}}</div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <div style=\"width: 100%\">\r\n            <div class=\"noms\">\r\n                <ng-container *ngFor=\"let objet of this.objetMinimisations\">\r\n                    <div class=\"nomObjet\">\r\n                        <div class=\"spinner_overlay\" *ngIf=\"this.updatingObjetName && this.updatingObjetID === objet.idObjet\">\r\n                            <app-spinner></app-spinner>\r\n                        </div>\r\n                        <button class=\"btn btn-danger\" (click)=\"this.selectObjet(objet.idObjet)\"\r\n                                [disabled]=\"this.updatingObjetName && this.updatingObjetID !== objet.idObjet\">\r\n                            <span *ngIf=\"objet.afficherNom; else fauxNom\">\r\n                                <b>{{getNomSansBalise(objet.nom)}}</b>\r\n                                <ng-container *ngIf=\"objet.fauxNom\"> <br/><i>{{objet.fauxNom}}</i></ng-container>\r\n                            </span>\r\n                            <ng-template #fauxNom>\r\n                                <b>{{objet.fauxNom}}</b>\r\n                            </ng-template>\r\n                        </button>\r\n                    </div>\r\n                </ng-container>\r\n            </div>\r\n\r\n            <ng-container *ngIf=\"this.objetCourantID\">\r\n                <app-personnage-objet-personnage [idObj]=\"this.objetCourantID\" [idPersonnage]=\"currentPersonnage.idPersonnage\"\r\n                (changingObjetEffetDecouvert)=\"this.reloadingObjet($event)\"></app-personnage-objet-personnage>\r\n            </ng-container>\r\n\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n\r\n","import { Injectable } from '@angular/core';\r\nimport {HttpClient, HttpParams} from '@angular/common/http';\r\n// @ts-ignore\r\nimport {Famille, MonstreGroupe} from '../interface/MonstreGroupe';\r\nimport {BASE_URL, URL_FAMILLE_MONSTRE, URL_MONSTRE, URL_MONSTRES} from './rest.service';\r\nimport {Observable, Subscription} from 'rxjs';\r\nimport {SpecialResponse} from '../loot-table/loot-table.component';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class FamilleAndMonstreService {\r\n\r\n  constructor() { }\r\n\r\n  public chargerFamillesAvecMonstres(http: HttpClient): MonstreGroupe[] {\r\n    const monstresGroupes: MonstreGroupe[] = [];\r\n    const baseUrlBis = BASE_URL + URL_MONSTRES + '?withFamille=true';\r\n    const applicationTypeObservable: Observable<SpecialResponse> =\r\n      http.get<SpecialResponse>(baseUrlBis);\r\n    const applicationTypeSubscription: Subscription = applicationTypeObservable.subscribe(\r\n      (response) => {\r\n        const familles: MonstreGroupe[] = response.data as MonstreGroupe[];\r\n        for (const famille of familles) {\r\n          monstresGroupes.push(famille);\r\n        }\r\n        applicationTypeSubscription.unsubscribe();\r\n      },\r\n      (error) => {\r\n        console.log('Une erreur est survenue dans la suscription: ' + error);\r\n      },\r\n      () => {\r\n      }\r\n    );\r\n    return monstresGroupes;\r\n  }\r\n\r\n  public chargerAllFamilles(http: HttpClient): Famille[] {\r\n    const allFamilles: Famille[] = [];\r\n    const baseUrlBis = BASE_URL + URL_FAMILLE_MONSTRE;\r\n    const applicationTypeObservable: Observable<SpecialResponse> =\r\n      http.get<SpecialResponse>(baseUrlBis);\r\n    const applicationTypeSubscription: Subscription = applicationTypeObservable.subscribe(\r\n      (response) => {\r\n        const familles: Famille[] = response.data as Famille[];\r\n        for (const famille of familles) {\r\n          allFamilles.push(famille);\r\n        }\r\n        applicationTypeSubscription.unsubscribe();\r\n      },\r\n      (error) => {\r\n        console.log('Une erreur est survenue dans la suscription: ' + error);\r\n      },\r\n      () => {\r\n      }\r\n    );\r\n    return allFamilles;\r\n  }\r\n\r\n  /* ---------------------------------------------------*\r\n  |           Partie familles & monstres                |\r\n  *-----------------------------------------------------*/\r\n\r\n  public getFamillesAvecMonstres(http: HttpClient): Promise<string> {\r\n    const baseUrlBis = BASE_URL + URL_MONSTRES + '?withFamille=true';\r\n    return http.request('GET', baseUrlBis, {responseType: 'text'}).toPromise();\r\n  }\r\n\r\n  /* ---------------------------------------------------*\r\n  |                  Partie monstre                     |\r\n  *-----------------------------------------------------*/\r\n\r\n  public creerMonstre(http: HttpClient, idFamilleMonstre: number, libelle: string): Promise<string> {\r\n    const values = {idFamilleMonstre: undefined, libelle: undefined};\r\n    values.idFamilleMonstre = idFamilleMonstre;\r\n    values.libelle = libelle;\r\n    const baseUrlBis = BASE_URL + URL_MONSTRE;\r\n    const params = new HttpParams().set('Monstre', JSON.stringify(values));\r\n\r\n    return http.request('POST', baseUrlBis, {responseType: 'text', params}).toPromise();\r\n  }\r\n\r\n  public modifierMonstre(http: HttpClient, idMonstre: number, idFamilleMonstre: number, libelle: string): Promise<string> {\r\n    const values = {idMonstre: undefined, idFamilleMonstre: undefined, libelle: undefined};\r\n    values.idMonstre = idMonstre;\r\n    values.idFamilleMonstre = idFamilleMonstre === 0 ? 'NULL' : idFamilleMonstre;\r\n    values.libelle = libelle;\r\n    const baseUrlBis = BASE_URL + URL_MONSTRE + '?idMonstre=' + idMonstre;\r\n    const params = new HttpParams().set('Monstre', JSON.stringify(values));\r\n\r\n    return http.request('PUT', baseUrlBis, {responseType: 'text', params}).toPromise();\r\n  }\r\n\r\n  /* ---------------------------------------------------*\r\n  |                  Partie famille                     |\r\n  *-----------------------------------------------------*/\r\n\r\n  public getAllFamilles(http: HttpClient): Promise<string> {\r\n    const baseUrlBis = BASE_URL + URL_FAMILLE_MONSTRE;\r\n    return http.request('GET', baseUrlBis, {responseType: 'text'}).toPromise();\r\n  }\r\n\r\n  public creerFamille(http: HttpClient, libelle: string): Promise<string> {\r\n    const values = { libelle: undefined};\r\n    values.libelle = libelle;\r\n    const baseUrlBis = BASE_URL + URL_FAMILLE_MONSTRE;\r\n    const params = new HttpParams().set('Famille', JSON.stringify(values));\r\n    return http.request('POST', baseUrlBis, {responseType: 'text', params}).toPromise();\r\n  }\r\n\r\n  public modifierFamille(http: HttpClient, idFamilleMonstre: number, libelle: string): Promise<string> {\r\n    const values = { idFamilleMonstre: undefined, libelle: undefined };\r\n    values.idFamilleMonstre = idFamilleMonstre;\r\n    values.libelle = libelle;\r\n    const baseUrlBis = BASE_URL + URL_FAMILLE_MONSTRE + '?idFamilleMonstre=' + idFamilleMonstre;\r\n    console.log(baseUrlBis);\r\n    const params = new HttpParams().set('Famille', JSON.stringify(values));\r\n\r\n    return http.request('PUT', baseUrlBis, {responseType: 'text', params}).toPromise();\r\n  }\r\n}\r\n","import {Injectable} from '@angular/core';\nimport {HttpClient} from '@angular/common/http';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class JSonLoadService {\n\n    constructor(private http: HttpClient) {\n    }\n\n    public getJSON(folder: string, fileToLoad: string): Promise<string> {\n        const baseUrlBis = fileToLoad.endsWith('.json') ?\n            'assets/json/' + folder + '/' + fileToLoad : 'assets/json/' + folder + '/' + fileToLoad + '.json';\n        return this.http.request('GET', baseUrlBis, {responseType: 'text'}).toPromise();\n    }\n}\n","import {Injectable} from '@angular/core';\r\nimport {HttpClient, HttpParams} from '@angular/common/http';\r\nimport {BASE_URL, URL_DROP_CHANCE, URL_DROP_CHANCE_BIS} from './rest.service';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class MonstreLootChanceService {\r\n\r\n  constructor() {\r\n  }\r\n  public addedRow: boolean[] = [];\r\n\r\n  public envoyerLootChances(http: HttpClient, httpMethod: string, idMonstre: number, Loot: MonstreLootChance[]): Promise<string> {\r\n    const values = {idMonstre: undefined, Loot: undefined};\r\n    values.idMonstre = idMonstre;\r\n    values.Loot = Loot;\r\n    console.log(values);\r\n    const baseUrlBis = BASE_URL + URL_DROP_CHANCE + '?idMonstre=' + idMonstre + '&multipleInput=true';\r\n    console.log(baseUrlBis);\r\n    const params = new HttpParams().set('Loot', JSON.stringify(values));\r\n\r\n    return http.request(httpMethod, baseUrlBis, {responseType: 'text', params}).toPromise();\r\n  }\r\n\r\n  public envoyerLootChancesBis(http: HttpClient, httpMethod: string, idMonstre: number, Loot: MonstreLootChanceBis[]): Promise<string> {\r\n    const values = {idMonstre: undefined, Loot: undefined};\r\n    values.idMonstre = idMonstre;\r\n    values.Loot = Loot;\r\n    for (let i = 0 ; i < values.Loot.length ; i++) {\r\n      values.Loot[i].idLoot = +values.Loot[i].idLoot === 0 ? null : +values.Loot[i].idLoot ;\r\n    }\r\n    console.log(httpMethod);\r\n    console.log(JSON.stringify(values.Loot));\r\n    const baseUrlBis = BASE_URL + URL_DROP_CHANCE_BIS + '?idMonstre=' + idMonstre + '&multipleInput=true';\r\n    console.log(baseUrlBis);\r\n    const params = new HttpParams().set('Loot', JSON.stringify(values));\r\n\r\n    return http.request(httpMethod, baseUrlBis, {responseType: 'text', params}).toPromise();\r\n  }\r\n\r\n  public getMonstreLootChanceTest(http: HttpClient, idMonstre: number): Promise<string> {\r\n    const baseUrlBis = BASE_URL + URL_DROP_CHANCE + '?idMonstre=' + idMonstre;\r\n    return http.request('GET', baseUrlBis, {responseType: 'text'}).toPromise();\r\n  }\r\n\r\n  public getMonstreLootChanceBis(http: HttpClient, idMonstre: number): Promise<string> {\r\n    const baseUrlBis = BASE_URL + URL_DROP_CHANCE_BIS + '?idMonstre=' + idMonstre;\r\n    return http.request('GET', baseUrlBis, {responseType: 'text'}).toPromise();\r\n  }\r\n\r\n  public getLootPossibles(http: HttpClient): Promise<string> {\r\n    return http.request('GET', BASE_URL + 'lootPossiblesRest.php', {responseType: 'text'}).toPromise();\r\n  }\r\n}\r\n","import {Injectable} from '@angular/core';\r\nimport {HttpClient, HttpParams} from '@angular/common/http';\r\nimport {BASE_URL, URL_DROP_CHANCE, URL_EFFET_MAGIQUE, URL_OBJET_COMPLET} from './rest.service';\r\nimport {SpecialResponse} from '../loot-table/loot-table.component';\r\nimport {HttpMethods} from '../interface/http-methods.enum';\r\n\r\n@Injectable({\r\n    providedIn: 'root'\r\n})\r\nexport class ObjetService {\r\n\r\n    constructor() {\r\n    }\r\n\r\n    public updateForObjet(http: HttpClient, idObjet: number, fieldToUpdate: string, value: number) {\r\n        const baseUrlBis = BASE_URL + URL_DROP_CHANCE + '?idObjet=' + idObjet + '&' + fieldToUpdate + '=' + value;\r\n        console.log(baseUrlBis);\r\n        return http.request(HttpMethods.PUT.toString(), baseUrlBis).toPromise();\r\n    }\r\n\r\n    public envoyerDescriptions(http: HttpClient, httpMethod: string, idEffet: number, descriptions: string[]) {\r\n        const values = {idEffetMagique: undefined, Descriptions: undefined};\r\n        values.idEffetMagique = idEffet;\r\n        values.Descriptions = descriptions;\r\n        console.log(values);\r\n        const baseUrlBis = BASE_URL + 'effetMagique/effetMagiqueDescription.php' + '?idEffet=' + idEffet + '';\r\n        console.log(baseUrlBis);\r\n        const params = new HttpParams().set('EffetMagiqueDescriptions', JSON.stringify(values));\r\n\r\n        return http.request(httpMethod, baseUrlBis, {responseType: 'text', params}).toPromise();\r\n    }\r\n\r\n    public envoyerObjetComplet(http: HttpClient, httpMethod: string, idObjet: number, objet: any): Promise<string> {\r\n        const values = {idObjet: undefined, Objet: undefined};\r\n        values.idObjet = idObjet;\r\n        values.Objet = objet;\r\n        console.log(values);\r\n        const baseUrlBis = BASE_URL + URL_OBJET_COMPLET;\r\n        console.log(baseUrlBis);\r\n        const params = new HttpParams().set('Objet', JSON.stringify(values));\r\n\r\n        return http.request(httpMethod, baseUrlBis, {responseType: 'text', params}).toPromise();\r\n    }\r\n\r\n    public getObjetComplet(http: HttpClient, idObjet: number) {\r\n        const baseUrlBis = BASE_URL + URL_OBJET_COMPLET + '?idObjet=' + idObjet + '';\r\n        console.log(baseUrlBis);\r\n        return http.request(HttpMethods.GET.toString(), baseUrlBis).toPromise();\r\n    }\r\n\r\n    public getEffetsMagiquesDecouverts(http: HttpClient, idObjet: number, idPersonnage: number) {\r\n        const baseUrlBis = BASE_URL + 'effetMagique/effetMagiqueDecouvert.php' + '?idObjet=' + idObjet + '&idPersonnage=' + idPersonnage;\r\n        console.log(baseUrlBis);\r\n        return http.request(HttpMethods.GET.toString(), baseUrlBis).toPromise();\r\n    }\r\n\r\n    public effetsMagiquesDecouverts(http: HttpClient, httpMethod: HttpMethods, effetMagiqueDecouver: EffetMagiqueDecouvert) {\r\n        const values = {EffetMagiqueDecouvert: undefined};\r\n        values.EffetMagiqueDecouvert = effetMagiqueDecouver;\r\n        console.log(values);\r\n        const baseUrlBis = BASE_URL + 'effetMagique/effetMagiqueDecouvert.php';\r\n        console.log(baseUrlBis);\r\n        const params = new HttpParams().set('EffetMagiqueDecouvert', JSON.stringify(values));\r\n\r\n        return http.request(httpMethod.toString(), baseUrlBis, {responseType: 'text', params}).toPromise();\r\n    }\r\n\r\n    public getAllObjetsComplets(http: HttpClient, idPersonnage: number) {\r\n        const baseUrlBis = BASE_URL + URL_OBJET_COMPLET + '?idPersonnage=' + idPersonnage + '';\r\n        console.log(baseUrlBis);\r\n        return http.request(HttpMethods.GET.toString(), baseUrlBis).toPromise();\r\n    }\r\n\r\n    public getAllObjetsIDs(http: HttpClient, idPersonnage: number) {\r\n        const baseUrlBis = BASE_URL + URL_OBJET_COMPLET + '?idPersonnage=' + idPersonnage + '&idsOnly=true';\r\n        console.log(baseUrlBis);\r\n        return http.request(HttpMethods.GET.toString(), baseUrlBis).toPromise();\r\n    }\r\n\r\n    public getAllObjetsNames(http: HttpClient, idPersonnage: number) {\r\n        const baseUrlBis = BASE_URL + URL_OBJET_COMPLET + '?idPersonnage=' + idPersonnage + '&namesOnly=true';\r\n        console.log(baseUrlBis);\r\n        return http.request(HttpMethods.GET.toString(), baseUrlBis).toPromise();\r\n    }\r\n\r\n    public getObjetName(http: HttpClient, idObjet: number) {\r\n        const baseUrlBis = BASE_URL + URL_OBJET_COMPLET + '?idObjet=' + idObjet + '&nameOnly=true';\r\n        console.log(baseUrlBis);\r\n        return http.request(HttpMethods.GET.toString(), baseUrlBis).toPromise();\r\n    }\r\n\r\n    public envoyerEffetMagique(http: HttpClient, httpMethod: string, idObjet: number, effet: MagicalProperty): Promise<string> {\r\n        const effetModified: MagicalProperty = JSON.parse(JSON.stringify(effet)) as MagicalProperty;\r\n        effetModified.table = null;\r\n        effetModified.ul = null;\r\n        const values = {idObjet: undefined, EffetMagique: undefined};\r\n        values.idObjet = idObjet;\r\n        values.EffetMagique = effetModified;\r\n        console.log(values);\r\n        const baseUrlBis = BASE_URL + URL_EFFET_MAGIQUE + '?idObjet=' + idObjet + '';\r\n        console.log(baseUrlBis);\r\n        const params = new HttpParams().set('EffetMagique', JSON.stringify(values));\r\n\r\n        return http.request(httpMethod, baseUrlBis, {responseType: 'text', params}).toPromise().then(\r\n            (dataEffetMagique: any) => {\r\n                console.log(dataEffetMagique);\r\n                const response: SpecialResponse = JSON.parse(dataEffetMagique) as SpecialResponse;\r\n                const idEffetMagique = response.data.idEffetMagique;\r\n                console.log(response);\r\n                console.log(response.data);\r\n                return this.envoyerEffetMagiqueTable(http, httpMethod, idEffetMagique, effet.table).then(\r\n                    (dataEffetMagiqeTable: any) => {\r\n                        console.log(dataEffetMagiqeTable);\r\n                        return this.envoyerEffetMagiqueUl(http, httpMethod, idEffetMagique, effet.ul);\r\n                    }\r\n                );\r\n            }\r\n        );\r\n    }\r\n\r\n    private envoyerEffetMagiqueTable(http: HttpClient, httpMethod: string, idEffetMagique: number, effetTable: TableMagicalProperty[])\r\n        : Promise<string> {\r\n        const values = {idEffetMagique: undefined, EffetMagiqueTable: undefined};\r\n        values.idEffetMagique = idEffetMagique;\r\n        values.EffetMagiqueTable = effetTable;\r\n        console.log(values);\r\n        const baseUrlBis = BASE_URL + URL_EFFET_MAGIQUE + '?idEffetMagique=' + idEffetMagique + '';\r\n        console.log(baseUrlBis);\r\n        const params = new HttpParams().set('EffetMagiqueTable', JSON.stringify(values));\r\n\r\n        return http.request(httpMethod, baseUrlBis, {responseType: 'text', params}).toPromise();\r\n    }\r\n\r\n    private envoyerEffetMagiqueUl(http: HttpClient, httpMethod: string, idEffetMagique: number, effetUl: UlMagicalProperty[])\r\n        : Promise<string> {\r\n        const values = {idEffetMagique: undefined, EffetMagiqueUl: undefined};\r\n        values.idEffetMagique = idEffetMagique;\r\n        values.EffetMagiqueUl = effetUl;\r\n        console.log(values);\r\n        const baseUrlBis = BASE_URL + URL_EFFET_MAGIQUE + '?idEffetMagique=' + idEffetMagique + '';\r\n        console.log(baseUrlBis);\r\n        const params = new HttpParams().set('EffetMagiqueUl', JSON.stringify(values));\r\n\r\n        return http.request(httpMethod, baseUrlBis, {responseType: 'text', params}).toPromise();\r\n    }\r\n\r\n    public ulContent(http: HttpClient, httpMethod: HttpMethods, idEffetMagiqueUl: number, effetMagiqueUlContent: EffetMagiqueUlContent)\r\n        : Promise<string> {\r\n        const values = {idEffetMagiqueUl: undefined, EffetMagiqueUlContent: undefined};\r\n        values.idEffetMagiqueUl = idEffetMagiqueUl;\r\n        values.EffetMagiqueUlContent = effetMagiqueUlContent;\r\n        console.log(values);\r\n        const baseUrlBis = BASE_URL + 'effetMagique/effetMagiqueUlContent.php' + '?idEffetMagiqueUl=' + idEffetMagiqueUl + '';\r\n        console.log(baseUrlBis);\r\n        const params = new HttpParams().set('EffetMagiqueUlContent', JSON.stringify(values));\r\n\r\n        return http.request(httpMethod.toString(), baseUrlBis, {responseType: 'text', params}).toPromise();\r\n    }\r\n\r\n    public ul(http: HttpClient, httpMethod: HttpMethods, idEffetMagique: number, effetMagiqueUl: EffetMagiqueUl): Promise<string> {\r\n        const values = {idEffetMagique: undefined, EffetMagiqueUl: undefined};\r\n        values.idEffetMagique = idEffetMagique;\r\n        values.EffetMagiqueUl = effetMagiqueUl;\r\n        console.log(values);\r\n        const baseUrlBis = BASE_URL + 'effetMagique/effetMagiqueUl.php' + '?idEffetMagique=' + idEffetMagique + '';\r\n        console.log(baseUrlBis);\r\n        const params = new HttpParams().set('EffetMagiqueUl', JSON.stringify(values));\r\n\r\n        return http.request(httpMethod.toString(), baseUrlBis, {responseType: 'text', params}).toPromise();\r\n    }\r\n\r\n    public titleContent(http: HttpClient, httpMethod: HttpMethods, idEffetMagiqueTableTitle: number,\r\n                        effetMagiqueTableTitleContent: EffetMagiqueTableTitleContent): Promise<string> {\r\n        const values = {idEffetMagiqueTableTitle: undefined, EffetMagiqueTableTitleContent: undefined};\r\n        values.idEffetMagiqueTableTitle = idEffetMagiqueTableTitle;\r\n        values.EffetMagiqueTableTitleContent = effetMagiqueTableTitleContent;\r\n        console.log(values);\r\n        const baseUrlBis = BASE_URL + 'effetMagique/effetMagiqueTableTitleContent.php'\r\n            + '?idEffetMagiqueTableTitle=' + idEffetMagiqueTableTitle + '';\r\n        console.log(baseUrlBis);\r\n        const params = new HttpParams().set('EffetMagiqueTableTitleContent', JSON.stringify(values));\r\n\r\n        return http.request(httpMethod.toString(), baseUrlBis, {responseType: 'text', params}).toPromise();\r\n    }\r\n\r\n    public title(http: HttpClient, httpMethod: HttpMethods, idEffetMagiqueTable: number, effetMagiqueTableTitle: EffetMagiqueTableTitle)\r\n        : Promise<string> {\r\n        const values = {idEffetMagiqueTable: undefined, EffetMagiqueTableTitle: undefined};\r\n        values.idEffetMagiqueTable = idEffetMagiqueTable;\r\n        values.EffetMagiqueTableTitle = effetMagiqueTableTitle;\r\n        console.log(values);\r\n        const baseUrlBis = BASE_URL + 'effetMagique/effetMagiqueTableTitle.php' + '?idEffetMagiqueTable=' + idEffetMagiqueTable + '';\r\n        console.log(baseUrlBis);\r\n        const params = new HttpParams().set('EffetMagiqueTableTitle', JSON.stringify(values));\r\n\r\n        return http.request(httpMethod.toString(), baseUrlBis, {responseType: 'text', params}).toPromise();\r\n    }\r\n\r\n    public trContent(http: HttpClient, httpMethod: HttpMethods, idEffetMagiqueTableTr: number,\r\n                     effetMagiqueTableTrContent: EffetMagiqueTableTrContent): Promise<string> {\r\n        const values = {idEffetMagiqueTableTr: undefined, EffetMagiqueTableTrContent: undefined};\r\n        values.idEffetMagiqueTableTr = idEffetMagiqueTableTr;\r\n        values.EffetMagiqueTableTrContent = effetMagiqueTableTrContent;\r\n        console.log(values);\r\n        const baseUrlBis = BASE_URL + 'effetMagique/effetMagiqueTableTrContent.php'\r\n            + '?idEffetMagiqueTableTr=' + idEffetMagiqueTableTr + '';\r\n        console.log(baseUrlBis);\r\n        const params = new HttpParams().set('EffetMagiqueTableTrContent', JSON.stringify(values));\r\n\r\n        return http.request(httpMethod.toString(), baseUrlBis, {responseType: 'text', params}).toPromise();\r\n    }\r\n\r\n    public tr(http: HttpClient, httpMethod: HttpMethods, idEffetMagiqueTable: number, effetMagiqueTableTr: EffetMagiqueTableTr)\r\n        : Promise<string> {\r\n        const values = {idEffetMagiqueTable: undefined, EffetMagiqueTableTr: undefined};\r\n        values.idEffetMagiqueTable = idEffetMagiqueTable;\r\n        values.EffetMagiqueTableTr = effetMagiqueTableTr;\r\n        console.log(values);\r\n        const baseUrlBis = BASE_URL + 'effetMagique/effetMagiqueTableTr.php' + '?idEffetMagiqueTable=' + idEffetMagiqueTable + '';\r\n        console.log(baseUrlBis);\r\n        const params = new HttpParams().set('EffetMagiqueTableTr', JSON.stringify(values));\r\n\r\n        return http.request(httpMethod.toString(), baseUrlBis, {responseType: 'text', params}).toPromise();\r\n    }\r\n\r\n    public table(http: HttpClient, httpMethod: HttpMethods, idEffetMagique: number, effetMagiqueTable: EffetMagiqueTable): Promise<string> {\r\n        const values = {idEffetMagique: undefined, EffetMagiqueTable: undefined};\r\n        values.idEffetMagique = idEffetMagique;\r\n        values.EffetMagiqueTable = effetMagiqueTable;\r\n        console.log(values);\r\n        const baseUrlBis = BASE_URL + 'effetMagique/effetMagiqueTable.php' + '?idEffetMagique=' + idEffetMagique + '';\r\n        console.log(baseUrlBis);\r\n        const params = new HttpParams().set('EffetMagiqueTable', JSON.stringify(values));\r\n\r\n        return http.request(httpMethod.toString(), baseUrlBis, {responseType: 'text', params}).toPromise();\r\n    }\r\n\r\n    public effetMagique(http: HttpClient, httpMethod: HttpMethods, idObjet: number, effetMagique: EffetMagiqueDB): Promise<string> {\r\n        const values = {idObjet: undefined, EffetMagique: undefined};\r\n        values.idObjet = idObjet;\r\n        values.EffetMagique = effetMagique;\r\n        console.log(values);\r\n        const baseUrlBis = BASE_URL + 'effetMagique/effetMagique.php' + '?idObjet=' + idObjet + '';\r\n        console.log(baseUrlBis);\r\n        const params = new HttpParams().set('EffetMagique', JSON.stringify(values));\r\n\r\n        return http.request(httpMethod.toString(), baseUrlBis, {responseType: 'text', params}).toPromise();\r\n    }\r\n\r\n    public description(http: HttpClient, httpMethod: HttpMethods, idEffetMagique: number, effetMagiqueDescription: EffetMagiqueDescription)\r\n        : Promise<string> {\r\n        const values = {idObjet: undefined, EffetMagiqueDescription: undefined};\r\n        values.idObjet = idEffetMagique;\r\n        values.EffetMagiqueDescription = effetMagiqueDescription;\r\n        console.log(values);\r\n        const baseUrlBis = BASE_URL + 'effetMagique/effetMagiqueDescription.php' + '?idEffetMagique=' + idEffetMagique + '';\r\n        console.log(baseUrlBis);\r\n        const params = new HttpParams().set('EffetMagiqueDescription', JSON.stringify(values));\r\n\r\n        return http.request(httpMethod.toString(), baseUrlBis, {responseType: 'text', params}).toPromise();\r\n    }\r\n\r\n    public infos(http: HttpClient, httpMethod: HttpMethods, idEffetMagique: number, effetMagiqueInfos: EffetMagiqueDBInfos)\r\n        : Promise<string> {\r\n        const values = {idObjet: undefined, EffetMagiqueInfos: undefined};\r\n        values.idObjet = idEffetMagique;\r\n        values.EffetMagiqueInfos = effetMagiqueInfos;\r\n        console.log(values);\r\n        const baseUrlBis = BASE_URL + 'effetMagique/effetMagiqueInfos.php' + '?idEffetMagique=' + idEffetMagique + '';\r\n        console.log(baseUrlBis);\r\n        const params = new HttpParams().set('EffetMagiqueInfos', JSON.stringify(values));\r\n\r\n        return http.request(httpMethod.toString(), baseUrlBis, {responseType: 'text', params}).toPromise();\r\n    }\r\n\r\n    public objet(http: HttpClient, httpMethod: HttpMethods, idPersonnage: number, objet: ObjetCommunFromDB)\r\n        : Promise<string> {\r\n        const objetCopie = JSON.parse(JSON.stringify(objet)) as ObjetCommunFromDB;\r\n        objetCopie.effetMagique = null;\r\n        objetCopie.malediction = null;\r\n        objetCopie.materiau = null;\r\n        const values = {idPersonnage: undefined, Objet: undefined};\r\n        values.idPersonnage = idPersonnage;\r\n        values.Objet = objetCopie;\r\n        console.log(values);\r\n        const baseUrlBis = BASE_URL + 'objetCompletRest.php' + '?idPersonnage=' + idPersonnage + '';\r\n        console.log(baseUrlBis);\r\n        const params = new HttpParams().set('Objet', JSON.stringify(values));\r\n        console.log(values);\r\n\r\n        return http.request(httpMethod.toString(), baseUrlBis, {responseType: 'text', params}).toPromise();\r\n    }\r\n\r\n    public malediction(http: HttpClient, httpMethod: HttpMethods, idMalediction: number, malediction: Malediction)\r\n        : Promise<string> {\r\n        const values = {idMalediction: undefined, Malediction: undefined};\r\n        values.idMalediction = idMalediction;\r\n        values.Malediction = malediction;\r\n        console.log(values);\r\n        const baseUrlBis = BASE_URL + 'effetMagique/maledictionRest.php' + '?idMalediction=' + idMalediction + '';\r\n        console.log(baseUrlBis);\r\n        const params = new HttpParams().set('Malediction', JSON.stringify(values));\r\n\r\n        return http.request(httpMethod.toString(), baseUrlBis, {responseType: 'text', params}).toPromise();\r\n    }\r\n\r\n    public materiau(http: HttpClient, httpMethod: HttpMethods, idMateriaux: number, materiaux: Materiau)\r\n        : Promise<string> {\r\n        const values = {idMateriaux: undefined, Materiaux: undefined};\r\n        values.idMateriaux = idMateriaux;\r\n        values.Materiaux = materiaux;\r\n        console.log(values);\r\n        const baseUrlBis = BASE_URL + 'effetMagique/materiauRest.php' + '?idMateriaux=' + idMateriaux + '';\r\n        console.log(baseUrlBis);\r\n        const params = new HttpParams().set('Materiaux', JSON.stringify(values));\r\n\r\n        return http.request(httpMethod.toString(), baseUrlBis, {responseType: 'text', params}).toPromise();\r\n    }\r\n}\r\n","import { Injectable } from '@angular/core';\nimport {HttpClient} from '@angular/common/http';\nimport {BASE_URL, URL_PERSONNAGE, URL_STATISTIQUE} from './rest.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class PersonnageService {\n\n  constructor() { }\n\n    public getAllPersonnages(http: HttpClient, withStatistique: boolean) {\n        const baseUrlBis = BASE_URL + URL_PERSONNAGE + '?withStatistique=' + withStatistique;\n        console.log(baseUrlBis);\n        return http.request('GET', baseUrlBis).toPromise();\n    }\n\n    public getPersonnage(http: HttpClient, idPersonnage: number, withStatistique: boolean) {\n        const baseUrlBis = BASE_URL + URL_PERSONNAGE + '?idPersonnage=' + idPersonnage + '&withStatistique=' + withStatistique;\n        console.log(baseUrlBis);\n        return http.request('GET', baseUrlBis).toPromise();\n    }\n\n    getStatistiquesDetaillees(http: HttpClient, idPersonnage: number, details: boolean) {\n        const baseUrlBis = BASE_URL + URL_STATISTIQUE + '?idPersonnage=' + idPersonnage + '&details=' + details;\n        console.log(baseUrlBis);\n        return http.request('GET', baseUrlBis).toPromise();\n    }\n\n}\n","// export let BASE_URL = 'http://192.168.1.73/lootTable/lootTablePHP/Rest/';\r\n// Production url\r\nexport let BASE_URL = '../lootTablePHP/Rest/';\r\nexport let URL_DROP_CHANCE = 'dropChanceRest.php';\r\nexport let URL_DROP_CHANCE_BIS = 'dropChanceBisRest.php';\r\nexport let URL_MONSTRES = 'monstresRest.php';\r\nexport let URL_MONSTRE = 'monstreRest.php';\r\nexport let URL_FAMILLE_MONSTRE = 'familleMonstreRest.php';\r\n\r\n\r\n\r\n\r\n\r\n/*\r\n                    EffetMagique\r\n*/\r\nexport let URL_EFFET_MAGIQUE = 'effetMagique/effetMagique.php';\r\nexport let URL_OBJET_COMPLET = 'objetCompletRest.php';\r\n\r\n\r\n/*\r\n                    Personnage\r\n*/\r\nexport let URL_PERSONNAGE = 'personnageRest.php';\r\nexport let URL_STATISTIQUE = 'personnageStatistiqueRest.php';\r\n\r\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-spinner',\n  templateUrl: './spinner.component.html',\n  styleUrls: ['./spinner.component.scss']\n})\nexport class SpinnerComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","<div class=\"spinner\">\n    <div class=\"rect1\"></div>\n    <div class=\"rect2\"></div>\n    <div class=\"rect3\"></div>\n    <div class=\"rect4\"></div>\n    <div class=\"rect5\"></div>\n</div>\n","import {Component, OnInit} from '@angular/core';\r\nimport {BASE_URL} from '../services/rest.service';\r\nimport {HttpClient, HttpParams} from '@angular/common/http';\r\nimport {JSonLoadService} from '../services/json-load.service';\r\n\r\n@Component({\r\n    selector: 'app-test-insert-table',\r\n    templateUrl: './test-insert-table.component.html',\r\n    styleUrls: ['./test-insert-table.component.scss']\r\n})\r\nexport class TestInsertTableComponent implements OnInit {\r\n\r\n    allProprietesMagiques: SortedMagicalProperty;\r\n\r\n    constructor(private http: HttpClient,\r\n                private jsonService: JSonLoadService) {\r\n    }\r\n\r\n    ngOnInit(): void {\r\n        this.jsonService.getJSON('magique', 'objetsMerveilleux').then(\r\n            (effetsObjet: any) => {\r\n                // console.log(effetsObjet);\r\n                this.allProprietesMagiques = JSON.parse(effetsObjet) as SortedMagicalProperty;\r\n                console.log(this.allProprietesMagiques);\r\n            }\r\n        );\r\n    }\r\n\r\n    testTable() {\r\n        let sacAMalice: MagicalProperty;\r\n        console.log(this.allProprietesMagiques.weakAndSmall[237]);\r\n        sacAMalice = this.allProprietesMagiques.weakAndSmall[237];\r\n        console.log(sacAMalice);\r\n        const values = {idEffetMagique: undefined, Table: undefined};\r\n        values.idEffetMagique = 2;\r\n        values.Table = sacAMalice.table[0];\r\n        console.log(values);\r\n        const baseUrlBis = BASE_URL + 'effetMagique/effetMagiqueTable.php' + '?idEffetMagique=' + 2 + '';\r\n        console.log(baseUrlBis);\r\n        const params = new HttpParams().set('EffetMagiqueTable', JSON.stringify(values));\r\n        return this.http.request('POST', baseUrlBis, {responseType: 'text', params}).toPromise().then(\r\n            (data: any) => {\r\n                console.log(data);\r\n            }\r\n        );\r\n    }\r\n\r\n    testUl() {\r\n        let casqueDeMilleFeux: MagicalProperty;\r\n        console.log(this.allProprietesMagiques);\r\n        console.log(this.allProprietesMagiques.strongAnfPowerful[21]);\r\n        casqueDeMilleFeux = this.allProprietesMagiques.strongAnfPowerful[21];\r\n        console.log(casqueDeMilleFeux);\r\n        const values = {idEffetMagique: undefined, Ul: undefined};\r\n        values.idEffetMagique = 2;\r\n        values.Ul = casqueDeMilleFeux.ul[0];\r\n        console.log(values);\r\n        const baseUrlBis = BASE_URL + 'effetMagique/effetMagiqueUl.php' + '?idEffetMagique=' + 2 + '';\r\n        console.log(baseUrlBis);\r\n        const params = new HttpParams().set('EffetMagiqueUl', JSON.stringify(values));\r\n        return this.http.request('POST', baseUrlBis, {responseType: 'text', params}).toPromise().then(\r\n            (data: any) => {\r\n                console.log(data);\r\n            }\r\n        );\r\n    }\r\n\r\n    testDescriptions() {\r\n        const values = {idEffetMagique: undefined, Descriptions: undefined};\r\n        values.idEffetMagique = 2;\r\n        values.Descriptions = this.allProprietesMagiques.strongAnfPowerful[21].description;\r\n        console.log(values);\r\n        const baseUrlBis = BASE_URL + 'effetMagique/effetMagiqueDescription.php' + '?idEffet=' + 2 + '';\r\n        console.log(baseUrlBis);\r\n        const params = new HttpParams().set('EffetMagiqueDescriptions', JSON.stringify(values));\r\n\r\n        return this.http.request('POST', baseUrlBis, {responseType: 'text', params}).toPromise().then(\r\n            (data: any) => {\r\n                console.log(data);\r\n            }\r\n        );\r\n    }\r\n\r\n    testInfos() {\r\n        const values = {idEffetMagique: undefined, Infos: undefined};\r\n        values.idEffetMagique = 2;\r\n        values.Infos = this.allProprietesMagiques.strongAnfPowerful[21].infos.data;\r\n        console.log(values);\r\n        const baseUrlBis = BASE_URL + 'effetMagique/effetMagiqueInfos.php' + '?idEffet=' + 2 + '';\r\n        console.log(baseUrlBis);\r\n        const params = new HttpParams().set('EffetMagiqueInfos', JSON.stringify(values));\r\n\r\n        return this.http.request('POST', baseUrlBis, {responseType: 'text', params}).toPromise().then(\r\n            (data: any) => {\r\n                console.log(data);\r\n            }\r\n        );\r\n    }\r\n\r\n}\r\n","<p>test-insert-table works!</p>\r\n<button (click)=\"testTable()\">Test Table</button>\r\n<button (click)=\"testUl()\">Test Ul</button>\r\n<button (click)=\"testDescriptions()\">Test Description</button>\r\n<button (click)=\"testInfos()\">Test Infos</button>\r\n\r\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-unauthorized-user',\n  templateUrl: './unauthorized-user.component.html',\n  styleUrls: ['./unauthorized-user.component.scss']\n})\nexport class UnauthorizedUserComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","<div class=\"container\">\n    <div class=\"signinContainer\">\n        <form  autocomplete=\"off\" novalidate >\n            <span class=\"imageIcon\">\n                <i class=\"logo\">\n                    <img src=\"assets/fond/scroll-quill%20(1).png\" class=\"d-inline-block\" alt=\"\">\n                </i>\n            </span>\n            <span class=\"form-title\" >\n                Vous n'avez pas les droits\n            </span>\n        </form>\n    </div>\n</div>\n","import {Component, OnInit} from '@angular/core';\nimport {AuthService} from '../../auth/auth.service';\nimport {HttpClient} from '@angular/common/http';\nimport {Router} from '@angular/router';\nimport {FormBuilder, FormControl, FormGroup, ValidationErrors, ValidatorFn, Validators} from '@angular/forms';\nimport {SpecialResponse} from '../../loot-table/loot-table.component';\n\nexport interface UserForCreation {\n    username: string;\n    password: string;\n    isGameMaster: false;\n    isAdmin: false;\n}\n\nexport const usernameValid: ValidatorFn = (formGroup: FormGroup): ValidationErrors | null => {\n    if (formGroup.get('username').value.length < 1) {\n        return {missingUsername: true};\n    } else if (formGroup.get('username').value.length > 19) {\n        return {tooLongUsername: true};\n    } else {\n        return null;\n    }\n};\n\nexport const passwordMatchValidator: ValidatorFn = (formGroup: FormGroup): ValidationErrors | null => {\n    if (formGroup.get('password').value.length < 1) {\n        return {missingPassword: true};\n    } else if (formGroup.get('password').value.length < 9) {\n        return {notLongEnoughPassword: true};\n    }\n    if (formGroup.get('password').value === formGroup.get('passwordRepeat').value) {\n        return null;\n    } else {\n        return {passwordMismatch: true};\n    }\n};\n\nexport const personnageSelection: ValidatorFn = (formGroup: FormGroup): ValidationErrors | null => {\n    if (((document.getElementById('personnageName') as HTMLInputElement)\n        && (document.getElementById('personnageName') as HTMLInputElement).value.length === 0)\n        || ((document.getElementById('selectPersonnageRestant') as HTMLSelectElement)\n            && (document.getElementById('selectPersonnageRestant') as HTMLSelectElement).value.length === 0)) {\n        return {missingPersonnage: true};\n    } else if (((document.getElementById('personnageName') as HTMLInputElement)\n        && (document.getElementById('personnageName') as HTMLInputElement).value.length > 19)) {\n        return {tooLongPersonnageName: true};\n    } else {\n        return null;\n    }\n};\n\n@Component({\n    selector: 'app-user-create',\n    templateUrl: './user-create.component.html',\n    styleUrls: ['./user-create.component.scss']\n})\nexport class UserCreateComponent implements OnInit {\n\n    public createUserForm: FormGroup;\n\n    passwordMismatch = false;\n\n    hide = true;\n\n    message: string;\n\n    creationPersonnageChecked = false;\n    personnageLeft = false;\n    idPersonnage: number;\n\n    leftPersonnage: PersonnageMinimisation[];\n\n    private timerUsername: any;\n    private timerPersonnageName: any;\n    usernameUnavailable: boolean;\n    personnageNameUnavailable: boolean;\n    lookingForUsernameAvailability = false;\n    lookingForPersonnageNameAvailability = false;\n\n    constructor(private authService: AuthService,\n                private http: HttpClient,\n                private router: Router,\n    ) {\n    }\n\n    ngOnInit(): void {\n        this.createUserForm = new FormGroup({\n            username: new FormControl('', [Validators.required, Validators.maxLength(19)]),\n            password: new FormControl('', [Validators.required, Validators.minLength(9)]),\n            passwordRepeat: new FormControl('', [Validators.required]),\n            creationPersonnageChecked: new FormControl(''),\n            personnageLeftChecked: new FormControl(''),\n            personnage: new FormControl(''),\n        }, [passwordMatchValidator, personnageSelection, usernameValid]);\n        if (this.authService.isAuth) {\n            this.message = null;\n            // Usually you would use the redirect URL from the auth service.\n            // However to keep the example simple, we will always redirect to `/admin`.\n            const redirectUrl = '/GestionDropMonstreBis';\n\n            // Redirect the user\n            this.router.navigate([redirectUrl]);\n        }\n        this.authService.getAllLeftPersonnage(this.http).then(\n            (data: any) => {\n                console.log(data);\n                const response: SpecialResponse = data as SpecialResponse;\n                this.leftPersonnage = response.data as PersonnageMinimisation[];\n                console.log(response.data as PersonnageMinimisation[]);\n                console.log(this.leftPersonnage[0]);\n            }\n        );\n    }\n\n    get username() {\n        return this.createUserForm.get('username');\n    }\n\n    get password() {\n        return this.createUserForm.get('password');\n    }\n\n    get passwordRepeat() {\n        return this.createUserForm.get('passwordRepeat');\n    }\n\n    get personnage() {\n        return this.createUserForm.get('personnage');\n    }\n\n    onPasswordInput() {\n        if (this.createUserForm.hasError('missingPassword')) {\n            this.password.setErrors({required: true});\n        } else if (this.createUserForm.hasError('passwordMismatch')) {\n            this.passwordRepeat.setErrors({passwordMismatch: true});\n        } else if (this.createUserForm.hasError('notLongEnoughPassword')) {\n            this.password.setErrors({notLongEnoughPassword: true});\n        } else {\n            this.passwordRepeat.setErrors(null);\n        }\n    }\n\n    onPersonnageInput() {\n        if (this.createUserForm.hasError('missingPersonnage')) {\n            this.personnage.setErrors({required: true});\n        } else if (this.createUserForm.hasError('tooLongPersonnageName')) {\n            this.personnage.setErrors({ma: true});\n        } else {\n            this.checkPersonnageNameAvailability();\n        }\n    }\n\n    onUsernameInput() {\n        if (this.createUserForm.hasError('missingUsername')) {\n            this.username.setErrors({required: true});\n        } else if (this.createUserForm.hasError('tooLongUsername')) {\n            this.username.setErrors({tooLongPersonnageName: true});\n        } else {\n            this.checkUsernameAvailability();\n        }\n    }\n\n    public hasError = (controlName: string, errorName: string) => {\n        return this.createUserForm.controls[controlName].hasError(errorName);\n    }\n\n    signIn(usernameGiven: string, passwordGiven: string) {\n        const username = usernameGiven ? usernameGiven : (document.getElementById('usernameUser') as HTMLInputElement).value;\n        const password = passwordGiven ? passwordGiven : (document.getElementById('passwordUser') as HTMLInputElement).value;\n        // const passwordRepeat = (document.getElementById('passwordUserRepeat') as HTMLInputElement).value;\n\n        console.log(username);\n        console.log(password);\n        this.authService.signIn(this.http, username, password).then(\n            (data: any) => {\n                console.log(data);\n                if (this.authService.isAuth) {\n                    this.message = null;\n                    // Usually you would use the redirect URL from the auth service.\n                    // However to keep the example simple, we will always redirect to `/admin`.\n                    const redirectUrl = '/GestionDropMonstreBis';\n\n                    // Redirect the user\n                    this.router.navigate([redirectUrl]);\n                }\n            }, (data: any) => {\n                console.log(data);\n                if (!this.authService.isAuth) {\n                    this.afficherMessageErreur('Utilisateur ou mot de passe incorrect.');\n                }\n            }\n        ).catch(\n            (data: any) => {\n                console.log(data);\n                if (!this.authService.isAuth) {\n                    this.afficherMessageErreur('Utilisateur ou mot de passe incorrect.');\n                }\n            }\n        );\n\n    }\n\n    createUser = (userFormValue) => {\n        if (this.createUserForm.valid) {\n            this.executeUserCreation(userFormValue);\n        }\n    }\n\n    private executeUserCreation = (userFormValue) => {\n        const user: UserForCreation = {\n            username: userFormValue.username,\n            password: userFormValue.password,\n            isAdmin: false,\n            isGameMaster: false,\n        };\n\n        const personnageToAdd: Personnage = {\n            idPersonnage: this.idPersonnage ? this.idPersonnage : null,\n            nom: this.personnage.value ? this.personnage.value : null,\n            niveau: 0,\n            intelligence: 0,\n            force: 0,\n            agilite: 0,\n            sagesse: 0,\n            constitution: 0,\n            vitalite: 0,\n            mana: 0,\n            statistiquesParNiveau: null,\n        };\n\n        this.authService.createUser(this.http, user, personnageToAdd)\n            .then(\n                (data: any) => {\n                    console.log(data);\n                    const response: SpecialResponse = JSON.parse(data) as SpecialResponse;\n                    const userCreated: UserForCreation = response.data as UserForCreation;\n                    this.signIn(userCreated.username, userCreated.password);\n                }\n            ).catch(\n                (data: any) => {\n                    console.log(data);\n                    const response: SpecialResponse = data as SpecialResponse;\n                    if (response.status === 409) {\n                    this.afficherMessageErreur('Cet username n\\'est plus displonible.');\n                }\n            }\n        );\n    }\n\n    afficherMessageErreur(message: string) {\n        this.message = message;\n    }\n\n    creationPersonnageCheckedFunction() {\n        this.creationPersonnageChecked = !this.creationPersonnageChecked;\n        if (!this.creationPersonnageChecked) {\n            console.log(this.creationPersonnageChecked);\n            this.idPersonnage = null;\n            this.personnage.patchValue(null);\n            this.personnage.clearValidators();\n            this.personnage.updateValueAndValidity();\n            this.createUserForm.updateValueAndValidity();\n            setTimeout(() => {this.passwordRepeat.patchValue(this.passwordRepeat.value); } , 10);\n        } else {\n            this.personnage.setValidators([Validators.required]);\n            this.personnage.updateValueAndValidity();\n        }\n        console.log(this.createUserForm.status);\n    }\n\n    personnageLeftFunction() {\n        this.personnageLeft = !this.personnageLeft;\n        if (!this.personnageLeft) {\n            this.idPersonnage = null;\n            this.personnage.patchValue(null);\n        }\n    }\n\n    selectionPersonnage() {\n        const personnage = (document.getElementById('selectPersonnageRestant') as HTMLSelectElement).value;\n        if (personnage.length > 0) {\n            this.idPersonnage = this.leftPersonnage.find(f => f.nom === personnage).idPersonnage;\n        }\n        console.log(this.idPersonnage);\n    }\n\n    checkUsernameAvailability() {\n        if (this.timerUsername){\n            clearTimeout(this.timerUsername);\n        }\n\n        // trigger the search action after 400 millis\n        this.timerUsername = setTimeout(() => {this.lookingForUsernameAvailability = true; this.searchUsername(); }, 1500);\n    }\n\n    searchUsername() {\n        console.log(this.authService);\n        this.authService.checkUsernameAvailable(this.http, this.username.value).then(\n            (data: any) => {\n                this.lookingForUsernameAvailability = false;\n                console.log(data);\n                this.username.setErrors(null);\n                this.usernameUnavailable = false;\n            }\n        ).catch(\n            (data: any) => {\n                this.lookingForUsernameAvailability = false;\n                console.log(data);\n                const response: SpecialResponse = data as SpecialResponse;\n                if (response.status === 409) {\n                    this.username.setErrors({unavailableUsername: true});\n                    setTimeout( () => { this.usernameUnavailable = true; }, 10);\n                }\n            }\n        );\n    }\n\n    checkPersonnageNameAvailability() {\n        if (this.timerPersonnageName){\n            clearTimeout(this.timerPersonnageName);\n        }\n\n        // trigger the search action after 400 millis\n        this.timerPersonnageName = setTimeout(() => {\n            this.lookingForPersonnageNameAvailability = true; this.searchPersonnageName();\n            }, 1500);\n    }\n\n    searchPersonnageName() {\n        console.log(this.authService);\n        this.authService.checkPersonnageNomAvailable(this.http, this.personnage.value).then(\n            (data: any) => {\n                this.lookingForPersonnageNameAvailability = false;\n                console.log(data);\n                this.personnage.setErrors(null);\n                this.personnageNameUnavailable = false;\n            }\n        ).catch(\n            (data: any) => {\n                this.lookingForPersonnageNameAvailability = false;\n                console.log(data);\n                const response: SpecialResponse = data as SpecialResponse;\n                if (response.status === 409) {\n                    this.personnage.setErrors({unavailablePersonnageName: true});\n                    setTimeout( () => { this.personnageNameUnavailable = true; }, 10);\n                }\n            }\n        );\n    }\n\n    afficherErrors() {\n        console.log(this.createUserForm.errors);\n        console.log(this.password.errors);\n        console.log(this.passwordRepeat.errors);\n        console.log(this.username.errors);\n        console.log(this.personnage.errors);\n    }\n\n    loadLogIn() {\n        this.router.navigate(['/login']);\n    }\n}\n","<div class=\"container\">\n    <div class=\"signinContainer\">\n        <form [formGroup]=\"createUserForm\" autocomplete=\"off\" novalidate (ngSubmit)=\"createUser(createUserForm.value)\">\n            <span class=\"imageIcon\">\n                <i class=\"logo\">\n                    <img src=\"assets/fond/scroll-quill%20(1).png\" class=\"d-inline-block\" alt=\"\">\n                </i>\n            </span>\n            <span class=\"form-title\" (click)=\"this.afficherErrors()\">\n                Sign in\n            </span>\n            <div class=\"needSpace\">\n                <mat-form-field appearance=\"outline\">\n                    <mat-label>Enter your username</mat-label>\n                    <input matInput placeholder=\"Username\" id=\"usernameUser\" formControlName=\"username\" (input)=\"this.onUsernameInput()\">\n                    <mat-icon matPrefix>account_circle</mat-icon>\n                    <mat-hint align=\"end\" [ngClass]=\"{'available': usernameUnavailable === false}\">19 characters max</mat-hint>\n                    <mat-error *ngIf=\"hasError('username', 'required')\">Username is required</mat-error>\n                    <mat-error *ngIf=\"hasError('username', 'maxLength')\">You have more than 19 characters</mat-error>\n                    <mat-error *ngIf=\"usernameUnavailable\">Username unavailable</mat-error>\n                </mat-form-field>\n                <mat-progress-bar *ngIf=\"this.lookingForUsernameAvailability\" mode=\"query\"></mat-progress-bar>\n            </div>\n            <div>\n                <mat-form-field appearance=\"outline\">\n                    <mat-label>Enter your password</mat-label>\n                    <input matInput [type]=\"hide ? 'password' : 'text'\" placeholder=\"Password\" id=\"passwordUser\"\n                           formControlName=\"password\" (input)=\"onPasswordInput()\">\n                    <button mat-icon-button matSuffix type=\"button\" (click)=\"hide = !hide\" [attr.aria-label]=\"'Hide password'\"\n                            [attr.aria-pressed]=\"hide\">\n                        <mat-icon>{{hide ? 'visibility_off' : 'visibility'}}</mat-icon>\n                    </button>\n                    <mat-hint align=\"end\">9 characters min</mat-hint>\n                    <mat-error *ngIf=\"hasError('password', 'required')\">Password is required</mat-error>\n                    <mat-error *ngIf=\"hasError('password', 'notLongEnoughPassword')\">You have less than 9 characters</mat-error>\n                </mat-form-field>\n            </div>\n\n            <div class=\"needSpace\">\n                <mat-form-field appearance=\"outline\">\n                    <mat-label>Password check</mat-label>\n                    <input matInput [type]=\"hide ? 'password' : 'text'\" placeholder=\"Password check\" id=\"passwordUserRepeat\"\n                           formControlName=\"passwordRepeat\" (input)=\"onPasswordInput()\">\n                    <button mat-icon-button matSuffix type=\"button\" (click)=\"hide = !hide\" [attr.aria-label]=\"'Hide password'\"\n                            [attr.aria-pressed]=\"hide\">\n                        <mat-icon>{{hide ? 'visibility_off' : 'visibility'}}</mat-icon>\n                    </button>\n                    <mat-error *ngIf=\"hasError('passwordRepeat', 'passwordMismatch')\">Passwords don't match</mat-error>\n                </mat-form-field>\n            </div>\n\n            <div class=\"needSpace\">\n                <mat-checkbox\n                    formControlName=\"creationPersonnageChecked\"\n                    labelPosition=\"after\"\n                    (input)=\"creationPersonnageCheckedFunction()\"\n                    [checked]=\"creationPersonnageChecked\">\n                    Associer à un personnage\n                </mat-checkbox>\n                <br/>\n                <mat-checkbox\n                    *ngIf=\"this.creationPersonnageChecked\"\n                    formControlName=\"personnageLeftChecked\"\n                    labelPosition=\"after\"\n                    (change)=\"personnageLeftFunction()\">\n                    <span style=\"word-break: break-word; width: 180px;\">\n                        Choisir parmi les personnages existants restants\n                    </span>\n                </mat-checkbox>\n            </div>\n            <div *ngIf=\"this.creationPersonnageChecked && !this.personnageLeft\">\n                <div class=\"needSpace\">\n                    <mat-form-field appearance=\"outline\">\n                        <mat-label>Personnage name</mat-label>\n                        <input matInput placeholder=\"Personnage name\" id=\"personnageName\"\n                               formControlName=\"personnage\"\n                               (input)=\"onPersonnageInput()\">\n                        <mat-icon matPrefix>blur_on</mat-icon>\n                        <mat-hint align=\"end\" [ngClass]=\"{'available': personnageNameUnavailable === false}\">19 characters max</mat-hint>\n                        <mat-error *ngIf=\"hasError('personnage', 'required')\">Personnage name is required</mat-error>\n                        <mat-error *ngIf=\"hasError('personnage', 'tooLongPersonnageName')\">You have more than 19 characters</mat-error>\n                        <mat-error *ngIf=\"hasError('personnage', 'unavailablePersonnageName')\">Personnage name unavailable</mat-error>\n                    </mat-form-field>\n                </div>\n            </div>\n\n            <div *ngIf=\"this.creationPersonnageChecked && this.personnageLeft\">\n                <div class=\"needSpace\">\n                    <label for=\"selectPersonnageRestant\">Selection du personnage</label>\n                    <select id=\"selectPersonnageRestant\" class=\"form-control\" (change)=\"this.selectionPersonnage()\"\n                            name=\"selectPersonnageRestant\"\n                            formControlName=\"personnage\">\n                        <option selected value=\"\"> </option>\n                        <option *ngFor=\"let personnage of this.leftPersonnage\" [value]=\"personnage.nom\">\n                            {{personnage.idPersonnage}} - {{personnage.nom}}\n                        </option>\n                    </select>\n                    <mat-error *ngIf=\"hasError('personnage', 'required')\">Personnage selection is required</mat-error>\n                </div>\n            </div>\n\n            <p>{{this.message}}</p>\n            <button mat-raised-button class=\"validationButton\" [disabled]=\"!createUserForm.valid\">Sign in</button>\n            <button type=\"button\" class=\"btn btn-outline-light\" style=\"margin-top: 15px; margin-bottom: 15px;\" (click)=\"this.loadLogIn()\">Log in</button>\n        </form>\n    </div>\n</div>\n","import { Component, OnInit } from '@angular/core';\nimport {AuthService} from '../../auth/auth.service';\nimport {Router} from '@angular/router';\n\n@Component({\n  selector: 'app-user-disconnect',\n  templateUrl: './user-disconnect.component.html',\n  styleUrls: ['./user-disconnect.component.scss']\n})\nexport class UserDisconnectComponent implements OnInit {\n\n  constructor(private authService: AuthService,\n              private route: Router) { }\n\n  ngOnInit(): void {\n      this.authService.signOut();\n      this.route.navigate(['/']);\n  }\n\n}\n","<p>user-disconnect works!</p>\n","import {Component, OnInit} from '@angular/core';\nimport {AuthService} from '../../auth/auth.service';\nimport {HttpClient} from '@angular/common/http';\nimport {Router} from '@angular/router';\nimport {FormControl, FormGroup, Validators} from '@angular/forms';\nimport {passwordMatchValidator, personnageSelection} from '../user-create/user-create.component';\nimport {SpecialResponse} from '../../loot-table/loot-table.component';\n\n@Component({\n    selector: 'app-user-login',\n    templateUrl: './user-login.component.html',\n    styleUrls: ['./user-login.component.scss']\n})\nexport class UserLoginComponent implements OnInit {\n\n    public loginUserForm: FormGroup;\n\n    hide = true;\n\n    message: string;\n\n    private timerUsername: any;\n    usernameUnknown: boolean;\n    lookingForUsernameAvailability = false;\n\n    constructor(private authService: AuthService,\n                private http: HttpClient,\n                private router: Router) {\n    }\n\n    ngOnInit(): void {\n        this.loginUserForm = new FormGroup({\n            username: new FormControl('', [Validators.required, Validators.maxLength(19)]),\n            password: new FormControl('', [Validators.required, Validators.minLength(9)]),\n        });\n        if (this.authService.isAuth) {\n            this.message = null;\n            // Usually you would use the redirect URL from the auth service.\n            // However to keep the example simple, we will always redirect to `/admin`.\n            const redirectUrl = '/GestionDropMonstreBis';\n\n            // Redirect the user\n            this.router.navigate([redirectUrl]);\n        }\n    }\n\n    get username() {\n        return this.loginUserForm.get('username');\n    }\n\n    get password() {\n        return this.loginUserForm.get('password');\n    }\n\n    public hasError = (controlName: string, errorName: string) => {\n        return this.loginUserForm.controls[controlName].hasError(errorName);\n    }\n\n    onPasswordInput() {\n        if (this.loginUserForm.hasError('missingPassword')) {\n            this.password.setErrors({required: true});\n        } else if (this.loginUserForm.hasError('passwordMismatch')) {\n            this.loginUserForm.setErrors({passwordMismatch: true});\n        } else if (this.loginUserForm.hasError('notLongEnoughPassword')) {\n            this.password.setErrors({notLongEnoughPassword: true});\n        } else {\n            this.loginUserForm.setErrors(null);\n        }\n    }\n\n    onUsernameInput() {\n        if (this.loginUserForm.hasError('missingUsername')) {\n            this.username.setErrors({required: true});\n        } else if (this.loginUserForm.hasError('tooLongUsername')) {\n            this.username.setErrors({maxLength: true});\n        } else {\n            this.checkUsernameAvailability();\n        }\n    }\n\n    checkUsernameAvailability() {\n        if (this.timerUsername){\n            clearTimeout(this.timerUsername);\n        }\n\n        // trigger the search action after 400 millis\n        if (this.username.value.length > 0) {\n            this.timerUsername = setTimeout(() => {\n                this.lookingForUsernameAvailability = true;\n                this.searchUsername();\n            }, 1500);\n        }\n    }\n\n    searchUsername() {\n        console.log(this.authService);\n        this.authService.checkUsernameAvailable(this.http, this.username.value).then(\n            (data: any) => {\n                this.lookingForUsernameAvailability = false;\n                console.log(data);\n                if (this.username.hasError('maxlength')) {\n                    this.username.setErrors({usernameUnknown: true, maxlength: true});\n                } else {\n                    this.username.setErrors({usernameUnknown: true});\n                }\n                setTimeout( () => { this.usernameUnknown = true; }, 10);\n            }\n        ).catch(\n            (data: any) => {\n                this.lookingForUsernameAvailability = false;\n                console.log(data);\n                const response: SpecialResponse = data as SpecialResponse;\n                if (response.status === 409) {\n                    this.username.setErrors(null);\n                    this.usernameUnknown = false;\n                }\n            }\n        );\n    }\n\n    signIn() {\n        const username = (document.getElementById('usernameUser') as HTMLInputElement).value;\n        const password = (document.getElementById('passwordUser') as HTMLInputElement).value;\n        console.log(username);\n        console.log(password);\n        this.authService.signIn(this.http, username, password).then(\n            (data: any) => {\n                console.log(data);\n                if (this.authService.isAuth) {\n                    this.message = null;\n                    // Usually you would use the redirect URL from the auth service.\n                    // However to keep the example simple, we will always redirect to `/admin`.\n                    const redirectUrl = '/GestionDropMonstreBis';\n\n                    // Redirect the user\n                    this.router.navigate([redirectUrl]);\n                }\n            }, (data: any) => {\n                console.log(data);\n                if (!this.authService.isAuth) {\n                    this.afficherMessageErreur('Utilisateur ou mot de passe incorrect.');\n                }\n            }\n        ).catch(\n            (data: any) => {\n                console.log(data);\n                if (!this.authService.isAuth) {\n                    this.afficherMessageErreur('Utilisateur ou mot de passe incorrect.');\n                }\n            }\n        );\n    }\n\n    afficherMessageErreur(message: string) {\n        this.message = message;\n    }\n\n    loadSignIn() {\n        this.router.navigate(['/signin']);\n    }\n\n    afficherErrors() {\n        console.log(this.loginUserForm.errors);\n        console.log(this.loginUserForm.controls);\n        console.log(this.username.errors);\n        console.log(this.password.errors.key);\n    }\n}\n","<div class=\"container\">\n    <div class=\"loginContainer\">\n        <form [formGroup]=\"loginUserForm\" autocomplete=\"off\" novalidate (ngSubmit)=\"this.signIn()\">\n            <span class=\"imageIcon\">\n                <i class=\"logo\">\n                    <img src=\"assets/fond/scroll-quill%20(1).png\" class=\"d-inline-block\" alt=\"\">\n                </i>\n            </span>\n            <span class=\"form-title\" (click)=\"afficherErrors()\">\n                Log in\n            </span>\n            <div>\n                <mat-form-field appearance=\"outline\">\n                    <mat-label>Enter your username</mat-label>\n                    <input matInput placeholder=\"Username\" id=\"usernameUser\" formControlName=\"username\"\n                           (input)=\"this.onUsernameInput()\" (keydown.enter)=\"this.signIn()\">\n                    <mat-icon matPrefix>account_circle</mat-icon>\n                    <mat-hint align=\"end\" [ngClass]=\"{'available': usernameUnknown === false}\">19 characters max</mat-hint>\n                    <mat-error *ngIf=\"hasError('username', 'required')\">Username is required</mat-error>\n                    <mat-error *ngIf=\"hasError('username', 'maxlength')\">You have more than 19 characters</mat-error>\n                    <mat-error *ngIf=\"hasError('username', 'usernameUnknown')\">Unknown username</mat-error>\n                </mat-form-field>\n            </div>\n            <div>\n                <mat-form-field appearance=\"outline\">\n                    <mat-label>Enter your password</mat-label>\n                    <input matInput [type]=\"hide ? 'password' : 'text'\" placeholder=\"Password\" id=\"passwordUser\"\n                           formControlName=\"password\" (input)=\"onPasswordInput()\" (keydown.enter)=\"this.signIn()\">\n                    <button type=\"button\" mat-icon-button matSuffix (click)=\"hide = !hide\" [attr.aria-label]=\"'Hide password'\"\n                            [attr.aria-pressed]=\"hide\">\n                        <mat-icon>{{hide ? 'visibility_off' : 'visibility'}}</mat-icon>\n                    </button>\n                    <mat-hint align=\"end\">9 characters min</mat-hint>\n                    <mat-error *ngIf=\"hasError('password', 'required')\">Password is required</mat-error>\n                    <mat-error *ngIf=\"hasError('password', 'minlength')\">You have less than 9 characters</mat-error>\n                </mat-form-field>\n            </div>\n\n            <p>{{this.message}}</p>\n            <button class=\"validationButton\" [disabled]=\"!loginUserForm.valid\">Log in</button>\n            <button type=\"button\" class=\"btn btn-outline-light\" style=\"margin-top: 15px; margin-bottom: 15px;\" (click)=\"this.loadSignIn()\">Sign in</button>\n        </form>\n    </div>\n</div>\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n"]}