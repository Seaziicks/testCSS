{"version":3,"sources":["webpack:///$_lazy_route_resource lazy namespace object","webpack:///src/app/app-routing.module.ts","webpack:///src/app/app.component.ts","webpack:///src/app/app.component.html","webpack:///src/app/app.module.ts","webpack:///src/app/auth/auth.guard.ts","webpack:///src/app/auth/auth.service.ts","webpack:///src/app/autocomplete-groupe/autocomplete-groupe.component.ts","webpack:///src/app/autocomplete-groupe/autocomplete-groupe.component.html","webpack:///src/app/fading-info/fading-info.component.ts","webpack:///src/app/fading-info/fading-info.component.html","webpack:///src/app/gestion-drop-monstre-bis/gestion-drop-monstre-bis.component.ts","webpack:///src/app/gestion-drop-monstre-bis/gestion-drop-monstre-bis.component.html","webpack:///src/app/gestion-drop-monstre/gestion-drop-monstre.component.ts","webpack:///src/app/gestion-drop-monstre/gestion-drop-monstre.component.html","webpack:///src/app/gestion-monstre/gestion-monstre.component.ts","webpack:///src/app/gestion-monstre/gestion-monstre.component.html","webpack:///src/app/gestion-niveau-joueur/gestion-niveau-joueur.component.ts","webpack:///src/app/gestion-niveau-joueur/gestion-niveau-joueur.component.html","webpack:///src/app/gestion-niveaux/gestion-niveaux.component.ts","webpack:///src/app/gestion-niveaux/gestion-niveaux.component.html","webpack:///src/app/gestion-objet/gestion-objet.component.ts","webpack:///src/app/gestion-objet/gestion-objet.component.html","webpack:///src/app/interface/http-methods.enum.ts","webpack:///src/app/loot-table/loot-table.component.ts","webpack:///src/app/loot-table/loot-table.component.html","webpack:///src/app/material-module.ts","webpack:///src/app/objets/armes/armes.component.ts","webpack:///src/app/objets/armes/armes.component.html","webpack:///src/app/objets/armures/armures.component.ts","webpack:///src/app/objets/armures/armures.component.html","webpack:///src/app/objets/maledictions/maledictions.component.ts","webpack:///src/app/objets/maledictions/maledictions.component.html","webpack:///src/app/objets/objet-combat.ts","webpack:///src/app/objets/objet-commun.ts","webpack:///src/app/objets/objet-simple/objet-simple.component.ts","webpack:///src/app/objets/objet-simple/objet-simple.component.html","webpack:///src/app/objets/propriete-magique/propriete-magique.component.ts","webpack:///src/app/objets/propriete-magique/propriete-magique.component.html","webpack:///src/app/personnage-objet-personnage/personnage-objet-personnage.component.ts","webpack:///src/app/personnage-objet-personnage/personnage-objet-personnage.component.html","webpack:///src/app/personnage-objet/personnage-objet.component.ts","webpack:///src/app/personnage-objet/personnage-objet.component.html","webpack:///src/app/personnage/personnage.component.ts","webpack:///src/app/personnage/personnage.component.html","webpack:///src/app/progression-personnage/progression-personnage.component.ts","webpack:///src/app/progression-personnage/progression-personnage.component.html","webpack:///src/app/services/famille-and-monstre.service.ts","webpack:///src/app/services/json-load.service.ts","webpack:///src/app/services/monstre-loot-chance.service.ts","webpack:///src/app/services/objet.service.ts","webpack:///src/app/services/personnage.service.ts","webpack:///src/app/services/rest.service.ts","webpack:///src/app/sources/sources.component.ts","webpack:///src/app/sources/sources.component.html","webpack:///src/app/spinner/spinner.component.ts","webpack:///src/app/spinner/spinner.component.html","webpack:///src/app/test-insert-table/test-insert-table.component.ts","webpack:///src/app/test-insert-table/test-insert-table.component.html","webpack:///src/app/user/unauthorized-user/unauthorized-user.component.ts","webpack:///src/app/user/unauthorized-user/unauthorized-user.component.html","webpack:///src/app/user/user-create/user-create.component.ts","webpack:///src/app/user/user-create/user-create.component.html","webpack:///src/app/user/user-disconnect/user-disconnect.component.ts","webpack:///src/app/user/user-disconnect/user-disconnect.component.html","webpack:///src/app/user/user-login/user-login.component.ts","webpack:///src/app/user/user-login/user-login.component.html","webpack:///src/environments/environment.ts","webpack:///src/main.ts"],"names":["webpackEmptyAsyncContext","req","Promise","resolve","then","e","Error","code","keys","module","exports","id","routes","path","component","canActivate","redirectTo","pathMatch","AppRoutingModule","forRoot","imports","AppComponent","authService","http","router","matIconRegistry","domSanitizer","title","addSvgIcon","bypassSecurityTrustResourceUrl","events","pipe","event","subscribe","url","JSON","parse","stringify","checkUserInLocalStorage","isAdmin","isGameMaster","isAuthenticated","selector","templateUrl","styleUrls","AppModule","provide","useValue","appearance","declarations","entryComponents","bootstrap","providers","AuthGuard","next","state","isAuth","localStorage","getItem","checkUserInLocalStorageAsPromise","data","checkLogin","parseUrl","redirectUrl","providedIn","User","AuthService","username","password","rejects","values","undefined","console","log","baseUrlBis","params","set","request","GET","toString","responseType","toPromise","response","status","user","personnage","Personnage","POST","usernameToCheck","fakeUser","personnageNomToCheck","userSession","signIn","navigate","filter","opt","value","filterValue","toLowerCase","trim","item","libelle","indexOf","AutocompleteGroupeComponent","formBuilder","monstreForm","group","monstreGroup","monstreEventEmitter","setTimeout","monstreGroupOptions","get","valueChanges","_filterGroup","monsterGroupes","map","Famille","Membres","length","monstre","emit","handleEmpty","$event","target","select","AdDirective","viewContainerRef","FadingInfoComponent","componentFactoryResolver","currentAdIndex","clearInterval","interval","message","color","adItem","AdItem","BannerComponent","componentFactory","resolveComponentFactory","componentRef","adHost","createComponent","instance","remove","hostView","loadComponent","status_message","timer","Banner","nativeElement","style","setProperty","startsWith","classList","add","template","GestionDropMonstreBisComponent","familleMonstre","monstreLootChance","lootPossible","unUpdatableMonstreLootChance","monstreLootChanceToPOST","monstreLootChanceToPUT","unchangesLootChance","chargerFamilles","getLootPossibles","monstresGroupes","chargerFamillesAvecMonstres","monstreSelectionneLootChance","monstreSelectionneLootChanceOriginal","getMonstreLootChanceBis","monstreCourrant","idMonstre","remplissageLootManquant","x","Object","assign","i","a","roll","includes","splice","idLoot","niveauMonstre","multiplier","diceNumber","dicePower","poids","chargerMonstreLootChance","index","key","thereIsAtLeastOneValue","missingAtLeastOneValue","push","originalLootChanceWasEmpty","lootChanceIsCorrect","lootChanceIsDifferentFromOriginalOne","envoyerLootChancesBis","banner","loadComponentFromSpecialResponse","selectionMonstre","filterMissing","f","GestionDropMonstreComponent","addedRow","getMonstreLootChanceTest","minRoll","maxRoll","envoyerLootChances","GestionMonstreComponent","familleAndMonstreService","myControl","chargerFamille","chargerFamilleEtMonstre","filteredFamilles","getAllFamilles","familles","updateFamilleCourante","getFamillesAvecMonstres","updateMonstreCourant","monstreExactMatchV","monstreExactMatch","option","familleMonstreSelectionne","document","getElementById","options","idFamilleMonstre","label","familleToSelect","selected","autocompleteGroupeMonstre","patchValue","libelleCourant","searchExistingMonstreByName","idFamille","selectedIndex","monstreLibelle","membre","element","modifierMonstre","reload","responseModification","creerMonstre","responseCreation","familleAsString","famille","searchExistingFamilleByName","familleCourante","setValue","selectionFamille","familleLibelle","modifierFamille","chargerNouvellesDonnees","creerFamille","updateFamilleMonstreSelectionnee","child","preventDefault","GestionNiveauJoueurComponent","personnageService","_snackBar","route","pointsDispos","displayedColumns","idPersonnage","snapshot","paramMap","nouveauNiveau","niveau","intelligence","force","agilite","sagesse","constitution","vitalite","vitaliteNaturelle","deVitalite","mana","manaNaturel","deMana","loadProgressionPersonnage","loadPersonnage","getPersonnage","triggerVitaliteNaturelle","niveauEnAttente","getNiveauEnAttente","dataNiveauEnAttente","statistiques","nombreStatistiques","getStatistiquesDetaillees","statistiquesPersonnage","statistiquesPersonnageOriginal","lastProgression","progressionsPersonnage","newProgression","idProgressionPersonnage","pointCompetence","nombrePointsCompetences","progressionPersonnage","table","renderRows","openSnackBar","httpResponse","error","progression","DELETE","pop","indexProgression","progressionsPersonnageOriginal","PUT","action","open","duration","indexProgressionPersonnage","Math","max","floor","niv","pointStatistiqueUtilises","statistique","nbPointStatistiqueRestant","pointStatistiqueRestant","deVitaliteNaturelle","isNaN","deManaNaturel","monterNiveau","GestionNiveauxComponent","updatingPersonnage","getAllPersonnages","personnages","monter","gererNiveau","reloadPersonnage","updatingPersonnageID","dataPersonnage","find","GestionObjetComponent","objetService","objetMinimisations","updatingObjetName","idPersonnageSelectionne","objetCourantID","currentPersonnage","loadObjetsNames","getAllObjetsNames","dataObjet","idObjet","updatingObjetID","getObjetName","objetNom","replace","selectPersonnage","HttpMethods","LootTableComponent","dialog","input1","dialogConfig","disableClose","autoFocus","hasBackdrop","dialogRef","DialogContentDialogComponent","afterClosed","deDeDrop","lootSelectionne","lc","personnageCourant","isObjetMaudit","getRecompenseValue","lp","objet","parametres","isInput2","input","parameter","hasToBeTrue","input2","input3","parametres2","parametres3","armure","arme","objetSimple","checkPersonnageAndSendObjet","castToObjetCommunForDB","objetCommunDB","openDialog","result","sendObjet","objetCommunDBModified","proprieteMagique","envoyerObjetComplet","ajouterProprietesMagiques","proprietesMagiques","envoyerEffetMagique","styles","DemoMaterialModule","ArmesComponent","jsonService","armeEventEmitter","getJSON","effetsMagiquesArmes","allProprietesMagiques","armesSpeciales","allArmesSpeciales","armesCourantes","allArmeCourantes","allArmesGuerre","allArmesExotiques","getArrayPourNbProprieteMagique","reset","isSpecial","isMagique","deSpecial","deProprieteMagique","deType","bonus","dePuissance","deBonus","categorieObjet","allCategoriesCourante","Categories","armes","deObjet","setNom","setType","type","nom","getNbProprietesMagiques","armeSpecial","getProprietesMagiques","getPrixAndCurrency","deNombreProprietesMagiques","prix","resetHard","taille","degatsParTaille","nomTaille","getDegats","degats","materiau","autresMateriaux","nomMateriau","getNomsProprieteMagique","setMateriau","setTaille","valide","idPersonnageSelectionnee","maledictionToAdd","getMalediction","fauxNom","prixProprieteMagique","prixNonHumanoide","devise","currencyType","malediction","categorie","critique","facteurPortee","bonusDexteriteMax","malusArmureTests","risqueEchecSorts","afficherNom","afficherEffetMagique","afficherMalediction","afficherMateriau","afficherInfos","maledictionComponent","maudit","ArmuresComponent","armureEventEmitter","bouclier","effetsArmuresMagiques","armuresMagiquesSpeciales","allArmuresSpeciales","boucliersSpeciaux","allBoucliersSpeciaux","armuresCourantes","allArmures","armures","special","prixParTaille","prixHumanoide","match","prixDuMateriau","prixDeBase","setArmure","bonArm","bonDext","malArm","RisqEch","MaledictionsComponent","maledictionEventEmitter","modificationEnCoursMalediction","validee","inconveniants","conditionsDeFonctionnement","conditionsExterieur","mauditsSpeciaux","allObjetsMaudits","maledictions","dice","Chances","chance","lootChanceMin","lootChanceMax","name","getObjetsMaudits","dePuissanceMalediction","weakAndSmall","concat","unknown","moderate","strongAnfPowerful","deMalediction2","magicalProperty","deMalediction","description","infos","ul","conditionDeFonctionnement","getFromChance","inconveniant","ObjetCombat","setBonus","indexPrix","bonusToNumber","ObjetCommun","modificationEnCours","getProprieteMagique","checkProprietesMagiquesIntegrity","proprieteMagiqueCurrencyType","matchCurrency","substring","descriptionMalediction","idMalediction","indexDescription","indexTable","indexTableTitle","indexTableTitleContent","indexTableTr","tr","indexTableTrContent","indexUl","indexLi","li","proprietesMagiquesFakes","constructor","indexProprieteMagique","nomProprietesMagiques","propriete","ObjetSimpleComponent","objetSimpleEventEmitter","effetsObjet","loadComplete","ProprieteMagiqueComponent","creationProprieteMagiqueEventEmitter","proprieteMagiqueEventEmitter","resetProprieteMagiqueEventEmitter","dePuissanceSpecial","resetProprieteMagique","proprieteMagiqueOriginal","PersonnageObjetPersonnageComponent","changingObjetEffetDecouvert","ajoutEffetDecouvert","updating","getObjetComplet","loadEffetsMagiquesDecouverts","getEffetsMagiquesDecouverts","effetsMagiquesDecouverts","effetsMagiquesDecouvertsOriginal","modificationsEnCours","effetsMagiquesDecouvert","ctrlKey","getModificationIndex","indexEffetDecouvert","reloadingInterface","effet","fermerModificationCourante","effetDecouvertAAjouter","effetMagiqueDecouvert","idEffetMagiqueDecouvert","indexEffetMagiqueDecouvert","annulerAjoutEffetDecouvert","aModificationIsOccuring","annulerModificationEffetDecouvert","loadObjet","idObj","handleKeyboardEvent","PersonnageObjetComponent","changingObjet","objetOriginal","modifierContenu","updateObjet","effetMagique","effetMagiqueDescription","contenu","effetMagiqueTable","effetMagiqueTableTitle","effetMagiqueTableTitleContent","effetMagiqueTableTr","effetMagiqueTableTrContent","effetMagiqueUl","effetMagiqueUlContent","indexInfos","effetMagiqueDBInfos","areDifferentObjets","setEmptyToNull","isEmptyObjet","indexEffet","isEmptyEffetMagique","isEmptyTable","areDifferentTables","indexTitle","isEmptyTableTitle","areDifferentTableTitles","indexTitleContent","isEmptyTableTitleContent","titleContent","areDifferentTableTitleContents","indexTr","isEmptyTableTr","areDifferentTableTrs","indexTrContent","isEmptyTableTrContent","trContent","areDifferentTableTrContents","isEmptyUl","areDifferentUls","indexUlContent","isEmptyUlContent","ulContent","areDifferentUlContents","isEmptyDescription","areDifferentDescriptions","isEmptyInfo","areDifferentInfos","areDifferentEffetsMagiques","effetMagiqueDescriptions","effetMagiqueInfos","info","isEmptyDescriptions","table1","table2","idEffetMagique","position","idEffetMagiqueTable","idEffetMagiqueTableTitle","idEffetMagiqueTableTr","idEffetMagiqueUl","description1","description2","infos1","infos2","effet1","effet2","objet1","objet2","objetTemp1","objetTemp2","selectPersonnageAChanger","PersonnageComponent","afficherStatistiquesSecondaires","ProgressionPersonnageComponent","getProgressionPersonnage","progressionPersonnageOriginal","unshift","shift","ajouterLigne","supprimerLigne","validerTable","InformationSnackBarComponent","FamilleAndMonstreService","applicationTypeObservable","applicationTypeSubscription","unsubscribe","allFamilles","JSonLoadService","folder","fileToLoad","endsWith","MonstreLootChanceService","httpMethod","Loot","ObjetService","fieldToUpdate","idEffet","descriptions","Descriptions","Objet","effetMagiqueDecouver","EffetMagiqueDecouvert","effetModified","EffetMagique","dataEffetMagique","envoyerEffetMagiqueTable","dataEffetMagiqeTable","envoyerEffetMagiqueUl","effetTable","EffetMagiqueTable","effetUl","EffetMagiqueUl","EffetMagiqueUlContent","effetMagiqueUlToUSe","EffetMagiqueTableTitleContent","effetMagiqueTableTitleToUSe","EffetMagiqueTableTitle","EffetMagiqueTableTrContent","effetMagiqueTableTrToUSe","EffetMagiqueTableTr","effetMagiqueTableToUSe","effetMagiqueToUSe","EffetMagiqueDescription","EffetMagiqueInfos","objetCopie","Malediction","idMateriaux","materiaux","Materiaux","PersonnageService","withStatistique","details","ProgressionPersonnage","Niveau","monte","BASE_URL","URL_DROP_CHANCE","URL_DROP_CHANCE_BIS","URL_MONSTRES","URL_MONSTRE","URL_FAMILLE_MONSTRE","URL_EFFET_MAGIQUE","URL_OBJET_COMPLET","URL_PERSONNAGE","URL_STATISTIQUE","SourcesComponent","SpinnerComponent","TestInsertTableComponent","sacAMalice","Table","casqueDeMilleFeux","Ul","Infos","testTable","testUl","testDescriptions","testInfos","UnauthorizedUserComponent","usernameValid","formGroup","missingUsername","tooLongUsername","passwordMatchValidator","missingPassword","notLongEnoughPassword","passwordMismatch","personnageSelection","missingPersonnage","tooLongPersonnageName","UserCreateComponent","hide","creationPersonnageChecked","personnageLeft","lookingForUsernameAvailability","lookingForPersonnageNameAvailability","hasError","controlName","errorName","createUserForm","controls","createUser","userFormValue","valid","executeUserCreation","personnageToAdd","statistiquesParNiveau","userCreated","afficherMessageErreur","required","maxLength","minLength","passwordRepeat","personnageLeftChecked","getAllLeftPersonnage","leftPersonnage","setErrors","ma","checkPersonnageNameAvailability","checkUsernameAvailability","usernameGiven","passwordGiven","clearValidators","updateValueAndValidity","setValidators","timerUsername","clearTimeout","searchUsername","checkUsernameAvailable","usernameUnavailable","unavailableUsername","timerPersonnageName","searchPersonnageName","checkPersonnageNomAvailable","personnageNameUnavailable","unavailablePersonnageName","errors","onPasswordInput","creationPersonnageCheckedFunction","UserDisconnectComponent","removeItem","signOut","UserSession","UserLoginComponent","loginUserForm","usernameUnknown","maxlength","setItem","afficherErrors","environment","production","bootstrapModule","err"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,eAASA,wBAAT,CAAkCC,GAAlC,EAAuC;AACtC;AACA;AACA,eAAOC,OAAO,CAACC,OAAR,GAAkBC,IAAlB,CAAuB,YAAW;AACxC,cAAIC,CAAC,GAAG,IAAIC,KAAJ,CAAU,yBAAyBL,GAAzB,GAA+B,GAAzC,CAAR;AACAI,WAAC,CAACE,IAAF,GAAS,kBAAT;AACA,gBAAMF,CAAN;AACA,SAJM,CAAP;AAKA;;AACDL,8BAAwB,CAACQ,IAAzB,GAAgC,YAAW;AAAE,eAAO,EAAP;AAAY,OAAzD;;AACAR,8BAAwB,CAACG,OAAzB,GAAmCH,wBAAnC;AACAS,YAAM,CAACC,OAAP,GAAiBV,wBAAjB;AACAA,8BAAwB,CAACW,EAAzB,GAA8B,yCAA9B;;;;;;;;;;;;;;;;ACZA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;AAyBA,UAAMC,MAAM,GAAW,CACnB;AAACC,YAAI,EAAE,QAAP;AAAiBC,iBAAS,EAAE;AAA5B,OADmB,EAEnB;AAACD,YAAI,EAAE,aAAP;AAAsBC,iBAAS,EAAE;AAAjC,OAFmB,EAGnB;AAACD,YAAI,EAAE,cAAP;AAAuBC,iBAAS,EAAE;AAAlC,OAHmB,EAInB;AAACD,YAAI,EAAE,aAAP;AAAsBC,iBAAS,EAAE;AAAjC,OAJmB,EAKnB;AAACD,YAAI,EAAE,QAAP;AAAiBC,iBAAS,EAAE;AAA5B,OALmB,EAMnB;AAACD,YAAI,EAAE,OAAP;AAAgBC,iBAAS,EAAE;AAA3B,OANmB,EAOnB;AAACD,YAAI,EAAE,gBAAP;AAAyBC,iBAAS,EAAE;AAApC,OAPmB,EAQnB;AAACD,YAAI,EAAE,qBAAP;AAA8BC,iBAAS,EAAE;AAAzC,OARmB,EASnB;AAACD,YAAI,EAAE,WAAP;AAAoBC,iBAAS,EAAE;AAA/B,OATmB,EAUnB;AAACD,YAAI,EAAE,WAAP;AAAoBC,iBAAS,EAAE;AAA/B,OAVmB,EAWnB;AAACD,YAAI,EAAE,aAAP;AAAsBC,iBAAS,EAAE;AAAjC,OAXmB,EAYnB;AAACD,YAAI,EAAE,WAAP;AAAoBC,iBAAS,EAAE;AAA/B,OAZmB,EAanB;AAACD,YAAI,EAAE,YAAP;AAAqBC,iBAAS,EAAE;AAAhC,OAbmB,EAcnB;AAACD,YAAI,EAAE,gBAAP;AAAyBC,iBAAS,EAAE;AAApC,OAdmB,EAenB;AAACD,YAAI,EAAE,eAAP;AAAwBC,iBAAS,EAAE,6FAAnC;AAA0DC,mBAAW,EAAE,CAAC,2DAAD;AAAvE,OAfmB,EAgBnB;AAACF,YAAI,EAAE,gBAAP;AAAyBC,iBAAS,EAAE,kGAApC;AAA6DC,mBAAW,EAAE,CAAC,2DAAD;AAA1E,OAhBmB,EAiBnB;AAACF,YAAI,EAAE,oBAAP;AAA6BC,iBAAS,EAAE,gHAAxC;AAAqEC,mBAAW,EAAE,CAAC,2DAAD;AAAlF,OAjBmB,EAkBnB;AAACF,YAAI,EAAE,uBAAP;AAAgCC,iBAAS,EAAE,2HAA3C;AAA2EC,mBAAW,EAAE,CAAC,2DAAD;AAAxF,OAlBmB,EAmBnB;AAACF,YAAI,EAAE,WAAP;AAAoBC,iBAAS,EAAE,mFAA/B;AAAmDC,mBAAW,EAAE,CAAC,2DAAD;AAAhE,OAnBmB,EAoBnB;AAACF,YAAI,EAAE,SAAP;AAAkBC,iBAAS,EAAE;AAA7B,OApBmB,EAqBnB;AAACD,YAAI,EAAE,EAAP;AAAWG,kBAAU,EAAE,iBAAvB;AAA0CC,iBAAS,EAAE;AAArD,OArBmB,EAsBnB;AAACJ,YAAI,EAAE,IAAP;AAAaG,kBAAU,EAAE;AAAzB,OAtBmB,CAAvB;;UA6BaE,gB;;;;;cAAAA;;;;2BAAAA,gB;AAAgB,S;AAAA,kBAHhB,CAAC,6DAAaC,OAAb,CAAqBP,MAArB,CAAD,CAGgB,EAFf,4DAEe;;;;4HAAhBM,gB,EAAgB;AAAA;AAAA,oBAFf,4DAEe;AAAA,S;AAFH,O;;;;;wEAEbA,gB,EAAgB;gBAJ5B,sDAI4B;iBAJnB;AACNE,mBAAO,EAAE,CAAC,6DAAaD,OAAb,CAAqBP,MAArB,CAAD,CADH;AAENF,mBAAO,EAAE,CAAC,4DAAD;AAFH,W;AAImB,U;;;;;;;;;;;;;;;;;;ACtD7B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;ACcY;;AAA6C;;AAAwC;;AAAe;;AAAI;;;;;;AACxG;;AAA6C;;AAA2C;;AAAmB;;AAAI;;;;;;AAInH;;AAAuE;;AAAO;;AAAU;;AAAe;;AAAW;;;;;;;;AAA/F;;;;;;AAEf;;AAA6C;;AAAsC;;AAAI;;AAAI;;;;;;AAC3F;;AAA6C;;AAA0C;;AAAc;;AAAI;;;;;;AACzG;;AAA6C;;AAAkD;;AAAoB;;AAAI;;;;;;AAG3H;;AAAkE;;AAAe;;;;;;AAGjF;;AAAkF;;AAAS;;;;;;AAC3F;;AAAuF;;AAAW;;;;;;AAO9F;;AAA+D;;AAAe;;;;;;AAC9E;;AAAkE;;AAAmB;;;;;;AACrF;;AAA6D;;AAAI;;;;;;AACjE;;AAAiE;;AAAc;;;;;;AAC/E;;AAAkE;;AAAe;;;;;;AACjF;;AAAyE;;AAAoB;;;;;;AAE7F;;AAAkF;;AAAS;;;;;;AAC3F;;AAAuF;;AAAW;;;;UDhCjGW,Y;AAGT,8BAAoBC,WAApB,EACoBC,IADpB,EAEoBC,MAFpB,EAGoBC,eAHpB,EAIoBC,YAJpB,EAIgD;AAAA;;AAJ5B,eAAAJ,WAAA,GAAAA,WAAA;AACA,eAAAC,IAAA,GAAAA,IAAA;AACA,eAAAC,MAAA,GAAAA,MAAA;AACA,eAAAC,eAAA,GAAAA,eAAA;AACA,eAAAC,YAAA,GAAAA,YAAA;AANpB,eAAAC,KAAA,GAAQ,WAAR;AAOI,eAAKF,eAAL,CAAqBG,UAArB,4BAEI,KAAKF,YAAL,CAAkBG,8BAAlB,sCAFJ;AAIA,eAAKJ,eAAL,CAAqBG,UAArB,0BAEI,KAAKF,YAAL,CAAkBG,8BAAlB,sCAFJ;AAIA,eAAKJ,eAAL,CAAqBG,UAArB,UAEI,KAAKF,YAAL,CAAkBG,8BAAlB,iCAFJ;AAIH;;;;qCAEO;AAAA;;AACJ;AACA,iBAAKL,MAAL,CAAYM,MAAZ,CAAmBC,IAAnB,CACI,8DAAO,UAAAC,KAAK;AAAA,qBAAIA,KAAK,YAAY,6DAArB;AAAA,aAAZ,CADJ,EAEEC,SAFF,CAEY,UAAAD,KAAK,EAAI;AACjB,kBAAME,GAAG,GAAGC,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,SAAL,CAAeL,KAAf,CAAX,EAAkCE,GAA9C;;AACA,mBAAI,CAACZ,WAAL,CAAiBgB,uBAAjB,CAAyC,KAAI,CAACf,IAA9C,EAAoD,KAAI,CAACC,MAAzD,EAAiEU,GAAjE;AACH,aALD;AAMH;;;oCAES;AACN,mBAAO,KAAKZ,WAAL,CAAiBiB,OAAjB,EAAP;AACH;;;yCAEc;AACX,mBAAO,KAAKjB,WAAL,CAAiBkB,YAAjB,EAAP;AACH;;;mCAEQ;AACL,mBAAO,KAAKlB,WAAL,CAAiBmB,eAAjB,EAAP;AACH;;;;;;;yBA1CQpB,Y,EAAY,+H,EAAA,gI,EAAA,uH,EAAA,uI,EAAA,uI;AAAA,O;;;cAAZA,Y;AAAY,iC;AAAA,iB;AAAA,gB;AAAA,ouD;AAAA;AAAA;;;ACbzB;;AACI;;AACI;;AAAwB;AAAA;;AAAA;;AAAA,qBAAS,aAAT;AAAyB,aAAzB;;AACpB;;AAAU;;AAAI;;AAClB;;AACJ;;AACA;;AACI;;AAAM;;AAAe;;AACzB;;AACA;;AACA;;AACI;;AAAoD;;AAAW;;AAAU;;AAAe;;AAAW;;AACnG;;AACI;;AAAwB;;AAA2C;;AAAU;;AAAI;;AACjF;;AACA;;AACJ;;AAGA;;AACA;;AACI;;AACA;;AACA;;AACJ;;AAEA;;AACA;;AAAoC;;AAAO;;AAE3C;;AACA;;AACJ;;AACJ;;AACA;;AACI;;AACI;;AACI;;AAA2C;;AAAW;;AACtD;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AAAoC;;AAAO;;AAC3C;;AACA;;AACJ;;AACJ;;AACA;;AAGI;;AAEJ;;AACJ;;;;;;AA3C2B;;AAAA;;AAGO;;AAAA;;AACA;;AAAA;;AAIsB;;AAAA;;AAEtB;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AAGiB;;AAAA;;AAGgB;;AAAA;;AACM;;AAAA;;AAOrB;;AAAA;;AACG;;AAAA;;AACL;;AAAA;;AACI;;AAAA;;AACC;;AAAA;;AACO;;AAAA;;AAES;;AAAA;;AACM;;AAAA;;;;;;;;;wEDhChEA,Y,EAAY;gBALxB,uDAKwB;iBALd;AACPqB,oBAAQ,EAAE,UADH;AAEPC,uBAAW,EAAE,sBAFN;AAGPC,qBAAS,EAAE,CAAC,sBAAD;AAHJ,W;AAKc,U;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AEbzB;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAoGaC,S;;;;;cAAAA,S;AAAS,oBANN,2DAMM;;;;2BAATA,S;AAAS,S;AAAA,mBALP,CACP;AAACC,iBAAO,EAAE,2FAAV;AAA0CC,kBAAQ,EAAE;AAACC,sBAAU,EAAE;AAAb;AAApD,SADO,EAEP,+DAFO,C;AAGV,kBAlBQ,CACL,uEADK,EAEL,4FAFK,EAGL,oEAHK,EAIL,0DAJK,EAKL,kEALK,EAML,oFANK,EAOL,+EAPK,EAQL,qEARK,EASL,oEATK,EAUL,2EAVK,EAWL,sEAXK,CAkBR;;;;4HAEQH,S,EAAS;AAAA,yBAnDd,2DAmDc,EAlDd,mFAkDc,EAjDd,+GAiDc,EAhDd,iHAgDc,EA/Cd,mGA+Cc,EA9Cd,uFA8Cc,EA7Cd,+EA6Cc,EA5Cd,mFA4Cc,EA3Cd,4HA2Cc,EA1Cd,6EA0Cc,EAzCd,mFAyCc,EAxCd,kGAwCc,EAvCd,iGAuCc,EAtCd,wGAsCc,EArCd,qFAqCc,EApCd,sGAoCc,EAnCd,6FAmCc,EAlCd,4EAkCc,EAjCd,sIAiCc,EAhCd,yFAgCc,EA/Bd,4FA+Bc,EA9Bd,wGA8Bc,EA7Bd,8GA6Bc,EA5Bd,gHA4Bc,EA3Bd,6FA2Bc,EA1Bd,wHA0Bc,EAzBd,sHAyBc,EAxBd,oHAwBc,EAvBd,mGAuBc,EAtBd,4EAsBc;AAtBE,oBAGhB,uEAHgB,EAIhB,4FAJgB,EAKhB,oEALgB,EAMhB,0DANgB,EAOhB,kEAPgB,EAQhB,oFARgB,EAShB,+EATgB,EAUhB,qEAVgB,EAWhB,oEAXgB,EAYhB,2EAZgB,EAahB,sEAbgB;AAsBF,S;AATE,O;;;;;wEASXA,S,EAAS;gBArDrB,sDAqDqB;iBArDZ;AACNI,wBAAY,EAAE,CACV,2DADU,EAEV,mFAFU,EAGV,+GAHU,EAIV,iHAJU,EAKV,mGALU,EAMV,uFANU,EAOV,+EAPU,EAQV,mFARU,EASV,4HATU,EAUV,6EAVU,EAWV,mFAXU,EAYV,kGAZU,EAaV,iGAbU,EAcV,wGAdU,EAeV,qFAfU,EAgBV,sGAhBU,EAiBV,6FAjBU,EAkBV,4EAlBU,EAmBV,sIAnBU,EAoBV,yFApBU,EAqBV,4FArBU,EAsBV,wGAtBU,EAuBV,8GAvBU,EAwBV,gHAxBU,EAyBV,6FAzBU,EA0BV,wHA1BU,EA2BV,sHA3BU,EA4BV,oHA5BU,EA6BV,mGA7BU,EA8BV,4EA9BU,CADR;AAiCN7B,mBAAO,EAAE,CACL,uEADK,EAEL,4FAFK,EAGL,oEAHK,EAIL,0DAJK,EAKL,kEALK,EAML,oFANK,EAOL,+EAPK,EAQL,qEARK,EASL,oEATK,EAUL,2EAVK,EAWL,sEAXK,CAjCH;AA8CN8B,2BAAe,EAAE,EA9CX;AA+CNC,qBAAS,EAAE,CAAC,2DAAD,CA/CL;AAgDNC,qBAAS,EAAE,CACP;AAACN,qBAAO,EAAE,2FAAV;AAA0CC,sBAAQ,EAAE;AAACC,0BAAU,EAAE;AAAb;AAApD,aADO,EAEP,+DAFO;AAhDL,W;AAqDY,U;;;;;;;;;;;;;;;;;;ACpGtB;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UASaK,S;AAET,2BAAoB9B,IAApB,EACoBD,WADpB,EAEoBE,MAFpB,EAEoC;AAAA;;AAFhB,eAAAD,IAAA,GAAAA,IAAA;AACA,eAAAD,WAAA,GAAAA,WAAA;AACA,eAAAE,MAAA,GAAAA,MAAA;AACnB;;;;sCAGG8B,I,EACAC,K,EAA0B;AAAA;;AAC1B,gBAAMrB,GAAG,GAAWqB,KAAK,CAACrB,GAA1B;;AACA,gBAAI,CAAC,KAAKZ,WAAL,CAAiBkC,MAAlB,IAA4BC,YAAY,CAACC,OAAb,CAAqB,aAArB,CAAhC,EAAqE;AACjE,qBAAO,KAAKpC,WAAL,CAAiBqC,gCAAjB,CAAkD,KAAKpC,IAAvD,EAA6DnB,IAA7D,CACH,UAACwD,IAAD,EAAe;AACX,uBAAO,MAAI,CAACC,UAAL,CAAgB3B,GAAhB,CAAP;AACH,eAHE,CAAP;AAKH,aAND,MAMO;AACH,qBAAO,KAAK2B,UAAL,CAAgB3B,GAAhB,CAAP;AACH;AACJ;;;qCAEUA,G,EAAW;AAClB,gBAAI,KAAKZ,WAAL,CAAiBkB,YAAjB,EAAJ,EAAqC;AACjC,qBAAO,IAAP;AACH,aAFD,MAEO,IAAI,CAAC,KAAKlB,WAAL,CAAiBkC,MAAtB,EAA8B;AACjC,qBAAO,KAAKhC,MAAL,CAAYsC,QAAZ,CAAqB,QAArB,CAAP;AACH,aAFM,MAEA;AACH;AACA,mBAAKxC,WAAL,CAAiByC,WAAjB,GAA+B7B,GAA/B,CAFG,CAIH;;AACA,qBAAO,KAAKV,MAAL,CAAYsC,QAAZ,CAAqB,eAArB,CAAP;AACH;AACJ;;;;;;;yBAlCQT,S,EAAS,uH,EAAA,iH,EAAA,8G;AAAA,O;;;eAATA,S;AAAS,iBAATA,SAAS,K;AAAA,oBAFN;;;;;wEAEHA,S,EAAS;gBAHrB,wDAGqB;iBAHV;AACRW,sBAAU,EAAE;AADJ,W;AAGU,U;;;;;;;;;;;;;;;;;;;;;;;;;;ACTtB;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAQaC,I;;;;UAOAC,W;AAAb;AAAA;;AAEI,eAAAV,MAAA,GAAS,KAAT;AAkIH;;;;iCA1HUjC,I,EAAkB4C,Q,EAAkBC,Q,EAAkB;AAAA;;AACzD,mBAAO,IAAIlE,OAAJ,CACH,UAACC,OAAD,EAAUkE,OAAV,EAAsB;AAClB,kBAAMC,MAAM,GAAG;AAACH,wBAAQ,EAAEI,SAAX;AAAsBH,wBAAQ,EAAEG;AAAhC,eAAf;AACAD,oBAAM,CAACH,QAAP,GAAkBA,QAAlB;AACAG,oBAAM,CAACF,QAAP,GAAkBA,QAAlB;AACAI,qBAAO,CAACC,GAAR,CAAYH,MAAZ;AACA,kBAAMI,UAAU,GAAG,kEAAW,eAA9B;AACAF,qBAAO,CAACC,GAAR,CAAYC,UAAZ;AAEA,kBAAMC,MAAM,GAAG,IAAI,+DAAJ,GAAiBC,GAAjB,CAAqB,WAArB,EAAkCzC,IAAI,CAACE,SAAL,CAAeiC,MAAf,CAAlC,CAAf;AAEA,qBAAO/C,IAAI,CAACsD,OAAL,CAAa,yEAAYC,GAAZ,CAAgBC,QAAhB,EAAb,EAAyCL,UAAzC,EAAqD;AAACM,4BAAY,EAAE,MAAf;AAAuBL,sBAAM,EAANA;AAAvB,eAArD,EAAqFM,SAArF,GAAiG7E,IAAjG,CACH,UAACwD,IAAD,EAAe;AACXY,uBAAO,CAACC,GAAR,CAAYb,IAAZ;AACA,oBAAMsB,QAAQ,GAAoB/C,IAAI,CAACC,KAAL,CAAWwB,IAAX,CAAlC;;AACA,oBAAIsB,QAAQ,CAACC,MAAT,KAAoB,GAAxB,EAA6B;AACzB,wBAAI,CAAC3B,MAAL,GAAc,IAAd;AACA,wBAAI,CAAC4B,IAAL,GAAYF,QAAQ,CAACtB,IAArB;AACA,wBAAI,CAACyB,UAAL,GAAkBH,QAAQ,CAACtB,IAAT,CAAcyB,UAAhC;AACAlF,yBAAO,CAAC,IAAD,CAAP;AACH,iBALD,MAKO;AACHkE,yBAAO,CAAC,KAAD,CAAP;AACH;AACJ,eAZE,WAcH,UAACT,IAAD,EAAe;AACXY,uBAAO,CAACC,GAAR,CAAYb,IAAZ;AACA,oBAAMsB,QAAQ,GAAoBtB,IAAlC;;AACA,oBAAIsB,QAAQ,CAACC,MAAT,KAAoB,GAAxB,EAA6B;AACzB,wBAAI,CAAC3B,MAAL,GAAc,IAAd;AACA,wBAAI,CAAC4B,IAAL,GAAYF,QAAQ,CAACtB,IAArB;AACA,wBAAI,CAACyB,UAAL,GAAkBH,QAAQ,CAACtB,IAAT,CAAcyB,UAAhC;AACAlF,yBAAO,CAAC,IAAD,CAAP;AACH,iBALD,MAKO;AACHkE,yBAAO,CAAC,KAAD,CAAP;AACH;AACJ,eAzBE,CAAP;AA2BH,aAtCE,CAAP;AAwCH;;;oCAES;AACN,iBAAKe,IAAL,GAAY,IAAZ;AACA,iBAAKC,UAAL,GAAkB,IAAlB;AACA,iBAAK7B,MAAL,GAAc,KAAd;AACH;;;qCAEUjC,I,EAAkB6D,I,EAAuBC,U,EAAsB;AACtE,gBAAMf,MAAM,GAAG;AAACL,kBAAI,EAAEM,SAAP;AAAkBe,wBAAU,EAAEf;AAA9B,aAAf;AACAD,kBAAM,CAACL,IAAP,GAAcmB,IAAd;AACAd,kBAAM,CAACgB,UAAP,GAAoBD,UAApB;AACAb,mBAAO,CAACC,GAAR,CAAYH,MAAZ;AACA,gBAAMI,UAAU,GAAG,kEAAW,eAA9B;AACAF,mBAAO,CAACC,GAAR,CAAYC,UAAZ;AAEA,gBAAMC,MAAM,GAAG,IAAI,+DAAJ,GAAiBC,GAAjB,CAAqB,UAArB,EAAiCzC,IAAI,CAACE,SAAL,CAAeiC,MAAf,CAAjC,CAAf;AAEA,mBAAO/C,IAAI,CAACsD,OAAL,CAAa,yEAAYU,IAAZ,CAAiBR,QAAjB,EAAb,EAA0CL,UAA1C,EAAsD;AAACM,0BAAY,EAAE,MAAf;AAAuBL,oBAAM,EAANA;AAAvB,aAAtD,EAAsFM,SAAtF,EAAP;AACH;;;+CAEoB1D,I,EAAkB;AACnC,gBAAMmD,UAAU,GAAG,kEAAW,eAAX,GAA6B,sBAAhD;AACAF,mBAAO,CAACC,GAAR,CAAYC,UAAZ;AACA,mBAAOnD,IAAI,CAACsD,OAAL,CAAa,yEAAYC,GAAZ,CAAgBC,QAAhB,EAAb,EAAyCL,UAAzC,EAAqDO,SAArD,EAAP;AACH;;;iDAEsB1D,I,EAAkBiE,e,EAAyB;AAC9D,gBAAMC,QAAQ,GAAoB;AAC9BtB,sBAAQ,EAAEqB,eADoB;AAE9BpB,sBAAQ,EAAE,IAFoB;AAG9B5B,0BAAY,EAAE,IAHgB;AAI9BD,qBAAO,EAAE;AAJqB,aAAlC;AAMA,gBAAM+B,MAAM,GAAG;AAACL,kBAAI,EAAEM;AAAP,aAAf;AACAD,kBAAM,CAACL,IAAP,GAAcwB,QAAd;AACA,gBAAMd,MAAM,GAAG,IAAI,+DAAJ,GAAiBC,GAAjB,CAAqB,MAArB,EAA6BzC,IAAI,CAACE,SAAL,CAAeiC,MAAf,CAA7B,CAAf;AACA,gBAAMI,UAAU,GAAG,kEAAW,eAAX,GAA6B,sBAAhD;AACAF,mBAAO,CAACC,GAAR,CAAYC,UAAZ;AACA,mBAAOnD,IAAI,CAACsD,OAAL,CAAa,yEAAYC,GAAZ,CAAgBC,QAAhB,EAAb,EAAyCL,UAAzC,EAAqD;AAACM,0BAAY,EAAE,MAAf;AAAuBL,oBAAM,EAANA;AAAvB,aAArD,EAAqFM,SAArF,EAAP;AACH;;;sDAE2B1D,I,EAAkBmE,oB,EAA8B;AACxE,gBAAMhB,UAAU,GAAG,kEAAW,eAAX,GAA6B,iBAA7B,GAAiDgB,oBAAjD,GAAwE,sBAA3F;AACAlB,mBAAO,CAACC,GAAR,CAAYC,UAAZ;AACA,mBAAOnD,IAAI,CAACsD,OAAL,CAAa,yEAAYC,GAAZ,CAAgBC,QAAhB,EAAb,EAAyCL,UAAzC,EAAqDO,SAArD,EAAP;AACH;;;oCAES;AACN,mBAAO,CAAC,EAAE,KAAKG,IAAL,IAAa,KAAKA,IAAL,CAAU7C,OAAzB,CAAR;AACH;;;yCAEc;AACX,mBAAO,CAAC,EAAE,KAAK6C,IAAL,KAAc,KAAKA,IAAL,CAAU5C,YAAV,IAA0B,KAAKD,OAAL,EAAxC,CAAF,CAAR;AACH;;;4CAEiB;AACd,mBAAO,KAAKiB,MAAZ;AACH;;;kDAEuBjC,I,EAAkBC,M,EAA0C;AAAA;;AAAA,gBAA1BU,GAA0B,uEAAZV,MAAM,CAACU,GAAK;AAChF,gBAAMyD,WAAW,GAAGxD,IAAI,CAACC,KAAL,CAAWqB,YAAY,CAACC,OAAb,CAAqB,aAArB,CAAX,CAApB;;AACA,gBAAIiC,WAAW,IAAI,CAAE,KAAKnC,MAA1B,EAAkC;AAC9B,mBAAKoC,MAAL,CAAYrE,IAAZ,EAAkBoE,WAAW,CAACxB,QAA9B,EAAwCwB,WAAW,CAACvB,QAApD,EAA8DhE,IAA9D,CACI,UAACwD,IAAD,EAAe;AACX,oBAAI,MAAI,CAACJ,MAAT,EAAiB;AACb;AACA;AAEA;AACAhC,wBAAM,CAACqE,QAAP,CAAgB,CAAC3D,GAAD,CAAhB;AACH;AACJ,eATL;AAWH;AACJ;;;2DAEgCX,I,EAAkB;AAC/C,gBAAMoE,WAAW,GAAGxD,IAAI,CAACC,KAAL,CAAWqB,YAAY,CAACC,OAAb,CAAqB,aAArB,CAAX,CAApB;AACA,mBAAO,KAAKkC,MAAL,CAAYrE,IAAZ,EAAkBoE,WAAW,CAACxB,QAA9B,EAAwCwB,WAAW,CAACvB,QAApD,CAAP;AACH;;;;;;;;;;;;;;;;;;;;;AClJL;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;;;ACeQ;;AACY;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AACV;;AACF;;;;;;AAHiD;;AAE/C;;AAAA;;;;;;AAHJ;;AACE;;AAIF;;;;;;AALgE;;AAClD;;AAAA;;;;ADVb,UAAM0B,MAAM,GAAG,SAATA,MAAS,CAACC,GAAD,EAAiBC,KAAjB,EAA8C;AAClE,YAAMC,WAAW,GAAGD,KAAK,CAACE,WAAN,GAAoBC,IAApB,EAApB;AAEA,eAAOJ,GAAG,CAACD,MAAJ,CAAW,UAAAM,IAAI;AAAA,iBAAIA,IAAI,CAACC,OAAL,CAAaH,WAAb,GAA2BC,IAA3B,GAAkCG,OAAlC,CAA0CL,WAA1C,MAA2D,CAAC,CAAhE;AAAA,SAAf,CAAP;AACD,OAJM;AAMP;;;;;UAQaM,2B;AAUX,6CAAoBC,WAApB,EAA8C;AAAA;;AAA1B,eAAAA,WAAA,GAAAA,WAAA;AARpB,eAAAC,WAAA,GAAyB,KAAKD,WAAL,CAAiBE,KAAjB,CAAuB;AAC9CC,wBAAY,EAAE;AADgC,WAAvB,CAAzB;AAIU,eAAAC,mBAAA,GAAsB,IAAI,0DAAJ,EAAtB;AAIsC;;;;qCAErC;AAAA;;AACT;AACA;AACA;AACAC,sBAAU,CAAE,YAAM;AAChB,oBAAI,CAACC,mBAAL,GAA2B,MAAI,CAACL,WAAL,CAAiBM,GAAjB,CAAqB,cAArB,EAAqCC,YAArC,CACxBjF,IADwB,CAEvB,iEAAU,EAAV,CAFuB,EAGvB,2DAAI,UAAAiE,KAAK;AAAA,uBAAI,MAAI,CAACiB,YAAL,CAAkBjB,KAAlB,CAAJ;AAAA,eAAT,CAHuB,CAA3B;AAKD,aANS,EAMP,GANO,CAAV;AAOD;;;uCAEoBA,K,EAAa;AAChC,gBAAIA,KAAJ,EAAW;AACT,qBAAO,KAAKkB,cAAL,CACJC,GADI,CACA,UAAAT,KAAK;AAAA,uBAAK;AAACU,yBAAO,EAAEV,KAAK,CAACU,OAAhB;AAAyBC,yBAAO,EAAEvB,MAAM,CAACY,KAAK,CAACW,OAAP,EAAgBrB,KAAhB;AAAxC,iBAAL;AAAA,eADL,EAEJF,MAFI,CAEG,UAAAY,KAAK;AAAA,uBAAIA,KAAK,CAACW,OAAN,CAAcC,MAAd,GAAuB,CAA3B;AAAA,eAFR,CAAP;AAGD;;AAED,mBAAO,KAAKJ,cAAZ;AACD;;;oCAESK,O,EAAkB;AAC1B,iBAAKX,mBAAL,CAAyBY,IAAzB,CAA8BD,OAA9B;AACD;;;wCAEa,CACZ;AACD;;;;;;;yBAzCUhB,2B,EAA2B,2H;AAAA,O;;;cAA3BA,2B;AAA2B,gD;AAAA;AAAA;AAAA,S;AAAA;AAAA;AAAA,S;AAAA,iB;AAAA,e;AAAA,kY;AAAA;AAAA;ACnBxC;;AACE;;AACE;;AACA;;AAIO;AAAA,qBAAU,IAAAkB,WAAA,EAAV;AAAuB,aAAvB,EAAwB,OAAxB,EAAwB;AAAA,qBACfC,MAAM,CAACC,MAAP,CAAcC,MAAd,EADe;AACO,aAD/B;;AAJP;;AAQA;;AAAW;;AAAQ;;AAEnB;;AACE;;;;AAMF;;AAEF;;AACF;;;;;;AAvBM;;AAMK;;AAAA;;AAQS;;AAAA;;;;;;;;;;wEDKPrB,2B,EAA2B;gBALvC,uDAKuC;iBAL7B;AACT7D,oBAAQ,EAAE,yBADD;AAETC,uBAAW,EAAE,sCAFJ;AAGTC,qBAAS,EAAE,CAAC,sCAAD;AAHF,W;AAK6B,U;;;;;AAK7BsE,wBAAc,EAAE,CAAF;kBAAtB;AAAsB,WAAE,C;AACfN,6BAAmB;kBAA5B;AAA4B;;;;;;;;;;;;;;;;;;;AEzB/B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;;;;UAkBaiB,W,GACT,qBAAmBC,gBAAnB,EAAuD;AAAA;;AAApC,aAAAA,gBAAA,GAAAA,gBAAA;AAClB,O;;;yBAFQD,W,EAAW,+H;AAAA,O;;;cAAXA,W;AAAW;;;;;wEAAXA,W,EAAW;gBAHvB,uDAGuB;iBAHb;AACPnF,oBAAQ,EAAE;AADH,W;AAGa,U;;;;;;;UAUXqF,mB;AAMT,qCAAoBC,wBAApB,EAAwE;AAAA;;AAApD,eAAAA,wBAAA,GAAAA,wBAAA;AAJpB,eAAAC,cAAA,GAAiB,CAAC,CAAlB;AAKC;;;;wCAEa;AACVC,yBAAa,CAAC,KAAKC,QAAN,CAAb;AACH;;;wCAEaxG,K,EAAeyG,O,EAAiBC,K,EAAe;AAAA;;AACzD,gBAAMC,MAAM,GAAG,IAAIC,MAAJ,CAAWC,eAAX,EAA4B;AAAC7G,mBAAK,EAALA,KAAD;AAAQyG,qBAAO,EAAPA,OAAR;AAAiBC,mBAAK,EAALA;AAAjB,aAA5B,CAAf;AAEA,gBAAMI,gBAAgB,GAAG,KAAKT,wBAAL,CAA8BU,uBAA9B,CAAsDJ,MAAM,CAACxH,SAA7D,CAAzB;AAEA,gBAAM6H,YAAY,GAAG,KAAKC,MAAL,CAAYd,gBAAZ,CAA6Be,eAA7B,CAA8DJ,gBAA9D,CAArB;AACAE,wBAAY,CAACG,QAAb,CAAsBlF,IAAtB,GAA6B0E,MAAM,CAAC1E,IAApC;AAEA,iBAAKuE,QAAL,GAAgBtB,UAAU,CAAC,YAAM;AAC7B,oBAAI,CAAC+B,MAAL,CAAYd,gBAAZ,CAA6BiB,MAA7B,CAAoC,MAAI,CAACH,MAAL,CAAYd,gBAAZ,CAA6BxB,OAA7B,CAAqCqC,YAAY,CAACK,QAAlD,CAApC;AACH,aAFyB,EAEvB,IAFuB,CAA1B;AAGH;;;2DAEgC9D,Q,EAA2B;AACxD,iBAAK+D,aAAL,CAAmB/D,QAAQ,CAACgE,cAA5B,EAA4C/G,IAAI,CAACE,SAAL,CAAe6C,QAAQ,CAACtB,IAAxB,CAA5C,EAA2E,KAAKsB,QAAQ,CAACC,MAAzF;AACH;;;;;;;yBA5BQ4C,mB,EAAmB,uI;AAAA,O;;;cAAnBA,mB;AAAmB,wC;AAAA;AAAA;4EAGjBF,W,EAAa,I;;;;;;;;;;;;;;AC/B5B;;AACE;;AACF;;;qBDgBaA,W;AAAW;;;;;wEAUXE,mB,EAAmB;gBAL/B,uDAK+B;iBALrB;AACPrF,oBAAQ,EAAE,iBADH;AAEPC,uBAAW,EAAE,8BAFN;AAGPC,qBAAS,EAAE,CAAC,8BAAD;AAHJ,W;AAKqB,U;;;;;AAGYgG,gBAAM,EAAE,CAAF;kBAA7C,uDAA6C;mBAAnCf,W,EAAa;AAAC,wBAAQ;AAAT,a;AAAsB,WAAE;;;;UAuCvCW,e;;;;;;;qCAKE;AAAA;;AACP,iBAAKW,KAAL,GAAatC,UAAU,CAAC,YAAM;AAC1B,oBAAI,CAACuC,MAAL,CAAYC,aAAZ,CAA0BC,KAA1B,CAAgCC,WAAhC,CAA4C,SAA5C,EAAuD,GAAvD;AACH,aAFsB,EAEpB,IAFoB,CAAvB;AAGH;;;4CAEiB;AACd,gBAAI,KAAK3F,IAAL,CAAUyE,KAAV,CAAgBmB,UAAhB,CAA2B,GAA3B,CAAJ,EAAqC;AACjC,mBAAKJ,MAAL,CAAYC,aAAZ,CAA0BI,SAA1B,CAAoCC,GAApC,CAAwC,kBAAxC;AACH,aAFD,MAEO,IAAI,KAAK9F,IAAL,CAAUyE,KAAV,CAAgBmB,UAAhB,CAA2B,GAA3B,CAAJ,EAAqC;AACxC,mBAAKJ,MAAL,CAAYC,aAAZ,CAA0BI,SAA1B,CAAoCC,GAApC,CAAwC,WAAxC;AACH,aAFM,MAEA,IAAI,KAAK9F,IAAL,CAAUyE,KAAV,CAAgBmB,UAAhB,CAA2B,GAA3B,CAAJ,EAAqC;AACxC,mBAAKJ,MAAL,CAAYC,aAAZ,CAA0BI,SAA1B,CAAoCC,GAApC,CAAwC,cAAxC;AACH,aAFM,MAEA;AACH,mBAAKN,MAAL,CAAYC,aAAZ,CAA0BI,SAA1B,CAAoCC,GAApC,CAAwC,eAAxC;AACH;AACJ;;;wCAEa;AACVxB,yBAAa,CAAC,KAAKiB,KAAN,CAAb;AACH;;;;;;;yBAzBQX,e;AAAe,O;;;cAAfA,e;AAAe,qC;AAAA;AAAA;;;;;;;;;;;;;;;;;;AATpB;;AACI;;AAAI;;AAAc;;AAElB;;AAAG;;AAAgB;;AAEvB;;;;AAJQ;;AAAA;;AAED;;AAAA;;;;;;;;wEAMFA,e,EAAe;gBAX3B,uDAW2B;iBAXjB;AACPmB,oBAAQ,uJADD;AASP/G,qBAAS,EAAE,CAAC,8BAAD;AATJ,W;AAWiB,U;AACfgB,cAAI,EAAE,CAAF;kBAAZ;AAAY,WAAE,C;AACawF,gBAAM;kBAAjC,uDAAiC;mBAAvB,e;AAAuB;;;;UA2BzBb,M,GACT,gBAAmBzH,SAAnB,EAAgD8C,IAAhD,EAA2D;AAAA;;AAAxC,aAAA9C,SAAA,GAAAA,SAAA;AAA6B,aAAA8C,IAAA,GAAAA,IAAA;AAC/C,O;;;;;;;;;;;;;;;;;AErGL;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;;;ACUM;;AAA6B;;AAA2B;;;;;;AAA3B;;AAAA;;;;;;AAYrB;;AACE;;AACF;;;;;;AAF+C;;AAC7C;;AAAA;;;;;;;;;;;;;;;;;;;;;AATR;;AACE;;AACE;;AAAoD;;AACtD;;AACE;;AAAiC;;AAAI;;AACrC;;AAAsD;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAEpD;;AACA;;AAGF;;AACF;;AACA;;AACE;;AAAmC;;AACnC;;AACA;;AAGO;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAHP;;AAKF;;AACA;;AACE;;AAAkC;;AAClC;;AACA;;AAGO;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAHP;;AAKF;;AACA;;AACE;;AAAmC;;AACnC;;AACA;;AAGO;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAHP;;AAKF;;AACF;;;;;;;;AAvCgC;;AAAA,+LAAgE,KAAhE,EAAgE,gEAAhE;;AAC5B;;AAAA;;AAC+B;;AAAA;;AAEuB;;AAAA,oIAA6D,MAA7D,EAA6D,iBAA7D;;AAG5C;;AAAA;;AAKe;;AAAA;;AAClB;;AAAA;;AAEsD;;AAAA,kGAAyB,MAAzB,EAAyB,uBAAzB,EAAyB,aAAzB,EAAyB,iEAAzB,EAAyB,SAAzB,EAAyB,wDAAzB;;AAMpC;;AAAA;;AAClB;;AAAA;;AAEsD;;AAAA,iGAAwB,MAAxB,EAAwB,sBAAxB,EAAwB,aAAxB,EAAwB,gEAAxB,EAAwB,SAAxB,EAAwB,uDAAxB;;AAMpC;;AAAA;;AAClB;;AAAA;;AAEsD;;AAAA,kGAAyB,MAAzB,EAAyB,uBAAzB,EAAyB,aAAzB,EAAyB,iEAAzB,EAAyB,SAAzB,EAAyB,wDAAzB;;;;UDpC5DgG,8B;AAiBX,gDAAoBrI,IAApB,EACoBsI,cADpB,EAEoBC,iBAFpB,EAE+D;AAAA;;AAF3C,eAAAvI,IAAA,GAAAA,IAAA;AACA,eAAAsI,cAAA,GAAAA,cAAA;AACA,eAAAC,iBAAA,GAAAA,iBAAA;AAXpB,eAAAC,YAAA,GAAuB,EAAvB;AAEA,eAAAC,4BAAA,GAAuD,EAAvD;AACA,eAAAC,uBAAA,GAAkD,EAAlD;AACA,eAAAC,sBAAA,GAAiD,EAAjD;AACA,eAAAC,mBAAA,GAA8C,EAA9C;AAQC;;;;qCAEO;AAAA;;AACN,iBAAKC,eAAL,CAAqB,KAAK7I,IAA1B;AACA,iBAAKuI,iBAAL,CAAuBO,gBAAvB,CAAwC,KAAK9I,IAA7C,EAAmDnB,IAAnD,CACE,UAACwD,IAAD,EAAe;AACb,kBAAMsB,QAAQ,GAAoB/C,IAAI,CAACC,KAAL,CAAWwB,IAAX,CAAlC;AACA,oBAAI,CAACmG,YAAL,GAAqB7E,QAAQ,CAACtB,IAA9B;AACD,aAJH;AAMD;;;0CAEsBrC,I,EAAkB;AACvC,iBAAK+I,eAAL,GAAuB,KAAKT,cAAL,CAAoBU,2BAApB,CAAgDhJ,IAAhD,CAAvB;AACD;;;qDAEiC;AAAA;;AAChC,iBAAKiJ,4BAAL,GAAoC,EAApC;AACA,iBAAKC,oCAAL,GAA4C,EAA5C;AAEA,iBAAKX,iBAAL,CAAuBY,uBAAvB,CAA+C,KAAKnJ,IAApD,EAA0D,KAAKoJ,eAAL,CAAqBC,SAA/E,EAA0FxK,IAA1F,CACE,UAACwD,IAAD,EAAe;AACbY,qBAAO,CAACC,GAAR,CAAYb,IAAZ;AACA,kBAAMsB,QAAQ,GAAoB/C,IAAI,CAACC,KAAL,CAAWwB,IAAX,CAAlC;AACA,oBAAI,CAAC4G,4BAAL,GAAoCtF,QAAQ,CAACtB,IAA7C;;AACA,oBAAI,CAACiH,uBAAL,CAA6B,MAAI,CAACL,4BAAlC,EAAiE,MAAI,CAACT,YAAtE;;AACA,oBAAI,CAACU,oCAAL,GAA4C,MAAI,CAACD,4BAAL,CAAmCrD,GAAnC,CAAuC,UAAA2D,CAAC;AAAA,uBAAIC,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBF,CAAlB,CAAJ;AAAA,eAAxC,CAA5C;AACD,aAPH;AAQD;;;kDAE8BN,4B,EAAsDT,Y,EAAsB;AACzG,iBAAK,IAAIkB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,EAApB,EAAwBA,CAAC,EAAzB,EAA6B;AAC3B,kBAAI,CAACT,4BAA4B,CAACrD,GAA7B,CAAiC,UAAA+D,CAAC;AAAA,uBAAI,CAAEA,CAAC,CAACC,IAAR;AAAA,eAAlC,EAAgDC,QAAhD,CAA0DH,CAAC,GAAG,CAA9D,CAAL,EAAwE;AACtET,4CAA4B,CAACa,MAA7B,CAAoCJ,CAApC,EAAuC,CAAvC,EACE;AACEE,sBAAI,EAAGF,CAAC,GAAG,CADb;AACiBK,wBAAM,EAAE,CADzB;AAC4BC,+BAAa,EAAE,IAD3C;AACiDC,4BAAU,EAAE,IAD7D;AACmEC,4BAAU,EAAE,IAD/E;AACqFC,2BAAS,EAAE,IADhG;AACsGC,uBAAK,EAAE;AAD7G,iBADF;AAKD;AACF;AACF;;;2CAEgBjE,M,EAAiB;AAChC,gBAAI,CAAC,KAAKiD,eAAN,IAAyB,KAAKA,eAAL,CAAqBC,SAArB,KAAmClD,MAAM,CAACkD,SAAvE,EAAkF;AAChF,mBAAKD,eAAL,GAAuBjD,MAAvB;AACA,mBAAKkE,wBAAL;AACD;AACF;;;iDAE6BC,K,EAAe;AAC3C,iBAAK,IAAMC,GAAX,IAAkB,KAAKtB,4BAAL,CAAkCqB,KAAlC,CAAlB,EAA4D;AAC1D,kBAAI,KAAKrB,4BAAL,CAAkCqB,KAAlC,EAAyCC,GAAzC,KAAiD,IAAjD,IAAyDA,GAAG,KAAK,eAAjE,IAAoFA,GAAG,KAAK,OAAhG,EAAyG;AACvG,uBAAO,IAAP;AACD;AACF;;AACD,mBAAO,KAAP;AACD;;;iDAE6BD,K,EAAe;AAC3C,iBAAK,IAAMC,GAAX,IAAkB,KAAKtB,4BAAL,CAAkCqB,KAAlC,CAAlB,EAA4D;AAC1D,kBAAI,KAAKrB,4BAAL,CAAkCqB,KAAlC,EAAyCC,GAAzC,KAAiD,IAAjD,IAAyDA,GAAG,KAAK,eAAjE,IAAoFA,GAAG,KAAK,OAA5F,IAAuGA,GAAG,KAAK,QAAnH,EAA6H;AAC3H,uBAAO,IAAP;AACD;AACF;;AACD,mBAAO,KAAP;AACD;;;qDAEiCD,K,EAAe;AAC/C,iBAAK,IAAMC,GAAX,IAAkB,KAAKrB,oCAAL,CAA0CoB,KAA1C,CAAlB,EAAoE;AAClE,kBAAI,KAAKpB,oCAAL,CAA0CoB,KAA1C,EAAiDC,GAAjD,KAAyD,IAAzD,IAAiEA,GAAG,KAAK,eAAzE,IAA4FA,GAAG,KAAK,OAApG,IACCA,GAAG,KAAK,MADT,IACmBA,GAAG,KAAK,SAD3B,IACwC,KAAKrB,oCAAL,CAA0CoB,KAA1C,EAAiDP,MAAjD,KAA4D,CADxG,EAC2G;AACzG,uBAAO,KAAP;AACD;AACF;;AACD9G,mBAAO,CAACC,GAAR,CAAY,oCAAZ;AACA,mBAAO,IAAP;AACD;;;yCAEqBoH,K,EAAeC,G,EAAa;AAChD,mBAAO,KAAKtB,4BAAL,CAAkCqB,KAAlC,EAAyCC,GAAzC,KAAiD,IAAxD;AACD;;;8CAE0BD,K,EAAe;AACxC,iBAAK,IAAMC,GAAX,IAAkB,KAAKtB,4BAAL,CAAkCqB,KAAlC,CAAlB,EAA4D;AAC1D,kBAAI,KAAKrB,4BAAL,CAAkCqB,KAAlC,EAAyCC,GAAzC,KAAiD,IAAjD,IAAyDA,GAAG,KAAK,eAAjE,IAAoFA,GAAG,KAAK,OAAhG,EAAyG;AACvGtH,uBAAO,CAACC,GAAR,CAAY,aAAaqH,GAAb,GAAmB,UAA/B;AACA,uBAAO,KAAP;AACD;AACF;;AACD,mBAAO,IAAP;AACD;;;+DAE2CD,K,EAAe;AACzD,mBAAO,EAAE1J,IAAI,CAACE,SAAL,CAAe,KAAKoI,oCAAL,CAA0CoB,KAA1C,CAAf,MAAqE1J,IAAI,CAACE,SAAL,CAAe,KAAKmI,4BAAL,CAAkCqB,KAAlC,CAAf,CAAvE,CAAP;AACD;;;qDAEiC;AAAA;;AAChC,iBAAK5B,uBAAL,GAA+B,EAA/B;AACA,iBAAKC,sBAAL,GAA8B,EAA9B;AACA,iBAAKF,4BAAL,GAAoC,EAApC;AACA,iBAAKG,mBAAL,GAA2B,EAA3B;;AACA,iBAAK,IAAIc,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,EAApB,EAAwBA,CAAC,EAAzB,EAA6B;AAC3BzG,qBAAO,CAACC,GAAR,CAAY,KAAK+F,4BAAL,CAAkCS,CAAlC,CAAZ;;AACA,kBAAI,KAAKc,sBAAL,CAA4Bd,CAA5B,KAAkC,KAAKe,sBAAL,CAA4Bf,CAA5B,CAAtC,EAAsE;AACpE;AACA,qBAAKjB,4BAAL,CAAkCiC,IAAlC,CAAuC,KAAKzB,4BAAL,CAAkCS,CAAlC,CAAvC;AACD,eAHD,MAGO,IAAI,KAAKiB,0BAAL,CAAgCjB,CAAhC,KAAsC,KAAKkB,mBAAL,CAAyBlB,CAAzB,CAA1C,EAAuE;AAC5EzG,uBAAO,CAACC,GAAR,CAAY,iBAAZ;AACAD,uBAAO,CAACC,GAAR,CAAY,KAAK+F,4BAAL,CAAkCS,CAAlC,CAAZ;AACA,qBAAKhB,uBAAL,CAA6BgC,IAA7B,CAAkC,KAAKzB,4BAAL,CAAkCS,CAAlC,CAAlC;AACD,eAJM,MAIA,IAAI,KAAKkB,mBAAL,CAAyBlB,CAAzB,KAA+B,KAAKmB,oCAAL,CAA0CnB,CAA1C,CAAnC,EAAiF;AACtFzG,uBAAO,CAACC,GAAR,CAAY,gBAAZ;AACAD,uBAAO,CAACC,GAAR,CAAY,KAAK+F,4BAAL,CAAkCS,CAAlC,CAAZ;AACA,qBAAKf,sBAAL,CAA4B+B,IAA5B,CAAiC,KAAKzB,4BAAL,CAAkCS,CAAlC,CAAjC;AACD,eAJM,MAIA;AACLzG,uBAAO,CAACC,GAAR,CAAY,sBAAZ;AACA,qBAAK0F,mBAAL,CAAyB8B,IAAzB,CAA8B,KAAKzB,4BAAL,CAAkCS,CAAlC,CAA9B;AACD;AACF;;AACD,gBAAI,KAAKhB,uBAAL,CAA6B3C,MAA7B,GAAsC,CAA1C,EAA6C;AAC3C,mBAAKwC,iBAAL,CAAuBuC,qBAAvB,CAA6C,KAAK9K,IAAlD,EAAwD,MAAxD,EAAgE,KAAKoJ,eAAL,CAAqBC,SAArF,EAAgG,KAAKX,uBAArG,EAA8H7J,IAA9H,CACE,UAACwD,IAAD,EAAe;AACbY,uBAAO,CAACC,GAAR,CAAYb,IAAZ;AACA,oBAAMsB,QAAQ,GAAoB/C,IAAI,CAACC,KAAL,CAAWwB,IAAX,CAAlC;;AACA,uBAAI,CAAC0I,MAAL,CAAYC,gCAAZ,CAA6CrH,QAA7C;;AACA,uBAAI,CAAC+E,uBAAL,GAA+B,EAA/B;AACA,uBAAI,CAACC,sBAAL,GAA8B,EAA9B;AACA,uBAAI,CAACF,4BAAL,GAAoC,EAApC;AACA,uBAAI,CAACG,mBAAL,GAA2B,EAA3B;;AACA,uBAAI,CAACyB,wBAAL;AACD,eAVH;AAWD;;AACD,gBAAI,KAAK1B,sBAAL,CAA4B5C,MAA5B,GAAqC,CAAzC,EAA4C;AAC1C,mBAAKwC,iBAAL,CAAuBuC,qBAAvB,CAA6C,KAAK9K,IAAlD,EAAwD,KAAxD,EAA+D,KAAKoJ,eAAL,CAAqBC,SAApF,EAA+F,KAAKV,sBAApG,EAA4H9J,IAA5H,CACE,UAACwD,IAAD,EAAe;AACbY,uBAAO,CAACC,GAAR,CAAYb,IAAZ;AACA,oBAAMsB,QAAQ,GAAoB/C,IAAI,CAACC,KAAL,CAAWwB,IAAX,CAAlC;;AACA,uBAAI,CAAC0I,MAAL,CAAYC,gCAAZ,CAA6CrH,QAA7C;;AACA,uBAAI,CAAC+E,uBAAL,GAA+B,EAA/B;AACA,uBAAI,CAACC,sBAAL,GAA8B,EAA9B;AACA,uBAAI,CAACF,4BAAL,GAAoC,EAApC;AACA,uBAAI,CAACG,mBAAL,GAA2B,EAA3B;;AACA,uBAAI,CAACyB,wBAAL;AACD,eAVH;AAWD;AACF;;;2CAEoB;AACnB,gBAAI,KAAKpB,4BAAT,EAAuC;AACrC,mBAAK,IAAIS,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKT,4BAAL,CAAkClD,MAAtD,EAA8D2D,CAAC,EAA/D,EAAmE;AACjE,oBAAI,KAAKe,sBAAL,CAA4Bf,CAA5B,CAAJ,EAAoC;AAClC,yBAAO,IAAP;AACD;AACF;;AACD,qBAAO,KAAP;AACD;;AACD,mBAAO,KAAP;AACD;;;;;;;yBAlLUrB,8B,EAA8B,gI,EAAA,+J,EAAA,+J;AAAA,O;;;cAA9BA,8B;AAA8B,qD;AAAA;AAAA;;;;;;;;;;;;;;;ACZ3C;;AACE;;AACE;;AACE;;AAAI;;AAAuB;;AAC3B;;AAAyB;AAAA,qBAAuB,IAAA4C,gBAAA,QAAvB;AAA+C,aAA/C;;AAEvB;;AACF;;AACF;;AACA;;AACE;;AACF;;AACA;;AACE;;AACE;;AA0CA;;AACQ;AAAA,qBAAS,8BAAT;AAAwC,aAAxC;;AAEN;;AACF;;AACF;;AAEF;;AACF;;AACF;;AAEA;;;;AA9D+B;;AAAA;;AAKrB;;AAAA;;AAIoB;;AAAA;;AA4Cd;;AAAA;;;;;;;;;wED9CH5C,8B,EAA8B;gBAL1C,uDAK0C;iBALhC;AACTlH,oBAAQ,EAAE,8BADD;AAETC,uBAAW,EAAE,2CAFJ;AAGTC,qBAAS,EAAE,CAAC,2CAAD;AAHF,W;AAKgC,U;;;;;;;;;AAEpB0J,gBAAM,EAAE,CAAF;kBAA1B,uDAA0B;mBAAhB,Q;AAAgB,WAAE;;;;;;;;;;;;;;;;;;;AEd/B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;ACUM;;AAA6B;;AAA2B;;;;;;AAA3B;;AAAA;;;;;;;;;;;;;;;;;;;;;AAI3B;;AACE;;AACE;;AAA0G;;AAC5G;;AACE;;AAAgC;;AAChC;;AACA;;AAGO;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAHP;;AAKF;;AACA;;AACE;;AAAgC;;AAChC;;AACA;;AAGO;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAHP;;AAKF;;AACA;;AACE;;AAAkC;;AAClC;;AACA;;AAGO;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAHP;;AAKF;;AACA;;AACE;;AAAmC;;AACnC;;AACA;;AAGO;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAHP;;AAKF;;AACF;;;;;;;;AAtCyF;;AAAA;;AACrF;;AAAA;;AACyB;;AAAA;;AAClB;;AAAA;;AAEoD;;AAAA,+FAAsB,MAAtB,EAAsB,oBAAtB,EAAsB,aAAtB,EAAsB,iEAAtB,EAAsB,SAAtB,EAAsB,qDAAtB;;AAMlC;;AAAA;;AAClB;;AAAA;;AAEoD;;AAAA,+FAAsB,MAAtB,EAAsB,oBAAtB,EAAsB,aAAtB,EAAsB,iEAAtB,EAAsB,SAAtB,EAAsB,qDAAtB;;AAMlC;;AAAA;;AAClB;;AAAA;;AAEsD;;AAAA,iGAAwB,MAAxB,EAAwB,sBAAxB,EAAwB,aAAxB,EAAwB,mEAAxB,EAAwB,SAAxB,EAAwB,uDAAxB;;AAMpC;;AAAA;;AAClB;;AAAA;;AAEsD;;AAAA,kGAAyB,MAAzB,EAAyB,uBAAzB,EAAyB,aAAzB,EAAyB,oEAAzB,EAAyB,SAAzB,EAAyB,wDAAzB;;;;ADxClE,UAAMG,aAAa,GAAG,SAAhBA,aAAgB,CAAC1G,GAAD,EAA2BzB,MAA3B,EAAuD;AAClF,eAAOA,MAAM,CAAC6C,GAAP,CAAW,UAAA+D,CAAC;AAAA,iBAAIA,CAAC,CAAC7E,OAAN;AAAA,SAAZ,EAA2BP,MAA3B,CAAkC,UAAA4G,CAAC;AAAA,iBAAI,CAAC3G,GAAG,CAACoB,GAAJ,CAAQ,UAAA+D,CAAC;AAAA,mBAAIA,CAAC,CAAC7E,OAAN;AAAA,WAAT,EAAwB+E,QAAxB,CAAiCsB,CAAjC,CAAL;AAAA,SAAnC,CAAP;AACD,OAFM;;UASMC,2B;AAgBX,6CAAoBpL,IAApB,EACoBsI,cADpB,EAEoBC,iBAFpB,EAE+D;AAAA;;AAF3C,eAAAvI,IAAA,GAAAA,IAAA;AACA,eAAAsI,cAAA,GAAAA,cAAA;AACA,eAAAC,iBAAA,GAAAA,iBAAA;AAZpB,eAAAC,YAAA,GAAyB,EAAzB;AACA,eAAA6C,QAAA,GAAsB,EAAtB;AAEA,eAAA5C,4BAAA,GAAoD,EAApD;AACA,eAAAC,uBAAA,GAA+C,EAA/C;AACA,eAAAC,sBAAA,GAA8C,EAA9C;AACA,eAAAC,mBAAA,GAA2C,EAA3C;AAQC;;;;qCAEO;AAAA;;AACN,iBAAKC,eAAL,CAAqB,KAAK7I,IAA1B;AACA,iBAAKuI,iBAAL,CAAuBO,gBAAvB,CAAwC,KAAK9I,IAA7C,EAAmDnB,IAAnD,CACE,UAACwD,IAAD,EAAe;AACb,kBAAMsB,QAAQ,GAAoB/C,IAAI,CAACC,KAAL,CAAWwB,IAAX,CAAlC;AACA,qBAAI,CAACmG,YAAL,GAAqB7E,QAAQ,CAACtB,IAA9B;AACD,aAJH;AAMD;;;0CAEsBrC,I,EAAkB;AACvC,iBAAK+I,eAAL,GAAuB,KAAKT,cAAL,CAAoBU,2BAApB,CAAgDhJ,IAAhD,CAAvB;AACAiD,mBAAO,CAACC,GAAR,CAAYtC,IAAI,CAACE,SAAL,CAAe,KAAKiI,eAApB,CAAZ;AACD;;;mDAE+B/I,I,EAAkBqJ,S,EAAmB;AAAA;;AACnE,iBAAKJ,4BAAL,GAAoC,EAApC;AACA,iBAAKoC,QAAL,GAAgB,EAAhB;AACA,iBAAK9C,iBAAL,CAAuB+C,wBAAvB,CAAgD,KAAKtL,IAArD,EAA2D,KAAKoJ,eAAL,CAAqBC,SAAhF,EAA2FxK,IAA3F,CACE,UAACwD,IAAD,EAAe;AACb,kBAAMsB,QAAQ,GAAoB/C,IAAI,CAACC,KAAL,CAAWwB,IAAX,CAAlC;AACA,qBAAI,CAAC4G,4BAAL,GAAqCtF,QAAQ,CAACtB,IAA9C;AACA,qBAAI,CAACgJ,QAAL,GAAgB,OAAI,CAAC/B,uBAAL,CAA6B,OAAI,CAACL,4BAAlC,EAAiE,OAAI,CAACT,YAAtE,CAAhB;AACA,qBAAI,CAACU,oCAAL,GAA4C,OAAI,CAACD,4BAAL,CAAmCrD,GAAnC,CAAuC,UAAA2D,CAAC;AAAA,uBAAIC,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBF,CAAlB,CAAJ;AAAA,eAAxC,CAA5C;AACD,aANH;AAOD;;;kDAE8BN,4B,EAAmDT,Y,EAAsB;AACtG,gBAAM6C,QAAQ,GAAc,EAA5B;;AADsG,uDAElF7C,YAFkF;AAAA;;AAAA;AAEtG,kEAAkC;AAAA,oBAAvB/D,KAAuB;AAChC4G,wBAAQ,CAACX,IAAT,CAAc,KAAd;AACD;AAJqG;AAAA;AAAA;AAAA;AAAA;;AAKtG,iBAAK,IAAIhB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGlB,YAAY,CAACzC,MAAjC,EAAyC2D,CAAC,EAA1C,EAA8C;AAC5C,kBAAI,CAACT,4BAA4B,CAACrD,GAA7B,CAAiC,UAAA+D,CAAC;AAAA,uBAAIA,CAAC,CAAC7E,OAAN;AAAA,eAAlC,EAAiD+E,QAAjD,CAA0DrB,YAAY,CAACkB,CAAD,CAAtE,CAAL,EAAiF;AAC/ET,4CAA4B,CAACa,MAA7B,CAAoCJ,CAApC,EAAuC,CAAvC,EACE;AACEK,wBAAM,EAAGL,CAAC,GAAG,CADf;AACmB5E,yBAAO,EAAE0D,YAAY,CAACkB,CAAD,CADxC;AAC6C6B,yBAAO,EAAE,IADtD;AAC4DC,yBAAO,EAAE,IADrE;AAC2ExB,+BAAa,EAAE,IAD1F;AACgGC,4BAAU,EAAE,IAD5G;AAEEE,2BAAS,EAAE,IAFb;AAEmBC,uBAAK,EAAE;AAF1B,iBADF;AAKAiB,wBAAQ,CAAC3B,CAAD,CAAR,GAAc,IAAd;AACD;AACF;;AACD,mBAAO2B,QAAP;AACD;;;2CAEgBlF,M,EAAiB;AAChC,gBAAI,CAAC,KAAKiD,eAAN,IAAyB,KAAKA,eAAL,CAAqBC,SAArB,KAAmClD,MAAM,CAACkD,SAAvE,EAAkF;AAChF,mBAAKD,eAAL,GAAuBjD,MAAvB;AACA,mBAAKkE,wBAAL,CAA8B,KAAKrK,IAAnC,EAAyCmG,MAAM,CAACkD,SAAhD;AACD;AACF;;;iDAE6BiB,K,EAAe;AAC3C,iBAAK,IAAMC,GAAX,IAAkB,KAAKtB,4BAAL,CAAkCqB,KAAlC,CAAlB,EAA4D;AAC1D,kBAAI,KAAKrB,4BAAL,CAAkCqB,KAAlC,EAAyCC,GAAzC,KAAiD,IAAjD,IAAyDA,GAAG,KAAK,eAAjE,IAAoFA,GAAG,KAAK,OAAhG,EAAyG;AACvG,uBAAO,IAAP;AACD;AACF;;AACD,mBAAO,KAAP;AACD;;;iDAE6BD,K,EAAe;AAC3C,iBAAK,IAAMC,GAAX,IAAkB,KAAKtB,4BAAL,CAAkCqB,KAAlC,CAAlB,EAA4D;AAC1D,kBAAI,KAAKrB,4BAAL,CAAkCqB,KAAlC,EAAyCC,GAAzC,KAAiD,IAAjD,IAAyDA,GAAG,KAAK,eAAjE,IAAoFA,GAAG,KAAK,OAA5F,IAAuGA,GAAG,KAAK,QAAnH,EAA6H;AAC3H,uBAAO,IAAP;AACD;AACF;;AACD,mBAAO,KAAP;AACD;;;qDAEiCD,K,EAAe;AAC/C,iBAAK,IAAMC,GAAX,IAAkB,KAAKrB,oCAAL,CAA0CoB,KAA1C,CAAlB,EAAoE;AAClE,kBAAI,KAAKpB,oCAAL,CAA0CoB,KAA1C,EAAiDC,GAAjD,KAAyD,IAAzD,IAAiEA,GAAG,KAAK,eAAzE,IAA4FA,GAAG,KAAK,OAApG,IACCA,GAAG,KAAK,QADT,IACqBA,GAAG,KAAK,SADjC,EAC4C;AAC1C,uBAAO,KAAP;AACD;AACF;;AACDtH,mBAAO,CAACC,GAAR,CAAY,oCAAZ;AACA,mBAAO,IAAP;AACD;;;yCAEqBoH,K,EAAeC,G,EAAa;AAChD,mBAAO,KAAKtB,4BAAL,CAAkCqB,KAAlC,EAAyCC,GAAzC,KAAiD,IAAxD;AACD;;;8CAE0BD,K,EAAe;AACxC,iBAAK,IAAMC,GAAX,IAAkB,KAAKtB,4BAAL,CAAkCqB,KAAlC,CAAlB,EAA4D;AAC1D,kBAAI,KAAKrB,4BAAL,CAAkCqB,KAAlC,EAAyCC,GAAzC,KAAiD,IAAjD,IAAyDA,GAAG,KAAK,eAAjE,IAAoFA,GAAG,KAAK,OAAhG,EAAyG;AACvGtH,uBAAO,CAACC,GAAR,CAAY,aAAaqH,GAAb,GAAmB,UAA/B;AACA,uBAAO,KAAP;AACD;AACF;;AACD,mBAAO,IAAP;AACD;;;+DAE2CD,K,EAAe;AACzD,mBAAO,EAAE1J,IAAI,CAACE,SAAL,CAAe,KAAKoI,oCAAL,CAA0CoB,KAA1C,CAAf,MAAqE1J,IAAI,CAACE,SAAL,CAAe,KAAKmI,4BAAL,CAAkCqB,KAAlC,CAAf,CAAvE,CAAP;AACD;;;qDAEiC;AAAA;;AAChC,iBAAK,IAAIZ,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKlB,YAAL,CAAkBzC,MAAtC,EAA8C2D,CAAC,EAA/C,EAAmD;AACjDzG,qBAAO,CAACC,GAAR,CAAY,KAAK+F,4BAAL,CAAkCS,CAAlC,CAAZ;;AACA,kBAAI,KAAKc,sBAAL,CAA4Bd,CAA5B,KAAkC,KAAKe,sBAAL,CAA4Bf,CAA5B,CAAtC,EAAsE;AACpEzG,uBAAO,CAACC,GAAR,CAAY,wBAAZ;AACA,qBAAKuF,4BAAL,CAAkCiC,IAAlC,CAAuC,KAAKzB,4BAAL,CAAkCS,CAAlC,CAAvC;AACD,eAHD,MAGO,IAAI,KAAKiB,0BAAL,CAAgCjB,CAAhC,KAAsC,KAAKkB,mBAAL,CAAyBlB,CAAzB,CAA1C,EAAuE;AAC5EzG,uBAAO,CAACC,GAAR,CAAY,iBAAZ;AACA,qBAAKwF,uBAAL,CAA6BgC,IAA7B,CAAkC,KAAKzB,4BAAL,CAAkCS,CAAlC,CAAlC;AACD,eAHM,MAGA,IAAI,KAAKkB,mBAAL,CAAyBlB,CAAzB,KAA+B,KAAKmB,oCAAL,CAA0CnB,CAA1C,CAAnC,EAAiF;AACtFzG,uBAAO,CAACC,GAAR,CAAY,gBAAZ;AACA,qBAAKyF,sBAAL,CAA4B+B,IAA5B,CAAiC,KAAKzB,4BAAL,CAAkCS,CAAlC,CAAjC;AACD,eAHM,MAGA;AACLzG,uBAAO,CAACC,GAAR,CAAY,sBAAZ;AACA,qBAAK0F,mBAAL,CAAyB8B,IAAzB,CAA8B,KAAKzB,4BAAL,CAAkCS,CAAlC,CAA9B;AACD;;AACDzG,qBAAO,CAACC,GAAR,CAAa,KAAKuF,4BAAL,CAAkC1C,MAAlC,GAA2C,KAAK2C,uBAAL,CAA6B3C,MAAxE,GACT,KAAK4C,sBAAL,CAA4B5C,MADnB,GAC4B,KAAK6C,mBAAL,CAAyB7C,MADlE;AAED;;AACD,gBAAI,KAAK2C,uBAAL,CAA6B3C,MAA7B,GAAsC,CAA1C,EAA6C;AAC3C,mBAAKwC,iBAAL,CAAuBkD,kBAAvB,CAA0C,KAAKzL,IAA/C,EAAqD,MAArD,EAA6D,KAAKoJ,eAAL,CAAqBC,SAAlF,EAA6F,KAAKX,uBAAlG,EAA2H7J,IAA3H,CACE,UAACwD,IAAD,EAAe;AACbY,uBAAO,CAACC,GAAR,CAAYb,IAAZ;AACA,uBAAI,CAACqG,uBAAL,GAA+B,EAA/B;AACA,uBAAI,CAACC,sBAAL,GAA8B,EAA9B;AACA,uBAAI,CAACF,4BAAL,GAAoC,EAApC;AACA,uBAAI,CAACG,mBAAL,GAA2B,EAA3B;AACD,eAPH;AAQD;;AACD,gBAAI,KAAKD,sBAAL,CAA4B5C,MAA5B,GAAqC,CAAzC,EAA4C;AAC1C,mBAAKwC,iBAAL,CAAuBkD,kBAAvB,CAA0C,KAAKzL,IAA/C,EAAqD,KAArD,EAA4D,KAAKoJ,eAAL,CAAqBC,SAAjF,EAA4F,KAAKV,sBAAjG,EAAyH9J,IAAzH,CACE,UAACwD,IAAD,EAAe;AACbY,uBAAO,CAACC,GAAR,CAAYb,IAAZ;AACA,uBAAI,CAACqG,uBAAL,GAA+B,EAA/B;AACA,uBAAI,CAACC,sBAAL,GAA8B,EAA9B;AACA,uBAAI,CAACF,4BAAL,GAAoC,EAApC;AACA,uBAAI,CAACG,mBAAL,GAA2B,EAA3B;AACD,eAPH;AAQD;AACF;;;2CAEoB;AACnB,gBAAI,KAAKK,4BAAT,EAAuC;AACrC,mBAAK,IAAIS,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKT,4BAAL,CAAkClD,MAAtD,EAA8D2D,CAAC,EAA/D,EAAmE;AACjE,oBAAI,KAAKe,sBAAL,CAA4Bf,CAA5B,CAAJ,EAAoC;AAClC,yBAAO,IAAP;AACD;AACF;;AACD,qBAAO,KAAP;AACD;;AACD,mBAAO,KAAP;AACD;;;;;;;yBA5KU0B,2B,EAA2B,gI,EAAA,+J,EAAA,+J;AAAA,O;;;cAA3BA,2B;AAA2B,iD;AAAA,iB;AAAA,e;AAAA,y2B;AAAA;AAAA;AChBxC;;AACE;;AACE;;AACE;;AAAI;;AAAuB;;AAC3B;;AAAyB;AAAA,qBAAuB,IAAAH,gBAAA,QAAvB;AAA+C,aAA/C;;AAEvB;;AACF;;AACF;;AACA;;AACE;;AACF;;AACA;;AACE;;AACE;;AAyCA;;AACQ;AAAA,qBAAS,8BAAT;AAAwC,aAAxC;;AAEN;;AACF;;AACF;;AAEF;;AACF;;AACF;;;;AA3D+B;;AAAA;;AAKrB;;AAAA;;AAIoB;;AAAA;;AA2Cd;;AAAA;;;;;;;;;wEDzCHG,2B,EAA2B;gBALvC,uDAKuC;iBAL7B;AACTjK,oBAAQ,EAAE,0BADD;AAETC,uBAAW,EAAE,uCAFJ;AAGTC,qBAAS,EAAE,CAAC,uCAAD;AAHF,W;AAK6B,U;;;;;;;;;;;;;;;;;;;;;;;;;;AEhBxC;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;;;;;ACSQ;;AACE;;AAAK;;AAA2B;;AAClC;;;;;;AADO;;AAAA;;;;;;AAkBG;;AACE;;AACF;;;;;;AAFyC;;AACvC;;AAAA;;;;;;;;AASN;;AAGQ;AAAA;;AAAA;;AAAA;AAAA;;AAGN;;AACF;;;;;;AAHQ,+IAAuE,OAAvE,EAAuE,sGAAvE;;;;;;;;AAIR;;AAGQ;AAAA;;AAAA;;AAAA;AAAA;;AAGN;;AACF;;;;;;AAHQ,+IAAuE,OAAvE,EAAuE,iHAAvE;;;;;;AA2BV;;AACE;;AACF;;;;;;AAF6D;;AAC3D;;AAAA;;;;;;AAMN;;AACE;;AAAK;;AAA2B;;AAClC;;;;;;AADO;;AAAA;;;;;;;;AAmBD;;AAIQ;AAAA;;AAAA;;AAAA;AAAA;;AACN;;AACF;;;;;;AAHQ;;;;;;;;AAIR;;AAIQ;AAAA;;AAAA;;AAAA;AAAA;;AACN;;AACF;;;;;;AAHQ;;;;UDnGTqK,uB;AAkBT,yCAAoB1L,IAApB,EACoB2L,wBADpB,EACsE;AAAA;;AADlD,eAAA3L,IAAA,GAAAA,IAAA;AACA,eAAA2L,wBAAA,GAAAA,wBAAA;AAZpB,eAAAC,SAAA,GAAY,IAAI,0DAAJ,EAAZ;AAcC;;;;qCAEO;AAAA;;AACJ;AACA,iBAAKC,cAAL,GAFI,CAGJ;;AACA,iBAAKC,uBAAL;AACA,iBAAKC,gBAAL,GAAwB,KAAKH,SAAL,CAAenG,YAAf,CAA4BjF,IAA5B,CACpB,iEAAU,EAAV,CADoB,EAEpB,2DAAI,UAAAiE,KAAK;AAAA,qBAAI,OAAI,CAACF,MAAL,CAAYE,KAAZ,CAAJ;AAAA,aAAT,CAFoB,CAAxB;AAIH;;;2CAEwB;AAAA;;AACrB,iBAAKkH,wBAAL,CAA8BK,cAA9B,CAA6C,KAAKhM,IAAlD,EAAwDnB,IAAxD,CACI,UAACwD,IAAD,EAAe;AACX,kBAAMsB,QAAQ,GAAoB/C,IAAI,CAACC,KAAL,CAAWwB,IAAX,CAAlC;AACA,qBAAI,CAAC4J,QAAL,GAAgBtI,QAAQ,CAACtB,IAAzB;AACA,qBAAI,CAAC0J,gBAAL,GAAwB,OAAI,CAACH,SAAL,CAAenG,YAAf,CAA4BjF,IAA5B,CACpB,iEAAU,EAAV,CADoB,EAEpB,2DAAI,UAAAiE,KAAK;AAAA,uBAAI,OAAI,CAACF,MAAL,CAAYE,KAAZ,CAAJ;AAAA,eAAT,CAFoB,CAAxB;;AAIA,qBAAI,CAACyH,qBAAL;;AACA,qBAAI,CAACJ,uBAAL;AACH,aAVL;AAYH;;;oDAEiC;AAAA;;AAC9B,iBAAKH,wBAAL,CAA8BQ,uBAA9B,CAAsD,KAAKnM,IAA3D,EAAiEnB,IAAjE,CACI,UAACwD,IAAD,EAAe;AACX,kBAAMsB,QAAQ,GAAoB/C,IAAI,CAACC,KAAL,CAAWwB,IAAX,CAAlC;AACA,qBAAI,CAAC0G,eAAL,GAAuBpF,QAAQ,CAACtB,IAAhC;AACH,aAJL;;AAMA,gBAAI,KAAK0G,eAAT,EAA0B;AACtB,mBAAKqD,oBAAL;AACH;;AACD,iBAAKC,kBAAL,GAA0B,KAAKC,iBAAL,EAA1B;AACH;;;iCAEc7H,K,EAAa;AACxB,gBAAIA,KAAJ,EAAW;AACP,kBAAMC,WAAW,GAAGD,KAAK,CAACE,WAAN,EAApB;AACA,qBAAO,KAAKsH,QAAL,CAAc1H,MAAd,CAAqB,UAAAgI,MAAM;AAAA,uBAAIA,MAAM,CAACzH,OAAP,CAAeH,WAAf,GAA6BkF,QAA7B,CAAsCnF,WAAtC,CAAJ;AAAA,eAA3B,CAAP;AACH;;AACD,mBAAO,KAAKuH,QAAZ;AACH;AAED;;;;;;2CAGiB9F,M,EAAiB;AAAA;;AAC9B,gBAAI,CAAC,KAAKiD,eAAN,IAAyB,KAAKA,eAAL,CAAqBC,SAArB,KAAmClD,MAAM,CAACkD,SAAnE,IACG,KAAKD,eAAL,CAAqBtE,OAArB,CAA6BH,WAA7B,OAA+CwB,MAAM,CAACrB,OAAP,CAAeH,WAAf,EADlD,IAEI,KAAK6H,yBAAL,IACG,KAAKA,yBAAL,CAA+B1H,OAA/B,KAA4C2H,QAAQ,CAACC,cAAT,CAAwB,qBAAxB,EAC1CC,OAD0C,CAClC9H,IADkC,CAC7B,KAAK2H,yBAAL,CAA+BI,gBADF,EACoBC,KAJ3E,EAImF;AAE/E;AACA,mBAAKzD,eAAL,GAAuBjD,MAAvB;AACCsG,sBAAQ,CAACC,cAAT,CAAwB,gBAAxB,EAA+DjI,KAA/D,GAAuE,KAAK2E,eAAL,CAAqBtE,OAA5F,CAJ8E,CAM/E;;AACA,mBAAK0H,yBAAL,GAAiC,KAAKP,QAAL,CAAc1H,MAAd,CAAqB,UAAA4G,CAAC;AAAA,uBAAI,CAACA,CAAC,CAACyB,gBAAH,KAAwB,CAACzG,MAAM,CAACyG,gBAApC;AAAA,eAAtB,EAA4E,CAA5E,CAAjC;AACA,kBAAME,eAAe,GAAW,KAAKN,yBAAL,KAAmCxJ,SAAnC,GAA+C,KAAKwJ,yBAAL,CAA+BI,gBAA9E,GAAiG,CAAjI,CAR+E,CAU/E;;AACAtH,wBAAU,CAAC,YAAM;AACZmH,wBAAQ,CAACC,cAAT,CAAwB,qBAAxB,EACIC,OADJ,CACY,CAACG,eADb,EAC8BC,QAD9B,GACyC,IADzC;AAEJ,eAHS,EAGP,EAHO,CAAV,CAX+E,CAgB/E;;AACA,mBAAKC,yBAAL,CAA+B9H,WAA/B,CAA2C+H,UAA3C,CAAsD;AAClD7H,4BAAY,EAAE,KAAKgE,eAAL,CAAqBtE;AADe,eAAtD;AAGAQ,wBAAU,CAAC,YAAM;AACb,uBAAI,CAAC+G,kBAAL,GAA0B,OAAI,CAACC,iBAAL,EAA1B;AACH,eAFS,EAEP,EAFO,CAAV;AAGH;AACJ;;;iDAE6B;AAC1B,gBAAMY,cAAc,GAAYT,QAAQ,CAACC,cAAT,CAAwB,gBAAxB,EAA+DjI,KAA/F;AACA,gBAAMuB,OAAO,GAAY,KAAKmH,2BAAL,CAAiCD,cAAjC,CAAzB;;AACA,gBAAIlH,OAAO,KAAKhD,SAAhB,EAA2B;AACvB,mBAAKiI,gBAAL,CAAsBjF,OAAtB;AACH;AACJ;;;yDAE2B;AACxB,gBAAI,KAAK+C,eAAT,EAA0B;AACtB,kBAAMtE,KAAK,GAAYgI,QAAQ,CAACC,cAAT,CAAwB,gBAAxB,EAA+DjI,KAAtF;AACA,kBAAMuB,OAAO,GAAY,KAAKmH,2BAAL,CAAiC1I,KAAjC,CAAzB;AACA,qBAAOuB,OAAO,KAAKhD,SAAnB;AACH;;AACD,mBAAO,IAAP;AACH;;;8CAEgB;AACb,gBAAI,KAAKoG,eAAT,EAA0B;AACtB;AACA,kBAAM8D,cAAc,GAAYT,QAAQ,CAACC,cAAT,CAAwB,gBAAxB,EAA+DjI,KAA/F;AACA,kBAAMuB,OAAO,GAAY,KAAKmH,2BAAL,CAAiCD,cAAjC,CAAzB,CAHsB,CAKtB;;AACA,kBAAM7G,MAAM,GAAIoG,QAAQ,CAACC,cAAT,CAAwB,qBAAxB,CAAhB;AACA,kBAAMU,SAAS,GAAG,CAAC/G,MAAM,CAACsG,OAAP,CAAetG,MAAM,CAACgH,aAAtB,EAAqC5I,KAAtC,KAAgD,CAAhD,GAAoD,CAAC4B,MAAM,CAACsG,OAAP,CAAetG,MAAM,CAACgH,aAAtB,EAAqC5I,KAA1F,GAAkGzB,SAApH,CAPsB,CAStB;;AACA,qBAAOgD,OAAO,KAAKhD,SAAZ,IAAyBgD,OAAO,CAAC4G,gBAAR,KAA6BQ,SAAtD,IACCX,QAAQ,CAACC,cAAT,CAAwB,gBAAxB,EAA+DjI,KAA/D,KAAyE,KAAK2E,eAAL,CAAqBtE,OADtG;AAEH;;AACD,mBAAO,KAAP;AACH;;;sDAE2BwI,c,EAAsB;AAC9C,gBAAItH,OAAO,GAAc,KAAK+C,eAAL,CACpBnD,GADoB,CAChB,UAAAuF,CAAC,EAAI;AAAA,0DACeA,CAAC,CAACrF,OADjB;AAAA;;AAAA;AACN,uEAAgC;AAAA,sBAArByH,MAAqB;;AAC5B,sBAAIA,MAAM,CAACzI,OAAP,CAAeH,WAAf,OAAiC2I,cAAc,CAAC3I,WAAf,EAArC,EAAmE;AAC/D,2BAAO4I,MAAP;AACH;AACJ;AALK;AAAA;AAAA;AAAA;AAAA;;AAMN,qBAAOvK,SAAP;AACH,aARoB,CAAzB;AASAgD,mBAAO,GAAGA,OAAO,CAACzB,MAAR,CAAe,UAAAiJ,OAAO;AAAA,qBAAIA,OAAO,KAAKxK,SAAhB;AAAA,aAAtB,CAAV;AACA,mBAAOgD,OAAO,CAAC,CAAD,CAAd;AACH;;;4CAEiB;AAAA;;AACd,gBAAMlB,OAAO,GAAY2H,QAAQ,CAACC,cAAT,CAAwB,gBAAxB,EAA+DjI,KAAxF;AACAxB,mBAAO,CAACC,GAAR,CAAY,sBAAZ;AAEA,gBAAMmD,MAAM,GAAIoG,QAAQ,CAACC,cAAT,CAAwB,qBAAxB,CAAhB;AACA,gBAAMU,SAAS,GAAG/G,MAAM,CAACsG,OAAP,CAAetG,MAAM,CAACgH,aAAtB,EAAqC5I,KAAvD;AACA,iBAAKkH,wBAAL,CAA8B8B,eAA9B,CAA8C,KAAKzN,IAAnD,EAAyD,KAAKoJ,eAAL,CAAqBC,SAA9E,EACI,CAAC+D,SADL,EACgBtI,OADhB,EACyBjG,IADzB,CAEI,UAACwD,IAAD,EAAe;AACXY,qBAAO,CAACC,GAAR,CAAYb,IAAZ;;AACA,qBAAI,CAACsJ,wBAAL,CAA8BQ,uBAA9B,CAAsD,OAAI,CAACnM,IAA3D,EAAiEnB,IAAjE,CACI,UAAC6O,MAAD,EAAiB;AACb,oBAAM/J,QAAQ,GAAoB/C,IAAI,CAACC,KAAL,CAAW6M,MAAX,CAAlC;AACA,uBAAI,CAAC3E,eAAL,GAAuBpF,QAAQ,CAACtB,IAAhC;;AACA,uBAAI,CAAC+J,oBAAL;AACH,eALL;;AAOA,kBAAMuB,oBAAoB,GAAoB/M,IAAI,CAACC,KAAL,CAAWwB,IAAX,CAA9C;;AACA,qBAAI,CAAC0I,MAAL,CAAYrD,aAAZ,CAA0BiG,oBAAoB,CAAChG,cAA/C,EAA+D/G,IAAI,CAACE,SAAL,CAAe6M,oBAAoB,CAACtL,IAApC,CAA/D,EACI,KAAKsL,oBAAoB,CAAC/J,MAD9B;AAEH,aAdL;AAgBH;;;yCAEc;AAAA;;AACX,gBAAMkB,OAAO,GAAY2H,QAAQ,CAACC,cAAT,CAAwB,gBAAxB,EAA+DjI,KAAxF;AACAxB,mBAAO,CAACC,GAAR,CAAY,eAAZ;AACA,iBAAKyI,wBAAL,CAA8BiC,YAA9B,CAA2C,KAAK5N,IAAhD,EAAsD,KAAKwM,yBAAL,CAA+BI,gBAArF,EAAuG9H,OAAvG,EAAgHjG,IAAhH,CACI,UAACwD,IAAD,EAAe;AACXY,qBAAO,CAACC,GAAR,CAAYb,IAAZ;;AACA,qBAAI,CAACsJ,wBAAL,CAA8BQ,uBAA9B,CAAsD,OAAI,CAACnM,IAA3D,EAAiEnB,IAAjE,CACI,UAAC6O,MAAD,EAAiB;AACb,oBAAM/J,QAAQ,GAAoB/C,IAAI,CAACC,KAAL,CAAW6M,MAAX,CAAlC;AACA,uBAAI,CAAC3E,eAAL,GAAuBpF,QAAQ,CAACtB,IAAhC;;AACA,uBAAI,CAAC+J,oBAAL;AACH,eALL;;AAOA,kBAAMyB,gBAAgB,GAAoBjN,IAAI,CAACC,KAAL,CAAWwB,IAAX,CAA1C;;AACA,qBAAI,CAAC0I,MAAL,CAAYrD,aAAZ,CAA0BmG,gBAAgB,CAAClG,cAA3C,EAA2D/G,IAAI,CAACE,SAAL,CAAe+M,gBAAgB,CAACxL,IAAhC,CAA3D,EACI,KAAKwL,gBAAgB,CAACjK,MAD1B;AAEH,aAbL;AAeA,iBAAKmF,eAAL,GAAuB,KAAK4C,wBAAL,CAA8B3C,2BAA9B,CAA0D,KAAKhJ,IAA/D,CAAvB;AACH;;;6DAEkC;AAC/B,gBAAMqG,MAAM,GAAIoG,QAAQ,CAACC,cAAT,CAAwB,qBAAxB,CAAhB;AACA,gBAAMU,SAAS,GAAG/G,MAAM,CAACsG,OAAP,CAAetG,MAAM,CAACgH,aAAtB,EAAqC5I,KAAvD;AACA,iBAAK+H,yBAAL,GAAiC,KAAKP,QAAL,CAAc1H,MAAd,CAAqB,UAAA4G,CAAC;AAAA,qBAAIA,CAAC,CAACyB,gBAAF,KAAuB,CAACQ,SAA5B;AAAA,aAAtB,EAA6D,CAA7D,CAAjC;AACH;;;yCAEc;AACX,mBAAQX,QAAQ,CAACC,cAAT,CAAwB,gBAAxB,EAA+DjI,KAA/D,CAAqEsB,MAArE,KAAgF,CAAxF;AACH;AAED;;;;;;;;;;2CAOiB+H,e,EAAyB;AACtC,gBAAMC,OAAO,GAAG,KAAKC,2BAAL,CAAiCF,eAAjC,CAAhB;;AACA,gBAAIC,OAAO,IAAI,CAAC,CAAC,KAAKE,eAAN,IAAyB,KAAKA,eAAL,CAAqBrB,gBAArB,KAA0CmB,OAAO,CAACnB,gBAA3E,IACb,KAAKqB,eAAL,CAAqBnJ,OAArB,KAAiCiJ,OAAO,CAACjJ,OAD7B,CAAf,EACsD;AAClD,mBAAKmJ,eAAL,GAAuBF,OAAvB;AACCtB,sBAAQ,CAACC,cAAT,CAAwB,gBAAxB,EAA+DjI,KAA/D,GAAuE,KAAKwJ,eAAL,CAAqBnJ,OAA5F,CAFiD,CAGlD;;AACA,mBAAK8G,SAAL,CAAesC,QAAf,CAAwB,KAAKD,eAAL,CAAqBnJ,OAA7C;AACH;AACJ;;;8CAEgB;AACb,gBAAI,KAAKmJ,eAAT,EAA0B;AACtB;AACA,kBAAMf,cAAc,GAAYT,QAAQ,CAACC,cAAT,CAAwB,gBAAxB,EAA+DjI,KAA/F;AACA,kBAAMsJ,OAAO,GAAY,KAAKC,2BAAL,CAAiCd,cAAjC,CAAzB,CAHsB,CAKtB;;AACA,qBAAOa,OAAO,IAAKtB,QAAQ,CAACC,cAAT,CAAwB,gBAAxB,EAA+DjI,KAA/D,KAAyE,KAAKwJ,eAAL,CAAqBnJ,OAAjH;AACH;;AACD,mBAAO,KAAP;AACH;;;kDAE8B;AAC3B,gBAAK2H,QAAQ,CAACC,cAAT,CAAwB,gBAAxB,CAAL,EAAqE;AACjE,mBAAKyB,gBAAL,CAAuB1B,QAAQ,CAACC,cAAT,CAAwB,gBAAxB,EAA+DjI,KAAtF;AACH;AACJ;;;sDAE2B2J,c,EAAsB;AAC9C,gBAAML,OAAO,GAAc,KAAK9B,QAAL,CAAc1H,MAAd,CAAqB,UAAA4G,CAAC;AAAA,qBAAIA,CAAC,CAACrG,OAAF,CAAUH,WAAV,OAA4ByJ,cAAc,CAACzJ,WAAf,EAAhC;AAAA,aAAtB,CAA3B;AACA,mBAAOoJ,OAAO,CAAC,CAAD,CAAd;AACH;;;yCAEc;AACX,mBAAQtB,QAAQ,CAACC,cAAT,CAAwB,gBAAxB,KACAD,QAAQ,CAACC,cAAT,CAAwB,gBAAxB,EAA+DjI,KAA/D,CAAqEsB,MAArE,KAAgF,CADxF;AAEH;;;4CAEiB;AAAA;;AACd,gBAAMjB,OAAO,GAAY2H,QAAQ,CAACC,cAAT,CAAwB,gBAAxB,EAA+DjI,KAAxF;AACAxB,mBAAO,CAACC,GAAR,CAAY,sBAAZ;AACA,iBAAKyI,wBAAL,CAA8B0C,eAA9B,CAA8C,KAAKrO,IAAnD,EAAyD,KAAKiO,eAAL,CAAqBrB,gBAA9E,EAAgG9H,OAAhG,EAAyGjG,IAAzG,CACI,UAACwD,IAAD,EAAe;AACX,qBAAI,CAACiM,uBAAL,CAA6BjM,IAA7B;;AACA,kBAAMsB,QAAQ,GAAoB/C,IAAI,CAACC,KAAL,CAAWwB,IAAX,CAAlC;;AACA,qBAAI,CAAC0I,MAAL,CAAYC,gCAAZ,CAA6CrH,QAA7C;AACH,aALL;AAOH;;;yCAEc;AAAA;;AACX,gBAAMmB,OAAO,GAAY2H,QAAQ,CAACC,cAAT,CAAwB,gBAAxB,EAA+DjI,KAAxF;AACAxB,mBAAO,CAACC,GAAR,CAAY,eAAZ;AACA,iBAAKyI,wBAAL,CAA8B4C,YAA9B,CAA2C,KAAKvO,IAAhD,EAAsD8E,OAAtD,EAA+DjG,IAA/D,CACI,UAACwD,IAAD,EAAe;AACX,qBAAI,CAACiM,uBAAL,CAA6BjM,IAA7B;;AACA,kBAAMsB,QAAQ,GAAoB/C,IAAI,CAACC,KAAL,CAAWwB,IAAX,CAAlC;;AACA,qBAAI,CAAC0I,MAAL,CAAYC,gCAAZ,CAA6CrH,QAA7C;AACH,aALL;AAOH;;;kDAE+BtB,I,EAAW;AAAA;;AACvCY,mBAAO,CAACC,GAAR,CAAYb,IAAZ;AACA,iBAAKsJ,wBAAL,CAA8BK,cAA9B,CAA6C,KAAKhM,IAAlD,EAAwDnB,IAAxD,CACI,UAAC6O,MAAD,EAAiB;AACb,kBAAM/J,QAAQ,GAAoB/C,IAAI,CAACC,KAAL,CAAW6M,MAAX,CAAlC;AACA,qBAAI,CAACzB,QAAL,GAAgBtI,QAAQ,CAACtB,IAAzB;AACA,qBAAI,CAAC0J,gBAAL,GAAwB,OAAI,CAACH,SAAL,CAAenG,YAAf,CAA4BjF,IAA5B,CACpB,iEAAU,EAAV,CADoB,EAEpB,2DAAI,UAAAiE,KAAK;AAAA,uBAAI,OAAI,CAACF,MAAL,CAAYE,KAAZ,CAAJ;AAAA,eAAT,CAFoB,CAAxB;;AAIA,qBAAI,CAACoH,cAAL;AACH,aATL;AAWH;;;;;;;yBAlSQH,uB,EAAuB,gI,EAAA,+J;AAAA,O;;;cAAvBA,uB;AAAuB,4C;AAAA;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACfpC;;AACE;;AACE;;AACE;;AAAI;;AAAuB;;AAC3B;;AAAoD;AAAA,qBAAuB,IAAAT,gBAAA,QAAvB;AAA+C,aAA/C;;AAElD;;AACF;;AACA;;AACE;;AAGA;;AACE;;AACE;;AACE;;AACE;;AAA6B;;AAC7B;;AACA;;AAGO;AAAA,qBAAS,0BAAT;AAAoC,aAApC;;AAHP;;AAKF;;AACA;;AACE;;AAAiC;;AAAO;;AACxC;;AAAsD;AAAA,qBAAU,IAAAuD,gCAAA,EAAV;AAA4C,aAA5C;;AACpD;;AACA;;AAGF;;AACF;;AAGF;;AAEA;;AACE;;AAQA;;AAQF;;AACF;;AAEF;;AACF;;AACF;;AAMA;;AACE;;AAAI;;AAAwB;;AAC5B;;AACE;;AACE;;AAKA;;AAAW;;AAAQ;;AACnB;;AACkB;AAAA,qBAAkB,IAAAL,gBAAA,qBAAlB;AAAuD,aAAvD;;AAChB;;;;AAGF;;AACF;;AACF;;AACA;;AACE;;AAGA;;AACE;;AACE;;AACE;;AACE;;AAA6B;;AAC7B;;AACA;;AAGO;AAAA,qBAAS,2BAAT;AAAqC,aAArC;;AAHP;;AAKF;;AAGF;;AAEA;;AACE;;AAOA;;AAOF;;AACF;;AAEF;;AACF;;AACF;;AAEF;;AAEF;;AAEA;;;;;;AA5H+B;;AAAA;;AAIE;;AAAA;;AAmBP;;AAAA;;AAYJ;;AAAA;;AAQA;;AAAA;;AAwBL;;AAAA,mGAAyB,iBAAzB,EAAyB,GAAzB;;AAKO;;AAAA;;AAOS;;AAAA;;AAsBX;;AAAA;;AAOA;;AAAA;;;;;;;;;;wEDlGTzC,uB,EAAuB;gBALnC,uDAKmC;iBALzB;AACPvK,oBAAQ,EAAE,qBADH;AAEPC,uBAAW,EAAE,kCAFN;AAGPC,qBAAS,EAAE,CAAC,kCAAD;AAHJ,W;AAKyB,U;;;;;;;AAEAoN,eAAK,EAAE,CAAF;kBAApC,0DAAoC;mBAAvB,gB;AAAuB,WAAE,C;AACCzB,mCAAyB,EAAE,CAAF;kBAAhE,uDAAgE;mBAAtD,2B;AAAsD,WAAE,C;AAC9CjC,gBAAM,EAAE,CAAF;kBAA1B,uDAA0B;mBAAhB,Q;AAAgB,WAAE;;;;;;;;;;;;;;;;;;;AEnBjC;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;;;;;ACyIQ;;AAAgC;AAAA;;AAAA;;AAAA;AAAA;;AAA4I;;AAAe;;;;;;AAAjI;;;;;;;;AAC1D;;AAAgC;AAAA;;AAAA;;AAAA;AAAA;;AAAqE;;AAAe;;;;;;;;;;;;;;AAxIxH;;AACI;;AAAK;;AAAmD;;AACxD;;AAAK;;AAAgE;;AACrE;;AACI;;AACI;;AAAW;;AAAY;;AACvB;;AACO;AAAA;;AAAA;;AAAA;AAAA,aAAwC,SAAxC,EAAwC;AAAA;;AAAA,mBAE7B5E,MAAM,CAACuI,cAAP,EAF6B;AAEN,WAFlC;;AADP;;AAIA;;AACU;AAAA;;AAAA;;AAAA,gDAAmC,cAAnC;AAAiD,WAAjD;;AACV;;AACA;;AACU;AAAA;;AAAA;;AAAA,+CAAkC,cAAlC;AAAgD,WAAhD;;AACV;;AACJ;;AAEA;;AACI;;AAAW;;AAAK;;AAChB;;AACO;AAAA;;AAAA;;AAAA;AAAA,aAAiC,SAAjC,EAAiC;AAAA;;AAAA,mBAEtBvI,MAAM,CAACuI,cAAP,EAFsB;AAEC,WAFlC;;AADP;;AAIA;;AACU;AAAA;;AAAA;;AAAA,gDAAmC,OAAnC;AAA0C,WAA1C;;AACV;;AACA;;AACU;AAAA;;AAAA;;AAAA,+CAAkC,OAAlC;AAAyC,WAAzC;;AACV;;AACJ;;AAEA;;AACI;;AAAW;;AAAO;;AAClB;;AACO;AAAA;;AAAA;;AAAA;AAAA,aAAmC,SAAnC,EAAmC;AAAA;;AAAA,mBAExBvI,MAAM,CAACuI,cAAP,EAFwB;AAED,WAFlC;;AADP;;AAIA;;AACU;AAAA;;AAAA;;AAAA,gDAAmC,SAAnC;AAA4C,WAA5C;;AACV;;AACA;;AACU;AAAA;;AAAA;;AAAA,+CAAkC,SAAlC;AAA2C,WAA3C;;AACV;;AACJ;;AAEA;;AACI;;AAAW;;AAAO;;AAClB;;AAA0D;AAAA;;AAAA;;AAAA;AAAA,aAAmC,SAAnC,EAAmC;AAAA;;AAAA,mBAE3EvI,MAAM,CAACuI,cAAP,EAF2E;AAEpD,WAFiB;;AAA1D;;AAGA;;AACU;AAAA;;AAAA;;AAAA,gDAAmC,SAAnC;AAA4C,WAA5C;;AACV;;AACA;;AACU;AAAA;;AAAA;;AAAA,+CAAkC,SAAlC;AAA2C,WAA3C;;AACV;;AACJ;;AAEA;;AACI;;AAAW;;AAAY;;AACvB;;AACO;AAAA;;AAAA;;AAAA;AAAA,aAA0C,eAA1C,EAA0C;AAAA;;AAAA;;AAAA;AAAA,WAA1C,EAA0C,SAA1C,EAA0C;AAAA;;AAAA,mBAE/BvI,MAAM,CAACuI,cAAP,EAF+B;AAER,WAFlC;;AADP;;AAIA;;AACU;AAAA;;AAAA;;AAAA,yCAAmC,cAAnC;AAAoD,mBAAH,kCAAG;AAAH,WAAjD;;AAEV;;AACA;;AACU;AAAA;;AAAA;;AAAA,wCAAkC,cAAlC;AAAmD,mBAAH,kCAAG;AAAH,WAAhD;;AAEV;;AACJ;;AAEJ;;AAEA;;AACI;;AACI;;AAAW;;AAAQ;;AACnB;;AACO;AAAA;;AAAA;;AAAA;AAAA,aAAoC,SAApC,EAAoC;AAAA;;AAAA,mBAEzBvI,MAAM,CAACuI,cAAP,EAFyB;AAEF,WAFlC;;AADP;;AAIA;;AACU;AAAA;;AAAA;;AAAA,gDAAmC,UAAnC;AAA6C,WAA7C;;AACV;;AACA;;AACU;AAAA;;AAAA;;AAAA,+CAAkC,UAAlC;AAA4C,WAA5C;;AACV;;AACJ;;AAEA;;AACI;;AAAW;;AAAuD;;AAClE;;AACO;AAAA;;AAAA;;AAAA;AAAA,aAAsC,OAAtC,EAAsC;AAAA;;AAAA;;AAAA;AAAA,WAAtC;;AADP;;AAEJ;;AAEA;;AACI;;AAAW;;AAAI;;AACf;;AACO;AAAA;;AAAA;;AAAA;AAAA,aAAgC,SAAhC,EAAgC;AAAA;;AAAA,mBAErBvI,MAAM,CAACuI,cAAP,EAFqB;AAEE,WAFlC;;AADP;;AAIA;;AACU;AAAA;;AAAA;;AAAA,gDAAmC,MAAnC;AAAyC,WAAzC;;AACV;;AACA;;AACU;AAAA;;AAAA;;AAAA,+CAAkC,MAAlC;AAAwC,WAAxC;;AACV;;AACJ;;AAEA;;AACI;;AAAW;;AAA6C;;AACxD;;AACO;AAAA;;AAAA;;AAAA;AAAA,aAAkC,OAAlC,EAAkC;AAAA;;AAAA;;AAAA;AAAA,WAAlC;;AADP;;AAEJ;;AAEJ;;AAEA;;AAGI;;AACI;;AAAW;;AAAkB;;AAC7B;;AAAsF;AAAA;;AAAA;;AAAA;AAAA;;AAAtF;;AACJ;;AAEA;;AACI;;AAAW;;AAAY;;AACvB;;AAAgF;AAAA;;AAAA;;AAAA;AAAA;;AAAhF;;AACJ;;AAEJ;;AAEA;;AACA;;AACJ;;;;;;AAxIS;;AAAA;;AACA;;AAAA;;AAI0E;;AAAA,+GAAyC,SAAzC,EAAyC,iCAAzC,EAAyC,UAAzC,EAAyC,0EAAzC;;AAInD;;AAAA;;AAGA;;AAAA;;AAO4C;;AAAA,wGAAkC,SAAlC,EAAkC,0BAAlC,EAAkC,UAAlC,EAAkC,mEAAlC;;AAI5C;;AAAA;;AAGA;;AAAA;;AAO8C;;AAAA,0GAAoC,SAApC,EAAoC,4BAApC,EAAoC,UAApC,EAAoC,qEAApC;;AAI9C;;AAAA;;AAGA;;AAAA;;AAOsC;;AAAA,4GAAmC,UAAnC,EAAmC,qEAAnC;;AAGtC;;AAAA;;AAGA;;AAAA;;AAO0C;;AAAA,+GAAyC,SAAzC,EAAyC,iCAAzC,EAAyC,UAAzC,EAAyC,0EAAzC;;AAI1C;;AAAA;;AAIA;;AAAA;;AAW+C;;AAAA,2GAAqC,SAArC,EAAqC,6BAArC,EAAqC,UAArC,EAAqC,sEAArC;;AAI/C;;AAAA;;AAGA;;AAAA;;AAMT;;AAAA;;AACkB;;AAAA,iHAA2C,SAA3C,EAA2C,+BAA3C;;AAMkC;;AAAA,uGAAiC,SAAjC,EAAiC,yBAAjC,EAAiC,UAAjC,EAAiC,kEAAjC;;AAI3C;;AAAA;;AAGA;;AAAA;;AAMT;;AAAA;;AACkB;;AAAA,2GAAqC,SAArC,EAAqC,2BAArC;;AAWuC;;AAAA,qFAAiB,SAAjB,EAAiB,sCAAjB;;AAKN;;AAAA,qFAAiB,SAAjB,EAAiB,gCAAjB;;AAK6D;;AAAA;;AACzE;;AAAA;;;;;;AAelD;;AAAuC;;AAAM;;;;;;AAC7C;;AAAwC;;AAAmB;;;;;;AAAnB;;AAAA;;;;;;AAKxC;;AAAuC;;AAAY;;;;;;AACnD;;AACI;;AAAuB;;AAAwB;;AACnD;;;;;;AAD2B;;AAAA;;;;;;AAM3B;;AAAuC;;AAAK;;;;;;AAC5C;;AACI;;AAAuB;;AAAiB;;AAC5C;;;;;;AAD2B;;AAAA;;;;;;AAM3B;;AAAuC;;AAAO;;;;;;AAC9C;;AACI;;AAAuB;;AAAmB;;AAC9C;;;;;;AAD2B;;AAAA;;;;;;AAM3B;;AAAuC;;AAAO;;;;;;AAC9C;;AACI;;AAAuB;;AAAmB;;AAC9C;;;;;;AAD2B;;AAAA;;;;;;AAK3B;;AAAuC;;AAAY;;;;;;AACnD;;AACI;;AAAuB;;AAAwB;;AACnD;;;;;;AAD2B;;AAAA;;;;;;AAK3B;;AAAuC;;AAAQ;;;;;;AAC/C;;AACI;;AAAuB;;AAAoB;;AAC/C;;;;;;AAD2B;;AAAA;;;;;;AAK3B;;AAAuC;;AAAkB;;;;;;AACzD;;AACI;;AAAuB;;AAA6B;;AACxD;;;;;;AAD2B;;AAAA;;;;;;AAO3B;;AAAuC;;AAAW;;;;;;AAClD;;AACI;;AAAuB;;AAAsB;;AACjD;;;;;;AAD2B;;AAAA;;;;;;AAK3B;;AAAuC;;AAAI;;;;;;AAC3C;;AACI;;AAAuB;;AAAgB;;AAC3C;;;;;;AAD2B;;AAAA;;;;;;AAK3B;;AAAuC;;AAAY;;;;;;AACnD;;AACI;;AAAuB;;AAAuB;;AAClD;;;;;;AAD2B;;AAAA;;;;;;AAK3B;;AAAuC;;AAAO;;;;;;AAC9C;;AACI;;AAAuB;;AAAkB;;AAC7C;;;;;;AAD2B;;AAAA;;;;;;AAI/B;;;;;;AACA;;;;UDhOCC,4B;AAsBT,8CAAoB3O,IAApB,EACmBD,WADnB,EAEoB6O,iBAFpB,EAGoBC,SAHpB,EAIoB5O,MAJpB,EAKoB6O,KALpB,EAK2C;AAAA;;AALvB,eAAA9O,IAAA,GAAAA,IAAA;AACD,eAAAD,WAAA,GAAAA,WAAA;AACC,eAAA6O,iBAAA,GAAAA,iBAAA;AACA,eAAAC,SAAA,GAAAA,SAAA;AACA,eAAA5O,MAAA,GAAAA,MAAA;AACA,eAAA6O,KAAA,GAAAA,KAAA;AAfpB,eAAAC,YAAA,GAAe,CAAf;AAOA,eAAAC,gBAAA,GAA6B,CAAC,QAAD,EAAW,cAAX,EAA2B,OAA3B,EAAoC,SAApC,EAA+C,SAA/C,EAA0D,cAA1D,EAA0E,UAA1E,EAAsF,oBAAtF,EACzB,aADyB,EACV,MADU,EACF,cADE,EACc,SADd,CAA7B;AASC;;;;qCAEO;AACJ,gBAAI,KAAKjP,WAAL,CAAiB+D,UAArB,EAAiC;AAC7B,mBAAKmL,YAAL,GAAoB,KAAKlP,WAAL,CAAiB+D,UAAjB,CAA4BmL,YAAhD;AACH,aAFD,MAEO,IAAI,KAAKlP,WAAL,CAAiBkB,YAAjB,EAAJ,EAAqC;AACxC,mBAAKgO,YAAL,GAAoB,CAAC,KAAKH,KAAL,CAAWI,QAAX,CAAoBC,QAApB,CAA6B3J,GAA7B,CAAiC,IAAjC,CAArB;AACH,aAFM,MAEA;AACH,mBAAKvF,MAAL,CAAYqE,QAAZ,CAAqB,CAAC,GAAD,CAArB;AACH;;AACD,iBAAK8K,aAAL,GAAqB;AACjBC,oBAAM,EAAE,CADS;AAEjBC,0BAAY,EAAE,CAFG;AAGjBC,mBAAK,EAAE,CAHU;AAIjBC,qBAAO,EAAE,CAJQ;AAKjBC,qBAAO,EAAE,CALQ;AAMjBC,0BAAY,EAAE,CANG;AAOjBC,sBAAQ,EAAE,CAPO;AAQjBC,+BAAiB,EAAE,CARF;AASjBC,wBAAU,EAAE,CATK;AAUjBC,kBAAI,EAAE,CAVW;AAWjBC,yBAAW,EAAE,CAXI;AAYjBC,oBAAM,EAAE;AAZS,aAArB;AAcA,iBAAKC,yBAAL;AACA,iBAAKC,cAAL;AACH;;;2CAEgB;AAAA;;AACb,iBAAKtB,iBAAL,CAAuBuB,aAAvB,CAAqC,KAAKnQ,IAA1C,EAAgD,KAAKiP,YAArD,EAAmE,IAAnE,EAAyEpQ,IAAzE,CACI,UAACwD,IAAD,EAAe;AACXY,qBAAO,CAACC,GAAR,CAAYb,IAAZ;AACA,kBAAMsB,QAAQ,GAAoBtB,IAAlC;AACA,qBAAI,CAACyB,UAAL,GAAkBH,QAAQ,CAACtB,IAA3B;;AACA,qBAAI,CAAC+N,wBAAL;;AACA,qBAAI,CAAChB,aAAL,CAAmBC,MAAnB,GAA4B,OAAI,CAACvL,UAAL,CAAgBuL,MAAhB,GAAyB,CAArD;;AACA,kBAAI,OAAI,CAACvL,UAAL,CAAgBuM,eAApB,EAAqC;AACjC,uBAAI,CAACzB,iBAAL,CAAuB0B,kBAAvB,CAA0C,OAAI,CAACtQ,IAA/C,EAAqD,OAAI,CAAC8D,UAAL,CAAgBuL,MAAhB,GAAyB,CAA9E,EAAiFxQ,IAAjF,CACI,UAAC0R,mBAAD,EAA0C;AACtCtN,yBAAO,CAACC,GAAR,CAAYqN,mBAAZ;AACA,yBAAI,CAACF,eAAL,GAAuBE,mBAAmB,CAAClO,IAA3C;;AACA,sBAAI,OAAI,CAACgO,eAAL,CAAqBG,YAAzB,EAAuC;AACnC,2BAAI,CAACzB,YAAL,GAAoB,OAAI,CAACsB,eAAL,CAAqBI,kBAAzC;AACH,mBAFD,MAEO;AACH,2BAAI,CAAC1B,YAAL,GAAoB,CAApB;AACH;AACJ,iBATL;AAWH,eAZD,MAYO;AACH,uBAAI,CAACA,YAAL,GAAoB,CAApB;AACH;AACJ,aAtBL;AAwBH;;;sDAE2B;AAAA;;AACxB,iBAAKH,iBAAL,CAAuB8B,yBAAvB,CAAiD,KAAK1Q,IAAtD,EAA4D,KAAKiP,YAAjE,EAA+E,IAA/E,EAAqFpQ,IAArF,CACI,UAACwD,IAAD,EAAe;AACXY,qBAAO,CAACC,GAAR,CAAYb,IAAZ;AACA,kBAAMsB,QAAQ,GAAoBtB,IAAlC;AACA,qBAAI,CAACsO,sBAAL,GAA8BhN,QAAQ,CAACtB,IAAvC;AACA,qBAAI,CAACuO,8BAAL,GAAsChQ,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,SAAL,CAAe,OAAI,CAAC6P,sBAApB,CAAX,CAAtC,CAJW,CAKX;AACH,aAPL;AASH;;;yCAGc;AAAA;;AACX,gBAAME,eAAe,GAAG,KAAKC,sBAAL,CAA4B,KAAKA,sBAAL,CAA4B/K,MAA5B,GAAqC,CAAjE,CAAxB;AACA,gBAAMgL,cAAc,GAAG;AACnBC,qCAAuB,EAAE,IADN;AACY3B,oBAAM,EAAEwB,eAAe,CAACxB,MAAhB,GAAyB,CAD7C;AACgDmB,0BAAY,EAAE,KAD9D;AAEnBC,gCAAkB,EAAE,CAFD;AAEIQ,6BAAe,EAAE,KAFrB;AAE4BC,qCAAuB,EAAE;AAFrD,aAAvB;AAIA,iBAAKtC,iBAAL,CAAuBuC,qBAAvB,CAA6C,KAAKnR,IAAlD,EAAwD,yEAAYgE,IAApE,EACI+M,cAAc,CAACC,uBADnB,EAC4CD,cAD5C,EAC4DlS,IAD5D,CAEI,UAACwD,IAAD,EAAe;AACXY,qBAAO,CAACC,GAAR,CAAYb,IAAZ;AACA,kBAAMsB,QAAQ,GAAoB/C,IAAI,CAACC,KAAL,CAAWwB,IAAX,CAAlC;;AACA,qBAAI,CAAC0I,MAAL,CAAYC,gCAAZ,CAA6CrH,QAA7C;;AACA,kBAAIA,QAAQ,CAACC,MAAT,GAAkB,GAAlB,IAAyBD,QAAQ,CAACC,MAAT,GAAkB,GAA/C,EAAoD;AAChDX,uBAAO,CAACC,GAAR,CAAYS,QAAQ,CAACtB,IAArB;AACA0O,8BAAc,CAACC,uBAAf,GAA0CrN,QAAQ,CAACtB,IAAT,CAAwC2O,uBAAlF;;AACA,uBAAI,CAACF,sBAAL,CAA4BpG,IAA5B,CAAiCqG,cAAjC;;AACA,uBAAI,CAACK,KAAL,CAAWC,UAAX;AACH,eALD,MAKO,IAAI1N,QAAQ,CAACC,MAAT,KAAoB,GAAxB,EAA6B;AAChC,uBAAI,CAAC0N,YAAL,CAAkB,oBAAlB,EAAwC,QAAxC;AACH;AACJ,aAdL,WAgBI,UAACjP,IAAD,EAAe;AACXY,qBAAO,CAACC,GAAR,CAAYb,IAAZ;AACA,kBAAMkP,YAAY,GAAGlP,IAArB;AACA,kBAAMsB,QAAQ,GAAoB/C,IAAI,CAACC,KAAL,CAAWwB,IAAI,CAACmP,KAAhB,CAAlC;;AACA,qBAAI,CAACzG,MAAL,CAAYC,gCAAZ,CAA6CrH,QAA7C;;AACA,kBAAI4N,YAAY,CAAC3N,MAAb,KAAwB,GAA5B,EAAiC;AAC7B,uBAAI,CAAC0N,YAAL,CAAkB,oBAAlB,EAAwC,QAAxC;AACH;AACJ,aAxBL,EANW,CAgCX;AACH;;;2CAEgB;AAAA;;AACb,gBAAMG,WAAW,GAAG,KAAKX,sBAAL,CAA4B,KAAKA,sBAAL,CAA4B/K,MAA5B,GAAqC,CAAjE,CAApB;AACA,iBAAK6I,iBAAL,CAAuBuC,qBAAvB,CAA6C,KAAKnR,IAAlD,EAAwD,yEAAY0R,MAApE,EAA4ED,WAAW,CAACT,uBAAxF,EAAiHS,WAAjH,EAA8H5S,IAA9H,CACI,UAACwD,IAAD,EAAe;AACXY,qBAAO,CAACC,GAAR,CAAYb,IAAZ;AACA,kBAAMsB,QAAQ,GAAoB/C,IAAI,CAACC,KAAL,CAAWwB,IAAX,CAAlC;;AACA,qBAAI,CAAC0I,MAAL,CAAYC,gCAAZ,CAA6CrH,QAA7C;;AACA,kBAAIA,QAAQ,CAACC,MAAT,GAAkB,GAAlB,IAAyBD,QAAQ,CAACC,MAAT,GAAkB,GAA/C,EAAoD;AAChD,uBAAI,CAACkN,sBAAL,CAA4Ba,GAA5B;;AACA,uBAAI,CAACP,KAAL,CAAWC,UAAX;AACH;AACJ,aATL,EAFa,CAab;AACH;;;yCAEc;AAAA;;AACX,iBAAK,IAAIO,gBAAgB,GAAG,CAA5B,EAAgCA,gBAAgB,GAAG,KAAKd,sBAAL,CAA4B/K,MAA/E,EAAwF6L,gBAAgB,EAAxG,EAA4G;AACxG,kBAAI,CAAC,4CAAK,CAAC,KAAKd,sBAAL,CAA4Bc,gBAA5B,CAAD,EAAgD,KAAKC,8BAAL,CAAoCD,gBAApC,CAAhD,CAAV,EAAkH;AAC9G,qBAAKhD,iBAAL,CAAuBuC,qBAAvB,CAA6C,KAAKnR,IAAlD,EAAwD,yEAAY8R,GAApE,EACI,KAAKhB,sBAAL,CAA4Bc,gBAA5B,EAA8CZ,uBADlD,EAC2E,KAAKF,sBAAL,CAA4Bc,gBAA5B,CAD3E,EAEK/S,IAFL,CAGQ,UAACwD,IAAD,EAAe;AACXY,yBAAO,CAACC,GAAR,CAAYb,IAAZ;AACA,sBAAMsB,QAAQ,GAAoB/C,IAAI,CAACC,KAAL,CAAWwB,IAAX,CAAlC;;AACA,yBAAI,CAAC0I,MAAL,CAAYC,gCAAZ,CAA6CrH,QAA7C;AACH,iBAPT;AASH;AACJ;;AACD2B,sBAAU,CAAC,YAAM;AACb,qBAAI,CAAC2K,yBAAL;AACH,aAFS,EAEP,IAFO,CAAV;AAGH;;;uCAEY;AACT,iBAAKa,sBAAL,GAA8BlQ,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,SAAL,CAAe,KAAK+Q,8BAApB,CAAX,CAA9B;AACH;;;uCAEYhL,O,EAAiBkL,M,EAAgB;AAC1C,iBAAKlD,SAAL,CAAemD,IAAf,CAAoBnL,OAApB,EAA6BkL,MAA7B,EAAqC;AACjCE,sBAAQ,EAAE;AADuB,aAArC;AAGH;;;yDAE8BC,0B,EAAoC;AAC/D,iBAAKpB,sBAAL,CAA4BoB,0BAA5B,EAAwDzB,kBAAxD,GACI,KAAKK,sBAAL,CAA4BoB,0BAA5B,EAAwD1B,YAAxD,GACI,KAAKM,sBAAL,CAA4BoB,0BAA5B,EAAwDzB,kBAD5D,GACiF,CAFrF;AAGH;;;4DAEiCyB,0B,EAAoC;AAClE,iBAAKpB,sBAAL,CAA4BoB,0BAA5B,EAAwDhB,uBAAxD,GACI,KAAKJ,sBAAL,CAA4BoB,0BAA5B,EAAwDjB,eAAxD,GACI,KAAKH,sBAAL,CAA4BoB,0BAA5B,EAAwDhB,uBAD5D,GACsF,CAF1F;AAGH;;;qDAE0B;AACvB,iBAAK9B,aAAL,CAAmBQ,iBAAnB,GAAuCuC,IAAI,CAACC,GAAL,CAAS,CAAT,EACnCD,IAAI,CAACE,KAAL,CAAW,CAAC,KAAKvO,UAAL,CAAgB4L,YAAhB,GAA+B,KAAKN,aAAL,CAAmBM,YAAlD,GAAiE,EAAlE,IAAwE,CAAnF,CADmC,CAAvC;AAEH;;;qDAEuB;AACpB,gBAAM4C,GAAG,GAAG,KAAKlD,aAAjB;AACA,mBAAOkD,GAAG,CAAChD,YAAJ,GAAmBgD,GAAG,CAAC/C,KAAvB,GAA+B+C,GAAG,CAAC9C,OAAnC,GAA6C8C,GAAG,CAAC5C,YAAjD,GAAgE4C,GAAG,CAAC7C,OAApE,GAA8E6C,GAAG,CAAC3C,QAAlF,GAA6F2C,GAAG,CAACxC,IAAxG;AACH;;;oDAEsB;AACnB,mBAAO,KAAKyC,wBAAL,KAAkC,KAAKxD,YAA9C;AACH;;;sDAEwB;AACrB,mBAAO,KAAKA,YAAL,GAAoB,KAAKwD,wBAAL,EAA3B;AACH;;;uCAEYC,W,EAAmB;AAC5B,oBAAQA,WAAR;AACI,mBAAK,cAAL;AACI,uBAAO,CAAC,KAAKC,yBAAL,EAAD,GAAoC,KAAKrD,aAAL,CAAmBE,YAA9D;;AACJ,mBAAK,OAAL;AACI,uBAAO,CAAC,KAAKmD,yBAAL,EAAD,GAAoC,KAAKrD,aAAL,CAAmBG,KAA9D;;AACJ,mBAAK,SAAL;AACI,uBAAO,CAAC,KAAKkD,yBAAL,EAAD,GAAoC,KAAKrD,aAAL,CAAmBI,OAA9D;;AACJ,mBAAK,cAAL;AACI,uBAAO,CAAC,KAAKiD,yBAAL,EAAD,GAAoC,KAAKrD,aAAL,CAAmBM,YAA9D;;AACJ,mBAAK,SAAL;AACI,uBAAO,CAAC,KAAK+C,yBAAL,EAAD,GAAoC,KAAKrD,aAAL,CAAmBK,OAA9D;;AACJ,mBAAK,UAAL;AACI,uBAAO,CAAC,KAAKgD,yBAAL,EAAD,GAAoC,KAAKrD,aAAL,CAAmBO,QAA9D;;AACJ,mBAAK,MAAL;AACI,uBAAO,CAAC,KAAK8C,yBAAL,EAAD,GAAoC,KAAKrD,aAAL,CAAmBU,IAA9D;;AACJ;AACI,uBAAO,CAAP;AAhBR;AAkBH;;;mCAEQ0C,W,EAAmB;AACxB,oBAAQA,WAAR;AACI,mBAAK,cAAL;AACI,uBAAO,KAAKpD,aAAL,CAAmBE,YAAnB,GAAkC,CAAlC,IAAuC,KAAKoD,uBAAL,EAA9C;;AACJ,mBAAK,OAAL;AACI,uBAAO,KAAKtD,aAAL,CAAmBG,KAAnB,GAA2B,CAA3B,IAAgC,KAAKmD,uBAAL,EAAvC;;AACJ,mBAAK,SAAL;AACI,uBAAO,KAAKtD,aAAL,CAAmBI,OAAnB,GAA6B,CAA7B,IAAkC,KAAKkD,uBAAL,EAAzC;;AACJ,mBAAK,cAAL;AACI,uBAAO,KAAKtD,aAAL,CAAmBM,YAAnB,GAAkC,CAAlC,IAAuC,KAAKgD,uBAAL,EAA9C;;AACJ,mBAAK,SAAL;AACI,uBAAO,KAAKtD,aAAL,CAAmBK,OAAnB,GAA6B,CAA7B,IAAkC,KAAKiD,uBAAL,EAAzC;;AACJ,mBAAK,UAAL;AACI,uBAAO,KAAKtD,aAAL,CAAmBO,QAAnB,GAA8B,CAA9B,IAAmC,KAAK+C,uBAAL,EAA1C;;AACJ,mBAAK,MAAL;AACI,uBAAO,KAAKtD,aAAL,CAAmBU,IAAnB,GAA0B,CAA1B,IAA+B,KAAK4C,uBAAL,EAAtC;;AACJ;AACI,uBAAO,KAAP;AAhBR;AAkBH;;;+CAEoBF,W,EAAqB;AACtC,oBAAQA,WAAR;AACI,mBAAK,cAAL;AACI,qBAAKpD,aAAL,CAAmBE,YAAnB,IAAmC,CAAnC;AACA;;AACJ,mBAAK,OAAL;AACI,qBAAKF,aAAL,CAAmBG,KAAnB,IAA4B,CAA5B;AACA;;AACJ,mBAAK,SAAL;AACI,qBAAKH,aAAL,CAAmBI,OAAnB,IAA8B,CAA9B;AACA;;AACJ,mBAAK,cAAL;AACI,qBAAKJ,aAAL,CAAmBM,YAAnB,IAAmC,CAAnC;AACA;;AACJ,mBAAK,SAAL;AACI,qBAAKN,aAAL,CAAmBK,OAAnB,IAA8B,CAA9B;AACA;;AACJ,mBAAK,UAAL;AACI,qBAAKL,aAAL,CAAmBO,QAAnB,IAA+B,CAA/B;AACA;;AACJ,mBAAK,MAAL;AACI,qBAAKP,aAAL,CAAmBU,IAAnB,IAA2B,CAA3B;AACA;AArBR;AAuBH;;;8CAEmB0C,W,EAAqB;AACrC,oBAAQA,WAAR;AACI,mBAAK,cAAL;AACI,qBAAKpD,aAAL,CAAmBE,YAAnB,IAAmC,CAAnC;AACA;;AACJ,mBAAK,OAAL;AACI,qBAAKF,aAAL,CAAmBG,KAAnB,IAA4B,CAA5B;AACA;;AACJ,mBAAK,SAAL;AACI,qBAAKH,aAAL,CAAmBI,OAAnB,IAA8B,CAA9B;AACA;;AACJ,mBAAK,cAAL;AACI,qBAAKJ,aAAL,CAAmBM,YAAnB,IAAmC,CAAnC;AACA;;AACJ,mBAAK,SAAL;AACI,qBAAKN,aAAL,CAAmBK,OAAnB,IAA8B,CAA9B;AACA;;AACJ,mBAAK,UAAL;AACI,qBAAKL,aAAL,CAAmBO,QAAnB,IAA+B,CAA/B;AACA;;AACJ,mBAAK,MAAL;AACI,qBAAKP,aAAL,CAAmBU,IAAnB,IAA2B,CAA3B;AACA;AArBR;AAuBH;;;0CAEerP,K,EAAY;AACxBwC,mBAAO,CAACC,GAAR,CAAY,KAAKY,UAAL,CAAgB6O,mBAA5B;;AACA,gBAAI,CAAClS,KAAK,CAAC2F,MAAN,CAAa3B,KAAd,GAAsB,KAAKX,UAAL,CAAgB6O,mBAA1C,EAA+D;AAC3DlS,mBAAK,CAAC2F,MAAN,CAAa3B,KAAb,GAAqB,CAAC,KAAKX,UAAL,CAAgB6O,mBAAtC;AACH,aAFD,MAEO,IAAI,CAAClS,KAAK,CAAC2F,MAAN,CAAa3B,KAAd,GAAsB,CAA1B,EAA6B;AAChChE,mBAAK,CAAC2F,MAAN,CAAa3B,KAAb,GAAqB,CAArB;AACH,aAFM,MAEA,IAAImO,KAAK,CAACnS,KAAK,CAAC2F,MAAN,CAAa3B,KAAd,CAAT,EAA+B;AAClChE,mBAAK,CAAC2F,MAAN,CAAa3B,KAAb,GAAqB,IAArB;AACA,mBAAK2K,aAAL,CAAmBS,UAAnB,GAAgC,IAAhC;AACH;AACJ;;;sCAEWpP,K,EAAY;AACpB,gBAAI,CAACA,KAAK,CAAC2F,MAAN,CAAa3B,KAAd,GAAsB,KAAKX,UAAL,CAAgB+O,aAA1C,EAAyD;AACrDpS,mBAAK,CAAC2F,MAAN,CAAa3B,KAAb,GAAqB,CAAC,KAAKX,UAAL,CAAgB+O,aAAtC;AACH,aAFD,MAEO,IAAI,CAACpS,KAAK,CAAC2F,MAAN,CAAa3B,KAAd,GAAsB,CAA1B,EAA6B;AAChChE,mBAAK,CAAC2F,MAAN,CAAa3B,KAAb,GAAqB,CAArB;AACH,aAFM,MAEA,IAAImO,KAAK,CAACnS,KAAK,CAAC2F,MAAN,CAAa3B,KAAd,CAAT,EAA+B;AAClChE,mBAAK,CAAC2F,MAAN,CAAa3B,KAAb,GAAqB,IAArB;AACA,mBAAK2K,aAAL,CAAmBY,MAAnB,GAA4B,IAA5B;AACH;AACJ;;;8CAEmB;AAChB,mBAAO,CAAC,KAAK0C,uBAAL,EAAD,KACE,KAAK5O,UAAL,CAAgB6O,mBAAhB,GAAsC,CAAtC,IAA2C,KAAKvD,aAAL,CAAmBS,UAAnB,GAAgC,CAA5E,IAAkF,KAAK/L,UAAL,CAAgB6O,mBAAhB,KAAwC,CAD3H,MAEE,KAAK7O,UAAL,CAAgB+O,aAAhB,GAAgC,CAAhC,IAAqC,KAAKzD,aAAL,CAAmBY,MAAnB,GAA4B,CAAlE,IAAwE,KAAKlM,UAAL,CAAgB+O,aAAhB,KAAkC,CAF3G,CAAP;AAGH;;;0CAEe;AAAA;;AACZ,iBAAKjE,iBAAL,CAAuBkE,YAAvB,CAAoC,KAAK9S,IAAzC,EAA+C,yEAAYgE,IAA3D,EAAiE,KAAKF,UAAL,CAAgBmL,YAAjF,EAA+F,KAAKG,aAApG,EAAmHvQ,IAAnH,CACI,UAACwD,IAAD,EAAe;AACXY,qBAAO,CAACC,GAAR,CAAYb,IAAZ;AACA,kBAAMsB,QAAQ,GAAoB/C,IAAI,CAACC,KAAL,CAAWwB,IAAX,CAAlC;AACA,kBAAMgN,MAAM,GAA0B1L,QAAQ,CAACtB,IAA/C;AACA;;;;;;AAKA,qBAAI,CAAC+M,aAAL,GAAqB;AACjBC,sBAAM,EAAE,CADS;AAEjBC,4BAAY,EAAE,CAFG;AAGjBC,qBAAK,EAAE,CAHU;AAIjBC,uBAAO,EAAE,CAJQ;AAKjBC,uBAAO,EAAE,CALQ;AAMjBC,4BAAY,EAAE,CANG;AAOjBC,wBAAQ,EAAE,CAPO;AAQjBC,iCAAiB,EAAE,CARF;AASjBC,0BAAU,EAAE,CATK;AAUjBC,oBAAI,EAAE,CAVW;AAWjBC,2BAAW,EAAE,CAXI;AAYjBC,sBAAM,EAAE;AAZS,eAArB;;AAcA,qBAAI,CAACE,cAAL;;AACA,qBAAI,CAACD,yBAAL;AACH,aA1BL,WA4BI,UAAC5N,IAAD,EAAe;AACXY,qBAAO,CAACC,GAAR,CAAYb,IAAZ;AACA,kBAAMkP,YAAY,GAAGlP,IAArB;AACA,kBAAMsB,QAAQ,GAAoB/C,IAAI,CAACC,KAAL,CAAWwB,IAAI,CAACmP,KAAhB,CAAlC;;AACA,qBAAI,CAACzG,MAAL,CAAYC,gCAAZ,CAA6CrH,QAA7C;;AACA,kBAAI4N,YAAY,CAAC3N,MAAb,KAAwB,GAA5B,EAAiC;AAC7B,uBAAI,CAAC0N,YAAL,CAAkB,iCAAlB,EAAqD,QAArD;AACH,eAFD,MAEO,IAAIC,YAAY,CAAC3N,MAAb,KAAwB,GAA5B,EAAiC;AACpC,uBAAI,CAAC0N,YAAL,CAAkB,iBAAlB,EAAqC,QAArC;AACH,eAFM,MAEA,IAAIC,YAAY,CAAC3N,MAAb,KAAwB,GAA5B,EAAiC;AACpC,uBAAI,CAAC0N,YAAL,CAAkB,4BAAlB,EAAgD,QAAhD;AACH,eAFM,MAEA,IAAIC,YAAY,CAAC3N,MAAb,KAAwB,GAA5B,EAAiC;AACpC,uBAAI,CAAC0N,YAAL,CAAkB,2BAAlB,EAA+C,QAA/C;AACH,eAFM,MAEA;AACH,uBAAI,CAACA,YAAL,CAAkB,iBAAlB,EAAqC,QAArC;AACH;AACJ,aA5CL;AA8CH;;;;;;;yBAxXQ3C,4B,EAA4B,gI,EAAA,+H,EAAA,+I,EAAA,wI,EAAA,uH,EAAA,+H;AAAA,O;;;cAA5BA,4B;AAA4B,kD;AAAA;AAAA;sEAE1B,gE,EAAQ,I;;;;;;;;;;;;;;;;;ACnBvB;;AAEI;;AA2IA;;AACI;;AAIA;;AAMI;;AACI;;AACA;;AACJ;;AAGA;;AACI;;AACA;;AAGJ;;AAGA;;AACI;;AACA;;AAGJ;;AAGA;;AACI;;AACA;;AAGJ;;AAGA;;AACI;;AACA;;AAGJ;;AAEA;;AACI;;AACA;;AAGJ;;AAEA;;AACI;;AACA;;AAGJ;;AAEA;;AACI;;AACA;;AAGJ;;AAIA;;AACI;;AACA;;AAGJ;;AAEA;;AACI;;AACA;;AAGJ;;AAEA;;AACI;;AACA;;AAGJ;;AAEA;;AACI;;AACA;;AAGJ;;AAEA;;AACA;;AACJ;;AAEA;;AAIJ;;AAEA;;AACJ;;;;AAzP+B;;AAAA;;AAgJC;;AAAA;;AA8FD;;AAAA;;AACP;;AAAA;;;;;;;;;wEDhOXA,4B,EAA4B;gBALxC,uDAKwC;iBAL9B;AACTxN,oBAAQ,EAAE,2BADD;AAETC,uBAAW,EAAE,wCAFJ;AAGTC,qBAAS,EAAE,CAAC,wCAAD;AAHF,W;AAK8B,U;;;;;;;;;;;;;;;AAEhB+P,eAAK,EAAE,CAAF;kBAAzB,uDAAyB;mBAAf,gE;AAAe,WAAE,C;AACPrG,gBAAM,EAAE,CAAF;kBAA1B,uDAA0B;mBAAhB,Q;AAAgB,WAAE;;;;;;;;;;;;;;;;;;;AEpBjC;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;;;ACegB;;AAAuC;;AAAY;;;;;;AACnD;;AAAwC;;AAAyB;;;;;;AAAzB;;AAAA;;;;;;AAKxC;;AAAuC;;AAAG;;;;;;AAC1C;;AACI;;AAAuB;;AAAe;;AAC1C;;;;;;AAD2B;;AAAA;;;;;;AAM3B;;AAAuC;;AAAM;;;;;;AAEzC;;AAA0D;;AAAkB;;;;;;AAAlB;;AAAA;;;;;;AAD9D;;AACI;;AACJ;;;;;;AAD2B;;AAAA;;;;;;AAM3B;;AAAuC;;AAAiB;;;;;;AAEpD;;AAA0D;;AAA2B;;;;;;AAA3B;;AAAA;;;;;;AAD9D;;AACI;;AACJ;;;;;;AAD2B;;AAAA;;;;;;AAM3B;;AAAuC;;AAAqB;;;;;;AAExD;;AAA0D;;AAA+B;;;;;;AAA/B;;AAAA;;;;;;AAD9D;;AACI;;AACJ;;;;;;AAD2B;;AAAA;;;;;;AAK3B;;AAAuC;;AAAe;;;;;;AAElD;;AAA0D;;AAAyB;;;;;;AAAzB;;AAAA;;;;;;AAD9D;;AACI;;AACJ;;;;;;AAD2B;;AAAA;;;;;;AAK3B;;AAAuC;;AAAa;;;;;;;;AAEhD;;AACA;AAAA;;AAAA;;AAAA;;AAAA,mEAAkD,IAAlD;AAAsD,WAAtD;;AACiE;;AAAmB;;;;;;;;AAApF;;;;;;AAHJ;;AACI;;AAGJ;;;;;;AAHoC;;AAAA;;;;;;AAOpC;;AAAuC;;AAAc;;;;;;;;AAEjD;;AACA;AAAA;;AAAA;;AAAA;;AAAA,mEAAkD,KAAlD;AAAuD,WAAvD;;AACiE;;AAAoB;;;;;;;;AAArF;;;;;;AAHJ;;AACI;;AAGJ;;;;;;AAH4C;;AAAA;;;;;;AAQhD;;;;;;AACA;;;;UDjECgI,uB;AAWT,yCAAoB/S,IAApB,EACoBD,WADpB,EAEoB6O,iBAFpB,EAGoBC,SAHpB,EAG4C;AAAA;;AAHxB,eAAA7O,IAAA,GAAAA,IAAA;AACA,eAAAD,WAAA,GAAAA,WAAA;AACA,eAAA6O,iBAAA,GAAAA,iBAAA;AACA,eAAAC,SAAA,GAAAA,SAAA;AARpB,eAAAmE,kBAAA,GAAqB,KAArB;AAGA,eAAAhE,gBAAA,GAA6B,CAAC,cAAD,EAAiB,KAAjB,EAAwB,QAAxB,EAAkC,iBAAlC,EAAqD,qBAArD,EAA4E,eAA5E,EAA6F,eAA7F,EAA8G,gBAA9G,CAA7B;AAMC;;;;qCAEO;AAAA;;AACJ,iBAAKJ,iBAAL,CAAuBqE,iBAAvB,CAAyC,KAAKjT,IAA9C,EAAoD,IAApD,EAA0DnB,IAA1D,CACI,UAACwD,IAAD,EAAe;AACXY,qBAAO,CAACC,GAAR,CAAYb,IAAZ;AACA,kBAAMsB,QAAQ,GAAGtB,IAAjB;AACA,qBAAI,CAAC6Q,WAAL,GAAmBvP,QAAQ,CAACtB,IAA5B;AACH,aALL;AAOH;;;wCAEa4M,Y,EAAsBkE,M,EAAiB;AAAA;;AACjD,iBAAKvE,iBAAL,CAAuBwE,WAAvB,CAAmC,KAAKpT,IAAxC,EAA8CiP,YAA9C,EAA4DkE,MAA5D,EAAoEtU,IAApE,CACI,UAACwD,IAAD,EAAe;AACXY,qBAAO,CAACC,GAAR,CAAYb,IAAZ;AACA,kBAAMsB,QAAQ,GAAoBtB,IAAlC;;AACA,qBAAI,CAAC0I,MAAL,CAAYC,gCAAZ,CAA6CrH,QAA7C;;AACA,qBAAI,CAAC0P,gBAAL,CAAsBpE,YAAtB;AACH,aANL;AAQH;;;2CAEgBA,Y,EAAsB;AAAA;;AACnC,iBAAK+D,kBAAL,GAA0B,IAA1B;AACA,iBAAKM,oBAAL,GAA4BrE,YAA5B;AACA3J,sBAAU,CAAC,YAAM;AACb,qBAAI,CAACsJ,iBAAL,CAAuBuB,aAAvB,CAAqC,OAAI,CAACnQ,IAA1C,EAAgDiP,YAAhD,EAA8D,KAA9D,EAAqEpQ,IAArE,CACI,UAAC0U,cAAD,EAAyB;AACrBtQ,uBAAO,CAACC,GAAR,CAAYqQ,cAAZ;AACA,oBAAM5P,QAAQ,GAAoB4P,cAAlC;AACAtQ,uBAAO,CAACC,GAAR,CAAYS,QAAZ;;AACA,oBAAM2G,KAAK,GAAG,OAAI,CAAC4I,WAAL,CAAiBnO,OAAjB,CAAyB,OAAI,CAACmO,WAAL,CAAiBM,IAAjB,CAAsB,UAAArI,CAAC;AAAA,yBAAI,CAACA,CAAC,CAAC8D,YAAH,KAAoB,CAACA,YAAzB;AAAA,iBAAvB,CAAzB,CAAd;;AACA,uBAAI,CAACiE,WAAL,CAAiB5I,KAAjB,IAA0B3G,QAAQ,CAACtB,IAAnC;AACAY,uBAAO,CAACC,GAAR,CAAY,OAAI,CAACgQ,WAAL,CAAiB5I,KAAjB,CAAZ;;AACA,uBAAI,CAAC8G,KAAL,CAAWC,UAAX;AACH,eATL;AAWH,aAZS,EAYP,IAZO,CAAV;AAaA/L,sBAAU,CAAC,YAAM;AACb,qBAAI,CAAC0N,kBAAL,GAA0B,KAA1B;AACA,qBAAI,CAACM,oBAAL,GAA4B,IAA5B;AACH,aAHS,EAGP,IAHO,CAAV;AAIH;;;;;;;yBA1DQP,uB,EAAuB,gI,EAAA,+H,EAAA,+I,EAAA,wI;AAAA,O;;;cAAvBA,uB;AAAuB,4C;AAAA;AAAA;sEAErB,gE,EAAQ,I;;;;;;;;;;;;;;;;;AChBvB;;AAEI;;AACI;;AAIA;;AAOI;;AACI;;AACA;;AACJ;;AAGA;;AACI;;AACA;;AAGJ;;AAGA;;AACI;;AACA;;AAGJ;;AAGA;;AACI;;AACA;;AAGJ;;AAGA;;AACI;;AACA;;AAGJ;;AAEA;;AACI;;AACA;;AAGJ;;AAEA;;AACI;;AACA;;AAKJ;;AAEA;;AACI;;AACA;;AAKJ;;AAIA;;AACA;;AACJ;;AAEA;;AAIJ;;AAEA;;AACJ;;;;AAlFgC;;AAAA;;AAuED;;AAAA;;AACP;;AAAA;;;;;;;;;wEDjEXA,uB,EAAuB;gBALnC,uDAKmC;iBALzB;AACP5R,oBAAQ,EAAE,qBADH;AAEPC,uBAAW,EAAE,kCAFN;AAGPC,qBAAS,EAAE,CAAC,kCAAD;AAHJ,W;AAKyB,U;;;;;;;;;;;AAEX+P,eAAK,EAAE,CAAF;kBAAzB,uDAAyB;mBAAf,gE;AAAe,WAAE,C;AACPrG,gBAAM,EAAE,CAAF;kBAA1B,uDAA0B;mBAAhB,Q;AAAgB,WAAE;;;;;;;;;;;;;;;;;;;AEjBjC;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;ACKgB;;AACI;;AACJ;;;;;;AAFoD;;AAChD;;AAAA;;;;;;AAKR;;AAAoC;;AAAyB;;;;;;AAAzB;;AAAA;;;;;;AAMxB;;AACI;;AACJ;;;;;;AAE0C;;AAAqC;;AAAK;;AAAG;;AAAiB;;AAAI;;;;;;AAArB;;AAAA;;;;;;;;AAN/F;;AACI;;AACI;;AAGA;;AAA+B;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAC3B;;AAAG;;AAA+B;;AAAI;;AAC1C;;AACJ;;AACJ;;;;;;;;AAPqC;;AAAA;;AAG4C;;AAAA;;AAClE;;AAAA;;AAAiD;;AAAA;;;;;;;;AAMpE;;AACI;;AACsB;AAAA;;AAAA;;AAAA;AAAA;;AAAiD;;AAC3E;;;;;;AAF0B;;AAAA,kHAAuC,aAAvC,EAAuC,kBAAvC,EAAuC,OAAvC,EAAuC,qBAAvC;;;;UDjBzB0I,qB;AAcT,uCAAoBzT,IAApB,EACoB4O,iBADpB,EAEoB8E,YAFpB,EAE8C;AAAA;;AAF1B,eAAA1T,IAAA,GAAAA,IAAA;AACA,eAAA4O,iBAAA,GAAAA,iBAAA;AACA,eAAA8E,YAAA,GAAAA,YAAA;AAVpB,eAAAC,kBAAA,GAA0C,EAA1C;AAIA,eAAAC,iBAAA,GAAoB,KAApB;AAQC;;;;qCAEO;AAAA;;AACJ,iBAAKhF,iBAAL,CAAuBqE,iBAAvB,CAAyC,KAAKjT,IAA9C,EAAoD,IAApD,EAA0DnB,IAA1D,CACI,UAACwD,IAAD,EAAe;AACXY,qBAAO,CAACC,GAAR,CAAYb,IAAZ;AACA,kBAAMsB,QAAQ,GAAGtB,IAAjB;AACA,qBAAI,CAAC6Q,WAAL,GAAmBvP,QAAQ,CAACtB,IAA5B;AACH,aALL;AAOH;;;6CAEkB;AAAA;;AACf,gBAAI,CAAC,KAAKwR,uBAAN,KAAkC,CAAtC,EAAyC;AACrC,mBAAKC,cAAL,GAAsB,IAAtB;AACA,mBAAKC,iBAAL,GAAyB,KAAKb,WAAL,CAAiBM,IAAjB,CAAsB,UAAArI,CAAC;AAAA,uBAAIA,CAAC,CAAC8D,YAAF,KAAmB,CAAC,OAAI,CAAC4E,uBAA7B;AAAA,eAAvB,CAAzB;AACA,mBAAKG,eAAL;AACH,aAJD,MAIO;AACH,mBAAKF,cAAL,GAAsB,IAAtB;AACA,mBAAKC,iBAAL,GAAyB,KAAKb,WAAL,CAAiBM,IAAjB,CAAsB,UAAArI,CAAC;AAAA,uBAAIA,CAAC,CAAC8D,YAAF,KAAmB,CAAC,OAAI,CAAC4E,uBAA7B;AAAA,eAAvB,CAAzB;AACA,mBAAKG,eAAL;AACH;AACJ;;;4CAEwB;AAAA;;AACrB,iBAAKN,YAAL,CAAkBO,iBAAlB,CAAoC,KAAKjU,IAAzC,EAA+C,KAAK6T,uBAApD,EAA6EhV,IAA7E,CACI,UAACqV,SAAD,EAAoB;AAChB,kBAAMvQ,QAAQ,GAAoBuQ,SAAlC;AACAjR,qBAAO,CAACC,GAAR,CAAYS,QAAZ;AACA,qBAAI,CAACgQ,kBAAL,GAA0BhQ,QAAQ,CAACtB,IAAnC;AACAY,qBAAO,CAACC,GAAR,CAAY,OAAI,CAACyQ,kBAAjB;AACH,aANL;AAQH;;;4CAEiBQ,O,EAAiB;AAAA;;AAC/B,iBAAKP,iBAAL,GAAyB,IAAzB;AACA,iBAAKQ,eAAL,GAAuBD,OAAvB;AACA7O,sBAAU,CAAC,YAAM;AACb,qBAAI,CAACoO,YAAL,CAAkBW,YAAlB,CAA+B,OAAI,CAACrU,IAApC,EAA0CmU,OAA1C,EAAmDtV,IAAnD,CACI,UAACqV,SAAD,EAAoB;AAChB,oBAAMvQ,QAAQ,GAAoBuQ,SAAlC;AACAjR,uBAAO,CAACC,GAAR,CAAYS,QAAZ;;AACA,oBAAM2G,KAAK,GAAG,OAAI,CAACqJ,kBAAL,CAAwB5O,OAAxB,CAAgC,OAAI,CAAC4O,kBAAL,CAAwBH,IAAxB,CAA6B,UAAArI,CAAC;AAAA,yBAAI,CAACA,CAAC,CAACgJ,OAAH,KAAe,CAACA,OAApB;AAAA,iBAA9B,CAAhC,CAAd;;AACA,uBAAI,CAACR,kBAAL,CAAwBrJ,KAAxB,IAAiC3G,QAAQ,CAACtB,IAA1C;AACAY,uBAAO,CAACC,GAAR,CAAY,OAAI,CAACyQ,kBAAL,CAAwBrJ,KAAxB,CAAZ;;AACA,oBAAI,OAAI,CAACyJ,iBAAL,CAAuB9E,YAAvB,KAAwC,OAAI,CAAC0E,kBAAL,CAAwBrJ,KAAxB,EAA+B2E,YAA3E,EAAyF;AACrF,yBAAI,CAAC0E,kBAAL,CAAwB7J,MAAxB,CAA+BQ,KAA/B,EAAsC,CAAtC;;AACA,yBAAI,CAACwJ,cAAL,GAAsB,IAAtB;AACH;AACJ,eAXL;AAaH,aAdS,EAcP,IAdO,CAAV;AAeAxO,sBAAU,CAAC,YAAM;AACb,qBAAI,CAACsO,iBAAL,GAAyB,KAAzB;AACA,qBAAI,CAACQ,eAAL,GAAuB,IAAvB;AACH,aAHS,EAGP,IAHO,CAAV;AAIH;;;sCAEkBD,O,EAAiB;AAChC,iBAAKL,cAAL,GAAsBK,OAAtB;AACH;;;2CAEgBG,Q,EAAkB;AAC/B,mBAAOA,QAAQ,CAACC,OAAT,CAAiB,4CAAjB,EAA+D,IAA/D,CAAP;AACH;;;;;;;yBAnFQd,qB,EAAqB,gI,EAAA,+I,EAAA,qI;AAAA,O;;;cAArBA,qB;AAAqB,0C;AAAA,iB;AAAA,e;AAAA,2iB;AAAA;AAAA;ACXlC;;AACI;;AACI;;AACI;;AAAkC;;AAAoD;;AACtF;;AAAuD;AAAA,qBAAU,IAAAe,gBAAA,EAAV;AAA4B,aAA5B,EAA6B,eAA7B,EAA6B;AAAA;AAAA,aAA7B;;AACnD;;AAGJ;;AACJ;;AACA;;AACI;;AACJ;;AACA;;AACI;;AACI;;AAUJ;;AAEA;;AAKJ;;AACJ;;AACJ;;;;AA9BiG;;AAAA;;AACzE;;AAAA;;AAMR;;AAAA;;AAIc;;AAAA;;AAYJ;;AAAA;;;;;;;;;wEDhBbf,qB,EAAqB;gBALjC,uDAKiC;iBALvB;AACPtS,oBAAQ,EAAE,mBADH;AAEPC,uBAAW,EAAE,gCAFN;AAGPC,qBAAS,EAAE,CAAC,gCAAD;AAHJ,W;AAKuB,U;;;;;;;;;;;;;;;;;;;;;;;;;;AEXlC;AAAA;;;AAAA;AAAA;AAAA;;AAAA,UAAYoT,WAAZ;;AAAA,iBAAYA,WAAZ,EAAuB;AACnB;AACA;AACA;AACA;AACH,OALD,EAAYA,WAAW,KAAXA,WAAW,MAAvB;;;;;;;;;;;;;;;;;ACAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;ACUY;;AAA6B;;AAA2B;;;;;;AAA3B;;AAAA;;;;;;;;AAGrB;;AACI;;AAAsB;;AACtB;;AACA;;AAGO;AAAA;;AAAA;;AAAA;AAAA,aAA2B,OAA3B,EAA2B;AAAA;;AAAA;;AAAA;AAAA,WAA3B;;AAHP;;AAMJ;;;;;;AAHW;;AAAA;;;;;;;;AAKX;;AAEI;;AAA+B;;AAC8C;;AAC7E;;AAIO;AAAA;;AAAA;;AAAA;AAAA;;AAJP;;AAKJ;;;;;;AAPmC;;AAAA;;AAEhB;;AAAA;;AAGR;;AACA;;;;;;AAMvB;;;;;;AACA;;AACI;;AAAI;;AAAU;;AACd;;AAAG;;AAAwB;;AAC/B;;;;;;AADO;;AAAA;;;;;;;;AAGH;;AAAiE;AAAA;;AAAA;;AAAA;AAAA;;AAA0C;;;;;;AAA1E;;;;;;;;AACjC;;AAAqE;AAAA;;AAAA;;AAAA;AAAA;;AAA8C;;;;;;AAA9E;;;;;;;;AACrC;;AAAwG;AAAA;;AAAA;;AAAA;AAAA;;AAAwD;;;;;;AAAvH,qGAA8B,QAA9B,EAA8B,uBAA9B;;;;;;AAH7C;;AACI;;AACA;;AACA;;AACJ;;;;;;AAHe;;AAAA;;AACE;;AAAA;;AACK;;AAAA;;;;;;;;AAad;;AAA+D;AAAA;;AAAA;;AAAA;AAAA;;AAA0C;;;;AAA3D;;;;;;;;AAC9C;;AAAmE;AAAA;;AAAA;;AAAA;AAAA;;AAA8C;;;;AAA/D;;;;;;;;AAClD;;AAAsH;AAAA;;AAAA;;AAAA;AAAA;;AAAwD;;;;;;AAAxH,sGAA+B,QAA/B,EAA+B,uBAA/B;;;;;;AAH1D;;AACI;;AACA;;AACA;;AACJ;;;;;;AAHe;;AAAA;;AACE;;AAAA;;AACK;;AAAA;;;;;;;;AAKtB;;AAEI;;AAA+B;;AAC8C;;AAC7E;;AAIO;AAAA;;AAAA;;AAAA;AAAA;;AAJP;;AAKJ;;;;;;AAPmC;;AAAA;;AAEhB;;AAAA;;AAIR;;;;;;;;AAIP;;AAAgE;AAAA;;AAAA;;AAAA;AAAA;;AAA0C;;;;AAA3D;;;;;;;;AAC/C;;AAAoE;AAAA;;AAAA;;AAAA;AAAA;;AAA8C;;;;AAA/D;;;;;;;;AACnD;;AAAuH;AAAA;;AAAA;;AAAA;AAAA;;AAAwD;;;;;;AAAxH,sGAA+B,QAA/B,EAA+B,uBAA/B;;;;;;AAH3D;;AACI;;AACA;;AACA;;AACJ;;;;;;AAHe;;AAAA;;AACE;;AAAA;;AACK;;AAAA;;;;;;;;AAhC1B;;AACI;;AACI;;AAA+B;;AAC8C;;AAC7E;;AAIO;AAAA;;AAAA;;AAAA;AAAA;;AAJP;;AAKJ;;AACA;;AAMA;;AAEA;;AAWA;;AAKJ;;;;;;AAhCuC;;AAAA;;AAEhB;;AAAA;;AAIR;;AAEN;;AAAA;;AASA;;AAAA;;AAUA;;AAAA;;;;;;AAWD;;AAEI;;AACJ;;;;;;AAHoD,+GAAoC,UAApC,EAAoC,qCAApC;;AAEhD;;AAAA;;;;;;;;AANZ;;AACI;;AAAkC;;AAAkD;;AACpF;;AAAuD;AAAA;;AAAA;;AAAA;AAAA,aAA6B,eAA7B,EAA6B;AAAA;;AAAA;;AAAA;AAAA,WAA7B;;AAEnD;;AAIJ;;AACJ;;;;;;AANY;;AAAA;;AACI;;AAAA;;;;UDhEXC,kB;AA2CT,oCAAoB1U,IAApB,EACoBsI,cADpB,EAEoBC,iBAFpB,EAGoBmL,YAHpB,EAIoB9E,iBAJpB,EAKmB+F,MALnB,EAKsC;AAAA;;AALlB,eAAA3U,IAAA,GAAAA,IAAA;AACA,eAAAsI,cAAA,GAAAA,cAAA;AACA,eAAAC,iBAAA,GAAAA,iBAAA;AACA,eAAAmL,YAAA,GAAAA,YAAA;AACA,eAAA9E,iBAAA,GAAAA,iBAAA;AACD,eAAA+F,MAAA,GAAAA,MAAA;AA1CnB,eAAAnM,YAAA,GAAuB,EAAvB;AACA,eAAAoM,MAAA,GAAiB,IAAjB;AAgBA,eAAAf,uBAAA,GAA0B,CAA1B;AA0BC;;;;qCAvBO;AAAA;;AACJ,iBAAKhL,eAAL,CAAqB,KAAK7I,IAA1B;AACA,iBAAKuI,iBAAL,CAAuBO,gBAAvB,CAAwC,KAAK9I,IAA7C,EAAmDnB,IAAnD,CACI,UAACwD,IAAD,EAAe;AACX,kBAAMsB,QAAQ,GAAoB/C,IAAI,CAACC,KAAL,CAAWwB,IAAX,CAAlC;AACA,qBAAI,CAACmG,YAAL,GAAoB7E,QAAQ,CAACtB,IAA7B;AACH,aAJL;AAMA,iBAAKuM,iBAAL,CAAuBqE,iBAAvB,CAAyC,KAAKjT,IAA9C,EAAoD,KAApD,EAA2DnB,IAA3D,CACI,UAACwD,IAAD,EAAe;AACXY,qBAAO,CAACC,GAAR,CAAYb,IAAZ;AACA,kBAAMsB,QAAQ,GAAGtB,IAAjB;AACA,qBAAI,CAAC6Q,WAAL,GAAmBvP,QAAQ,CAACtB,IAA5B;AACH,aALL;AAOH;;;uCAUS;AACN,gBAAMwS,YAAY,GAAG,IAAI,wEAAJ,EAArB;AACAA,wBAAY,CAACC,YAAb,GAA4B,IAA5B;AACAD,wBAAY,CAACE,SAAb,GAAyB,IAAzB;AACAF,wBAAY,CAACG,WAAb,GAA2B,IAA3B;AACA,gBAAMC,SAAS,GAAG,KAAKN,MAAL,CAAY3C,IAAZ,CAAiBkD,4BAAjB,EAA+CL,YAA/C,CAAlB;AAEA,mBAAOI,SAAS,CAACE,WAAV,EAAP;AACH;;;0CAEsBnV,I,EAAkB;AACrC,iBAAK+I,eAAL,GAAuB,KAAKT,cAAL,CAAoBU,2BAApB,CAAgDhJ,IAAhD,CAAvB;AACH;;;qDAEiC;AAAA;;AAC9B,iBAAKiJ,4BAAL,GAAoC,EAApC;AACA,iBAAKV,iBAAL,CAAuBY,uBAAvB,CAA+C,KAAKnJ,IAApD,EAA0D,KAAKoJ,eAAL,CAAqBC,SAA/E,EAA0FxK,IAA1F,CACI,UAACwD,IAAD,EAAe;AACX,kBAAMsB,QAAQ,GAAoB/C,IAAI,CAACC,KAAL,CAAWwB,IAAX,CAAlC;AACA,qBAAI,CAAC4G,4BAAL,GAAoCtF,QAAQ,CAACtB,IAA7C;AACH,aAJL;AAKH;;;2CAEgB8D,M,EAAiB;AAC9B,iBAAKiD,eAAL,GAAuBjD,MAAvB;AACA,iBAAK8C,4BAAL,GAAoC,EAApC;AACA,iBAAKoB,wBAAL;AACH;;;wCAEa5J,K,EAAY;AAAA;;AACtB,gBAAI,CAACA,KAAK,CAAC2F,MAAN,CAAa3B,KAAd,GAAsB,EAA1B,EAA8B;AAC1BhE,mBAAK,CAAC2F,MAAN,CAAa3B,KAAb,GAAqB,EAArB;AACH,aAFD,MAEO,IAAI,CAAChE,KAAK,CAAC2F,MAAN,CAAa3B,KAAd,GAAsB,CAA1B,EAA6B;AAChChE,mBAAK,CAAC2F,MAAN,CAAa3B,KAAb,GAAqB,CAArB;AACH,aAFM,MAEA,IAAImO,KAAK,CAACnS,KAAK,CAAC2F,MAAN,CAAa3B,KAAd,CAAT,EAA+B;AAClChE,mBAAK,CAAC2F,MAAN,CAAa3B,KAAb,GAAqB,IAArB;AACA,mBAAK2Q,QAAL,GAAgB,IAAhB;AACH,aARqB,CAStB;;;AACA,iBAAKC,eAAL,GAAuB,KAAKpM,4BAAL,CAAkC1E,MAAlC,CAAyC,UAAA+Q,EAAE;AAAA,qBAAI,CAACA,EAAE,CAAC1L,IAAJ,KAAa,OAAI,CAACwL,QAAtB;AAAA,aAA3C,EAA2E,CAA3E,CAAvB;AACH;;;6CAEkB;AAAA;;AACf,gBAAI,CAAC,KAAKvB,uBAAN,KAAkC,CAAtC,EAAyC;AACrC,mBAAK0B,iBAAL,GAAyB,KAAKrC,WAAL,CAAiBM,IAAjB,CAAsB,UAAArI,CAAC;AAAA,uBAAIA,CAAC,CAAC8D,YAAF,KAAmB,CAAC,OAAI,CAAC4E,uBAA7B;AAAA,eAAvB,CAAzB;AACH;AACJ;;;oCAEa;AACV;AACA,mBAAO,KAAKwB,eAAL,KAAyB,KAAKA,eAAL,CAAqBtL,MAArB,KAAgC,CAAhC,IAAqC,KAAKyL,aAAL,EAA9D,CAAP;AACH;;;0CAEmB;AAChB,mBAAO,KAAKH,eAAL,IAAyB,KAAKA,eAAL,CAAqBtL,MAArB,KAAgC,CAAhE;AACH;;;0CAEsB;AACnB,mBAAO,KAAK6K,MAAL,IAAe,EAAf,IAAqB,KAAKA,MAAL,IAAe,EAA3C;AACH;;;+CAEwB;AACrB,gBAAI,EAAE,KAAKQ,QAAL,IAAiB,KAAKC,eAAxB,CAAJ,EAA8C;AAC1C,qBAAO,KAAP;AACH;;AACD,oBAAQ,CAAC,KAAKA,eAAL,CAAqBtL,MAA9B;AACI,mBAAK,CAAL;AACA,mBAAK,CAAL;AACA,mBAAK,CAAL;AACA,mBAAK,CAAL;AACI,uBAAO,KAAK6K,MAAL,IAAe,IAAtB;AALR;AAOH;;;0CAEsB;AACnB,oBAAQ,KAAKS,eAAL,CAAqBtL,MAA7B;AACI,mBAAK,CAAL;AACI,uBAAO,qBAAqB,KAAK0L,kBAAL,EAArB,GAAiD,oBAAxD;;AACJ,mBAAK,CAAL;AACI,uBAAO,qBAAqB,KAAKA,kBAAL,EAArB,GAAiD,oBAAxD;;AACJ,mBAAK,CAAL;AACI,uBAAO,qBAAqB,KAAKA,kBAAL,EAArB,GAAiD,gBAAxD;;AACJ,mBAAK,CAAL;AACI,uBAAO,qBAAqB,KAAKA,kBAAL,EAArB,GAAiD,gBAAxD;AARR;AAUH;;;+CAE2B;AACxB,oBAAQ,KAAKJ,eAAL,CAAqBtL,MAA7B;AACI,mBAAK,CAAL;AACA,mBAAK,CAAL;AACA,mBAAK,CAAL;AACA,mBAAK,CAAL;AACI,uBAAO,KAAK6K,MAAL,GAAc,KAAKS,eAAL,CAAqBpL,UAA1C;AALR;AAOH;;;+CAEiB;AAAA;;AACd,mBAAO,KAAKzB,YAAL,CAAkBjE,MAAlB,CAAyB,UAAAmR,EAAE;AAAA,qBAAIA,EAAE,CAAC3L,MAAH,KAAc,OAAI,CAACsL,eAAL,CAAqBtL,MAAvC;AAAA,aAA3B,EAA0E,CAA1E,EAA6EjF,OAApF;AACH;;;+BAEI6Q,K,EAAe;AAChB,gBAAIA,KAAK,KAAK,QAAV,IAAsB,KAAKf,MAA3B,IAAqC,KAAKA,MAAL,IAAe,EAAxD,EAA4D;AACxD,mBAAKgB,UAAL,GAAkB,CAAC,qBAAD,EAAwB,WAAxB,EAAqC,QAArC,EAA+C,SAA/C,EAA0D,iBAA1D,CAAlB;AACA,qBAAO,IAAP;AACH,aAHD,MAGO,IAAID,KAAK,KAAK,OAAV,IAAqB,KAAKf,MAAL,IAAe,EAApC,IAA0C,KAAKA,MAAL,IAAe,EAA7D,EAAiE;AACpE,qBAAO,IAAP;AACH,aAFM,MAEA,IAAIe,KAAK,KAAK,SAAV,IAAuB,KAAKf,MAAL,IAAe,EAAtC,IAA4C,KAAKA,MAAL,IAAe,EAA/D,EAAmE;AACtE,qBAAO,IAAP;AACH,aAFM,MAEA,IAAIe,KAAK,KAAK,QAAV,IAAsB,KAAKf,MAAL,IAAe,EAArC,IAA2C,KAAKA,MAAL,IAAe,EAA9D,EAAkE;AACrE,mBAAKgB,UAAL,GAAkB,CAAC,mBAAD,EAAsB,YAAtB,EAAoC,OAApC,EAA6C,SAA7C,EAAwD,QAAxD,CAAlB;AACA,qBAAO,IAAP;AACH,aAHM,MAGA,IAAID,KAAK,KAAK,QAAV,IAAsB,KAAKf,MAAL,IAAe,EAArC,IAA2C,KAAKA,MAAL,IAAe,EAA9D,EAAkE;AACrE,mBAAKgB,UAAL,GAAkB,CAAC,qBAAD,EAAwB,kBAAxB,EAA4C,SAA5C,EAAuD,SAAvD,EAAkE,UAAlE,CAAlB;AACA,qBAAO,IAAP;AACH,aAHM,MAGA,IAAID,KAAK,KAAK,QAAV,IAAsB,KAAKf,MAAL,IAAe,EAArC,IAA2C,KAAKA,MAAL,IAAe,EAA9D,EAAkE;AACrE,qBAAO,IAAP;AACH,aAFM,MAEA,IAAIe,KAAK,KAAK,QAAV,IAAsB,KAAKf,MAAL,IAAe,EAArC,IAA2C,KAAKA,MAAL,IAAe,GAA9D,EAAmE;AACtE,mBAAKgB,UAAL,GAAkB,CAAC,+BAAD,EAAkC,kBAAlC,EAAsD,kBAAtD,EAA0E,SAA1E,EAAqF,mBAArF,CAAlB;AACA,qBAAO,IAAP;AACH;;AACD,mBAAO,KAAP;AACH;;;0CAEe;AACZ,gBAAI,KAAKhB,MAAL,IAAe,KAAKA,MAAL,IAAe,EAAlC,EAAsC;AAClC,mBAAKgB,UAAL,GAAkB,CAAC,qBAAD,EAAwB,WAAxB,EAAqC,QAArC,EAA+C,SAA/C,EAA0D,iBAA1D,CAAlB;AACH,aAFD,MAEO,IAAI,KAAKhB,MAAL,IAAe,EAAf,IAAqB,KAAKA,MAAL,IAAe,EAAxC,EAA4C;AAC/C,mBAAKgB,UAAL,GAAkB,CAAC,mBAAD,EAAsB,YAAtB,EAAoC,OAApC,EAA6C,SAA7C,EAAwD,QAAxD,CAAlB;AACH,aAFM,MAEA,IAAI,KAAKhB,MAAL,IAAe,EAAf,IAAqB,KAAKA,MAAL,IAAe,EAAxC,EAA4C;AAC/C,mBAAKgB,UAAL,GAAkB,CAAC,qBAAD,EAAwB,kBAAxB,EAA4C,SAA5C,EAAuD,SAAvD,EAAkE,UAAlE,CAAlB;AACH,aAFM,MAEA,IAAI,KAAKhB,MAAL,IAAe,EAAf,IAAqB,KAAKA,MAAL,IAAe,GAAxC,EAA6C;AAChD,mBAAKgB,UAAL,GAAkB,CAAC,+BAAD,EAAkC,kBAAlC,EAAsD,kBAAtD,EAA0E,SAA1E,EAAqF,mBAArF,CAAlB;AACH;AACJ;;;sCAEWD,K,EAAeE,Q,EAAmB;AAC1C,gBAAIC,KAAJ;AACA,gBAAIC,SAAS,GAAG,IAAhB;AACA,gBAAIC,WAAW,GAAG,KAAlB;;AACA,gBAAIH,QAAJ,EAAc;AACVC,mBAAK,GAAG,KAAKG,MAAb;AACH,aAFD,MAEO;AACHH,mBAAK,GAAG,KAAKI,MAAb;AACH;;AACD,gBAAIP,KAAK,KAAK,QAAV,IAAsBG,KAAtB,IAA+BA,KAAK,IAAI,EAA5C,EAAgD;AAC5CC,uBAAS,GAAG,CAAC,qBAAD,EAAwB,WAAxB,EAAqC,QAArC,EAA+C,SAA/C,EAA0D,iBAA1D,CAAZ;AACAC,yBAAW,GAAG,IAAd;AACH,aAHD,MAGO,IAAIL,KAAK,KAAK,OAAV,IAAqBG,KAAK,IAAI,EAA9B,IAAoCA,KAAK,IAAI,EAAjD,EAAqD;AACxDE,yBAAW,GAAG,IAAd;AACH,aAFM,MAEA,IAAIL,KAAK,KAAK,SAAV,IAAuBG,KAAK,IAAI,EAAhC,IAAsCA,KAAK,IAAI,EAAnD,EAAuD;AAC1DE,yBAAW,GAAG,IAAd;AACH,aAFM,MAEA,IAAIL,KAAK,KAAK,QAAV,IAAsBG,KAAK,IAAI,EAA/B,IAAqCA,KAAK,IAAI,EAAlD,EAAsD;AACzDC,uBAAS,GAAG,CAAC,mBAAD,EAAsB,YAAtB,EAAoC,OAApC,EAA6C,SAA7C,EAAwD,QAAxD,CAAZ;AACAC,yBAAW,GAAG,IAAd;AACH,aAHM,MAGA,IAAIL,KAAK,KAAK,QAAV,IAAsBG,KAAK,IAAI,EAA/B,IAAqCA,KAAK,IAAI,EAAlD,EAAsD;AACzDC,uBAAS,GAAG,CAAC,qBAAD,EAAwB,kBAAxB,EAA4C,SAA5C,EAAuD,SAAvD,EAAkE,UAAlE,CAAZ;AACAC,yBAAW,GAAG,IAAd;AACH,aAHM,MAGA,IAAIL,KAAK,KAAK,QAAV,IAAsBG,KAAK,IAAI,EAA/B,IAAqCA,KAAK,IAAI,GAAlD,EAAuD;AAC1DC,uBAAS,GAAG,CAAC,+BAAD,EAAkC,kBAAlC,EAAsD,kBAAtD,EAA0E,SAA1E,EAAqF,mBAArF,CAAZ;AACAC,yBAAW,GAAG,IAAd;AACH;;AACD,gBAAIH,QAAJ,EAAc;AACV,mBAAKM,WAAL,GAAmBJ,SAAnB;AACH,aAFD,MAEO;AACH,mBAAKK,WAAL,GAAmBL,SAAnB;AACH;;AACD,mBAAOC,WAAP;AACH;;;yCAEc7P,M,EAA8B;AACzC,gBAAIA,MAAJ,EAAY;AACR,mBAAKkQ,MAAL,GAAc,IAAd;AACA,mBAAKC,IAAL,GAAY,IAAZ;AACA,mBAAKC,WAAL,GAAmBpQ,MAAnB;AAEA,mBAAKqQ,2BAAL,CAAiC,KAAKD,WAAL,CAAiBE,sBAAjB,CAAwC,KAAK5C,uBAA7C,CAAjC;AACH;AACJ;;;kCAEO1N,M,EAAwB;AAC5B,iBAAKkQ,MAAL,GAAc,IAAd;AACA,iBAAKC,IAAL,GAAYnQ,MAAZ;AACA,iBAAKoQ,WAAL,GAAmB,IAAnB;AAEA,iBAAKC,2BAAL,CAAiC,KAAKF,IAAL,CAAUG,sBAAV,CAAiC,KAAK5C,uBAAtC,CAAjC;AACH;;;oCAES1N,M,EAA0B;AAChC,iBAAKkQ,MAAL,GAAclQ,MAAd;AACA,iBAAKmQ,IAAL,GAAY,IAAZ;AACA,iBAAKC,WAAL,GAAmB,IAAnB;AAEA,iBAAKC,2BAAL,CAAiC,KAAKH,MAAL,CAAYI,sBAAZ,CAAmC,KAAK5C,uBAAxC,CAAjC;AACH;;;sDAE2B6C,a,EAAiC;AAAA;;AACzDzT,mBAAO,CAACC,GAAR,CAAY,KAAK2Q,uBAAjB;;AACA,gBAAI,KAAKA,uBAAL,KAAiC,CAAjC,IAAsC,CAAC,KAAKA,uBAAhD,EAAyE;AACrE,mBAAK8C,UAAL,GAAkBjW,SAAlB,CAA4B,UAAAkW,MAAM,EAAI;AAClC3T,uBAAO,CAACC,GAAR,0BAA8B0T,MAA9B;;AACA,oBAAIA,MAAJ,EAAY;AACR,yBAAI,CAACC,SAAL,CAAeH,aAAf;AACH;AACJ,eALD;AAMH,aAPD,MAOO;AACH,mBAAKG,SAAL,CAAeH,aAAf;AACH;AACJ;;;oCAESA,a,EAAiC;AAAA;;AACvC;AACA;AACA;AACA,gBAAMI,qBAAqB,GAAqBlW,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,SAAL,CAAe4V,aAAf,CAAX,CAAhD;AACAI,iCAAqB,CAACC,gBAAtB,GAAyC,IAAzC;AACA,iBAAKrD,YAAL,CAAkBsD,mBAAlB,CAAsC,KAAKhX,IAA3C,EAAiD,MAAjD,EAAyD,IAAzD,EAA+D8W,qBAA/D,EAAsFjY,IAAtF,CACI,UAACqV,SAAD,EAAoB;AAChBjR,qBAAO,CAACC,GAAR,CAAYgR,SAAZ;AACA,kBAAMvQ,QAAQ,GAAG/C,IAAI,CAACC,KAAL,CAAWqT,SAAX,CAAjB;AACA,kBAAMyB,KAAK,GAAqBhS,QAAQ,CAACtB,IAAzC;AACA,kBAAM8R,OAAO,GAAGwB,KAAK,CAACxB,OAAtB;AACAlR,qBAAO,CAACC,GAAR,CAAYiR,OAAZ,EALgB,CAMhB;AACA;AACA;;AACA,qBAAI,CAAC8C,yBAAL,CAA+B9C,OAA/B,EAAwCuC,aAAa,CAACK,gBAAtD;AACH,aAXL;AAaH;;;oDAEyB5C,O,EAAiB+C,kB,EAAuC;AAAA,wDAC/CA,kBAD+C;AAAA;;AAAA;AAC9E,qEAAmD;AAAA,oBAAxCH,gBAAwC;AAC/C,qBAAKrD,YAAL,CAAkByD,mBAAlB,CAAsC,KAAKnX,IAA3C,EAAiD,MAAjD,EAAyDmU,OAAzD,EAAkE4C,gBAAlE,EAAoFlY,IAApF,CACI,UAACwD,IAAD,EAAe;AACXY,yBAAO,CAACC,GAAR,CAAYb,IAAZ;AACH,iBAHL;AAKH;AAP6E;AAAA;AAAA;AAAA;AAAA;AAQjF;;;;;;;yBAlSQqS,kB,EAAkB,gI,EAAA,+J,EAAA,+J,EAAA,qI,EAAA,+I,EAAA,mI;AAAA,O;;;cAAlBA,kB;AAAkB,uC;AAAA,iB;AAAA,e;AAAA,8+D;AAAA;AAAA;ACxB/B;;AACI;;AACI;;AACI;;AAAI;;AAAuB;;AAC3B;;AAAyB;AAAA,qBAAuB,IAAAzJ,gBAAA,QAAvB;AAA+C,aAA/C;;AAErB;;AACJ;;AACJ;;AACA;;AACI;;AACA;;AACI;;AACI;;AAWA;;AAWJ;;AACJ;;AACJ;;AACA;;AACA;;AAIA;;AAKA;;AAoCA;;AAWJ;;AACJ;;;;AA3FqC;;AAAA;;AAKrB;;AAAA;;AAG+B;;AAAA;;AAYtB;;AAAA;;AAaiE;;AAAA;;AACzD;;AAAA;;AAIpB;;AAAA;;AAKA;;AAAA;;AAoCuB;;AAAA;;;;;;;;;wED5DvByJ,kB,EAAkB;gBAL9B,uDAK8B;iBALpB;AACPvT,oBAAQ,EAAE,gBADH;AAEPC,uBAAW,EAAE,6BAFN;AAGPC,qBAAS,EAAE,CAAC,6BAAD;AAHJ,W;AAKoB,U;;;;;;;;;;;;;;;;;UAkTlB6T,4B;;;;;yBAAAA,4B;AAA4B,O;;;cAA5BA,4B;AAA4B,kD;AAAA,iB;AAAA,e;AAAA,+P;AAAA;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;wEAA5BA,4B,EAA4B;gBAbxC,uDAawC;iBAb9B;AACP/T,oBAAQ,EAAE,2BADH;AAEPiH,oBAAQ,EAAE,2CACN,+CADM,GAEN,0CAFM,GAGN,uEAHM,GAIN,yBAJM,GAKN,oCALM,GAMN,sGANM,GAON,sHAPM,GAQN,uBAVG;AAWPgP,kBAAM,EAAE,CAAC,sFAAD;AAXD,W;AAa8B,U;;;;;;;;;;;;;;;;;;AE1UzC;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UA+FaC,kB;;;;;cAAAA;;;;2BAAAA,kB;AAAkB,S;AAAA,kBA/C3B,6DA+C2B,EA9C3B,uEA8C2B,EA7C3B,sEA6C2B,EA5C3B,kEA4C2B,EA3C3B,gEA2C2B,EA1C3B,sEA0C2B,EAzC3B,qFAyC2B,EAxC3B,uEAwC2B,EAvC3B,oFAuC2B,EAtC3B,yEAsC2B,EArC3B,qFAqC2B,EApC3B,qEAoC2B,EAnC3B,6EAmC2B,EAlC3B,uEAkC2B,EAjC3B,2EAiC2B,EAhC3B,iFAgC2B,EA/B3B,yEA+B2B,EA9B3B,2EA8B2B,EA7B3B,8EA6B2B,EA5B3B,8EA4B2B,EA3B3B,qEA2B2B,EA1B3B,sEA0B2B,EAzB3B,qEAyB2B,EAxB3B,qEAwB2B,EAvB3B,2EAuB2B,EAtB3B,8EAsB2B,EArB3B,mFAqB2B,EApB3B,4FAoB2B,EAnB3B,uEAmB2B,EAlB3B,uEAkB2B,EAjB3B,yEAiB2B,EAhB3B,2EAgB2B,EAf3B,yEAe2B,EAd3B,mFAc2B,EAb3B,8EAa2B,EAZ3B,qEAY2B,EAX3B,uEAW2B,EAV3B,qEAU2B,EAT3B,0EAS2B,EAR3B,2EAQ2B,EAP3B,oEAO2B,EAN3B,mEAM2B,EAL3B,iEAK2B,EAJ3B,sEAI2B;;;;4HAAlBA,kB,EAAkB;AAAA,oBA/C3B,6DA+C2B,EA9C3B,uEA8C2B,EA7C3B,sEA6C2B,EA5C3B,kEA4C2B,EA3C3B,gEA2C2B,EA1C3B,sEA0C2B,EAzC3B,qFAyC2B,EAxC3B,uEAwC2B,EAvC3B,oFAuC2B,EAtC3B,yEAsC2B,EArC3B,qFAqC2B,EApC3B,qEAoC2B,EAnC3B,6EAmC2B,EAlC3B,uEAkC2B,EAjC3B,2EAiC2B,EAhC3B,iFAgC2B,EA/B3B,yEA+B2B,EA9B3B,2EA8B2B,EA7B3B,8EA6B2B,EA5B3B,8EA4B2B,EA3B3B,qEA2B2B,EA1B3B,sEA0B2B,EAzB3B,qEAyB2B,EAxB3B,qEAwB2B,EAvB3B,2EAuB2B,EAtB3B,8EAsB2B,EArB3B,mFAqB2B,EApB3B,4FAoB2B,EAnB3B,uEAmB2B,EAlB3B,uEAkB2B,EAjB3B,yEAiB2B,EAhB3B,2EAgB2B,EAf3B,yEAe2B,EAd3B,mFAc2B,EAb3B,8EAa2B,EAZ3B,qEAY2B,EAX3B,uEAW2B,EAV3B,qEAU2B,EAT3B,0EAS2B,EAR3B,2EAQ2B,EAP3B,oEAO2B,EAN3B,mEAM2B,EAL3B,iEAK2B,EAJ3B,sEAI2B;AAAA,S;AAJZ,O;;;;;wEAINA,kB,EAAkB;gBAjD9B,sDAiD8B;iBAjDrB;AACRlY,mBAAO,EAAE,CACP,6DADO,EAEP,uEAFO,EAGP,sEAHO,EAIP,kEAJO,EAKP,gEALO,EAMP,sEANO,EAOP,qFAPO,EAQP,uEARO,EASP,oFATO,EAUP,yEAVO,EAWP,qFAXO,EAYP,qEAZO,EAaP,6EAbO,EAcP,uEAdO,EAeP,2EAfO,EAgBP,iFAhBO,EAiBP,yEAjBO,EAkBP,2EAlBO,EAmBP,8EAnBO,EAoBP,8EApBO,EAqBP,qEArBO,EAsBP,sEAtBO,EAuBP,qEAvBO,EAwBP,qEAxBO,EAyBP,2EAzBO,EA0BP,8EA1BO,EA2BP,mFA3BO,EA4BP,4FA5BO,EA6BP,uEA7BO,EA8BP,uEA9BO,EA+BP,yEA/BO,EAgCP,2EAhCO,EAiCP,yEAjCO,EAkCP,mFAlCO,EAmCP,8EAnCO,EAoCP,qEApCO,EAqCP,uEArCO,EAsCP,qEAtCO,EAuCP,0EAvCO,EAwCP,2EAxCO,EAyCP,oEAzCO,EA0CP,mEA1CO,EA2CP,iEA3CO,EA4CP,sEA5CO;AADD,W;AAiDqB,U;;;;;;;;;;;;;;;;;;AC/F/B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;;;;;ACAA;;AACkB;AAAA;;AAAA;;AAAA;AAAA;;AAAyD;;;;;;;;AAoB/D;;AACI;;AAA8B;;AAAY;;AAC1C;;AAAmD;AAAA;;AAAA;;AAAA;AAAA,aAA6B,eAA7B,EAA6B;AAAA;;AAAA;;AAAA;AAAA,WAA7B;;AAG/C;;AAAkB;;AAAe;;AACjC;;AAAkB;;AAAe;;AACjC;;AAAkB;;AAAe;;AACrC;;AACJ;;;;;;AAPuD;;AAAA;;;;;;AAa/C;;AAEI;;AACJ;;;;;;AAFQ;;AACJ;;AAAA;;;;;;;;AAPZ;;AACI;;AAAiC;;AAA8D;;AAC/F;;AAAsD;AAAA;;AAAA;;AAAA;AAAA,aAAiC,eAAjC,EAAiC;AAAA;;AAAA;;AAAA;AAAA,WAAjC;;AAGlD;;AAIJ;;AACJ;;;;;;AATqC;;AAAA;;AACqB;;AAAA,sGAAiC,MAAjC,EAAiC,eAAjC;;AAG1C;;AAAA;;;;;;;;AAMhB;;AACI;;AAA2B;;AAC3B;;AACA;;AAGO;AAAA;;AAAA;;AAAA;AAAA,aAA0B,eAA1B,EAA0B;AAAA;;AAAA;;AAAA;AAAA,WAA1B;;AAHP;;AAMJ;;;;;;AAR+B;;AAAA;;AAEZ;;AAAA,+FAAwB,SAAxB,EAAwB,eAAxB;;;;;;AAYX;;AACI;;AACJ;;;;;;AAFqD;;AACjD;;AAAA;;;;;;;;AANZ;;AACI;;AAAwB;;AAA0C;;AAClE;;AAA6C;AAAA;;AAAA;;AAAA;AAAA,aAA4B,eAA5B,EAA4B;AAAA;;AAAA;;AAAA;AAAA,WAA5B;;AAGzC;;AAGJ;;AACJ;;;;;;AAR4B;;AAAA;;AACqB;;AAAA,iGAA4B,MAA5B,EAA4B,YAA5B;;AAGjC;;AAAA;;;;;;AAWR;;AACI;;AACJ;;;;;;AAFyD;;AACrD;;AAAA;;;;;;;;AANZ;;AACI;;AAA0B;;AAA2C;;AACrE;;AAA+C;AAAA;;AAAA;;AAAA;AAAA,aAA8B,eAA9B,EAA8B;AAAA;;AAAA;;AAAA;AAAA,WAA9B;;AAG3C;;AAGJ;;AACJ;;;;;;AAR8B;;AAAA;;AACqB;;AAAA,mGAA8B,MAA9B,EAA8B,cAA9B;;AAGnC;;AAAA;;;;;;AAhDpB;;AACI;;AAUA;;AAWA;;AAUA;;AAWA;;AAUJ;;;;;;AApDqC;;AAAA;;AAUA;;AAAA;;AAWN;;AAAA;;AAUM;;AAAA;;AAWA;;AAAA;;;;;;;;AAuBjC;;AACI;;AAAyB;;AACzB;;AACA;;AAGO;AAAA;;AAAA;;AAAA;AAAA,aAA0B,eAA1B,EAA0B;AAAA;;AAAA;;AAAA;AAAA,WAA1B;;AAHP;;AAMJ;;;;;;AAHW;;AAAA;;;;;;;;AAKf;;AACI;;AAAI;;AAAwB;;AAC5B;;AACI;;AAAsB;;AACtB;;AACA;;AAIO;AAAA;;AAAA;;AAAA;AAAA,aAA4B,eAA5B,EAA4B;AAAA;;AAAA;;AAAA;AAAA,WAA5B;;AAJP;;AAOJ;;AACJ;;;;;;AAV8B;;AAAA;;AAEP;;AAAA,oIAA4D,SAA5D,EAA4D,gBAA5D;;;;;;;;AAUvB;;AACI;;AAAuB;;AACvB;;AACA;;AAIO;AAAA;;AAAA;;AAAA;AAAA,aAA6C,eAA7C,EAA6C;AAAA;;AAAA;;AAAA;AAAA,WAA7C;;AAJP;;AAOJ;;;;;;AAHW;;AAAA;;;;;;AA4BP;;AAA0B;;AAA2B;;;;;;AAA3B;;AAAA;;;;;;AACT;;AAA2B;;AAAiB;;;;;;AAAjB;;AAAA;;;;;;AAAwB;;AAC5C;;AAAuB;;;;;;AAAvB;;AAAA;;;;;;AAExB;;AAA2B;;AAA8C;;AAAE;;AAAM;;AAAkB;;AAAO;;;;;;AAAzE;;AAAA;;AAAgD;;AAAA;;;;;;;;AAPrF;;AACI;;AAAI;;AAAkB;;AACtB;;AAAI;;AAAoC;;AACxC;;AACA;;AAAG;;AAAc;;AAAmD;;AACd;;AAEtD;;AACA;;AAAQ;AAAA;;AAAA;;AAAA;AAAA;;AAA0D;;AAA0B;;AAChG;;;;;;AAPc;;AAAA;;AACN;;AAAA;;AACD;;AAAA;;AAAoB;;AAAA;;AACnB;;AAAA;;AAEC;;AAAA;;AACoC;;AAAA;;;;;;;;AAYrC;;AAA2B;;AAAE;;AAAU;AAAA;;AAAA;;AAAA;AAAA;;AAA0B;;AAAW;;;;;;AAArC;;AAAA;;;;;;;;AACvC;;AAA0B;;AAAS;;AAAU;AAAA;;AAAA;;AAAA;AAAA;;AAAyB;;AAAW;;;;;;AAApC;;AAAA;;;;;;;;AAGjD;;AACI;;AAAU;AAAA;;AAAA;;AAAA;AAAA;;AAAgC;;AAAY;;AACtD;;AAAU;AAAA;;AAAA;;AAAA;AAAA;;AAAkC;;AAChD;;;;;;AAFc;;AAAA;;AACA;;AAAA;;;;;;;;AAdlB;;AACI;;AAAI;;AAAkB;;AACtB;;AAAI;;AAAU;AAAA;;AAAA;;AAAA;AAAA;;AAAuB;;AAAW;;AAChD;;AACI;;AAAW;;AAAQ;;AACnB;;AAAU;AAAA;;AAAA;;AAAA;AAAA;;AAAoC;;AAClD;;AACA;;AAAG;;AAAU;AAAA;;AAAA;;AAAA;AAAA;;AAAwB;;AACjC;;AACA;;AACJ;;AAEA;;AAKA;;AAAQ;AAAA;;AAAA;;AAAA;AAAA;;AAAiC;;AAAa;;AAC1D;;;;;;AAhBkB;;AAAA;;AAGA;;AAAA;;AAED;;AAAA;;AACH;;AAAA;;AACA;;AAAA;;AAGL;;AAAA;;;;;;AAzBb;;AACI;;AAYA;;AAmBJ;;;;;;AA/B6B;;AAAA;;AAYA;;AAAA;;;;;;;;AAsBzB;;AAKuB;AAAA;;AAAA;;AAAA;AAAA,aAA8E,8BAA9E,EAA8E;AAAA;;AAAA;;AAAA;AAAA,WAA9E,EAA8E,mCAA9E,EAA8E;AAAA;;AAAA;;AAAA;AAAA,WAA9E;;AAEiE;;;;;;;;AANjE,sHAA+C,uBAA/C,EAA+C,kBAA/C,EAA+C,KAA/C,EAA+C,yBAA/C,EAA+C,oBAA/C,EAA+C,8CAA/C;;;;;;AAF3B;;AACI;;AAQJ;;;;;;AAR2B;;AAAA;;;;;;;;AAW3B;;AAA+C;AAAA;;AAAA;;AAAA;AAAA;;AAA2B;;AAAa;;;;;;;;AAEnF;;AAAQ;AAAA;;AAAA;;AAAA;AAAA;;AAA6B;;AAAe;;;;;;;;;;UDrL/CmY,c;;;;;AAiBT,gCAAoBC,WAApB,EAAkD;AAAA;;AAAA;;AAC9C,sCAAMA,WAAN;AADgB,kBAAAA,WAAA,GAAAA,WAAA;AAfV,kBAAAC,gBAAA,GAAmB,IAAI,0DAAJ,EAAnB;AAewC;AAEjD;;;;qCAEO;AAAA;;AACJ,iBAAKD,WAAL,CAAiBE,OAAjB,CAAyB,SAAzB,EAAoC,qBAApC,EAA2D5Y,IAA3D,CACI,UAAC6Y,mBAAD,EAA8B;AAC1B,qBAAI,CAACC,qBAAL,GAA6B/W,IAAI,CAACC,KAAL,CAAW6W,mBAAX,CAA7B;;AACA,qBAAI,CAACH,WAAL,CAAiBE,OAAjB,CAAyB,SAAzB,EAAoC,gBAApC,EAAsD5Y,IAAtD,CACI,UAAC+Y,cAAD,EAAyB;AACrB,uBAAI,CAACC,iBAAL,GAAyBjX,IAAI,CAACC,KAAL,CAAW+W,cAAX,CAAzB;AACH,eAHL;AAKH,aARL;AAUA,iBAAKL,WAAL,CAAiBE,OAAjB,CAAyB,kBAAzB,EAA6C,gBAA7C,EAA+D5Y,IAA/D,CACI,UAACiZ,cAAD,EAAyB;AACrB,qBAAI,CAACC,gBAAL,GAAwBnX,IAAI,CAACC,KAAL,CAAWiX,cAAX,CAAxB;AACH,aAHL;AAKA,iBAAKP,WAAL,CAAiBE,OAAjB,CAAyB,kBAAzB,EAA6C,aAA7C,EAA4D5Y,IAA5D,CACI,UAACiZ,cAAD,EAAyB;AACrB,qBAAI,CAACE,cAAL,GAAsBpX,IAAI,CAACC,KAAL,CAAWiX,cAAX,CAAtB;AACH,aAHL;AAKA,iBAAKP,WAAL,CAAiBE,OAAjB,CAAyB,kBAAzB,EAA6C,gBAA7C,EAA+D5Y,IAA/D,CACI,UAACiZ,cAAD,EAAyB;AACrB,qBAAI,CAACG,iBAAL,GAAyBrX,IAAI,CAACC,KAAL,CAAWiX,cAAX,CAAzB;AACH,aAHL;AAKA,iBAAKI,8BAAL;AACH;;;yCAEc;AAAA;;AACX,iBAAKC,KAAL;AACA,iBAAKC,SAAL,GAAiB,KAAjB;AACA,iBAAKC,SAAL,GAAiB,KAAjB;AACA,iBAAKC,SAAL,GAAiBtV,SAAjB;AACA,iBAAKuV,kBAAL,GAA0BvV,SAA1B;AACA,iBAAKwV,MAAL,GAAcxV,SAAd;AACA,iBAAKyV,KAAL,GAAazV,SAAb;;AACA,oBAAQ,KAAK0V,WAAb;AACI,mBAAK,CAAL;AACI,oBAAI,KAAKC,OAAL,IAAgB,KAAKA,OAAL,IAAgB,EAApC,EAAwC;AACpC,uBAAKF,KAAL,GAAa,CAAb;AACH,iBAFD,MAEO,IAAI,KAAKE,OAAL,GAAe,EAAf,IAAqB,KAAKA,OAAL,IAAgB,EAAzC,EAA6C;AAChD,uBAAKF,KAAL,GAAa,CAAb;AACH,iBAFM,MAEA,IAAI,KAAKE,OAAL,GAAe,EAAf,IAAqB,KAAKA,OAAL,IAAgB,EAAzC,EAA6C;AAChD,uBAAKF,KAAL,GAAa,CAAb;AACA,uBAAKL,SAAL,GAAiB,IAAjB;AACH,iBAHM,MAGA,IAAI,KAAKO,OAAL,GAAe,EAAf,IAAqB,KAAKA,OAAL,IAAgB,GAAzC,EAA8C;AACjD,uBAAKF,KAAL,GAAa,CAAb;AACA,uBAAKJ,SAAL,GAAiB,IAAjB;AACH;;AACD;;AACJ,mBAAK,CAAL;AACI,oBAAI,KAAKM,OAAL,IAAgB,KAAKA,OAAL,IAAgB,EAApC,EAAwC;AACpC,uBAAKF,KAAL,GAAa,CAAb;AACH,iBAFD,MAEO,IAAI,KAAKE,OAAL,GAAe,EAAf,IAAqB,KAAKA,OAAL,IAAgB,EAAzC,EAA6C;AAChD,uBAAKF,KAAL,GAAa,CAAb;AACH,iBAFM,MAEA,IAAI,KAAKE,OAAL,GAAe,EAAf,IAAqB,KAAKA,OAAL,IAAgB,EAAzC,EAA6C;AAChD,uBAAKF,KAAL,GAAa,CAAb;AACH,iBAFM,MAEA,IAAI,KAAKE,OAAL,GAAe,EAAf,IAAqB,KAAKA,OAAL,IAAgB,EAAzC,EAA6C;AAChD,uBAAKF,KAAL,GAAa,CAAb;AACH,iBAFM,MAEA,IAAI,KAAKE,OAAL,GAAe,EAAf,IAAqB,KAAKA,OAAL,IAAgB,EAAzC,EAA6C;AAChD,uBAAKF,KAAL,GAAa,CAAb;AACA,uBAAKL,SAAL,GAAiB,IAAjB;AACH,iBAHM,MAGA,IAAI,KAAKO,OAAL,GAAe,EAAf,IAAqB,KAAKA,OAAL,IAAgB,GAAzC,EAA8C;AACjD,uBAAKF,KAAL,GAAa,CAAb;AACA,uBAAKJ,SAAL,GAAiB,IAAjB;AACH;;AACD;;AACJ,mBAAK,CAAL;AACI,oBAAI,KAAKM,OAAL,IAAgB,KAAKA,OAAL,IAAgB,EAApC,EAAwC;AACpC,uBAAKF,KAAL,GAAa,CAAb;AACH,iBAFD,MAEO,IAAI,KAAKE,OAAL,GAAe,EAAf,IAAqB,KAAKA,OAAL,IAAgB,EAAzC,EAA6C;AAChD,uBAAKF,KAAL,GAAa,CAAb;AACH,iBAFM,MAEA,IAAI,KAAKE,OAAL,GAAe,EAAf,IAAqB,KAAKA,OAAL,IAAgB,EAAzC,EAA6C;AAChD,uBAAKF,KAAL,GAAa,CAAb;AACH,iBAFM,MAEA,IAAI,KAAKE,OAAL,GAAe,EAAf,IAAqB,KAAKA,OAAL,IAAgB,EAAzC,EAA6C;AAChD,uBAAKF,KAAL,GAAa,CAAb;AACA,uBAAKL,SAAL,GAAiB,IAAjB;AACH,iBAHM,MAGA,IAAI,KAAKO,OAAL,GAAe,EAAf,IAAqB,KAAKA,OAAL,IAAgB,GAAzC,EAA8C;AACjD,uBAAKF,KAAL,GAAa,CAAb;AACA,uBAAKJ,SAAL,GAAiB,IAAjB;AACH;;AACD;AA7CR;;AA+CA,gBAAI,CAAC,KAAKD,SAAN,IAAmB,KAAKQ,cAA5B,EAA4C;AACxC,mBAAKtC,IAAL,GAAY1V,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,SAAL,CACnB,KAAK+X,qBAAL,CAA2BC,UAA3B,CAAsCtF,IAAtC,CAA2C,UAAArI,CAAC;AAAA,uBAAIA,CAAC,CAAC/K,KAAF,KAAY,OAAI,CAACwY,cAArB;AAAA,eAA5C,EAAiFG,KAAjF,CAAuF,KAAKC,OAAL,GAAe,CAAtG,CADmB,CAAX,CAAZ;AAEA,mBAAKC,MAAL;AACA,mBAAKC,OAAL;AACH,aALD,MAKO;AACH,mBAAKC,IAAL,GAAY,IAAZ;AACA,mBAAKC,GAAL,GAAW,IAAX;AACH;AACJ;;;4CAEiB;AACd,iBAAKb,kBAAL,GAA0BvV,SAA1B;AACA,iBAAKwV,MAAL,GAAcxV,SAAd;AACA,iBAAKoW,GAAL,GAAWpW,SAAX;AACA,iBAAKmV,KAAL;;AACA,gBAAI,KAAKG,SAAL,IAAkB,KAAKA,SAAL,IAAkB,KAAKe,uBAAL,CAA6B,KAAKxB,iBAAlC,CAAxC,EAA8F;AAC1F,kBAAMyB,WAAW,GAAoB1Y,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,SAAL,CAC5C,KAAKyY,qBAAL,CAA2B,KAAK1B,iBAAhC,EAAmD,KAAKS,SAAL,GAAiB,CAApE,CAD4C,CAAX,CAArC;AAEA,mBAAKY,OAAL;AACA,mBAAKT,KAAL,GAAa,CAAb;AACA,mBAAKvB,kBAAL,CAAwBxM,IAAxB,CAA6B4O,WAA7B;AACA,mBAAKF,GAAL,GAAWE,WAAW,CAAClZ,KAAvB;AACA,mBAAKoZ,kBAAL;AACH;;AACD,iBAAKC,0BAAL,GAAkC,CAAlC;AACA,iBAAKvB,8BAAL;AACH;;;6CAEkB;AACf,oBAAQ,KAAKO,KAAb;AACI,mBAAK,CAAL;AACI,qBAAKiB,IAAL,GAAY,IAAZ;AACA;;AACJ,mBAAK,CAAL;AACI,qBAAKA,IAAL,GAAY,IAAZ;AACA;;AACJ,mBAAK,CAAL;AACI,qBAAKA,IAAL,GAAY,KAAZ;AACA;;AACJ,mBAAK,CAAL;AACI,qBAAKA,IAAL,GAAY,KAAZ;AACA;;AACJ,mBAAK,CAAL;AACI,qBAAKA,IAAL,GAAY,KAAZ;AACA;AAfR;AAiBH;;;oCAES;AAAA;;AACN,iBAAKC,SAAL;;AACA,gBAAI,CAAC,KAAKvB,SAAV,EAAqB;AACjB,kBAAI,KAAKY,OAAT,EAAkB;AACd,qBAAK1C,IAAL,GAAY1V,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,SAAL,CACnB,KAAK+X,qBAAL,CAA2BC,UAA3B,CAAsCtF,IAAtC,CAA2C,UAAArI,CAAC;AAAA,yBAAIA,CAAC,CAAC/K,KAAF,KAAY,OAAI,CAACwY,cAArB;AAAA,iBAA5C,EAAiFG,KAAjF,CAAuF,KAAKC,OAAL,GAAe,CAAtG,CADmB,CAAX,CAAZ;AAEA,qBAAKE,OAAL;AACA,qBAAKD,MAAL;AACH;AACJ,aAPD,MAOO;AACH,mBAAKE,IAAL,GAAY,IAAZ;AACA,mBAAKC,GAAL,GAAW,IAAX;AACH;AACJ;;;sCAEW;AAAA;;AACR,mBAAO,KAAKP,qBAAL,CAA2BC,UAA3B,CAAsCtF,IAAtC,CAA2C,UAAArI,CAAC;AAAA,qBAAIA,CAAC,CAAC/K,KAAF,KAAY,OAAI,CAACwY,cAArB;AAAA,aAA5C,EAAiFG,KAAjF,CAAuFhT,MAA9F;AACH;;;iDAEsB;AACnB,iBAAKiT,OAAL,GAAe,IAAf;AACA,iBAAKH,qBAAL,GAA6B,IAA7B;;AACA,gBAAI,CAAC,KAAKC,UAAN,KAAqB,CAAzB,EAA4B;AACxB,mBAAKD,qBAAL,GAA6B,KAAKd,gBAAlC;AACH,aAFD,MAEO,IAAI,CAAC,KAAKe,UAAN,KAAqB,CAAzB,EAA4B;AAC/B,mBAAKD,qBAAL,GAA6B,KAAKb,cAAlC;AACH,aAFM,MAEA,IAAI,CAAC,KAAKc,UAAN,KAAqB,CAAzB,EAA4B;AAC/B,mBAAKD,qBAAL,GAA6B,KAAKZ,iBAAlC;AACH;AACJ;;;gDAEqB;AAClB,mBAAO,CAAC,EAAE,KAAKF,gBAAL,IAAyB,KAAKE,iBAA9B,IAAmD,KAAKD,cAA1D,CAAR;AACH;;;sCAEW;AAAA;;AACR,iBAAK4B,MAAL,GAAchZ,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,SAAL,CAAe,KAAKwV,IAAL,CAAUuD,eAAV,CAA0BrG,IAA1B,CAA+B,UAAArI,CAAC;AAAA,qBAAIA,CAAC,CAACyO,MAAF,KAAa,OAAI,CAACE,SAAtB;AAAA,aAAhC,CAAf,CAAX,CAAd;AACA,iBAAKC,SAAL;AACA,iBAAKd,MAAL;AACH;;;2CAEgB;AACb,mBAAO,KAAK3C,IAAL,CAAUuD,eAAV,CAA0BjU,GAA1B,CAA8B,UAAAuF,CAAC;AAAA,qBAAIA,CAAC,CAACyO,MAAN;AAAA,aAA/B,CAAP;AACH;;;uCAEY;AACT,mBAAO,KAAKtD,IAAL,CAAUuD,eAAjB;AACH;;;sCAEW;AACR,iBAAKG,MAAL,GAAc,KAAKJ,MAAL,CAAYI,MAAZ,KAAuB,GAAvB,GAA6B,KAA7B,GACR,KAAKJ,MAAL,CAAYI,MAAZ,KAAuB,GAAvB,GAA6B,KAA7B,GACI,KAAKJ,MAAL,CAAYI,MAFtB;AAGH;;;4CAEiB;AACd;AACA,mBAAO,KAAK1D,IAAL,CAAUuD,eAAV,CAA0B9T,MAAjC;AACH;;;wCAEa;AAAA;;AACV,iBAAKkU,QAAL,GAAgBrZ,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,SAAL,CACvB,KAAKwV,IAAL,CAAU4D,eAAV,CAA0B1G,IAA1B,CAA+B,UAAArI,CAAC;AAAA,qBAAIA,CAAC,CAACiO,GAAF,CAAM7E,OAAN,CAAc,gBAAd,EAAgC,IAAhC,MAA0C,OAAI,CAAC4F,WAAnD;AAAA,aAAhC,CADuB,CAAX,CAAhB;AAEA,iBAAKlB,MAAL;AACH;;;6CAEkB;AACf,mBAAO,KAAK3C,IAAL,CAAU4D,eAAV,CAA0BtU,GAA1B,CAA8B,UAAAuF,CAAC;AAAA,qBAAIA,CAAC,CAACiO,GAAF,CAAM7E,OAAN,CAAc,gBAAd,EAAgC,IAAhC,CAAJ;AAAA,aAA/B,CAAP;AACH;;;yCAEc;AACX,mBAAO,KAAK+B,IAAL,CAAU4D,eAAjB;AACH;;;2CAEgB;AACb,mBAAO,KAAK5D,IAAL,CAAU4D,eAAV,CAA0BnU,MAAjC;AACH;;;mCAEQ;AACL,gBAAI,KAAKuQ,IAAT,EAAe;AACX,mBAAK8C,GAAL,GAAW,KAAK9C,IAAL,CAAU8C,GAArB;AACH;;AACD,gBAAI,KAAKQ,MAAT,EAAiB;AACb,mBAAKR,GAAL,IAAY,MAAM,KAAKQ,MAAL,CAAYA,MAA9B;AACH;;AACD,gBAAI,KAAKK,QAAT,EAAmB;AACf,mBAAKb,GAAL,IAAY,SAAS,KAAKa,QAAL,CAAcb,GAAnC;AACH;;AACD,iBAAKA,GAAL,IAAY,MAAM,KAAKgB,uBAAL,EAAlB,CAVK,CAWL;AACH;;;oCAES;AACN,iBAAKjB,IAAL,GAAY,KAAKf,SAAL,GAAiB,eAAjB,GAAmC,KAAKQ,cAApD;AACH;;;sCAEW;AACR;;AACA,iBAAKgB,MAAL,GAAc5W,SAAd;AACH;;;yCAEc;AACX;;AACA,iBAAK+W,SAAL;AACA,iBAAKM,WAAL;AACA,iBAAKC,SAAL;AACA,iBAAKpB,OAAL;AACH;;;sCAEW;AACR;;AACA,iBAAK1B,gBAAL,CAAsBvR,IAAtB,CAA2B,IAA3B;AACH;;;wCAEa;AACV,iBAAKsU,MAAL,GAAc,KAAd;AACA,iBAAK/C,gBAAL,CAAsBvR,IAAtB,CAA2B,IAA3B;AACH;;;mDAE0D;AAAA,gBAApCuU,wBAAoC,uEAAD,CAAC;AACvD,gBAAMC,gBAAgB,GAAG,KAAKC,cAAL,EAAzB;AACA,gBAAI3X,MAAJ;AACAA,kBAAM,GAAG;AACLoR,qBAAO,EAAE,IADJ;AAELlF,0BAAY,EAAEuL,wBAFT;AAGLpB,iBAAG,EAAE,KAAKA,GAHL;AAILuB,qBAAO,EAAE,KAAKA,OAJT;AAKLlC,mBAAK,EAAE,KAAKA,KALP;AAMLU,kBAAI,EAAE,KAAKA,IANN;AAOLO,kBAAI,EAAE,KAAKA,IAAL,GAAY,KAAKkB,oBAPlB;AAQLC,8BAAgB,EAAE,IARb;AASLC,oBAAM,EAAE,KAAKC,YATR;AAULhE,8BAAgB,EAAE,KAAKG,kBAVlB;AAWL8D,yBAAW,EAAEP,gBAXR;AAYLQ,uBAAS,EAAE,KAAKrC,cAZX;AAaLqB,sBAAQ,EAAE,KAAKA,QAbV;AAcLL,oBAAM,EAAE,KAAKA,MAAL,CAAYA,MAdf;AAeLI,oBAAM,EAAE,KAAKA,MAfR;AAgBLkB,sBAAQ,EAAE,KAAK5E,IAAL,CAAU4E,QAhBf;AAiBLC,2BAAa,EAAE,KAAK7E,IAAL,CAAU6E,aAjBpB;AAkBL9E,oBAAM,EAAE,IAlBH;AAmBL+E,+BAAiB,EAAE,IAnBd;AAoBLC,8BAAgB,EAAE,IApBb;AAqBLC,8BAAgB,EAAE,IArBb;AAsBLC,yBAAW,EAAE,KAAKA,WAtBb;AAuBLC,kCAAoB,EAAE,KAAKA,oBAvBtB;AAwBLC,iCAAmB,EAAE,KAAKA,mBAxBrB;AAyBLC,8BAAgB,EAAE,KAAKA,gBAzBlB;AA0BLC,2BAAa,EAAE,KAAKA;AA1Bf,aAAT;AA6BA,mBAAO5Y,MAAP;AACH;;;2CAEuB;AACpB,mBAAO,KAAKqV,SAAL,GAAiB,KAAKP,iBAAtB,GAA0C,KAAKF,qBAAtD;AACH;;;;QAtT+B,yD;;;yBAAvBL,c,EAAc,4I;AAAA,O;;;cAAdA,c;AAAc,kC;AAAA;AAAA;;;;;;;;;;;;;;;;;;;;;;ACV3B;;AAGA;;AACI;;AACI;;AAAoB;;AAAiB;;AACrC;;AACI;;AAA2B;AAAA,qBAAS,qBAAsB,KAAtB,CAAT;AAAqC,aAArC;;AACqE;;AAA4B;;AAC5H;;AAA2B;AAAA,qBAAS,qBAAsB,cAAtB,CAAT;AAA8C,aAA9C;;AACyE;;AAAqC;;AACzI;;AAA2B;AAAA,qBAAS,qBAAsB,aAAtB,CAAT;AAA6C,aAA7C;;AACwE;;AAAoC;;AACvI;;AAA2B;AAAA,qBAAS,qBAAsB,UAAtB,CAAT;AAA0C,aAA1C;;AACqE;;AAAiC;;AACjI;;AAA2B;AAAA,qBAAS,qBAAsB,OAAtB,CAAT;AAAuC,aAAvC;;AAC2E;;AAA8B;;AACxI;;AACJ;;AACA;;AACI;;AAsDA;;AACI;;AACI;;AAA6B;;AAC7B;;AACA;;AAGO;AAAA;AAAA,eAA8B,eAA9B,EAA8B;AAAA,qBACb,kBADa;AACM,aADpC;;AAHP;;AAMJ;;AAEA;;AAUJ;;AACA;;AAeA;;AA8BJ;;AACA;;AAkCA;;AAYA;;AACA;;AAGJ;;;;;;AAjMkB;;AAO4D;;AAAA;;AAC8B;;AAAA;;AACrB;;AAAA;;AACyB;;AAAA;;AAC1B;;AAAA;;AACyB;;AAAA;;AAC5B;;AAAA;;AACyB;;AAAA;;AAC5B;;AAAA;;AACkC;;AAAA;;AAIpF;;AAAA;;AA6DP;;AAAA;;AAKgB;;AAAA;;AAW1B;;AAAA;;AAesB;;AAAA;;AA+BN;;AAAA;;AAkCpB;;AAAA;;AAYG;;AAAA,0FAAsC,UAAtC,EAAsC,GAAtC;;;;;;;;;wEDnLCA,c,EAAc;gBAL1B,uDAK0B;iBALhB;AACPnW,oBAAQ,EAAE,WADH;AAEPC,uBAAW,EAAE,wBAFN;AAGPC,qBAAS,EAAE,CAAC,wBAAD;AAHJ,W;AAKgB,U;;;;;AAEbmW,0BAAgB;kBAAzB;AAAyB,Y;AACUoE,8BAAoB,EAAE,CAAF;kBAAvD,uDAAuD;mBAA7C,uB;AAA6C,WAAE,C;AACjDC,gBAAM,EAAE,CAAF;kBAAd;AAAc,WAAE;;;;;;;;;;;;;;;;;;;AEdrB;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;;;;;ACAA;;AACkB;AAAA;;AAAA;;AAAA;AAAA;;AAAyD;;;;;;AAyBvD;;AACI;;AACJ;;;;;;AAFkE;;AAC9D;;AAAA;;;;;;;;AANZ;;AACI;;AAAiC;;AAAmD;;AACpF;;AAAsD;AAAA;;AAAA;;AAAA;AAAA,aAAiC,eAAjC,EAAiC;AAAA;;AAAA;;AAAA;AAAA,WAAjC;;AAGlD;;AAGJ;;AACJ;;;;;;AARqC;;AAAA;;AACqB;;AAAA,sGAAiC,MAAjC,EAAiC,iBAAjC;;AAG1C;;AAAA;;;;;;;;AAKhB;;AACI;;AAA6B;;AAC7B;;AACA;;AAGO;AAAA;;AAAA;;AAAA;AAAA,aAA0B,eAA1B,EAA0B;AAAA;;AAAA;;AAAA;AAAA,WAA1B;;AAHP;;AAMJ;;;;;;AARiC;;AAAA;;AAEd;;AAAA,iGAA0B,SAA1B,EAA0B,eAA1B;;;;;;AAYX;;AACI;;AACJ;;;;;;AAFqD;;AACjD;;AAAA;;;;;;;;AANZ;;AACI;;AAA0B;;AAA8C;;AACxE;;AAA+C;AAAA;;AAAA;;AAAA;AAAA,aAA4B,eAA5B,EAA4B;AAAA;;AAAA;;AAAA;AAAA,WAA5B;;AAG3C;;AAGJ;;AACJ;;;;;;AAR8B;;AAAA;;AACqB;;AAAA,iGAA4B,MAA5B,EAA4B,cAA5B;;AAGnC;;AAAA;;;;;;AAWR;;AACI;;AACJ;;;;;;AAFyD;;AACrD;;AAAA;;;;;;;;AANZ;;AACI;;AAA0B;;AAA6C;;AACvE;;AAA+C;AAAA;;AAAA;;AAAA;AAAA,aAA8B,eAA9B,EAA8B;AAAA;;AAAA;;AAAA;AAAA,WAA9B;;AAG3C;;AAGJ;;AACJ;;;;;;AAR8B;;AAAA;;AACqB;;AAAA,mGAA8B,MAA9B,EAA8B,gBAA9B;;AAGnC;;AAAA;;;;;;AArCpB;;AACI;;AAUA;;AAUA;;AAWA;;AAUJ;;;;;;AAzCqC;;AAAA;;AAUN;;AAAA;;AAUM;;AAAA;;AAWA;;AAAA;;;;;;;;AAiCjC;;AACI;;AAAI;;AAAa;;AACjB;;AACI;;AAAkB;;AAClB;;AACA;;AAGO;AAAA;;AAAA;;AAAA;AAAA,aAA4B,eAA5B,EAA4B;AAAA;;AAAA;;AAAA;AAAA,WAA5B;;AAHP;;AAMJ;;AACJ;;;;;;AAXQ;;AAAA;;AAEkB;;AAAA;;AAEH;;AAAA,kGAA4B,SAA5B,EAA4B,gBAA5B;;;;;;;;AASvB;;AACI;;AAAuB;;AACvB;;AACA;;AAIO;AAAA;;AAAA;;AAAA;AAAA,aAA6C,eAA7C,EAA6C;AAAA;;AAAA;;AAAA;AAAA,WAA7C;;AAJP;;AAOJ;;;;;;AAHW;;AAAA;;;;;;AA8BX;;AAA0B;;AAA2B;;;;;;AAA3B;;AAAA;;;;;;AAEtB;;AAAyB;;AAAuB;;;;;;AAAvB;;AAAA;;;;;;AADb;;AAA2B;;AACvC;;AAAuD;;;;;;AADhB;;AAAA;;AACjC;;AAAA;;;;;;AACN;;AAAyB;;AAA8C;;;;;;AAA9C;;AAAA;;;;;;AAE7B;;AAA2B;;AAA8C;;AAAE;;AAAM;;AAAkB;;AAAO;;;;;;AAAzE;;AAAA;;AAAgD;;AAAA;;;;;;;;AARrF;;AACI;;AAAI;;AAAQ;;AACZ;;AAAI;;AAAoC;;AACxC;;AACA;;AAAG;;AAAa;;AAEZ;;AACJ;;AACA;;AACA;;AAAQ;AAAA;;AAAA;;AAAA;AAAA;;AAA0D;;AAAc;;AACpF;;;;;;AARc;;AAAA;;AACN;;AAAA;;AACD;;AAAA;;AAAmB;;AAAA;;AAEZ;;AAAA;;AAEL;;AAAA;;AACoC;;AAAA;;;;;;;;AAWrC;;AAAiD;;AAAS;;AAAU;AAAA;;AAAA;;AAAA;AAAA;;AAAyB;;AAAW;;;;;;AAApC;;AAAA;;;;;;;;AADxB;;AAA2B;;AAAE;;AAAU;AAAA;;AAAA;;AAAA;AAAA;;AAAiC;;AAAY;;AAChI;;AAA+G;;;;;;AAD5B;;AAAA;;AAC7E;;AAAA;;;;;;;;AACN;;AAAyB;;AAAS;;AAAU;AAAA;;AAAA;;AAAA;AAAA;;AAAwB;;AAAY;;AAAE;;;;;;AAAtC;;AAAA;;;;;;;;AAGhD;;AACI;;AAAU;AAAA;;AAAA;;AAAA;AAAA;;AAAgC;;AAAY;;AACtD;;AAAU;AAAA;;AAAA;;AAAA;AAAA;;AAAkC;;AAChD;;;;;;AAFc;;AAAA;;AACA;;AAAA;;;;;;;;AAdlB;;AACI;;AAAI;;AAAkB;;AACtB;;AAAI;;AAAU;AAAA;;AAAA;;AAAA;AAAA;;AAAuB;;AAAW;;AAChD;;AACI;;AAAW;;AAAQ;;AACnB;;AAAU;AAAA;;AAAA;;AAAA;AAAA;;AAA6C;;AAC3D;;AACA;;AAAG;;AAAU;AAAA;;AAAA;;AAAA;AAAA;;AAAwB;;AAAW;;AAE5C;;AACJ;;AAEA;;AAKA;;AAAQ;AAAA;;AAAA;;AAAA;AAAA;;AAAiC;;AAAa;;AAC1D;;;;;;AAhBkB;;AAAA;;AAGA;;AAAA;;AAED;;AAAA;;AAAyC;;AAAA;;AAE5C;;AAAA;;AAGL;;AAAA;;;;;;AAzBb;;AACI;;AAYA;;AAmBJ;;;;;;AA/B6B;;AAAA;;AAYA;;AAAA;;;;;;;;AAsBzB;;AAKuB;AAAA;;AAAA;;AAAA;AAAA,aAA8E,8BAA9E,EAA8E;AAAA;;AAAA;;AAAA;AAAA,WAA9E,EAA8E,mCAA9E,EAA8E;AAAA;;AAAA;;AAAA;AAAA,WAA9E;;AAEiE;;;;;;;;AANjE,sHAA+C,uBAA/C,EAA+C,kBAA/C,EAA+C,KAA/C,EAA+C,yBAA/C,EAA+C,oBAA/C,EAA+C,8CAA/C;;;;;;AAF3B;;AACI;;AAQJ;;;;;;AAR2B;;AAAA;;;;;;;;AAU3B;;AAAuE;AAAA;;AAAA;;AAAA;AAAA;;AACa;;AAAa;;;;;;AADC;;;;;;;;AAG9F;;AAAQ;AAAA;;AAAA;;AAAA;AAAA;;AAA6B;;AAAe;;;;;;;;;;UD1K/CC,gB;;;;;AAgBT,kCAAoBvE,WAApB,EAAkD;AAAA;;AAAA;;AAC9C,uCAAMA,WAAN;AADgB,kBAAAA,WAAA,GAAAA,WAAA;AAdV,kBAAAwE,kBAAA,GAAqB,IAAI,0DAAJ,EAArB;AAIV,kBAAAC,QAAA,GAAW,KAAX;AAUkD;AAEjD;;;;qCAEO;AAAA;;AACJ,iBAAKzE,WAAL,CAAiBE,OAAjB,CAAyB,SAAzB,EAAoC,uBAApC,EAA6D5Y,IAA7D,CACI,UAACod,qBAAD,EAAgC;AAC5B,qBAAI,CAACtE,qBAAL,GAA6B/W,IAAI,CAACC,KAAL,CAAWob,qBAAX,CAA7B;;AACA,qBAAI,CAAC1E,WAAL,CAAiBE,OAAjB,CAAyB,SAAzB,EAAoC,0BAApC,EAAgE5Y,IAAhE,CACI,UAACqd,wBAAD,EAAmC;AAC/B,uBAAI,CAACC,mBAAL,GAA2Bvb,IAAI,CAACC,KAAL,CAAWqb,wBAAX,CAA3B;;AACA,uBAAI,CAAC3E,WAAL,CAAiBE,OAAjB,CAAyB,SAAzB,EAAoC,mBAApC,EAAyD5Y,IAAzD,CACI,UAACud,iBAAD,EAA4B;AACxB,yBAAI,CAACC,oBAAL,GAA4Bzb,IAAI,CAACC,KAAL,CAAWub,iBAAX,CAA5B;AACH,iBAHL;AAKH,eARL;AAUH,aAbL;AAeA,iBAAK7E,WAAL,CAAiBE,OAAjB,CAAyB,kBAAzB,EAA6C,SAA7C,EAAwD5Y,IAAxD,CACI,UAACyd,gBAAD,EAA2B;AACvB,qBAAI,CAACC,UAAL,GAAkB3b,IAAI,CAACC,KAAL,CAAWyb,gBAAX,CAAlB;AACH,aAHL;AAKA,iBAAKpE,8BAAL;AACH;;;uCAEY;AAAA;;AACT,iBAAKC,KAAL;AACA,iBAAKC,SAAL,GAAiB,KAAjB;AACA,iBAAKC,SAAL,GAAiB,KAAjB;AACA,iBAAKC,SAAL,GAAiBtV,SAAjB;AACA,iBAAKuV,kBAAL,GAA0BvV,SAA1B;AACA,iBAAKwV,MAAL,GAAcxV,SAAd;;AACA,oBAAQ,KAAK0V,WAAb;AACI,mBAAK,CAAL;AACI,oBAAI,KAAKC,OAAL,IAAgB,KAAKA,OAAL,IAAgB,EAApC,EAAwC;AACpC,uBAAKF,KAAL,GAAa,CAAb;AACH,iBAFD,MAEO,IAAI,KAAKE,OAAL,GAAe,EAAf,IAAqB,KAAKA,OAAL,IAAgB,EAAzC,EAA6C;AAChD1V,yBAAO,CAACC,GAAR,CAAY,kBAAZ;AACA,uBAAKuV,KAAL,GAAa,CAAb;AACH,iBAHM,MAGA,IAAI,KAAKE,OAAL,GAAe,EAAf,IAAqB,KAAKA,OAAL,IAAgB,EAAzC,EAA6C;AAChD,uBAAKF,KAAL,GAAa,CAAb;AACA,uBAAKL,SAAL,GAAiB,IAAjB;AACA,uBAAK4D,QAAL,GAAgB,KAAhB;AACA,uBAAK7C,IAAL,GAAY,iBAAZ;AACH,iBALM,MAKA,IAAI,KAAKR,OAAL,GAAe,EAAf,IAAqB,KAAKA,OAAL,IAAgB,EAAzC,EAA6C;AAChD,uBAAKF,KAAL,GAAa,CAAb;AACA,uBAAKL,SAAL,GAAiB,IAAjB;AACA,uBAAK4D,QAAL,GAAgB,IAAhB;AACA,uBAAK7C,IAAL,GAAY,kBAAZ;AACH,iBALM,MAKA,IAAI,KAAKR,OAAL,GAAe,EAAf,IAAqB,KAAKA,OAAL,IAAgB,GAAzC,EAA8C;AACjD,uBAAKF,KAAL,GAAa,CAAb;AACA,uBAAKJ,SAAL,GAAiB,IAAjB;AACH;;AACD;;AACJ,mBAAK,CAAL;AACI,oBAAI,KAAKM,OAAL,IAAgB,KAAKA,OAAL,IAAgB,EAApC,EAAwC;AACpC,uBAAKF,KAAL,GAAa,CAAb;AACH,iBAFD,MAEO,IAAI,KAAKE,OAAL,GAAe,EAAf,IAAqB,KAAKA,OAAL,IAAgB,EAAzC,EAA6C;AAChD,uBAAKF,KAAL,GAAa,CAAb;AACH,iBAFM,MAEA,IAAI,KAAKE,OAAL,GAAe,EAAf,IAAqB,KAAKA,OAAL,IAAgB,EAAzC,EAA6C;AAChD,uBAAKF,KAAL,GAAa,CAAb;AACH,iBAFM,MAEA,IAAI,KAAKE,OAAL,GAAe,EAAf,IAAqB,KAAKA,OAAL,IAAgB,EAAzC,EAA6C;AAChD,uBAAKF,KAAL,GAAa,CAAb;AACH,iBAFM,MAEA,IAAI,KAAKE,OAAL,GAAe,EAAf,IAAqB,KAAKA,OAAL,IAAgB,EAAzC,EAA6C;AAChD,uBAAKF,KAAL,GAAa,CAAb;AACA,uBAAKL,SAAL,GAAiB,IAAjB;AACA,uBAAK4D,QAAL,GAAgB,KAAhB;AACA,uBAAK7C,IAAL,GAAY,iBAAZ;AACH,iBALM,MAKA,IAAI,KAAKR,OAAL,GAAe,EAAf,IAAqB,KAAKA,OAAL,IAAgB,EAAzC,EAA6C;AAChD,uBAAKF,KAAL,GAAa,CAAb;AACA,uBAAKL,SAAL,GAAiB,IAAjB;AACA,uBAAK4D,QAAL,GAAgB,IAAhB;AACA,uBAAK7C,IAAL,GAAY,kBAAZ;AACH,iBALM,MAKA,IAAI,KAAKR,OAAL,GAAe,EAAf,IAAqB,KAAKA,OAAL,IAAgB,GAAzC,EAA8C;AACjD,uBAAKF,KAAL,GAAa,CAAb;AACA,uBAAKJ,SAAL,GAAiB,IAAjB;AACH;;AACD;;AACJ,mBAAK,CAAL;AACI,oBAAI,KAAKM,OAAL,IAAgB,KAAKA,OAAL,IAAgB,EAApC,EAAwC;AACpC,uBAAKF,KAAL,GAAa,CAAb;AACH,iBAFD,MAEO,IAAI,KAAKE,OAAL,GAAe,EAAf,IAAqB,KAAKA,OAAL,IAAgB,EAAzC,EAA6C;AAChD,uBAAKF,KAAL,GAAa,CAAb;AACH,iBAFM,MAEA,IAAI,KAAKE,OAAL,GAAe,EAAf,IAAqB,KAAKA,OAAL,IAAgB,EAAzC,EAA6C;AAChD,uBAAKF,KAAL,GAAa,CAAb;AACH,iBAFM,MAEA,IAAI,KAAKE,OAAL,GAAe,EAAf,IAAqB,KAAKA,OAAL,IAAgB,EAAzC,EAA6C;AAChD,uBAAKF,KAAL,GAAa,CAAb;AACA,uBAAKL,SAAL,GAAiB,IAAjB;AACA,uBAAK4D,QAAL,GAAgB,KAAhB;AACA,uBAAK7C,IAAL,GAAY,iBAAZ;AACH,iBALM,MAKA,IAAI,KAAKR,OAAL,GAAe,EAAf,IAAqB,KAAKA,OAAL,IAAgB,EAAzC,EAA6C;AAChD,uBAAKF,KAAL,GAAa,CAAb;AACA,uBAAKL,SAAL,GAAiB,IAAjB;AACA,uBAAK4D,QAAL,GAAgB,IAAhB;AACA,uBAAK7C,IAAL,GAAY,kBAAZ;AACH,iBALM,MAKA,IAAI,KAAKR,OAAL,GAAe,EAAf,IAAqB,KAAKA,OAAL,IAAgB,GAAzC,EAA8C;AACjD,uBAAKF,KAAL,GAAa,CAAb;AACA,uBAAKJ,SAAL,GAAiB,IAAjB;AACH;;AACD;AAnER;;AAqEA,gBAAI,CAAC,KAAKD,SAAN,IAAmB,KAAKQ,cAA5B,EAA4C;AACxC,mBAAKvC,MAAL,GAAczV,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,SAAL,CACrB,KAAKyb,UAAL,CAAgBzD,UAAhB,CAA2BtF,IAA3B,CAAgC,UAAArI,CAAC;AAAA,uBAAIA,CAAC,CAAC/K,KAAF,KAAY,OAAI,CAACwY,cAArB;AAAA,eAAjC,EAAsE4D,OAAtE,CAA8E,KAAKxD,OAAL,GAAe,CAA7F,CADqB,CAAX,CAAd;AAEA,mBAAKC,MAAL;AACA,mBAAKC,OAAL;AACH,aALD,MAKO;AACH,mBAAKC,IAAL,GAAY,IAAZ;AACA,mBAAKC,GAAL,GAAW,IAAX;AACH;;AACD,mBAAO,KAAK4C,QAAZ;AACH;;;uCAEY;AACT,iBAAKzD,kBAAL,GAA0BvV,SAA1B;AACA,iBAAKwV,MAAL,GAAcxV,SAAd;AACA,iBAAKmV,KAAL;;AACA,gBAAI,KAAKG,SAAT,EAAoB;AAChB,kBAAImE,OAAO,GAAoB,IAA/B;;AACA,kBAAI,KAAKT,QAAL,IAAiB,KAAK1D,SAAL,IAAkB,KAAKe,uBAAL,CAA6B,KAAKgD,oBAAlC,CAAvC,EAAgG;AAC5FI,uBAAO,GAAG7b,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,SAAL,CACjB,KAAKyY,qBAAL,CAA2B,KAAK8C,oBAAhC,EAAsD,KAAK/D,SAAL,GAAiB,CAAvE,CADiB,CAAX,CAAV;AAEH,eAHD,MAGO,IAAI,CAAC,KAAK0D,QAAN,IAAkB,KAAK1D,SAAL,IAAkB,KAAKe,uBAAL,CAA6B,KAAK8C,mBAAlC,CAAxC,EAAgG;AACnGM,uBAAO,GAAG7b,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,SAAL,CACjB,KAAKyY,qBAAL,CAA2B,KAAK4C,mBAAhC,EAAqD,KAAK7D,SAAL,GAAiB,CAAtE,CADiB,CAAX,CAAV;AAEH;;AACD,kBAAImE,OAAJ,EAAa;AACT,qBAAKhE,KAAL,GAAa,CAAb;AACA,qBAAKvB,kBAAL,CAAwBxM,IAAxB,CAA6B+R,OAA7B;AACA,qBAAKrD,GAAL,GAAWqD,OAAO,CAACrc,KAAnB;AACA,qBAAKoZ,kBAAL;AACH;;AACD,mBAAKC,0BAAL,GAAkC,CAAlC;AACA,mBAAKvB,8BAAL;AACH;AACJ;;;0CAEY;AACT,mBAAO,KAAK8D,QAAL,GAAgB,KAAK3C,uBAAL,CAA6B,KAAKgD,oBAAlC,CAAhB,GACD,KAAKhD,uBAAL,CAA6B,KAAK8C,mBAAlC,CADN;AAEH;;;sCAEW;AAAA;;AACR,iBAAKxC,SAAL;;AACA,gBAAI,KAAKX,OAAL,IAAgB,CAAC,KAAKZ,SAA1B,EAAqC;AACjC,mBAAK/B,MAAL,GAAczV,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,SAAL,CACrB,KAAKyb,UAAL,CAAgBzD,UAAhB,CAA2BtF,IAA3B,CAAgC,UAAArI,CAAC;AAAA,uBAAIA,CAAC,CAAC/K,KAAF,KAAY,OAAI,CAACwY,cAArB;AAAA,eAAjC,EAAsE4D,OAAtE,CAA8E,KAAKxD,OAAL,GAAe,CAA7F,CADqB,CAAX,CAAd;AAEA,mBAAKgD,QAAL,GAAgB,KAAKpD,cAAL,KAAwB,WAAxC;AACA,mBAAKO,IAAL,GAAY,KAAKP,cAAjB;AACA,mBAAKK,MAAL;AACH,aAND,MAMO;AACH,mBAAKE,IAAL,GAAY,IAAZ;AACA,mBAAKC,GAAL,GAAW,IAAX;AACH;AACJ;;;wCAEa;AAAA;;AACV,mBAAO,KAAKmD,UAAL,CAAgBzD,UAAhB,CAA2BtF,IAA3B,CAAgC,UAAArI,CAAC;AAAA,qBAAIA,CAAC,CAAC/K,KAAF,KAAY,OAAI,CAACwY,cAArB;AAAA,aAAjC,EAAsE4D,OAAtE,CAA8EzW,MAArF;AACH;;;sCAEW;AAAA;;AACR,iBAAK6T,MAAL,GAAchZ,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,SAAL,CAAe,KAAKuV,MAAL,CAAYqG,aAAZ,CAA0BlJ,IAA1B,CAA+B,UAAArI,CAAC;AAAA,qBAAIA,CAAC,CAACyO,MAAF,KAAa,OAAI,CAACE,SAAtB;AAAA,aAAhC,CAAf,CAAX,CAAd;AACA,iBAAKJ,IAAL,GAAY,CAAC,KAAKE,MAAL,CAAY+C,aAAZ,CAA0BC,KAA1B,CAAgC,YAAhC,EAA8C,CAA9C,EAAiDrI,OAAjD,CAAyD,GAAzD,EAA8D,EAA9D,CAAb;AACA,iBAAK0E,MAAL;AACH;;;2CAEgB;AACb,mBAAO,KAAK5C,MAAL,CAAYqG,aAAZ,CAA0B9W,GAA1B,CAA8B,UAAAuF,CAAC;AAAA,qBAAIA,CAAC,CAACyO,MAAN;AAAA,aAA/B,CAAP;AACH;;;uCAEY;AACT,mBAAO,KAAKvD,MAAL,CAAYqG,aAAnB;AACH;;;8CAEmB;AAChB;AACA,mBAAO,KAAKrG,MAAL,CAAYqG,aAAZ,CAA0B3W,MAAjC;AACH;;;wCAEa;AAAA;;AACV,iBAAKkU,QAAL,GAAgBrZ,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,SAAL,CACvB,KAAKuV,MAAL,CAAY6D,eAAZ,CAA4B1G,IAA5B,CAAiC,UAAArI,CAAC;AAAA,qBAAIA,CAAC,CAACiO,GAAF,CAAM7E,OAAN,CAAc,gBAAd,EAAgC,IAAhC,MAA0C,OAAI,CAAC4F,WAAnD;AAAA,aAAlC,CADuB,CAAX,CAAhB;AAEA,iBAAKT,IAAL,GAAY,CAAC,KAAKE,MAAL,CAAY+C,aAAZ,CAA0BC,KAA1B,CAAgC,YAAhC,EAA8C,CAA9C,EAAiDrI,OAAjD,CAAyD,GAAzD,EAA8D,EAA9D,CAAb;AACA,gBAAMsI,cAAc,GAAW,CAAC,KAAK5C,QAAL,CAAcP,IAAd,CAAmBkD,KAAnB,CAAyB,YAAzB,EAAuC,CAAvC,EAC3BrI,OAD2B,CACnB,GADmB,EACd,EADc,EACVA,OADU,CACF,GADE,EACG,EADH,CAAhC;AAEA,gBAAMuI,UAAU,GAAW,CAAC,KAAKzG,MAAL,CAAYqG,aAAZ,CAA0BlJ,IAA1B,CAA+B,UAAArI,CAAC;AAAA,qBAAIA,CAAC,CAACyO,MAAF,KAAa,SAAjB;AAAA,aAAhC,EACvB+C,aADuB,CACTC,KADS,CACH,YADG,EACW,CADX,EACcrI,OADd,CACsB,GADtB,EAC2B,EAD3B,CAA5B;AAEA,iBAAKmF,IAAL,GAAY,KAAKA,IAAL,IAAamD,cAAc,GAAGC,UAA9B,CAAZ;AACA,iBAAK7D,MAAL;AACH;;;6CAEkB;AACf,mBAAO,KAAK5C,MAAL,CAAY6D,eAAZ,CAA4BtU,GAA5B,CAAgC,UAAAuF,CAAC;AAAA,qBAAIA,CAAC,CAACiO,GAAF,CAAM7E,OAAN,CAAc,gBAAd,EAAgC,IAAhC,CAAJ;AAAA,aAAjC,CAAP;AACH;;;yCAEc;AACX,mBAAO,KAAK8B,MAAL,CAAY6D,eAAnB;AACH;;;2CAEgB;AACb,mBAAO,KAAK7D,MAAL,CAAY6D,eAAZ,CAA4BnU,MAAnC;AACH;;;mCAEQ;AACL,gBAAI,KAAKsQ,MAAT,EAAiB;AACb,mBAAK+C,GAAL,GAAW,KAAK/C,MAAL,CAAY+C,GAAvB;AACH;;AACD,gBAAI,KAAKQ,MAAT,EAAiB;AACb,mBAAKR,GAAL,IAAY,MAAM,KAAKQ,MAAL,CAAYA,MAA9B;AACH;;AACD,gBAAI,KAAKK,QAAT,EAAmB;AACf,mBAAKb,GAAL,IAAY,SAAS,KAAKa,QAAL,CAAcb,GAAnC;AACH;;AACD,iBAAKA,GAAL,IAAY,MAAM,KAAKgB,uBAAL,EAAlB,CAVK,CAWL;AACH;;;oCAES;AACN,iBAAKjB,IAAL,GAAY,CAAC,KAAKf,SAAN,GAAkB,KAAKQ,cAAvB,GACL,KAAKoD,QAAL,GAAgB,kBAAhB,GACG,iBAFV;AAGH;;;sCAEW;AACR;;AACA,iBAAKpC,MAAL,GAAc5W,SAAd;AACH;;;yCAEc;AACX;;AACA,iBAAKqX,WAAL;AACA,iBAAK0C,SAAL;AACA,iBAAKzC,SAAL;AACA,iBAAKpB,OAAL;AACH;;;sCAEW;AACR;;AACA,iBAAK6C,kBAAL,CAAwB9V,IAAxB,CAA6B,IAA7B;AACH;;;wCAEa;AACV,iBAAKsU,MAAL,GAAc,KAAd;AACA,iBAAKwB,kBAAL,CAAwB9V,IAAxB,CAA6B,IAA7B;AACH;;;mDAE0D;AAAA,gBAApCuU,wBAAoC,uEAAD,CAAC;AACvD,gBAAMC,gBAAgB,GAAG,KAAKC,cAAL,EAAzB;AACA,gBAAI3X,MAAJ;AACAA,kBAAM,GAAG;AACLoR,qBAAO,EAAE,IADJ;AAELlF,0BAAY,EAAEuL,wBAFT;AAGLpB,iBAAG,EAAE,KAAKA,GAHL;AAILuB,qBAAO,EAAE,KAAKA,OAJT;AAKLlC,mBAAK,EAAE,KAAKA,KALP;AAMLU,kBAAI,EAAE,KAAKA,IANN;AAOLO,kBAAI,EAAE,KAAKA,IAAL,GAAY,KAAKkB,oBAPlB;AAQLC,8BAAgB,EAAE,KAAKnB,IARlB;AASLoB,oBAAM,EAAE,KAAKC,YATR;AAULhE,8BAAgB,EAAE,KAAKG,kBAVlB;AAWL8D,yBAAW,EAAEP,gBAXR;AAYLQ,uBAAS,EAAE,KAAKrC,cAZX;AAaLqB,sBAAQ,EAAE,KAAKA,QAbV;AAcLL,oBAAM,EAAE,KAAKA,MAAL,CAAYA,MAdf;AAeLI,oBAAM,EAAE,IAfH;AAgBLkB,sBAAQ,EAAE,IAhBL;AAiBLC,2BAAa,EAAE,IAjBV;AAkBL9E,oBAAM,EAAE,CAAC,KAAKA,MAAL,CAAY2G,MAAZ,CAAmBzI,OAAnB,CAA2B,GAA3B,EAAgC,GAAhC,EAAqCA,OAArC,CAA6C,GAA7C,EAAkD,EAAlD,CAlBJ;AAmBL6G,+BAAiB,EAAE,CAAC,KAAK/E,MAAL,CAAY4G,OAAZ,CAAoB1I,OAApB,CAA4B,GAA5B,EAAiC,GAAjC,EAAsCA,OAAtC,CAA8C,GAA9C,EAAmD,EAAnD,CAnBf;AAoBL8G,8BAAgB,EAAE,CAAC,KAAKhF,MAAL,CAAY6G,MAAZ,CAAmB3I,OAAnB,CAA2B,GAA3B,EAAgC,GAAhC,CApBd;AAqBL+G,8BAAgB,EAAE,KAAKjF,MAAL,CAAY8G,OArBzB;AAsBL5B,yBAAW,EAAE,KAAKA,WAtBb;AAuBLC,kCAAoB,EAAE,KAAKA,oBAvBtB;AAwBLC,iCAAmB,EAAE,KAAKA,mBAxBrB;AAyBLC,8BAAgB,EAAE,KAAKA,gBAzBlB;AA0BLC,2BAAa,EAAE,KAAKA;AA1Bf,aAAT;AA6BA,mBAAO5Y,MAAP;AACH;;;2CAEuB;AACpB,mBAAO,KAAKqV,SAAL,GACH,KAAK4D,QAAL,GAAgB,KAAKK,oBAArB,GACM,KAAKF,mBAFR,GAGD,KAAKxE,qBAHX;AAIH;;;;QAjTiC,yD;;;yBAAzBmE,gB,EAAgB,4I;AAAA,O;;;cAAhBA,gB;AAAgB,oC;AAAA;AAAA;;;;;;;;;;;;;;;;;;;;;;ACV7B;;AAGA;;AACI;;AACI;;AAAoB;;AAAkC;;AACtD;;AACI;;AAA2B;AAAA,qBAAS,qBAAsB,KAAtB,CAAT;AAAqC,aAArC;;AACqE;;AAA4B;;AAC5H;;AAA2B;AAAA,qBAAS,qBAAsB,cAAtB,CAAT;AAA8C,aAA9C;;AACyE;;AAAqC;;AACzI;;AAA2B;AAAA,qBAAS,qBAAsB,aAAtB,CAAT;AAA6C,aAA7C;;AACwE;;AAAoC;;AACvI;;AAA2B;AAAA,qBAAS,qBAAsB,UAAtB,CAAT;AAA0C,aAA1C;;AACqE;;AAAiC;;AACjI;;AAA2B;AAAA,qBAAS,qBAAsB,OAAtB,CAAT;AAAuC,aAAvC;;AAC2E;;AAA8B;;AACxI;;AACJ;;AACA;;AACI;;AA4CA;;AACI;;AACI;;AAA+B;;AAC/B;;AACA;;AAGO;AAAA;AAAA;;AAHP;;AAKJ;;AAEA;;AACI;;AAA2B;;AAC3B;;AACA;;AAGO;AAAA;AAAA,eAA0B,eAA1B,EAA0B;AAAA,qBACT,gBADS;AACQ,aADlC;;AAHP;;AAMJ;;AACA;;AAcA;;AA4BJ;;AAGJ;;AAEA;;AAkCA;;AAWA;;AAEA;;AAGJ;;;;;;AAtLkB;;AAO4D;;AAAA;;AAC8B;;AAAA;;AACrB;;AAAA;;AACyB;;AAAA;;AAC1B;;AAAA;;AACyB;;AAAA;;AAC5B;;AAAA;;AACyB;;AAAA;;AAC5B;;AAAA;;AACkC;;AAAA;;AAIpF;;AAAA;;AAmDP;;AAAA;;AAUA;;AAAA;;AAIN;;AAAA;;AAcsB;;AAAA;;AAiCV;;AAAA;;AAkCpB;;AAAA;;AAW2B;;AAAA,0FAAsC,UAAtC,EAAsC,GAAtC;;;;;;;;;wEDvKvBA,gB,EAAgB;gBAL5B,uDAK4B;iBALlB;AACP3a,oBAAQ,EAAE,aADH;AAEPC,uBAAW,EAAE,0BAFN;AAGPC,qBAAS,EAAE,CAAC,0BAAD;AAHJ,W;AAKkB,U;;;;;AAEf0a,4BAAkB;kBAA3B;AAA2B,Y;AACQH,8BAAoB,EAAE,CAAF;kBAAvD,uDAAuD;mBAA7C,uB;AAA6C,WAAE,C;AACjDC,gBAAM,EAAE,CAAF;kBAAd;AAAc,WAAE;;;;;;;;;;;;;;;;;;;AEdrB;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;;;ACaI;;AACI;;AAAkC;;AAClC;;AACA;;AAIO;AAAA;;AAAA;;AAAA;AAAA,aAAyC,eAAzC,EAAyC;AAAA;;AAAA;;AAAA;AAAA;AAAA,WAAzC;;AAJP;;AAOJ;;;;;;AAHW;;AAAA;;;;;;;;AAKX;;AACI;;AAA4B;;AAC5B;;AACA;;AAIO;AAAA;;AAAA;;AAAA;AAAA,aAAiC,eAAjC,EAAiC;AAAA;;AAAA;;AAAA;AAAA,WAAjC;;AAJP;;AAOJ;;;;;;AAHW;;AAAA;;;;;;;;AAIX;;AACI;;AAA+B;;AAC/B;;AACA;;AAIO;AAAA;;AAAA;;AAAA;AAAA,aAAiC,eAAjC,EAAiC;AAAA;;AAAA;;AAAA;AAAA,WAAjC;;AAJP;;AAOJ;;;;;;AATmC;;AAAA;;AAEhB;;AAAA,uGAAiC,SAAjC,EAAiC,qBAAjC;;;;;;AAqBa;;AACgF;;AAAS;;;;;;;;;;AAArF;;AAA4E;;AAAA;;;;;;AAE5E;;AAAI;;AAAS;;;;;;AAAT;;AAAA;;;;;;AAJZ;;AACI;;AAEA;;AAGJ;;;;;;;;;;AALQ;;AAAA,qLAAgH,UAAhH,EAAgH,IAAhH;;;;;;AAFZ;;AACI;;AAOJ;;;;;;AAPkB;;AAAA;;;;;;AASd;;AACI;;AAAI;;AAAW;;AACnB;;;;;;AADQ;;AAAA;;;;;;AAFZ;;AACI;;AAGJ;;;;;;AAHkB;;AAAA;;;;;;AAb1B;;AACI;;AACI;;AACA;;AASA;;AAKA;;AACJ;;AACJ;;;;;;AAhBY;;AAAA;;AASA;;AAAA;;;;;;AAbhB;;AACI;;AAoBJ;;;;;;;;AApBU;;AAAA;;;;;;AA0BE;;AAA8B;;AAAM;;;;;;AAAN;;AAAA;;;;;;AAFtC;;AACI;;AACI;;AACJ;;AACJ;;;;;;AAFY;;AAAA;;;;;;AAHhB;;AACI;;AAKJ;;;;;;;;AALU;;AAAA;;;;;;AA3BtB;;AACY;;AAAuC;;AACvC;;AAwBA;;AAOJ;;;;;;;;AAhCU;;AAAA;;AACQ;;AAAA;;AAwBA;;AAAA;;;;;;AAQ1B;;;;;;AAAgC;;;;;;;;AAEhC;;AAAsD;AAAA;;AAAA;;AAAA;AAAA;;AAA2B;;AAAmB;;;;;;;;AAEhG;;AAAQ;AAAA;;AAAA;;AAAA;AAAA;;AAA6B;;AAAqB;;;;;;;;AAzClE;;AACI;;AAAI;;AAAW;;AACf;;AAAI;;AAA0B;;AAC9B;;AAkCA;;AAA4E;;AAAK;;AACjF;;AAAQ;AAAA;;AAAA;;AAAA;AAAA;;AAA+D;;AAAoB;;AAC3F;;AACA;;AAGJ;;;;;;;;AAzCQ;;AAAA;;AACE;;AAAA;;AAkCA;;AAAA;;AACuC;;AAAA;;AACrC;;AAAA,4FAA6C,UAA7C,EAA6C,IAA7C;;;;;;AAoBgB;;AAA8B;;AAAM;;;;;;AAAN;;AAAA;;;;;;AAFtC;;AACI;;AACI;;AACJ;;AACJ;;;;;;AAFY;;AAAA;;;;;;AAHxB;;AACY;;AAKZ;;;;;;;;AALkB;;AAAA;;;;;;;;AATtB;;AAGI;;AACI;;AAAU;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAAwD;;AACtE;;AACA;;AAEA;;AAOJ;;;;;;;;AAXkB;;AAAA;;AAIA;;AAAA;;;;;;;;AASd;;AAEY;;AAAU;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAAgE;;AAClF;;;;;;;;AADkB;;AAAA;;;;;;AAH1B;;AACI;;AAIJ;;;;;;AAHQ;;AAAA,8GAAsG,cAAtG,EAAsG,iBAAtG;;;;;;;;AArBZ;;AACI;;AAAI;;AAAW;;AACf;;AAAI;;AAAU;AAAA;;AAAA;;AAAA;AAAA;;AAAqC;;AAAW;;AAC9D;;AAgBA;;AAMA;;AAAQ;AAAA;;AAAA;;AAAA;AAAA;;AAAqC;;AAAyB;;AACtE;;AAAQ;AAAA;;AAAA;;AAAA;AAAA;;AAAyC;;AAAiB;;AACtE;;;;;;AAzBkB;;AAAA;;AAEV;;AAAA,8GAA0G,cAA1G,EAA0G,gBAA1G;;AAeE;;AAAA;;;;UDzGGuB,qB;AAsBT,uCAAoB7F,WAApB,EAAkD;AAAA;;AAA9B,eAAAA,WAAA,GAAAA,WAAA;AApBV,eAAA8F,uBAAA,GAA0B,IAAI,0DAAJ,EAA1B;AAEV,eAAAC,8BAAA,GAAiC,KAAjC;AACA,eAAAC,OAAA,GAAU,KAAV;AAkBC;;;;qCAEO;AAAA;;AACJ,iBAAKhG,WAAL,CAAiBE,OAAjB,CAAyB,SAAzB,EAAoC,0BAApC,EAAgE5Y,IAAhE,CACI,UAACwD,IAAD,EAAe;AACX;AACA,qBAAI,CAACmb,aAAL,GAAqB5c,IAAI,CAACC,KAAL,CAAWwB,IAAX,CAArB,CAFW,CAGX;AACH,aALL;AAOA,iBAAKkV,WAAL,CAAiBE,OAAjB,CAAyB,SAAzB,EAAoC,uBAApC,EAA6D5Y,IAA7D,CACI,UAACwD,IAAD,EAAe;AACX;AACA,qBAAI,CAACob,0BAAL,GAAkC7c,IAAI,CAACC,KAAL,CAAWwB,IAAX,CAAlC,CAFW,CAGX;AACH,aALL;AAOA,iBAAKkV,WAAL,CAAiBE,OAAjB,CAAyB,SAAzB,EAAoC,8BAApC,EAAoE5Y,IAApE,CACI,UAACwD,IAAD,EAAe;AACX;AACA,qBAAI,CAACqb,mBAAL,GAA2B9c,IAAI,CAACC,KAAL,CAAWwB,IAAX,CAA3B,CAFW,CAGX;AACH,aALL;AAOA,iBAAKkV,WAAL,CAAiBE,OAAjB,CAAyB,SAAzB,EAAoC,uBAApC,EAA6D5Y,IAA7D,CACI,UAAC8e,eAAD,EAA0B;AACtB;AACA,qBAAI,CAACC,gBAAL,GAAwBhd,IAAI,CAACC,KAAL,CAAW8c,eAAX,CAAxB,CAFsB,CAGtB;AACA;AACH,aANL;AAQH;;;yCAEW;AACR,mBAAO,CAAC,EAAE,KAAKH,aAAL,IAAsB,KAAKC,0BAA3B,IAAyD,KAAKC,mBAA9D,IAAqF,KAAKE,gBAA5F,CAAR;AACH;;;wCAEaC,Y,EAA6BC,I,EAAc;AACrD,gBAAM9C,WAAW,GAAIpa,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,SAAL,CAC5B+c,YAAY,CAACE,OAAb,CAAqBxZ,MAArB,CAA4B,UAAAyZ,MAAM;AAAA,qBAAKA,MAAM,CAACC,aAAP,IAAwBH,IAAxB,IAAgCE,MAAM,CAACE,aAAP,IAAwBJ,IAA7D;AAAA,aAAlC,EAAsG,CAAtG,CAD4B,CAAX,CAArB;AAEA,mBAAO9C,WAAW,CAACmD,IAAnB;AACH;;;+CAEiB;AACd,mBAAO,KAAKC,gBAAL,GAAwBrY,MAA/B;AACH;;;6CAEkB;AACf,mBAAO,KAAKsY,sBAAL,KAAgC,CAAhC,GAAoC,KAAKT,gBAAL,CAAsBU,YAAtB,CAAmCC,MAAnC,CAA0C,KAAKX,gBAAL,CAAsBY,OAAhE,CAApC,GACD,KAAKH,sBAAL,KAAgC,CAAhC,GAAoC,KAAKT,gBAAL,CAAsBa,QAAtB,CAA+BF,MAA/B,CAAsC,KAAKX,gBAAL,CAAsBY,OAA5D,CAApC,GACI,KAAKH,sBAAL,KAAgC,CAAhC,GAAoC,KAAKT,gBAAL,CAAsBc,iBAAtB,CAAwCH,MAAxC,CAA+C,KAAKX,gBAAL,CAAsBY,OAArE,CAApC,GACI,IAHd;AAIH;;;gDAEqB;AAClB,iBAAKlB,8BAAL,GAAsC,CAAC,KAAKA,8BAA5C;AACH;;;oDAEyB;AACtB,iBAAK5C,cAAL;AACA,iBAAK4C,8BAAL,GAAsC,KAAtC;AACH;;;oCAEShT,K,EAAOzF,I,EAAM;AACnB,mBAAOyF,KAAP;AACH;;;6CAEkB;AACf,iBAAKqU,cAAL,GAAsB,IAAtB;AACA,iBAAK3D,WAAL,GAAmB,IAAnB;AACH;;;2CAEa;AACV,iBAAKA,WAAL,GAAmB,IAAnB;AACA,gBAAI4D,eAAJ;;AACA,gBAAI,KAAKC,aAAL,IAAsB,KAAKA,aAAL,IAAsB,EAAhD,EAAoD;AAAE;AAClDD,6BAAe,GAAG;AACdE,2BAAW,EAAE,CAAC,iQAAD,CADC;AAEdC,qBAAK,EAAE,IAFO;AAGd3N,qBAAK,EAAE,IAHO;AAIdhR,qBAAK,EAAE,mBAJO;AAKd4e,kBAAE,EAAE;AALU,eAAlB;AAOH,aARD,MAQO,IAAI,KAAKH,aAAL,GAAqB,EAArB,IAA2B,KAAKA,aAAL,IAAsB,EAArD,EAAyD;AAAE;AAC9DD,6BAAe,GAAG;AACdE,2BAAW,EAAE,CAAC,8SACd,gnBADa,CADC;AAGdC,qBAAK,EAAE,IAHO;AAId3N,qBAAK,EAAE,IAJO;AAKdhR,qBAAK,EAAE,2BALO;AAMd4e,kBAAE,EAAE;AANU,eAAlB;AAQH,aATM,MASA,IAAI,KAAKH,aAAL,GAAqB,EAArB,IAA2B,KAAKA,aAAL,IAAsB,EAArD,EAAyD;AAAE;AAC9DD,6BAAe,GAAG;AACdE,2BAAW,EAAE,CAAC,uMAAD,CADC;AAEdC,qBAAK,EAAE,IAFO;AAGd3N,qBAAK,EAAE,IAHO;AAIdhR,qBAAK,EAAE,qBAJO;AAKd4e,kBAAE,EAAE;AALU,eAAlB;AAOH,aARM,MAQA,IAAI,KAAKH,aAAL,GAAqB,EAArB,IAA2B,KAAKA,aAAL,IAAsB,EAArD,EAAyD;AAAE;AAC9DD,6BAAe,GAAG;AACdE,2BAAW,EAAE,CAAC,EAAD,CADC;AAEdC,qBAAK,EAAE,IAFO;AAGd3N,qBAAK,EAAE,IAHO;AAIdhR,qBAAK,EAAE,sCAJO;AAKd4e,kBAAE,EAAE;AALU,eAAlB;;AAOA,kBAAI,KAAKL,cAAT,EAAyB;AACrB,qBAAKM,yBAAL,GAAiC,KAAKC,aAAL,CAAmB,KAAKzB,0BAAxB,EAAoD,KAAKkB,cAAzD,CAAjC;AACH;;AACDC,6BAAe,CAACE,WAAhB,CAA4B,CAA5B,IAAiC,KAAKG,yBAAtC;AACH,aAZM,MAYA,IAAI,KAAKJ,aAAL,GAAqB,EAArB,IAA2B,KAAKA,aAAL,IAAsB,EAArD,EAAyD;AAAE;AAC9DD,6BAAe,GAAG;AACdE,2BAAW,EAAE,CAAC,uGACd,2BADc,GAEd,6HAFc,GAGd,2WAHa,CADC;AAKdC,qBAAK,EAAE,IALO;AAMd3N,qBAAK,EAAE,IANO;AAOdhR,qBAAK,EAAE,gBAPO;AAQd4e,kBAAE,EAAE;AARU,eAAlB;AAUH,aAXM,MAWA,IAAI,KAAKH,aAAL,GAAqB,EAArB,IAA2B,KAAKA,aAAL,IAAsB,EAArD,EAAyD;AAAE;AAC9DD,6BAAe,GAAIhe,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,SAAL,CAAe,KAAK4c,mBAApB,CAAX,CAAnB;AACH,aAFM,MAEA,IAAI,KAAKmB,aAAL,GAAqB,EAArB,IAA2B,KAAKA,aAAL,IAAsB,EAArD,EAAyD;AAAE;AAC9DD,6BAAe,GAAG;AACdE,2BAAW,EAAE,CAAC,EAAD,CADC;AAEdC,qBAAK,EAAE,IAFO;AAGd3N,qBAAK,EAAE,IAHO;AAIdhR,qBAAK,EAAE,cAJO;AAKd4e,kBAAE,EAAE;AALU,eAAlB;;AAOA,kBAAI,KAAKL,cAAT,EAAyB;AACrB,qBAAKQ,YAAL,GAAoB,KAAKD,aAAL,CAAmB,KAAK1B,aAAxB,EAAuC,KAAKmB,cAA5C,CAApB;AACH;;AACDC,6BAAe,CAACE,WAAhB,CAA4B,CAA5B,IAAiC,KAAKK,YAAtC;AACH,aAZM,MAYA,IAAI,KAAKN,aAAL,GAAqB,EAArB,IAA2B,KAAKA,aAAL,IAAsB,EAArD,EAAyD;AAAE;AAC9DD,6BAAe,GAAG;AACdE,2BAAW,EAAE,CAAC,4HACd,2GADa,CADC;AAGdC,qBAAK,EAAE,IAHO;AAId3N,qBAAK,EAAE,IAJO;AAKdhR,qBAAK,EAAE,+BALO;AAMd4e,kBAAE,EAAE;AANU,eAAlB;AAQH,aATM,MASA,IAAI,KAAKH,aAAL,GAAqB,EAAzB,EAA6B;AAAE;AAClC,kBAAI,KAAKF,cAAL,IAAuB,KAAKN,sBAAhC,EAAwD;AACpDO,+BAAe,GAAGhe,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,SAAL,CAAe,KAAKsd,gBAAL,GAAwB,KAAKO,cAAL,GAAsB,CAA9C,CAAf,CAAX,CAAlB;AACH;AACJ;;AACD,iBAAK3D,WAAL,GAAmB4D,eAAnB;AACA,mBAAOA,eAAP;AACH;;;2CAEa;AACV,mBAAO,KAAKC,aAAL,GAAqB,EAArB,IAA2B,KAAKA,aAAL,IAAsB,EAAxD;AACH;;;wDAE0B;AACvB,mBAAO,KAAKA,aAAL,GAAqB,EAArB,IAA2B,KAAKA,aAAL,IAAsB,EAAxD;AACH;;;kDAEoB;AACjB,mBAAO,KAAKA,aAAL,GAAqB,EAArB,IAA2B,KAAKA,aAAL,IAAsB,EAAxD;AACH;;;iDAEmB;AAChB,mBAAO,KAAKA,aAAL,GAAqB,EAA5B;AACH;;;sCAEW;AACR,iBAAKtB,OAAL,GAAe,IAAf;AACA,iBAAKF,uBAAL,CAA6BpX,IAA7B,CAAkC,KAAK+U,WAAvC;AACH;;;wCAEa;AACV,iBAAKuC,OAAL,GAAe,KAAf;AACA,iBAAKF,uBAAL,CAA6BpX,IAA7B,CAAkC,IAAlC;AACH;;;;;;;yBA3MQmX,qB,EAAqB,4I;AAAA,O;;;cAArBA,qB;AAAqB,yC;AAAA;AAAA;AAAA,S;AAAA,iB;AAAA,e;AAAA,+1C;AAAA;AAAA;ACRlC;;AACI;;AACI;;AAAyB;;AACzB;;AACA;;AAIO;AAAA;AAAA,eAAgC,eAAhC,EAAgC;AACf;AAAyB;AAAqB,aAD/D;;AAJP;;AAOJ;;AAEA;;AAYA;;AAWA;;AAWJ;;AAEA;;AA6CA;;;;AAtFe;;AAAA;;AAKgB;;AAAA;;AAYA;;AAAA;;AAWA;;AAAA;;AAa1B;;AAAA;;AA6CC;;AAAA;;;;;;;;;wEDtFOA,qB,EAAqB;gBALjC,uDAKiC;iBALvB;AACPjc,oBAAQ,EAAE,kBADH;AAEPC,uBAAW,EAAE,+BAFN;AAGPC,qBAAS,EAAE,CAAC,+BAAD;AAHJ,W;AAKuB,U;;;;;AAEpBgc,iCAAuB;kBAAhC;AAAgC;;;;;;;;;;;;;;;;;;;AETrC;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAEsB+B,W;;;;;AAiBlB,6BAAY7H,WAAZ,EAA0C;AAAA;;AAAA;;AACtC,uCAAMA,WAAN;AAZJ,kBAAAa,SAAA,GAAY,KAAZ;AACA,kBAAAC,SAAA,GAAY,KAAZ;AAU0C;AAEzC;;;;gDAEqB;AAClB,iBAAKI,KAAL,GAAa,CAAb;;AACA;;AACA,iBAAK4G,QAAL;AACH;;;qCAEU;AACP,gBAAI,KAAK9G,kBAAL,IAA2B,KAAKA,kBAAL,IAA2B,KAAKc,uBAAL,CAA6B,KAAK1B,qBAAlC,CAA1D,EAAoH;AAChH,kBAAMtV,IAAI,GAAG,KAAK6U,kBAAL,CAAwB,CAAxB,EAA2B6H,KAA3B,CAAiC1c,IAA9C;AACA,kBAAMid,SAAS,GAAGjd,IAAI,CAAC0C,OAAL,CAAa1C,IAAI,CAACkC,MAAL,CAAY,UAAA4G,CAAC;AAAA,uBAAIA,CAAC,CAACtB,QAAF,CAAW,MAAX,CAAJ;AAAA,eAAb,EAAqC,CAArC,CAAb,CAAlB;AACA,kBAAM0V,aAAa,GAAGld,IAAI,CAACid,SAAD,CAAJ,CAAgB1C,KAAhB,CAAsB,sBAAtB,CAAtB;;AACA,kBAAI2C,aAAa,IAAI,CAAC3M,KAAK,CAAC,CAAC2M,aAAa,CAAC,CAAD,CAAf,CAA3B,EAAgD;AAC5C,qBAAK9G,KAAL,GAAa,CAAC8G,aAAa,CAAC,CAAD,CAA3B;AACH;AACJ;AACJ;;;kCAEO;AACJ,iBAAKrI,kBAAL,GAA0B,EAA1B;AACA,iBAAKuB,KAAL,GAAa,CAAb,CAFI,CAGJ;AACH;;;sCAEW;AACR,iBAAK0B,WAAL,GAAmBnX,SAAnB;AACA,iBAAK8W,SAAL,GAAiB9W,SAAjB;AACA,iBAAKiX,QAAL,GAAgBjX,SAAhB;AACH;;;;QAhDqC,yD;;;;;;;;;;;;;;;;;ACD1C;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAGsBwc,W;AAkClB,6BAAsBjI,WAAtB,EAAoD;AAAA;;AAzBpD,eAAAL,kBAAA,GAAwC,EAAxC;AAEA,eAAAwC,IAAA,GAAO,CAAP;AACA,eAAAqB,YAAA,GAAe,IAAf;AAMA,eAAAtB,0BAAA,GAA6B,CAA7B;AAIA,eAAAgG,mBAAA,GAAsB,KAAtB;AAIA,eAAAlF,MAAA,GAAS,KAAT;AAEA,eAAAgB,WAAA,GAAc,KAAd;AACA,eAAAC,oBAAA,GAAuB,KAAvB;AACA,eAAAC,mBAAA,GAAsB,KAAtB;AACA,eAAAC,gBAAA,GAAmB,KAAnB;AACA,eAAAC,aAAA,GAAgB,KAAhB;AAGC;;;;yCAEc;AACX,iBAAK+D,mBAAL;AACA,iBAAKzG,MAAL;AACA,iBAAKwG,mBAAL,GAA2B,KAA3B;AACH;;;oCAESnV,K,EAAOzF,I,EAAM;AACnB,mBAAOyF,KAAP;AACH;;;+CAEoBnE,M,EAAyB;AAC1C,iBAAK6U,WAAL,GAAmB7U,MAAnB,CAD0C,CAE1C;AACH;;;4CAEiB;AACd,iBAAKsZ,mBAAL,GAA2B,CAAC,KAAKA,mBAAjC;AACA,iBAAKE,gCAAL;AACH;;;gDAEqBzI,kB,EAA2C;AAC7D,mBAAO,KAAKwB,WAAL,KAAqB,CAArB,GAAyBxB,kBAAkB,CAACoH,YAAnB,CAAgCC,MAAhC,CAAuCrH,kBAAkB,CAACsH,OAA1D,CAAzB,GACD,KAAK9F,WAAL,KAAqB,CAArB,GAAyBxB,kBAAkB,CAACuH,QAAnB,CAA4BF,MAA5B,CAAmCrH,kBAAkB,CAACsH,OAAtD,CAAzB,GACI,KAAK9F,WAAL,KAAqB,CAArB,GAAyBxB,kBAAkB,CAACwH,iBAAnB,CAAqCH,MAArC,CAA4CrH,kBAAkB,CAACsH,OAA/D,CAAzB,GACE,IAHZ;AAIH;;;gDAEqB;AAClB,iBAAKtH,kBAAL,GAA0B,EAA1B;;AACA,gBAAI,KAAKwB,WAAL,IAAoB,KAAKH,kBAAzB,IACG,KAAKA,kBAAL,IAA2B,KAAKc,uBAAL,CAA6B,KAAK1B,qBAAlC,CADlC,EAC4F;AACxF,mBAAKT,kBAAL,CAAwBxM,IAAxB,CACI9J,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,SAAL,CACP,KAAKyY,qBAAL,CAA2B,KAAK5B,qBAAhC,EAAuD,KAAKY,kBAAL,GAA0B,CAAjF,CADO,CAAX,CADJ;AAGA,mBAAKU,MAAL;AACA,mBAAKO,kBAAL;AACH;AACJ;;;kDAEuBtC,kB,EAAyC;AAC7D,mBAAO,KAAKqC,qBAAL,CAA2BrC,kBAA3B,EAA+CnR,MAAtD;AACH;;;+CAEoB;AACjB,iBAAK6U,oBAAL,GAA4B,CAA5B;AACA,iBAAKgF,4BAAL,GAAoC,IAApC;;AAFiB,wDAGc,KAAK1I,kBAHnB;AAAA;;AAAA;AAGjB,qEAAwD;AAAA,oBAA7CH,gBAA6C;AACpD,oBAAM1U,IAAI,GAAG0U,gBAAgB,CAACgI,KAAjB,CAAuB1c,IAApC;AACA,oBAAMid,SAAS,GAAGjd,IAAI,CAAC0C,OAAL,CAAa1C,IAAI,CAACkC,MAAL,CAAY,UAAA4G,CAAC;AAAA,yBAAIA,CAAC,CAACtB,QAAF,CAAW,MAAX,CAAJ;AAAA,iBAAb,EAAqC,CAArC,CAAb,CAAlB;;AACA,oBAAIyV,SAAS,KAAK,CAAC,CAAf,IAAoB,CAACjd,IAAI,CAACid,SAAD,CAAJ,CAAgBzV,QAAhB,CAAyB,OAAzB,CAAzB,EAA4D;AACxD,sBAAM+S,KAAK,GAAGva,IAAI,CAACid,SAAD,CAAJ,CAAgB1C,KAAhB,CAAsB,YAAtB,EAAoC,CAApC,CAAd;AACA,uBAAKhC,oBAAL,GAA4B,CAACgC,KAAK,CAACrI,OAAN,CAAc,GAAd,EAAmB,EAAnB,EAAuBA,OAAvB,CAA+B,GAA/B,EAAoC,EAApC,CAA7B;AACA,sBAAMsL,aAAa,GAAGxd,IAAI,CAACid,SAAD,CAAJ,CAAgBQ,SAAhB,CAA0Bzd,IAAI,CAACid,SAAD,CAAJ,CAAgBva,OAAhB,CAAwB6X,KAAxB,CAA1B,EAA0DA,KAA1D,CAAgE,cAAhE,EAAgF,CAAhF,CAAtB;AACA,uBAAKgD,4BAAL,GAAoCC,aAAa,CAACtL,OAAd,CAAsBqI,KAAtB,EAA6B,EAA7B,EAC/BrI,OAD+B,CACvB,GADuB,EAClB,EADkB,EACdA,OADc,CACN,GADM,EACD,EADC,CAApC;AAEH;AACJ;AAbgB;AAAA;AAAA;AAAA;AAAA;AAcpB;;;2CAEa;AACV,gBAAIkG,gBAAgB,GAAG,IAAvB;;AACA,gBAAI,KAAKO,WAAT,EAAsB;AAClB,kBAAI+E,sBAAsB,GAAG,EAA7B;;AADkB,0DAEQ,KAAK/E,WAAL,CAAiB8D,WAFzB;AAAA;;AAAA;AAElB,uEAAwD;AAAA,sBAA7CA,WAA6C;AACpDiB,wCAAsB,IAAIjB,WAA1B;AACH;AAJiB;AAAA;AAAA;AAAA;AAAA;;AAKlBrE,8BAAgB,GAAG;AACfuF,6BAAa,EAAE,IADA;AAEf5G,mBAAG,EAAE,KAAK4B,WAAL,CAAiB5a,KAFP;AAGf0e,2BAAW,EAAEiB;AAHE,eAAnB;AAKH;;AACD,mBAAOtF,gBAAP;AACH;;;6DAEkC;AAC/B,iBAAK,IAAI/Q,CAAC,GAAG,CAAb,EAAiBA,CAAC,GAAG,KAAKwN,kBAAL,CAAwBnR,MAA7C,EAAsD2D,CAAC,EAAvD,EAA2D;AACvD,mBAAK,IAAIuW,gBAAgB,GAAG,CAA5B,EAAgCA,gBAAgB,GAAG,KAAK/I,kBAAL,CAAwBxN,CAAxB,EAA2BoV,WAA3B,CAAuC/Y,MAA1F,EAAmGka,gBAAgB,EAAnH,EAAuH;AACnH,oBAAI,KAAK/I,kBAAL,CAAwBxN,CAAxB,EAA2BoV,WAA3B,CAAuCmB,gBAAvC,EAAyDla,MAAzD,KAAoE,CAAxE,EAA2E;AACvE,uBAAKmR,kBAAL,CAAwBxN,CAAxB,EAA2BoV,WAA3B,CAAuChV,MAAvC,CAA8CmW,gBAA9C,EAAgE,CAAhE;AACAA,kCAAgB;AACnB;AACJ;;AACD,kBAAI,KAAK/I,kBAAL,CAAwBxN,CAAxB,EAA2B0H,KAA/B,EAAsC;AAClC,qBAAK,IAAI8O,UAAU,GAAG,CAAtB,EAAyBA,UAAU,GAAG,KAAKhJ,kBAAL,CAAwBxN,CAAxB,EAA2B0H,KAA3B,CAAiCrL,MAAvE,EAA+Ema,UAAU,EAAzF,EAA6F;AACzF,uBAAK,IAAIC,eAAe,GAAG,CAA3B,EAA8BA,eAAe,GAC7C,KAAKjJ,kBAAL,CAAwBxN,CAAxB,EAA2B0H,KAA3B,CAAiC8O,UAAjC,EAA6C9f,KAA7C,CAAmD2F,MADnD,EAC2Doa,eAAe,EAD1E,EAC8E;AAC1E,yBAAK,IAAIC,sBAAsB,GAAG,CAAlC,EAAqCA,sBAAsB,GAC3D,KAAKlJ,kBAAL,CAAwBxN,CAAxB,EAA2B0H,KAA3B,CAAiC8O,UAAjC,EAA6C9f,KAA7C,CAAmD+f,eAAnD,EAAoEpa,MADpE,EAC4Eqa,sBAAsB,EADlG,EACsG;AAClG,0BAAI,KAAKlJ,kBAAL,CAAwBxN,CAAxB,EAA2B0H,KAA3B,CAAiC8O,UAAjC,EAA6C9f,KAA7C,CAAmD+f,eAAnD,EAAoEC,sBAApE,EAA4Fra,MAA5F,KAAuG,CAA3G,EAA8G;AAC1G,6BAAKmR,kBAAL,CAAwBxN,CAAxB,EAA2B0H,KAA3B,CAAiC8O,UAAjC,EAA6C9f,KAA7C,CAAmD+f,eAAnD,EAAoErW,MAApE,CAA2EsW,sBAA3E,EAAmG,CAAnG;AACAA,8CAAsB;AACzB;AACJ;;AACD,wBAAI,KAAKlJ,kBAAL,CAAwBxN,CAAxB,EAA2B0H,KAA3B,CAAiC8O,UAAjC,EAA6C9f,KAA7C,CAAmD+f,eAAnD,EAAoEpa,MAApE,KAA+E,CAAnF,EAAsF;AAClF,2BAAKmR,kBAAL,CAAwBxN,CAAxB,EAA2B0H,KAA3B,CAAiC8O,UAAjC,EAA6C9f,KAA7C,CAAmD0J,MAAnD,CAA0DqW,eAA1D,EAA2E,CAA3E;AACAA,qCAAe;AAClB;AACJ;;AACD,uBAAK,IAAIE,YAAY,GAAG,CAAxB,EAA2BA,YAAY,GACvC,KAAKnJ,kBAAL,CAAwBxN,CAAxB,EAA2B0H,KAA3B,CAAiC8O,UAAjC,EAA6CI,EAA7C,CAAgDva,MADhD,EACwDsa,YAAY,EADpE,EACwE;AACpE,yBAAK,IAAIE,mBAAmB,GAAG,CAA/B,EAAkCA,mBAAmB,GACrD,KAAKrJ,kBAAL,CAAwBxN,CAAxB,EAA2B0H,KAA3B,CAAiC8O,UAAjC,EAA6CI,EAA7C,CAAgDD,YAAhD,EAA8Dta,MAD9D,EACsEwa,mBAAmB,EADzF,EAC6F;AACzF,0BAAI,KAAKrJ,kBAAL,CAAwBxN,CAAxB,EAA2B0H,KAA3B,CAAiC8O,UAAjC,EAA6CI,EAA7C,CAAgDD,YAAhD,EAA8DE,mBAA9D,EAAmFxa,MAAnF,KAA8F,CAAlG,EAAqG;AACjG,6BAAKmR,kBAAL,CAAwBxN,CAAxB,EAA2B0H,KAA3B,CAAiC8O,UAAjC,EAA6CI,EAA7C,CAAgDD,YAAhD,EAA8DvW,MAA9D,CAAqEyW,mBAArE,EAA0F,CAA1F;AACAA,2CAAmB;AACtB;AACJ;;AACD,wBAAI,KAAKrJ,kBAAL,CAAwBxN,CAAxB,EAA2B0H,KAA3B,CAAiC8O,UAAjC,EAA6CI,EAA7C,CAAgDD,YAAhD,EAA8Dta,MAA9D,KAAyE,CAA7E,EAAgF;AAC5E,2BAAKmR,kBAAL,CAAwBxN,CAAxB,EAA2B0H,KAA3B,CAAiC8O,UAAjC,EAA6CI,EAA7C,CAAgDxW,MAAhD,CAAuDuW,YAAvD,EAAqE,CAArE;AACAA,kCAAY;AACf;AACJ;;AACD,sBAAI,KAAKnJ,kBAAL,CAAwBxN,CAAxB,EAA2B0H,KAA3B,CAAiC8O,UAAjC,EAA6C9f,KAA7C,CAAmD2F,MAAnD,KAA8D,CAA9D,IACG,KAAKmR,kBAAL,CAAwBxN,CAAxB,EAA2B0H,KAA3B,CAAiC8O,UAAjC,EAA6CI,EAA7C,CAAgDva,MAAhD,KAA2D,CADlE,EACqE;AACjE,yBAAKmR,kBAAL,CAAwBxN,CAAxB,EAA2B0H,KAA3B,CAAiCtH,MAAjC,CAAwCoW,UAAxC,EAAoD,CAApD;AACAA,8BAAU;AACb;AACJ;AACJ;;AACD,kBAAI,KAAKhJ,kBAAL,CAAwBxN,CAAxB,EAA2BsV,EAA/B,EAAmC;AAC/B,qBAAK,IAAIwB,OAAO,GAAG,CAAnB,EAAsBA,OAAO,GAAG,KAAKtJ,kBAAL,CAAwBxN,CAAxB,EAA2BsV,EAA3B,CAA8BjZ,MAA9D,EAAsEya,OAAO,EAA7E,EAAiF;AAC7E,uBAAK,IAAIC,OAAO,GAAG,CAAnB,EAAsBA,OAAO,GAAG,KAAKvJ,kBAAL,CAAwBxN,CAAxB,EAA2BsV,EAA3B,CAA8BwB,OAA9B,EAAuCE,EAAvC,CAA0C3a,MAA1E,EAAkF0a,OAAO,EAAzF,EAA6F;AACzF,wBAAI,KAAKvJ,kBAAL,CAAwBxN,CAAxB,EAA2BsV,EAA3B,CAA8BwB,OAA9B,EAAuCE,EAAvC,CAA0CD,OAA1C,EAAmD1a,MAAnD,KAA8D,CAAlE,EAAqE;AACjE,2BAAKmR,kBAAL,CAAwBxN,CAAxB,EAA2BsV,EAA3B,CAA8BwB,OAA9B,EAAuCE,EAAvC,CAA0C5W,MAA1C,CAAiD2W,OAAjD,EAA0D,CAA1D;AACAA,6BAAO;AACV;AACJ;;AACD,sBAAI,KAAKvJ,kBAAL,CAAwBxN,CAAxB,EAA2BsV,EAA3B,CAA8BjZ,MAA9B,KAAyC,CAA7C,EAAgD;AAC5C,yBAAKmR,kBAAL,CAAwBxN,CAAxB,EAA2BsV,EAA3B,CAA8BlV,MAA9B,CAAqC0W,OAArC,EAA8C,CAA9C;AACAA,2BAAO;AACV;AACJ;AACJ;;AAED,kBAAI,KAAKtJ,kBAAL,CAAwBxN,CAAxB,EAA2BoV,WAA3B,CAAuC/Y,MAAvC,KAAkD,CAAlD,IACG,CAAC,KAAKmR,kBAAL,CAAwBxN,CAAxB,EAA2B0H,KAD/B,IAEG,CAAC,KAAK8F,kBAAL,CAAwBxN,CAAxB,EAA2BsV,EAFnC,EAEuC;AACnC/b,uBAAO,CAACC,GAAR,CAAY,0CAA0C,KAAKgU,kBAAL,CAAwBxN,CAAxB,EAA2BtJ,KAAjF;AACA,qBAAK8W,kBAAL,CAAwBpN,MAAxB,CAA+BJ,CAA/B,EAAkC,CAAlC;AACAA,iBAAC;AACJ;AACJ;AACJ;;;2CAMgByU,I,EAAc;AAC3B,oBAAQA,IAAI,CAACxZ,WAAL,EAAR;AACI,mBAAK,KAAL;AACI,qBAAK4W,WAAL,GAAmB,CAAC,KAAKA,WAAzB;AACA;;AACJ,mBAAK,cAAL;AACI,qBAAKC,oBAAL,GAA4B,CAAC,KAAKA,oBAAlC;AACA;;AACJ,mBAAK,aAAL;AACI,qBAAKC,mBAAL,GAA2B,CAAC,KAAKA,mBAAjC;AACA;;AACJ,mBAAK,UAAL;AACI,qBAAKC,gBAAL,GAAwB,CAAC,KAAKA,gBAA9B;AACA;;AACJ,mBAAK,OAAL;AACI,qBAAKC,aAAL,GAAqB,CAAC,KAAKA,aAA3B;AACA;AAfR;AAkBH;;;2DAEgC;AAC7B,iBAAKgF,uBAAL,GAA+B,EAA/B;AACA,iBAAKA,uBAAL,GAA+B,GAAGC,WAAH,CAAe,KAAKnH,0BAApB,CAA/B;AACH;;;2CAEgB;AACb,mBAAO,KAAKkB,OAAL,IAAgB,KAAKY,WAA5B;AACH;;;mDAEwBsF,qB,EAAuB;AAC5C,gBAAI,EAAE,KAAK3J,kBAAL,CAAwBnR,MAAxB,KAAmC8a,qBAArC,CAAJ,EAAiE;AAC7D,oBAAM,IAAI9hB,KAAJ,CAAU,2FAA2F8hB,qBAA3F,GACV,oBADU,GACa,KAAK3J,kBAAL,CAAwBnR,MADrC,GAC+C,GADzD,CAAN;AAEH;;AACD,iBAAKmR,kBAAL,CAAwBxM,IAAxB,CAA6B,IAA7B;AACAzH,mBAAO,CAACC,GAAR,CAAY,6DAA6D,KAAKgU,kBAAL,CAAwBnR,MAAjG;AACH;;;iDAEsBI,M,EAAQ;AAC3BlD,mBAAO,CAACC,GAAR,CAAYiD,MAAM,CAAC4Q,gBAAnB;AACA9T,mBAAO,CAACC,GAAR,CAAYiD,MAAM,CAAC0a,qBAAnB;AACA,iBAAK3J,kBAAL,CAAwB/Q,MAAM,CAAC0a,qBAA/B,IAAwD1a,MAAM,CAAC4Q,gBAA/D;AACA9T,mBAAO,CAACC,GAAR,CAAY,KAAKgU,kBAAL,CAAwB/Q,MAAM,CAAC0a,qBAA/B,IAAwD1a,MAAM,CAAC4Q,gBAA3E;AACA,iBAAKkC,MAAL;AACH;;;oDAEsB;AACnB;AACA,gBAAI6H,qBAAqB,GAAG,EAA5B;;AAFmB,wDAGK,KAAK5J,kBAHV;AAAA;;AAAA;AAGnB,qEAAiD;AAAA,oBAAtC6J,SAAsC;;AAC7C,oBAAIA,SAAS,IAAIA,SAAS,CAAC3gB,KAA3B,EAAkC;AAC9B,sBAAI0gB,qBAAqB,CAAC/a,MAAtB,GAA+B,CAAnC,EAAsC;AAClC+a,yCAAqB,IAAI,QAAQC,SAAS,CAAC3gB,KAA3C;AACH,mBAFD,MAEO;AACH0gB,yCAAqB,IAAIC,SAAS,CAAC3gB,KAAnC;AACH;AACJ;AACJ;AAXkB;AAAA;AAAA;AAAA;AAAA;;AAYnB,mBAAO0gB,qBAAP;AACH;;;sCAEW;AACR,iBAAKvG,MAAL,GAAc,IAAd;AACA,iBAAKtB,MAAL;AACA,iBAAKO,kBAAL;AACH;;;;;;;yBA5PiBgG,W,EAAW,mI;AAAA,O;;;eAAXA,W;AAAW,iBAAXA,WAAW;;;;;wEAAXA,W,EAAW;gBADhC;AACgC,U;;;;;;;;;;;;;;;;;;;;;;ACLjC;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;;;;;ACAA;;AAA6D;AAAA;;AAAA;;AAAA;AAAA;;AAAyD;;;;;;AA8K7E;;AAAiD;;AAAkC;;;;;;AAAlC;;AAAA;;;;;;AAC9E;;AAA0B;;AAA2B;;;;;;AAA3B;;AAAA;;;;;;;;AAJlC;;AACI;;AAAI;;AAAQ;;AACZ;;AACI;;AAAI;;AAAyB;;AAA0F;;AACvH;;AACJ;;AACA;;AAAQ;AAAA;;AAAA;;AAAA;AAAA;;AAA0D;;AAAc;;AACpF;;;;;;AAJY;;AAAA;;AAA+B;;AAAA;;AAC/B;;AAAA;;AAEiC;;AAAA;;;;;;AAOR;;AAAiD;;AAAkC;;;;;;AAAlC;;AAAA;;;;;;;;AAHtF;;AACI;;AAAI;;AAAQ;;AACZ;;AACI;;AAAI;;AAAyB;;AAA0F;;AACvH;;AACI;;AAAW;;AAAQ;;AACnB;;AAAU;AAAA;;AAAA;;AAAA;AAAA;;AAA6C;;AAC3D;;AACJ;;AACA;;AAAQ;AAAA;;AAAA;;AAAA;AAAA;;AAAiC;;AAAa;;AAC1D;;;;;;AAPY;;AAAA;;AAA+B;;AAAA;;AAGrB;;AAAA;;;;;;;;AAOtB;;AACI;;AAGuB;AAAA;;AAAA;;AAAA;AAAA,aAA8E,8BAA9E,EAA8E;AAAA;;AAAA;;AAAA;AAAA,WAA9E,EAA8E,mCAA9E,EAA8E;AAAA;;AAAA;;AAAA;AAAA,WAA9E;;AAEiE;;AAC5F;;;;;;;;AAN2B;;AAAA,0HAAoD,uBAApD,EAAoD,kBAApD,EAAoD,KAApD,EAAoD,oBAApD;;;;;;;;AAO3B;;AAAuE;AAAA;;AAAA;;AAAA;AAAA;;AACa;;AAAa;;;;;;AADC;;;;;;;;AAG9F;;AAAQ;AAAA;;AAAA;;AAAA;AAAA;;AAA6B;;AAAe;;;;;;;;;;UDnM/CwB,oB;;;;;AAQT,sCAAoBzJ,WAApB,EAAkD;AAAA;;AAAA;;AAC9C,uCAAMA,WAAN;AADgB,kBAAAA,WAAA,GAAAA,WAAA;AANV,kBAAA0J,uBAAA,GAA0B,IAAI,0DAAJ,EAA1B;AAMwC;AAEjD;;;;qCAEO;AAAA;;AACJ,iBAAK1J,WAAL,CAAiBE,OAAjB,CAAyB,KAAK7B,UAAL,CAAgB,CAAhB,CAAzB,EAA6C,KAAKA,UAAL,CAAgB,CAAhB,CAA7C,EAAiE/W,IAAjE,CACI,UAACqiB,WAAD,EAAsB;AAClB;AACA,qBAAI,CAACvJ,qBAAL,GAA6B/W,IAAI,CAACC,KAAL,CAAWqgB,WAAX,CAA7B,CAFkB,CAGlB;AACA;AACH,aANL;AAQA,iBAAK/H,IAAL,GAAY,KAAKvD,UAAL,CAAgB,CAAhB,CAAZ;AACA,iBAAKsC,8BAAL;AACH;;;yCAEW;AACR,gBAAI,KAAK2D,MAAT,EAAiB;AACb,qBAAO,CAAC,CAAC,KAAKlE,qBAAP,IAAgC,KAAKiE,oBAAL,CAA0BuF,YAA1B,EAAvC;AACH,aAFD,MAEO;AACH,qBAAO,CAAC,CAAC,KAAKxJ,qBAAd;AACH;AACJ;;;kCAEO;AACJ,iBAAKT,kBAAL,GAA0B,EAA1B;AACA,iBAAKkC,GAAL,GAAWpW,SAAX,CAFI,CAGJ;AACH;;;mCAEQ;AACL,gBAAI,KAAKkU,kBAAL,CAAwBnR,MAAxB,GAAiC,CAArC,EAAwC;AACpC,mBAAKqT,GAAL,GAAW,KAAKxD,UAAL,CAAgB,CAAhB,IAAqB,GAArB,GAA2B,KAAKwE,uBAAL,EAAtC;AACH,aAFD,MAEO;AACH,mBAAKhB,GAAL,GAAW,KAAKxD,UAAL,CAAgB,CAAhB,CAAX;AACH,aALI,CAML;;AACH;;;mCAEQvT,I,EAAgB;AACrB,iBAAKoW,KAAL,GAAa,IAAb;AACH;;;sCAEW;AACR;;AACA,iBAAKwI,uBAAL,CAA6Bhb,IAA7B,CAAkC,IAAlC;AACH;;;wCAEa;AACV,iBAAKsU,MAAL,GAAc,KAAd;AACA,iBAAK0G,uBAAL,CAA6Bhb,IAA7B,CAAkC,IAAlC;AACH;;;mDAE0D;AAAA,gBAApCuU,wBAAoC,uEAAD,CAAC;AACvD,gBAAMC,gBAAgB,GAAG,KAAKC,cAAL,EAAzB;AACA,gBAAI3X,MAAJ;AACAE,mBAAO,CAACC,GAAR,CAAY,KAAKwW,IAAjB;AACAzW,mBAAO,CAACC,GAAR,CAAY,KAAKgU,kBAAjB;AACAnU,kBAAM,GAAG;AACLoR,qBAAO,EAAE,IADJ;AAELlF,0BAAY,EAAEuL,wBAFT;AAGLpB,iBAAG,EAAE,KAAKA,GAHL;AAILuB,qBAAO,EAAE,KAAKA,OAJT;AAKLlC,mBAAK,EAAE,KAAKA,KALP;AAMLU,kBAAI,EAAE,KAAKA,IANN;AAOLO,kBAAI,EAAE,KAAKA,IAAL,GAAY,KAAKkB,oBAPlB;AAQLC,8BAAgB,EAAE,IARb;AASLC,oBAAM,EAAE,KAAKC,YATR;AAULhE,8BAAgB,EAAE,KAAKG,kBAVlB;AAWL8D,yBAAW,EAAEP,gBAXR;AAYLQ,uBAAS,EAAE,IAZN;AAaLhB,sBAAQ,EAAE,IAbL;AAcLL,oBAAM,EAAE,IAdH;AAeLI,oBAAM,EAAE,IAfH;AAgBLkB,sBAAQ,EAAE,IAhBL;AAiBLC,2BAAa,EAAE,IAjBV;AAkBL9E,oBAAM,EAAE,IAlBH;AAmBL+E,+BAAiB,EAAE,IAnBd;AAoBLC,8BAAgB,EAAE,IApBb;AAqBLC,8BAAgB,EAAE,IArBb;AAsBLC,yBAAW,EAAE,KAAKA,WAtBb;AAuBLC,kCAAoB,EAAE,KAAKA,oBAvBtB;AAwBLC,iCAAmB,EAAE,KAAKA,mBAxBrB;AAyBLC,8BAAgB,EAAE,KAAKA,gBAzBlB;AA0BLC,2BAAa,EAAE,KAAKA;AA1Bf,aAAT;AA6BA,mBAAO5Y,MAAP;AACH;;;;QAjGqC,yD;;;yBAA7Bie,oB,EAAoB,4I;AAAA,O;;;cAApBA,oB;AAAoB,yC;AAAA;AAAA;;;;;;;;;;;;;;;;;;;;;;;ACVjC;;AAEA;;AACI;;AACI;;AAAoB;;AAAsB;;AAC1C;;AACI;;AAA2B;AAAA,qBAAS,qBAAsB,KAAtB,CAAT;AAAqC,aAArC;;AACqE;;AAA4B;;AAC5H;;AAA2B;AAAA,qBAAS,qBAAsB,cAAtB,CAAT;AAA8C,aAA9C;;AACyE;;AAAqC;;AACzI;;AAA2B;AAAA,qBAAS,qBAAsB,aAAtB,CAAT;AAA6C,aAA7C;;AACwE;;AAAoC;;AACvI;;AAA2B;AAAA,qBAAS,qBAAsB,UAAtB,CAAT;AAA0C,aAA1C;;AACqE;;AAAiC;;AACjI;;AAA2B;AAAA,qBAAS,qBAAsB,OAAtB,CAAT;AAAuC,aAAvC;;AAC2E;;AAA8B;;AACxI;;AACJ;;AA0JA;;AAUA;;AAaA;;AAQA;;AAEA;;AAGJ;;;;;;AA/MkB;;AAIU;;AAAA;;AAEkD;;AAAA;;AAC8B;;AAAA;;AACrB;;AAAA;;AACyB;;AAAA;;AAC1B;;AAAA;;AACyB;;AAAA;;AAC5B;;AAAA;;AACyB;;AAAA;;AAC5B;;AAAA;;AACkC;;AAAA;;AA4JrF;;AAAA;;AAUA;;AAAA;;AAapB;;AAAA;;AAQ2B;;AAAA,0FAAsC,UAAtC,EAAsC,GAAtC;;;;;;;;;wEDhMvBA,oB,EAAoB;gBALhC,uDAKgC;iBALtB;AACP7f,oBAAQ,EAAE,kBADH;AAEPC,uBAAW,EAAE,+BAFN;AAGPC,qBAAS,EAAE,CAAC,+BAAD;AAHJ,W;AAKsB,U;;;;;AAEnB4f,iCAAuB;kBAAhC;AAAgC,Y;AACGrF,8BAAoB,EAAE,CAAF;kBAAvD,uDAAuD;mBAA7C,uB;AAA6C,WAAE,C;AACjDC,gBAAM,EAAE,CAAF;kBAAd;AAAc,WAAE,C;AAERjG,oBAAU,EAAE,CAAF;kBAAlB;AAAkB,WAAE;;;;;;;;;;;;;;;;;;;AEhBzB;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;;;ACIgB;;AACI;;AAAsB;;AACtB;;AACA;;AAIO;AAAA;;AAAA;;AAAA;AAAA,aAA8B,eAA9B,EAA8B;AAAA;;AAAA;;AAAA;AAAA,WAA9B;;AAJP;;AAOJ;;;;;;AAHW;;AAAA;;;;;;;;AAIX;;AACI;;AAAqB;;AACrB;;AACA;;AAIO;AAAA;;AAAA;;AAAA;AAAA,aAAqC,eAArC,EAAqC;AAAA;;AAAA;;AAAA;AAAA,WAArC;;AAJP;;AAOJ;;;;;;AATyB;;AAAA;;AAEN;;AAAA,wIAAgE,SAAhE,EAAgE,yBAAhE;;;;;;AAhB3B;;AACI;;AACI;;AAWA;;AAWJ;;AACJ;;;;;;AAvBmC;;AAAA;;AAWA;;AAAA;;;;;;AA8BH;;AAC8D;;AAAS;;;;;;;;AAAnE;;AAA0D;;AAAA;;;;;;AAE1D;;AAAI;;AAAS;;;;;;AAAT;;AAAA;;;;;;AAJZ;;AACI;;AAEA;;AAGJ;;;;;;;;;;AALQ;;AAAA,qLAAgH,UAAhH,EAAgH,IAAhH;;;;;;AAFZ;;AACI;;AAOJ;;;;;;AAPkB;;AAAA;;;;;;AASd;;AACI;;AAAI;;AAAW;;AACnB;;;;;;AADQ;;AAAA;;;;;;AAFZ;;AACI;;AAGJ;;;;;;AAHkB;;AAAA;;;;;;AAb1B;;AACI;;AACI;;AACA;;AASA;;AAKA;;AACJ;;AACJ;;;;;;AAhBY;;AAAA;;AASA;;AAAA;;;;;;AAbhB;;AACI;;AAoBJ;;;;;;;;AApBU;;AAAA;;;;;;AAyBE;;;;;;AAA8B;;;;;;AAFtC;;AACI;;AACI;;AACJ;;AACJ;;;;;;AAFY;;AAAA;;;;;;AAHhB;;AACI;;AAKJ;;;;;;;;AALU;;AAAA;;;;;;AA1BlB;;AACQ;;AAAuC;;AACvC;;AAuBA;;AAOJ;;;;;;;;AA/BU;;AAAA;;AACQ;;AAAA;;AAuBA;;AAAA;;;;;;AAUtB;;;;;;AAA0C;;;;;;AArC9C;;AACI;;AAAI;;AAA0B;;AAC9B;;AAiCA;;AACA;;AACA;;AAAgG;;AAAK;;AACzG;;;;;;AArCQ;;AAAA;;AACE;;AAAA;;AAmCA;;AAAA;;;;;;;;AAId;;AAA+C;AAAA;;AAAA;;AAAA;AAAA;;AAA2B;;AAA2B;;;;;;;;AAEjG;;AAAQ;AAAA;;AAAA;;AAAA;AAAA;;AAA6B;;AAAe;;;;;;;;AA/C5D;;AACI;;AAGI;;AAuCJ;;AACA;;AAAQ;AAAA;;AAAA;;AAAA;AAAA;;AAA0D;;AAA0B;;AAC5F;;AACA;;AAGJ;;;;;;;;AA7CsB;;AAAA;;AAwCuB;;AAAA;;AACjC;;AAAA,2FAAsC,UAAtC,EAAsC,IAAtC;;;;;;;;AA2B4B;;AAEI;;AACI;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAA8E;;AACtF;;;;;;;;;;;;;;;AAHI;;AAEI;;AAAA;;;;;;;;AAGJ;;AACI;;AACI;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAA8E;;AACtF;;;;;;;;;;;;AADQ;;AAAA;;;;;;AAVhB;;AAEI;;AAKA;;AAMJ;;;;;;;;;;AAXQ;;AAAA,qLAAgH,UAAhH,EAAgH,IAAhH;;;;;;AAHZ;;AACI;;AAcJ;;;;;;;;;;AAbQ;;AAAA,iJAAqH,cAArH,EAAqH,iBAArH;;;;;;;;AAeJ;;AAEI;;AACI;;AACI;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAA2E;;AACnF;;AACJ;;;;;;;;;;;;AAFY;;AAAA;;;;;;AALhB;;AACI;;AAOJ;;;;;;;;;;AANQ;;AAAA,8IAAoH,cAApH,EAAoH,iBAApH;;;;;;AArBhB;;AACI;;AACI;;AACA;;AAgBA;;AASA;;AACJ;;AACJ;;;;;;;;AA3BY;;AAAA;;AAgBA;;AAAA;;;;;;AArBhB;;AAEI;;AA+BJ;;;;;;;;AA/BU;;AAAA;;;;;;;;AAoCE;;AACI;;AAAU;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AACwF;;AACtG;;;;;;;;;;AAFc;;AAAA,2IAA2D,MAA3D,EAA2D,2GAA3D;;;;;;AAHtB;;AACI;;AACI;;AAIJ;;AACJ;;;;;;;;AALY;;AAAA,6HAAqG,cAArG,EAAqG,kBAArG;;;;;;AAHhB;;AACI;;AAQJ;;;;;;;;;;AARU;;AAAA;;;;;;;;AAzClB;;AAEQ;;AACI;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAAkE;;AAAW;;AAEjF;;AAmCA;;AAUJ;;;;;;;;AA/CQ;;AAAA;;AAGA;;AAAA;;AAkCU;;AAAA;;;;;;;;AAatB;;AAEI;;AAAU;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAA0D;;AACxE;;;;;;;;AADc;;AAAA;;;;;;;;AAzDlB;;AACI;;AAAI;;AAAU;AAAA;;AAAA;;AAAA;AAAA;;AAA0C;;AAAW;;AACnE;;AAmDA;;AACA;;AACA;;AAIJ;;;;;;AA1DkB;;AAAA;;AAEV;;AAAA,oHAA+G,cAA/G,EAA+G,iBAA/G;;AAqDA;;AAAA,mHAAgG,cAAhG,EAAgG,iBAAhG;;;;;;;;AA7DhB;;AACI;;AAAI;;AAAQ;;AACZ;;AAGI;;AA4DJ;;AACA;;AAAQ;AAAA;;AAAA;;AAAA;AAAA;;AAAiC;;AAAyB;;AAClE;;AAAQ;AAAA;;AAAA;;AAAA;AAAA;;AAA8B;;AAAuB;;AACjE;;;;;;AA/DsB;;AAAA;;;;UDjFTwL,yB;AAsBT,6CAAc;AAAA;;AAdJ,eAAAC,oCAAA,GAAuC,IAAI,0DAAJ,EAAvC;AACA,eAAAC,4BAAA,GAA+B,IAAI,0DAAJ,EAA/B;AACA,eAAAC,iCAAA,GAAoC,IAAI,0DAAJ,EAApC;AAEV,eAAA9B,mBAAA,GAAsB,KAAtB;AAEA,eAAAlF,MAAA,GAAS,KAAT;AASC;;;;qCAEO;AACJ;AACA,iBAAK8G,oCAAL,CAA0Cpb,IAA1C,CAA+C,KAAK4a,qBAApD;AACA5d,mBAAO,CAACC,GAAR,CAAY,KAAKse,kBAAjB;;AACA,gBAAI,KAAKA,kBAAT,EAA6B;AACzB,mBAAK9I,WAAL,GAAmB,KAAK8I,kBAAxB;AACH;AACJ;;;oCAESlX,K,EAAOzF,I,EAAM;AACnB,mBAAOyF,KAAP;AACH;;;oDAEsB;AACnB,mBAAO,KAAKyM,gBAAL,CAAsB3W,KAA7B;AACH;;;4CAEiB;AACd,iBAAKqf,mBAAL,GAA2B,CAAC,KAAKA,mBAAjC;AACA,iBAAKE,gCAAL;;AACA,gBAAI,CAAC,KAAKF,mBAAV,EAA+B;AAC3B,mBAAK6B,4BAAL,CACKrb,IADL,CACU;AAAE8Q,gCAAgB,EAAE,KAAKA,gBAAzB;AAA2C8J,qCAAqB,EAAE,KAAKA;AAAvE,eADV;AAEH;AACJ;;;sCAEW;AACR,iBAAKtG,MAAL,GAAc,IAAd;AACA,iBAAK+G,4BAAL,CACKrb,IADL,CACU;AAAE8Q,8BAAgB,EAAE,KAAKA,gBAAzB;AAA2C8J,mCAAqB,EAAE,KAAKA;AAAvE,aADV;AAEH;;;wCAEa;AACV,iBAAKtG,MAAL,GAAc,KAAd;AACA,iBAAK+G,4BAAL,CAAkCrb,IAAlC,CAAuC;AAAC8Q,8BAAgB,EAAE,IAAnB;AAAyB8J,mCAAqB,EAAE;AAAhD,aAAvC;AACH;;;yCAEc;AACX,iBAAKY,qBAAL;AACA,iBAAKhC,mBAAL,GAA2B,KAA3B;AACH;;;kDAEuB;AACpB,iBAAK1I,gBAAL,GAAwBnW,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,SAAL,CAAe,KAAK4gB,wBAApB,CAAX,CAAxB;AACAze,mBAAO,CAACC,GAAR,CAAY,KAAKwe,wBAAjB;AACA,iBAAKJ,4BAAL,CACKrb,IADL,CACU;AAAE8Q,8BAAgB,EAAE,KAAKA,gBAAzB;AAA2C8J,mCAAqB,EAAE,KAAKA;AAAvE,aADV;AAEA,iBAAKrH,kBAAL;AACH;;;+CAEoB;AACjB,iBAAKoB,oBAAL,GAA4B,CAA5B;AACA,iBAAKgF,4BAAL,GAAoC,IAApC;AACA,gBAAMvd,IAAI,GAAG,KAAK0U,gBAAL,CAAsBgI,KAAtB,CAA4B1c,IAAzC;AACA,gBAAMid,SAAS,GAAGjd,IAAI,CAAC0C,OAAL,CAAa1C,IAAI,CAACkC,MAAL,CAAY,UAAA4G,CAAC;AAAA,qBAAIA,CAAC,CAACtB,QAAF,CAAW,MAAX,CAAJ;AAAA,aAAb,EAAqC,CAArC,CAAb,CAAlB;;AACA,gBAAIyV,SAAS,KAAK,CAAC,CAAf,IAAoB,CAACjd,IAAI,CAACid,SAAD,CAAJ,CAAgBzV,QAAhB,CAAyB,OAAzB,CAAzB,EAA4D;AACxD,kBAAM+S,KAAK,GAAGva,IAAI,CAACid,SAAD,CAAJ,CAAgB1C,KAAhB,CAAsB,YAAtB,EAAoC,CAApC,CAAd;AACA,mBAAKhC,oBAAL,GAA4B,CAACgC,KAAK,CAACrI,OAAN,CAAc,GAAd,EAAmB,EAAnB,EAAuBA,OAAvB,CAA+B,GAA/B,EAAoC,EAApC,CAA7B;AACA,kBAAMsL,aAAa,GAAGxd,IAAI,CAACid,SAAD,CAAJ,CAAgBQ,SAAhB,CAA0Bzd,IAAI,CAACid,SAAD,CAAJ,CAAgBva,OAAhB,CAAwB6X,KAAxB,CAA1B,EAA0DA,KAA1D,CAAgE,cAAhE,EAAgF,CAAhF,CAAtB;AACA,mBAAKgD,4BAAL,GAAoCC,aAAa,CAACtL,OAAd,CAAsBqI,KAAtB,EAA6B,EAA7B,EAC/BrI,OAD+B,CACvB,GADuB,EAClB,EADkB,EACdA,OADc,CACN,GADM,EACD,EADC,CAApC;AAEH,aAND,MAMO;AACH,mBAAKqG,oBAAL,GAA4B,CAA5B;AACA,mBAAKgF,4BAAL,GAAoC,iBAApC;AACH;AACJ;;;6DAEkC;AAC/B,iBAAK,IAAIK,gBAAgB,GAAG,CAA5B,EAAgCA,gBAAgB,GAAG,KAAKlJ,gBAAL,CAAsB+H,WAAtB,CAAkC/Y,MAArF,EAA8Fka,gBAAgB,EAA9G,EAAkH;AAC9G,kBAAI,KAAKlJ,gBAAL,CAAsB+H,WAAtB,CAAkCmB,gBAAlC,EAAoDla,MAApD,KAA+D,CAAnE,EAAsE;AAClE,qBAAKgR,gBAAL,CAAsB+H,WAAtB,CAAkChV,MAAlC,CAAyCmW,gBAAzC,EAA2D,CAA3D;AACAA,gCAAgB;AACnB;AACJ;;AACD,gBAAI,KAAKlJ,gBAAL,CAAsB3F,KAA1B,EAAiC;AAC7B,mBAAK,IAAI8O,UAAU,GAAG,CAAtB,EAAyBA,UAAU,GAAG,KAAKnJ,gBAAL,CAAsB3F,KAAtB,CAA4BrL,MAAlE,EAA0Ema,UAAU,EAApF,EAAwF;AACpF,qBAAK,IAAIC,eAAe,GAAG,CAA3B,EAA8BA,eAAe,GAC7C,KAAKpJ,gBAAL,CAAsB3F,KAAtB,CAA4B8O,UAA5B,EAAwC9f,KAAxC,CAA8C2F,MAD9C,EACsDoa,eAAe,EADrE,EACyE;AACrE,uBAAK,IAAIC,sBAAsB,GAAG,CAAlC,EAAqCA,sBAAsB,GAC3D,KAAKrJ,gBAAL,CAAsB3F,KAAtB,CAA4B8O,UAA5B,EAAwC9f,KAAxC,CAA8C+f,eAA9C,EAA+Dpa,MAD/D,EACuEqa,sBAAsB,EAD7F,EACiG;AAC7F,wBAAI,KAAKrJ,gBAAL,CAAsB3F,KAAtB,CAA4B8O,UAA5B,EAAwC9f,KAAxC,CAA8C+f,eAA9C,EAA+DC,sBAA/D,EAAuFra,MAAvF,KAAkG,CAAtG,EAAyG;AACrG,2BAAKgR,gBAAL,CAAsB3F,KAAtB,CAA4B8O,UAA5B,EAAwC9f,KAAxC,CAA8C+f,eAA9C,EAA+DrW,MAA/D,CAAsEsW,sBAAtE,EAA8F,CAA9F;AACAA,4CAAsB;AACzB;AACJ;;AACD,sBAAI,KAAKrJ,gBAAL,CAAsB3F,KAAtB,CAA4B8O,UAA5B,EAAwC9f,KAAxC,CAA8C+f,eAA9C,EAA+Dpa,MAA/D,KAA0E,CAA9E,EAAiF;AAC7E,yBAAKgR,gBAAL,CAAsB3F,KAAtB,CAA4B8O,UAA5B,EAAwC9f,KAAxC,CAA8C0J,MAA9C,CAAqDqW,eAArD,EAAsE,CAAtE;AACAA,mCAAe;AAClB;AACJ;;AACD,qBAAK,IAAIE,YAAY,GAAG,CAAxB,EAA2BA,YAAY,GACvC,KAAKtJ,gBAAL,CAAsB3F,KAAtB,CAA4B8O,UAA5B,EAAwCI,EAAxC,CAA2Cva,MAD3C,EACmDsa,YAAY,EAD/D,EACmE;AAC/D,uBAAK,IAAIE,mBAAmB,GAAG,CAA/B,EAAkCA,mBAAmB,GACrD,KAAKxJ,gBAAL,CAAsB3F,KAAtB,CAA4B8O,UAA5B,EAAwCI,EAAxC,CAA2CD,YAA3C,EAAyDta,MADzD,EACiEwa,mBAAmB,EADpF,EACwF;AACpF,wBAAI,KAAKxJ,gBAAL,CAAsB3F,KAAtB,CAA4B8O,UAA5B,EAAwCI,EAAxC,CAA2CD,YAA3C,EAAyDE,mBAAzD,EAA8Exa,MAA9E,KAAyF,CAA7F,EAAgG;AAC5F,2BAAKgR,gBAAL,CAAsB3F,KAAtB,CAA4B8O,UAA5B,EAAwCI,EAAxC,CAA2CD,YAA3C,EAAyDvW,MAAzD,CAAgEyW,mBAAhE,EAAqF,CAArF;AACAA,yCAAmB;AACtB;AACJ;;AACD,sBAAI,KAAKxJ,gBAAL,CAAsB3F,KAAtB,CAA4B8O,UAA5B,EAAwCI,EAAxC,CAA2CD,YAA3C,EAAyDta,MAAzD,KAAoE,CAAxE,EAA2E;AACvE,yBAAKgR,gBAAL,CAAsB3F,KAAtB,CAA4B8O,UAA5B,EAAwCI,EAAxC,CAA2CxW,MAA3C,CAAkDuW,YAAlD,EAAgE,CAAhE;AACAA,gCAAY;AACf;AACJ;;AACD,oBAAI,KAAKtJ,gBAAL,CAAsB3F,KAAtB,CAA4B8O,UAA5B,EAAwC9f,KAAxC,CAA8C2F,MAA9C,KAAyD,CAAzD,IACG,KAAKgR,gBAAL,CAAsB3F,KAAtB,CAA4B8O,UAA5B,EAAwCI,EAAxC,CAA2Cva,MAA3C,KAAsD,CAD7D,EACgE;AAC5D,uBAAKgR,gBAAL,CAAsB3F,KAAtB,CAA4BtH,MAA5B,CAAmCoW,UAAnC,EAA+C,CAA/C;AACAA,4BAAU;AACb;AACJ;AACJ;;AACD,gBAAI,KAAKnJ,gBAAL,CAAsBiI,EAA1B,EAA8B;AAC1B,mBAAK,IAAIwB,OAAO,GAAG,CAAnB,EAAsBA,OAAO,GAAG,KAAKzJ,gBAAL,CAAsBiI,EAAtB,CAAyBjZ,MAAzD,EAAiEya,OAAO,EAAxE,EAA4E;AACxE,qBAAK,IAAIC,OAAO,GAAG,CAAnB,EAAsBA,OAAO,GAAG,KAAK1J,gBAAL,CAAsBiI,EAAtB,CAAyBwB,OAAzB,EAAkCE,EAAlC,CAAqC3a,MAArE,EAA6E0a,OAAO,EAApF,EAAwF;AACpF,sBAAI,KAAK1J,gBAAL,CAAsBiI,EAAtB,CAAyBwB,OAAzB,EAAkCE,EAAlC,CAAqCD,OAArC,EAA8C1a,MAA9C,KAAyD,CAA7D,EAAgE;AAC5D,yBAAKgR,gBAAL,CAAsBiI,EAAtB,CAAyBwB,OAAzB,EAAkCE,EAAlC,CAAqC5W,MAArC,CAA4C2W,OAA5C,EAAqD,CAArD;AACAA,2BAAO;AACV;AACJ;;AACD,oBAAI,KAAK1J,gBAAL,CAAsBiI,EAAtB,CAAyBjZ,MAAzB,KAAoC,CAAxC,EAA2C;AACvC,uBAAKgR,gBAAL,CAAsBiI,EAAtB,CAAyBlV,MAAzB,CAAgC0W,OAAhC,EAAyC,CAAzC;AACAA,yBAAO;AACV;AACJ;AACJ;;AACD,gBAAI,KAAKzJ,gBAAL,CAAsB+H,WAAtB,CAAkC/Y,MAAlC,KAA6C,CAA7C,IACG,CAAC,KAAKgR,gBAAL,CAAsB3F,KAD1B,IAEG,CAAC,KAAK2F,gBAAL,CAAsBiI,EAF9B,EAEkC;AAC9B/b,qBAAO,CAACC,GAAR,CAAY,0CAA0C,KAAK6T,gBAAL,CAAsB3W,KAA5E;AACA,mBAAK2W,gBAAL,GAAwB,IAAxB;AACH;AACJ;;;kDAEuBG,kB,EAAyC;AAC7D,mBAAO,KAAKqC,qBAAL,CAA2BrC,kBAA3B,EAA+CnR,MAAtD;AACH;;;yCAEW;AACR;AACA;AACA,mBAAO,CAAC,CAAC,KAAK4R,qBAAd;AACH;;;gDAEqBT,kB,EAA2C;AAC7D;AACA,mBAAO,KAAKwB,WAAL,KAAqB,CAArB,GAAyBxB,kBAAkB,CAACoH,YAAnB,CAAgCC,MAAhC,CAAuCrH,kBAAkB,CAACsH,OAA1D,CAAzB,GACD,KAAK9F,WAAL,KAAqB,CAArB,GAAyBxB,kBAAkB,CAACuH,QAAnB,CAA4BF,MAA5B,CAAmCrH,kBAAkB,CAACsH,OAAtD,CAAzB,GACI,KAAK9F,WAAL,KAAqB,CAArB,GAAyBxB,kBAAkB,CAACwH,iBAAnB,CAAqCH,MAArC,CAA4CrH,kBAAkB,CAACsH,OAA/D,CAAzB,GACE,IAHZ;AAIH;;;gDAEqB;AAClB,gBAAI,KAAK9F,WAAL,IAAoB,KAAKH,kBAAzB,IACG,KAAKA,kBAAL,IAA2B,KAAKc,uBAAL,CAA6B,KAAK1B,qBAAlC,CADlC,EAC4F;AACxF,mBAAKZ,gBAAL,GAAwBnW,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,SAAL,CAC3B,KAAKyY,qBAAL,CAA2B,KAAK5B,qBAAhC,EAAuD,KAAKY,kBAAL,GAA0B,CAAjF,CAD2B,CAAX,CAAxB;AAEA,mBAAKmJ,wBAAL,GAAgC9gB,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,SAAL,CAAe,KAAKiW,gBAApB,CAAX,CAAhC;AACA,mBAAKyC,kBAAL;AACA,mBAAK8H,4BAAL,CACKrb,IADL,CACU;AAAE8Q,gCAAgB,EAAE,KAAKA,gBAAzB;AAA2C8J,qCAAqB,EAAE,KAAKA;AAAvE,eADV;AAEH;AACJ;;;;;;;yBA1LQO,yB;AAAyB,O;;;cAAzBA,yB;AAAyB,8C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,S;AAAA;AAAA;AAAA;AAAA;AAAA,S;AAAA,gB;AAAA,e;AAAA,yiC;AAAA;AAAA;ACPtC;;AACI;;AACI;;AA0BJ;;AACJ;;AAEA;;AAoDA;;;;AAjFiC;;AAAA;;AA6BR;;AAAA;;AAoDA;;AAAA;;;;;;;;;wED5EZA,yB,EAAyB;gBALrC,uDAKqC;iBAL3B;AACPjgB,oBAAQ,EAAE,uBADH;AAEPC,uBAAW,EAAE,oCAFN;AAGPC,qBAAS,EAAE,CAAC,oCAAD;AAHJ,W;AAK2B,U;;;AAEzBsW,+BAAqB,EAAE,CAAF;kBAA7B;AAA6B,WAAE,C;AACvBkJ,+BAAqB,EAAE,CAAF;kBAA7B;AAA6B,WAAE,C;AACvBzH,aAAG,EAAE,CAAF;kBAAX;AAAW,WAAE,C;AACLoI,4BAAkB,EAAE,CAAF;kBAA1B;AAA0B,WAAE,C;AAGnBH,8CAAoC;kBAA7C;AAA6C,Y;AACpCC,sCAA4B;kBAArC;AAAqC,Y;AAC5BC,2CAAiC;kBAA1C;AAA0C;;;;;;;;;;;;;;;;;;;AEjB/C;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;;;ACGY;;;;;;AAAiE;;;;;;AAE7D;;;;;;AAAoB;;;;;;AAG5B;;AAAwE;;AAAmB;;;;;;AAAnB;;AAAA;;;;;;AAGhE;;AAA+B;;AAA6B;;;;;;AAA7B;;AAAA;;;;;;AADnC;;AAAiC;;AAC7B;;AACJ;;;;;;AAFiC;;AAAA;;AACvB;;AAAA;;;;;;AAEV;;AAA+B;;AAAoD;;;;;;AAApD;;AAAA;;;;;;AAJnC;;AACI;;AAGA;;AACJ;;;;;;AAJU;;AAAA;;AAGA;;AAAA;;;;;;AAGN;;AAAiC;;AAA8B;;;;;;AAA9B;;AAAA;;;;;;AACjC;;AAAgC;;AAA6B;;;;;;AAA7B;;AAAA;;;;;;AAFpC;;AACI;;AACA;;AAAoE;;;;;;AAD9D;;AAAA;;AACA;;AAAA;;;;;;AACV;;AACI;;AACA;;AACA;;AAAuD;;AAAE;;AAAM;;AAAsC;;AACzG;;;;;;AADU;;AAAA;;AAAyD;;AAAA;;;;;;AAiBnC;;AAE8J;;AAAiB;;;;;;;;AAA3K;;AAA0J;;AAAA;;;;;;AAE1J;;AAAI;;AAAiB;;;;;;AAAjB;;AAAA;;;;;;AANZ;;AAEI;;AAGA;;AAGJ;;;;;;;;;;AANQ;;AAAA,oSAC2J,UAD3J,EAC2J,IAD3J;;;;;;AAJZ;;AAEI;;AASJ;;;;;;AARQ;;AAAA;;;;;;AAUJ;;AACI;;AAAI;;AAAmB;;AAC3B;;;;;;AADQ;;AAAA;;;;;;AAFZ;;AACI;;AAGJ;;;;;;AAHkB;;AAAA;;;;;;AAhB1B;;AACI;;AACI;;AACA;;AAYA;;AAKA;;AACJ;;AACJ;;;;;;AAnBY;;AAAA;;AAYA;;AAAA;;;;;;AAhBhB;;AACI;;AAuBJ;;;;;;;;AAvBU;;AAAA;;;;;;AA6BE;;;;;;AAAiD;;;;;;AAFzD;;AACI;;AACI;;AACJ;;AACJ;;;;;;AAFY;;AAAA;;;;;;AAHhB;;AACI;;AAKJ;;;;;;;;AALU;;AAAA;;;;;;AA/Bd;;AACI;;AAA+C;;AAE/C;;AA2BA;;AAOJ;;;;;;;;AApCU;;AAAA;;AAEQ;;AAAA;;AA2BA;;AAAA;;;;;;AAWd;;;;;;AAA4D;;;;;;AADhE;;AACI;;AACA;;AACJ;;;;;;AAFU;;AAAA;;;;;;AA3Cd;;AACI;;AAAI;;AAAsB;;AAC1B;;AAsCA;;AACA;;AACA;;AAIJ;;;;;;;;AA7CQ;;AAAA;;AACE;;AAAA;;AAwCA;;AAAA;;;;;;AA3Cd;;AACI;;AA+CJ;;;;;;AA/CkB;;AAAA;;;;;;AAgDlB;;AACI;;AACA;;AACA;;AAAoD;;AAAE;;AAAM;;AAA6B;;AAC7F;;;;;;AADU;;AAAA;;AAAsD;;AAAA;;;;;;AAQpD;;AAA+B;;AAA+D;;;;;;;;AAA/D;;AAAA;;;;;;;;AADnC;;AACI;;AACA;;AAAG;;AAA8D;;AACjE;;AAAgC;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAA8D;;AAAQ;;AAC1G;;;;;;;;AAHO;;AAAA;;AACA;;AAAA;;;;;;;;AAIH;;AACI;;AACI;;AAAW;;AAAgD;;AAC3D;;AAAU;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAAkF;;AAChG;;AACJ;;AACA;;AAA+B;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAAwE;;AAAS;;AAChH;;AAAgC;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAAuE;;AAAQ;;AAC/G;;AAA8B;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAAkF;;AAAO;;;;;;;;AANpG;;AAAA;;AACD;;AAAA;;;;;;AAV1B;;AACI;;AAKA;;AAWJ;;;;;;;;;;AAhBS;;AAAA,mJAA0F,UAA1F,EAA0F,IAA1F;;;;;;AAFb;;AACI;;AAkBJ;;;;;;;;AAlBS;;AAAA;;;;;;;;AAmBT;;AAAwC;AAAA;;AAAA;;AAAA;AAAA;;AAAgH;;AAA0B;;;;;;;;AAS9K;;AAA4E;AAAA;;AAAA;;AAAA;AAAA;;AAA4C;;AAAO;;;;;;;;AARnI;;AACI;;AACI;;AACI;;AAAW;;AAAyB;;AACpC;;AAAU;AAAA;;AAAA;;AAAA;AAAA;;AAAmD;;AACjE;;AACJ;;AACA;;AAA8B;AAAA;;AAAA;;AAAA;AAAA;;AAA4C;;AAAO;;AACjF;;AACJ;;;;;;AALsB;;AAAA;;AAIc;;AAAA;;;;;;AA9G5C;;AACI;;AACI;;AACI;;AACA;;AAGJ;;AACA;;AACA;;AAMA;;AAGA;;AAKA;;AACA;;AAiDA;;AAKJ;;AACA;;AACA;;AACI;;AAoBA;;AACA;;AAUJ;;AACJ;;;;;;;;AA9GiB;;AAAA,qGAA4C,UAA5C,EAA4C,GAA5C;;AAKJ;;AAAA;;AACF;;AAAA;;AAMA;;AAAA;;AAGE;;AAAA;;AAMS;;AAAA;;AAiDT;;AAAA;;AAQ8B;;AAAA;;AAoB4C;;AAAA;;AAC1E;;AAAA;;;;;;AAab;;AACI;;AAA+B;;AAAmB;;AAClD;;AACJ;;;;UDzGaI,kC;AAoBT,oDAAoB3hB,IAApB,EACoB0T,YADpB,EAEoB3T,WAFpB,EAE8C;AAAA;;AAF1B,eAAAC,IAAA,GAAAA,IAAA;AACA,eAAA0T,YAAA,GAAAA,YAAA;AACA,eAAA3T,WAAA,GAAAA,WAAA;AAjBV,eAAA6hB,2BAAA,GAA8B,IAAI,0DAAJ,EAA9B;AAUV,eAAAC,mBAAA,GAAsB,KAAtB;AAGA,eAAAC,QAAA,GAAW,KAAX;AAIiD;;;;qCAEzC,CACP;;;sCAEW;AAAA;;AACR,iBAAKpO,YAAL,CAAkBqO,eAAlB,CAAkC,KAAK/hB,IAAvC,EAA6C,KAAKmU,OAAlD,EAA2DtV,IAA3D,CACI,UAACqV,SAAD,EAAoB;AAChB,kBAAMvQ,QAAQ,GAAoBuQ,SAAlC;AACAjR,qBAAO,CAACC,GAAR,CAAYS,QAAZ;AACA,qBAAI,CAACgS,KAAL,GAAahS,QAAQ,CAACtB,IAAtB;AACAY,qBAAO,CAACC,GAAR,CAAY,OAAI,CAACyS,KAAjB;;AACA,kBAAI,OAAI,CAAC5V,WAAL,CAAiB+D,UAArB,EAAiC;AAC7B,uBAAI,CAACke,4BAAL;AACH;AACJ,aATL;AAWH;;;yDAE8B;AAAA;;AAC3B,iBAAKtO,YAAL,CAAkBuO,2BAAlB,CAA8C,KAAKjiB,IAAnD,EAAyD,KAAKmU,OAA9D,EAAuE,KAAKpU,WAAL,CAAiB+D,UAAjB,CAA4BmL,YAAnG,EAAiHpQ,IAAjH,CACI,UAACwD,IAAD,EAAe;AACXY,qBAAO,CAACC,GAAR,CAAYb,IAAZ;AACA,kBAAMsB,QAAQ,GAAoBtB,IAAlC;AACA,qBAAI,CAAC6f,wBAAL,GAAgCve,QAAQ,CAACtB,IAAzC;AACA,qBAAI,CAAC8f,gCAAL,GAAwCvhB,IAAI,CAACC,KAAL,CACpCD,IAAI,CAACE,SAAL,CAAe,OAAI,CAACohB,wBAApB,CADoC,CAAxC;AAGA,qBAAI,CAACE,oBAAL,GAA4B,EAA5B;;AAPW,0DAQ2B,OAAI,CAACF,wBARhC;AAAA;;AAAA;AAQX,uEAAqE;AAAA,sBAA1DG,uBAA0D;;AACjE,yBAAI,CAACD,oBAAL,CAA0B1X,IAA1B,CAA+B,KAA/B;AACH;AAVU;AAAA;AAAA;AAAA;AAAA;AAWd,aAZL;AAcH;;;8CAGmBjK,K,EAAsB;AACtC,gBAAIA,KAAK,CAAC8J,GAAN,KAAc,OAAd,IAAyB9J,KAAK,CAAC6hB,OAAnC,EAA4C,CACxC;AACH;AACJ;;;oDAEsB;AACnB,mBAAO,KAAKC,oBAAL,OAAgC,CAAC,CAAxC;AACH;;;iDAEmB;AAChB,mBAAO,KAAKH,oBAAL,CAA0Brd,OAA1B,CAAkC,KAAKqd,oBAAL,CAA0B5O,IAA1B,CAA+B,UAAArI,CAAC;AAAA,qBAAIA,CAAC,KAAK,IAAV;AAAA,aAAhC,CAAlC,CAAP;AACH;;;oCAESb,K,EAAOzF,I,EAAM;AACnB,mBAAOyF,KAAP;AACH;;;kDAEuBkY,mB,EAA6B;AAAA;;AACjD,iBAAK9O,YAAL,CAAkBwO,wBAAlB,CAA2C,KAAKliB,IAAhD,EAAsD,yEAAY0R,MAAlE,EAA0E,KAAKwQ,wBAAL,CAA8BM,mBAA9B,CAA1E,EAA8H3jB,IAA9H,CACI,UAACwD,IAAD,EAAe;AACXY,qBAAO,CAACC,GAAR,CAAYb,IAAZ;AACA,kBAAMsB,QAAQ,GAAoB/C,IAAI,CAACC,KAAL,CAAWwB,IAAX,CAAlC;AACAiD,wBAAU,CAAE,YAAM;AACd,uBAAI,CAACyF,MAAL,CAAYC,gCAAZ,CAA6CrH,QAA7C;AAAyD,eADnD,EACqD,IADrD,CAAV;AAEH,aANL;AAQA,iBAAKye,oBAAL,CAA0BI,mBAA1B,IAAiD,KAAjD;AAEA,iBAAKC,kBAAL;AACA,iBAAKT,4BAAL;AACH;;;iDAEsBQ,mB,EAA6B;AAAA;;AAChD,iBAAK9O,YAAL,CAAkBwO,wBAAlB,CAA2C,KAAKliB,IAAhD,EAAsD,yEAAY8R,GAAlE,EAAuE,KAAKoQ,wBAAL,CAA8BM,mBAA9B,CAAvE,EAA2H3jB,IAA3H,CACI,UAACwD,IAAD,EAAe;AACXY,qBAAO,CAACC,GAAR,CAAYb,IAAZ;AACA,kBAAMsB,QAAQ,GAAoB/C,IAAI,CAACC,KAAL,CAAWwB,IAAX,CAAlC;AACAiD,wBAAU,CAAE,YAAM;AACd,uBAAI,CAACyF,MAAL,CAAYC,gCAAZ,CAA6CrH,QAA7C;AAAyD,eADnD,EACqD,IADrD,CAAV;AAEH,aANL;AAQA,iBAAKye,oBAAL,CAA0BI,mBAA1B,IAAiD,KAAjD;AAEA,iBAAKC,kBAAL,GAXgD,CAYhD;AACH;;;4DAEiCD,mB,EAA6B;AAC3D,iBAAKN,wBAAL,CAA8BM,mBAA9B,EAAmDE,KAAnD,GAA2D,KAAKP,gCAAL,CAAsCK,mBAAtC,EAA2DE,KAAtH;AACA,iBAAKN,oBAAL,CAA0BI,mBAA1B,IAAiD,KAAjD;AACH;;;kDAEuB;AACpB,iBAAKG,0BAAL;AACA,iBAAKd,mBAAL,GAA2B,CAAC,KAAKA,mBAAjC;AACH;;;uDAE4B;AACzB,iBAAKe,sBAAL,GAA8B,IAA9B;AACA,iBAAKf,mBAAL,GAA2B,KAA3B;AACH;;;uDAE4B;AAAA;;AACzB,gBAAMgB,qBAAqB,GAAG;AAC1BC,qCAAuB,EAAE,IADC;AAE1B3O,qBAAO,EAAE,KAAKA,OAFY;AAG1BlF,0BAAY,EAAE,KAAKlP,WAAL,CAAiB+D,UAAjB,CAA4BmL,YAHhB;AAI1ByT,mBAAK,EAAE,KAAKE;AAJc,aAA9B;AAMA,iBAAKlP,YAAL,CAAkBwO,wBAAlB,CAA2C,KAAKliB,IAAhD,EAAsD,yEAAYgE,IAAlE,EAAwE6e,qBAAxE,EAA+FhkB,IAA/F,CACI,UAACwD,IAAD,EAAe;AACXY,qBAAO,CAACC,GAAR,CAAYb,IAAZ;AACA,kBAAMsB,QAAQ,GAAoB/C,IAAI,CAACC,KAAL,CAAWwB,IAAX,CAAlC;AACAiD,wBAAU,CAAE,YAAM;AACd,uBAAI,CAACyF,MAAL,CAAYC,gCAAZ,CAA6CrH,QAA7C;AAAyD,eADnD,EACqD,IADrD,CAAV;AAEH,aANL;AAQA,iBAAKif,sBAAL,GAA8B,IAA9B;AACA,iBAAKf,mBAAL,GAA2B,KAA3B;AAEA,iBAAKY,kBAAL,GAlByB,CAmBzB;AACH;;;+CAEoB;AAAA;;AACjB,iBAAKX,QAAL,GAAgB,IAAhB;AACA,iBAAKF,2BAAL,CAAiC3b,IAAjC,CAAsC,KAAK0P,KAAL,CAAWxB,OAAjD;;AACA,gBAAI,KAAKpU,WAAL,CAAiB+D,UAArB,EAAiC;AAC7BwB,wBAAU,CAAC,YAAM;AAAE,uBAAI,CAAC0c,4BAAL;AAAsC,eAA/C,EAAiD,IAAjD,CAAV;AACH;;AACD1c,sBAAU,CAAE,YAAM;AACd,qBAAI,CAACwc,QAAL,GAAgB,KAAhB;AACH,aAFS,EAEP,IAFO,CAAV;AAGH;;;6CAEkBiB,0B,EAAoC;AACnD,iBAAKJ,0BAAL;AACA,iBAAKK,0BAAL;AACA,iBAAKZ,oBAAL,CAA0BW,0BAA1B,IAAwD,IAAxD;AACH;;;uDAE4B;AACzB,gBAAI,KAAKE,uBAAL,EAAJ,EAAoC;AAChC,mBAAKC,iCAAL,CAAuC,KAAKX,oBAAL,EAAvC;AACH;AACJ;;;8DAEmCQ,0B,EAAkC;AAClE,mBAAQ,KAAKhjB,WAAL,CAAiB+D,UAAjB,IACD,KAAK/D,WAAL,CAAiB+D,UAAjB,CAA4BmL,YAA5B,KAA6C,KAAKiT,wBAAL,CAA8Ba,0BAA9B,EAA0D9T,YADvG,IAEA,KAAKlP,WAAL,CAAiBkB,YAAjB,EAFP;AAGH;;;8DAEgC;AAC7B,mBAAO,CAAC,CAAC,KAAKlB,WAAL,CAAiB+D,UAAnB,IAAiC,KAAK/D,WAAL,CAAiBkB,YAAjB,EAAxC;AACH;;;0DAE+B8hB,0B,EAAoC;AAAA;;AAChE,mBAAO,KAAK7P,WAAL,CACFM,IADE,CACG,UAAArI,CAAC;AAAA,qBAAIA,CAAC,CAAC8D,YAAF,KAAmB,OAAI,CAACiT,wBAAL,CAA8Ba,0BAA9B,EAA0D9T,YAAjF;AAAA,aADJ,EACmGmK,GAD1G;AAEH;;;yCAEc;AACX,mBAAO,KAAKrZ,WAAL,CAAiBkB,YAAjB,EAAP;AACH;;;4BAtLkB7B,E,EAAY;AAAE,iBAAK+U,OAAL,GAAe/U,EAAf;AAAmB,iBAAK+jB,SAAL;AAAmB;;;;;;;yBAF9DxB,kC,EAAkC,gI,EAAA,qI,EAAA,+H;AAAA,O;;;cAAlCA,kC;AAAkC,wD;AAAA;AAAA;;;;;;;;;;;;;qBAAlC,+B;AAA2B,a,EAAA,K,EAAA,+D;;;;;;;;;;;;;;;;ACbxC;;AAmHA;;AAKA;;;;AAxHyB;;AAmHpB;;AAAA;;;;;;;;;wEDtGQA,kC,EAAkC;gBAL9C,uDAK8C;iBALpC;AACTxgB,oBAAQ,EAAE,iCADD;AAETC,uBAAW,EAAE,8CAFJ;AAGTC,qBAAS,EAAE,CAAC,8CAAD;AAHF,W;AAKoC,U;;;;;;;;;AAE9B+hB,eAAK;kBAAjB;AAAiB,Y;AACTnU,sBAAY,EAAE,CAAF;kBAApB;AAAoB,WAAE,C;AACdiE,qBAAW,EAAE,CAAF;kBAAnB;AAAmB,WAAE,C;AACZ0O,qCAA2B;kBAApC;AAAoC,Y;AAChB7W,gBAAM,EAAE,CAAF;kBAA1B,uDAA0B;mBAAhB,Q;AAAgB,WAAE,C;AAqD7BsY,6BAAmB;kBADlB,0DACkB;mBADL,kB,EAAoB,CAAC,QAAD,C;AACf;;;;;;;;;;;;;;;;;;;AExEvB;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;ACiBQ;;AAAgC;;AAAiC;;;;;;AAAjC;;AAAA;;;;;;AAChC;;AAAqC;;AAAmB;;;;;;AAAnB;;AAAA;;;;;;AAE7B;;AAA+B;;AAA6B;;;;;;AAA7B;;AAAA;;;;;;AADV;;AAAiC;;AACtD;;AAAmE;;;;;;AADb;;AAAA;;AAChD;;AAAA;;;;;;AACV;;AAA+B;;AAAoD;;;;;;AAApD;;AAAA;;;;;;AAFnC;;AAA6B;;AAEzB;;AACJ;;;;;;AAHmC;;AAAA;;AAEzB;;AAAA;;;;;;AAEoB;;AAAiC;;AAA8B;;;;;;AAA9B;;AAAA;;;;;;AAAqC;;AACtE;;AAA6B;;;;;;AAA7B;;AAAA;;;;;;AAD9B;;AAA8B;;AAAsE;;AAClC;;;;;;AAD9B;;AAAA;;AAChC;;AAAA;;;;;;AACJ;;AACI;;AACA;;AACA;;AAAuD;;AAAE;;AAAM;;AAAsC;;AACzG;;;;;;AADU;;AAAA;;AAAyD;;AAAA;;;;;;AAcnC;;AAE8J;;AAAiB;;;;;;;;AAA3K;;AAA0J;;AAAA;;;;;;AAE1J;;AAAI;;AAAiB;;;;;;AAAjB;;AAAA;;;;;;AALZ;;AACI;;AAGA;;AAGJ;;;;;;;;;;AANQ;;AAAA,oSAC2J,UAD3J,EAC2J,IAD3J;;;;;;AAFZ;;AACI;;AAQJ;;;;;;AARkB;;AAAA;;;;;;AAUd;;AACI;;AAAI;;AAAmB;;AAC3B;;;;;;AADQ;;AAAA;;;;;;AAFZ;;AACI;;AAGJ;;;;;;AAHkB;;AAAA;;;;;;AAd1B;;AACI;;AACI;;AACA;;AAUA;;AAKA;;AACJ;;AACJ;;;;;;AAjBY;;AAAA;;AAUA;;AAAA;;;;;;AAdhB;;AACI;;AAqBJ;;;;;;;;AArBU;;AAAA;;;;;;AA2BE;;;;;;AAAiD;;;;;;AAFzD;;AACI;;AACI;;AACJ;;AACJ;;;;;;AAFY;;AAAA;;;;;;AAHhB;;AACI;;AAKJ;;;;;;;;AALU;;AAAA;;;;;;AA7BlB;;AACQ;;AAA+C;;AAE/C;;AAyBA;;AAOJ;;;;;;;;AAlCU;;AAAA;;AAEQ;;AAAA;;AAyBA;;AAAA;;;;;;AAU0B;;;;;;AAA4D;;;;;;AAA5G;;AAAgD;;AAA8F;;;;;;AAAxF;;AAAA;;;;;;AAxC1D;;AACI;;AAAI;;AAAsB;;AAC1B;;AAoCA;;AACA;;AACA;;AAAqJ;;AAAK;;AAC9J;;;;;;AAxCQ;;AAAA;;AACE;;AAAA;;AAsCA;;AAAA;;;;;;AAEV;;AACI;;AACA;;AACA;;AAAoD;;AAAE;;AAAM;;AAA6B;;AAC7F;;;;;;AADU;;AAAA;;AAAsD;;AAAA;;;;;;;;AAGhE;;AAAuE;AAAA;;AAAA;;AAAA;AAAA;;AAGnE;;AACJ;;;;;;AAHQ;;;;;;;;AAKJ;;AAAwC;AAAA;;AAAA;;AAAA;AAAA;;AAA2B;;AAAe;;;;;;;;;;;;;;AApF1F;;AACI;;AACI;;AACA;;AACI;;AAA2B;AAAA;;AAAA;;AAAA,4CAA+B,KAA/B;AAAoC,WAApC;;AACqE;;AAAkC;;AAClI;;AAA2B;AAAA;;AAAA;;AAAA,4CAA+B,cAA/B;AAA6C,WAA7C;;AACyE;;AAA2C;;AAC/I;;AAA2B;AAAA;;AAAA;;AAAA,4CAA+B,aAA/B;AAA4C,WAA5C;;AACwE;;AAA0C;;AAC7I;;AAA2B;AAAA;;AAAA;;AAAA,4CAA+B,UAA/B;AAAyC,WAAzC;;AACqE;;AAAuC;;AACvI;;AAA2B;AAAA;;AAAA;;AAAA,4CAA+B,OAA/B;AAAsC,WAAtC;;AAC2E;;AAAoC;;AAC9I;;AACJ;;AACA;;AACA;;AACA;;AAIA;;AAEA;;AAKA;;AACA;;AA0CA;;AAKA;;AAA8B;AAAA;;AAAA;;AAAA;AAAA;;AAA0D;;AAA0B;;AAClH;;AAKA;;AAGJ;;;;;;;;AApF4B;;AAAA;;AAEkD;;AAAA;;AAC8B;;AAAA;;AACrB;;AAAA;;AACyB;;AAAA;;AAC1B;;AAAA;;AACyB;;AAAA;;AAC5B;;AAAA;;AACyB;;AAAA;;AAC5B;;AAAA;;AACkC;;AAAA;;AAG1G;;AAAA;;AACC;;AAAA;;AACF;;AAAA;;AAIA;;AAAA;;AAEE;;AAAA;;AAMS;;AAAA;;AA0CT;;AAAA;;AAK0D;;AAAA;;AAC/B;;AAAA,2FAAsC,UAAtC,EAAsC,IAAtC;;;;;;;;AA0C5B;;AACI;;AACA;;AAAW;;AAAM;;AACb;;AAAU;AAAA;;AAAA;;AAAA;AAAA;;AAAyC;;AACvD;;AACJ;;;;;;AAFkB;;AAAA;;;;;;;;AAGlB;;AACI;;AACA;;AAAW;;AAAc;;AACrB;;AAAU;AAAA;;AAAA;;AAAA;AAAA;;AAAwC;;AACtD;;AACJ;;;;;;AAFkB;;AAAA;;;;;;AAVtB;;AACI;;AAMA;;AAMJ;;;;;;AAZU;;AAAA;;AAMA;;AAAA;;;;;;;;AAUN;;AACI;;AACA;;AAAW;;AAAM;;AACb;;AAAU;AAAA;;AAAA;;AAAA;AAAA;;AAAyC;;AACvD;;AACJ;;;;;;AAFkB;;AAAA;;;;;;;;AAIlB;;AACI;;AACA;;AAAW;;AAAgB;;AACvB;;AAAU;AAAA;;AAAA;;AAAA;AAAA;;AAAwC;;AACtD;;AACJ;;;;;;AAFkB;;AAAA;;;;;;;;AAIlB;;AACI;;AACA;;AAAW;;AAAS;;AAChB;;AAAU;AAAA;;AAAA;;AAAA;AAAA;;AAAuC;;AACrD;;AACJ;;;;;;AAFkB;;AAAA;;;;;;AAnBtB;;AAEI;;AAOA;;AAOA;;AAMJ;;;;;;AApBU;;AAAA;;AAOA;;AAAA;;AAOA;;AAAA;;;;;;;;AAQV;;AACI;;AACA;;AAAI;;AAAW;;AACf;;AACI;;AAAW;;AAAe;;AAC1B;;AAAU;AAAA;;AAAA;;AAAA;AAAA;;AAAkD;;AAChE;;AAEA;;AACI;;AAAW;;AAAiB;;AAC5B;;AAAU;AAAA;;AAAA;;AAAA;AAAA;;AAA0D;;AACxE;;AACJ;;;;;;AAPkB;;AAAA;;AAKA;;AAAA;;;;;;;;AA0Bc;;AAEI;;AACI;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAAmK;;AAC3K;;;;;;;;;;;;;;;;;AAHI;;AAEI;;AAAA;;;;;;;;AAGJ;;AACI;;AACI;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAAmK;;AAC3K;;;;;;;;;;;;;;AADQ;;AAAA;;;;;;AAVhB;;AAEI;;AAKA;;AAMJ;;;;;;;;;;AAXQ;;AAAA,wSAA+N,UAA/N,EAA+N,KAA/N;;;;;;AAHZ;;AACI;;AAcJ;;;;;;;;;;;;AAbQ;;AAAA,qOAAkM,cAAlM,EAAkM,kBAAlM;;;;;;;;AAeJ;;AAEI;;AACI;;AACI;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAA6J;;AACrK;;AACJ;;;;;;;;;;;;;;AAFY;;AAAA;;;;;;AALhB;;AACI;;AAOJ;;;;;;;;;;;;AANQ;;AAAA,+NAA8L,cAA9L,EAA8L,kBAA9L;;;;;;AArBhB;;AACI;;AACI;;AACA;;AAgBA;;AASA;;AACJ;;AACJ;;;;;;;;;;AA3BY;;AAAA;;AAgBA;;AAAA;;;;;;AArBhB;;AAEI;;AA+BJ;;;;;;;;AA/BU;;AAAA;;;;;;;;AAqCE;;AACI;;AACI;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AACsH;;AAC9H;;;;;;;;;;;;AAFQ;;AAAA,wMAAoH,MAApH,EAAoH,6IAApH;;;;;;AALhB;;AAEI;;AACI;;AAKJ;;AACJ;;;;;;;;;;AANY;;AAAA,kLAAsJ,cAAtJ,EAAsJ,kBAAtJ;;;;;;AAJhB;;AACI;;AAUJ;;;;;;;;;;;;AATQ;;AAAA;;;;;;;;AA1ChB;;AAEQ;;AACI;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAAwG;;AAAW;;AAEvH;;AAmCA;;AAYJ;;;;;;;;;;AAjDQ;;AAAA;;AAGA;;AAAA;;AAkCU;;AAAA;;;;;;;;AAetB;;AAEI;;AAAU;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAA6F;;AAC3G;;;;;;;;;;AADc;;AAAA;;;;;;;;AAlElB;;AACI;;AACA;;AAAI;;AAAa;;AACjB;;AACI;;AACI;;AAAW;;AAAkB;;AAC7B;;AAAU;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAAqE;;AACnF;;AACJ;;AACA;;AAqDA;;AACA;;AAAI;;AAAmB;;AACvB;;AAIJ;;;;;;;;AA9DsB;;AAAA;;AAId;;AAAA,sJAA6I,cAA7I,EAA6I,iBAA7I;;AAuDA;;AAAA,kJAA2H,cAA3H,EAA2H,iBAA3H;;;;;;;;AAIR;;AACI;;AACA;;AAAI;;AAAQ;;AACZ;;AACI;;AAAW;;AAAY;;AACvB;;AAAU;AAAA;;AAAA;;AAAA;AAAA;;AAA+C;;AAC7D;;AAEA;;AACI;;AAAW;;AAAc;;AACzB;;AAAU;AAAA;;AAAA;;AAAA;AAAA;;AAAiD;;AAC/D;;AACJ;;;;;;AAPkB;;AAAA;;AAKA;;AAAA;;;;;;;;AAnKtB;;AACI;;AACI;;AACA;;AACI;;AAA2B;AAAA;;AAAA;;AAAA,6CAA+B,KAA/B;AAAoC,WAApC;;AACqE;;AAAkC;;AAClI;;AAA2B;AAAA;;AAAA;;AAAA,6CAA+B,cAA/B;AAA6C,WAA7C;;AACyE;;AAA2C;;AAC/I;;AAA2B;AAAA;;AAAA;;AAAA,6CAA+B,aAA/B;AAA4C,WAA5C;;AACwE;;AAA0C;;AAC7I;;AAA2B;AAAA;;AAAA;;AAAA,6CAA+B,UAA/B;AAAyC,WAAzC;;AACqE;;AAAuC;;AACvI;;AAA2B;AAAA;;AAAA;;AAAA,6CAA+B,OAA/B;AAAsC,WAAtC;;AAC2E;;AAAoC;;AAC9I;;AACJ;;AACA;;AACI;;AACI;;AAAW;;AAAa;;AACxB;;AAAU;AAAA;;AAAA;;AAAA;AAAA;;AAAsC;;AACpD;;AACH;;AACD;;AACI;;AAAW;;AAAQ;;AACnB;;AAAU;AAAA;;AAAA;;AAAA;AAAA;;AAAmD;;AACjE;;AACA;;AACI;;AAAW;;AAAe;;AAC1B;;AAAU;AAAA;;AAAA;;AAAA;AAAA;;AAAuC;;AACrD;;AAEA;;AAeA;;AAwBA;;AAcA;;AAqEA;;AAaA;;AAAsC;AAAA;;AAAA;;AAAA;AAAA;;AAC4D;;AAAyB;;AAC3H;;AAAwC;AAAA;;AAAA;;AAAA;AAAA;;AAA8B;;AAAuB;;AACjG;;;;;;AAvK4B;;AAAA;;AAEkD;;AAAA;;AAC8B;;AAAA;;AACrB;;AAAA;;AACyB;;AAAA;;AAC1B;;AAAA;;AACyB;;AAAA;;AAC5B;;AAAA;;AACyB;;AAAA;;AAC5B;;AAAA;;AACkC;;AAAA;;AAM5F;;AAAA;;AAKJ;;AAAA;;AAIA;;AAAA;;AAGT;;AAAA;;AAeA;;AAAA;;AAwBA;;AAAA;;AAcS;;AAAA,yGAAsG,cAAtG,EAAsG,gBAAtG;;AAqET;;AAAA;;AAakE;;AAAA;;;;;;AA/P/E;;AACI;;AAwFA;;AA0KJ;;;;;;AAlQ6B;;AAAA;;AAwFA;;AAAA;;;;;;AA2K7B;;AACI;;AAA+B;;AAAmB;;AAClD;;AACJ;;;;;;AAOQ;;AACI;;AACJ;;;;;;AAFoD;;AAChD;;AAAA;;;;UDlQCC,wB;AAmBT,0CAAoBtjB,IAApB,EACoB0T,YADpB,EACgD;AAAA;;AAD5B,eAAA1T,IAAA,GAAAA,IAAA;AACA,eAAA0T,YAAA,GAAAA,YAAA;AAdV,eAAA6P,aAAA,GAAgB,IAAI,0DAAJ,EAAhB;AAQV,eAAA9D,mBAAA,GAAsB,KAAtB;AACA,eAAAlF,MAAA,GAAS,KAAT;AAEA,eAAAuH,QAAA,GAAW,KAAX;AAGmD;;;;qCAE3C,CACP;;;sCAEW;AAAA;;AACR,iBAAKpO,YAAL,CAAkBqO,eAAlB,CAAkC,KAAK/hB,IAAvC,EAA6C,KAAKmU,OAAlD,EAA2DtV,IAA3D,CACI,UAACqV,SAAD,EAAoB;AAChB,kBAAMvQ,QAAQ,GAAoBuQ,SAAlC;AACAjR,qBAAO,CAACC,GAAR,CAAYS,QAAZ;AACA,qBAAI,CAACgS,KAAL,GAAahS,QAAQ,CAACtB,IAAtB;AACA,qBAAI,CAACmhB,aAAL,GAAqB5iB,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,SAAL,CAAe,OAAI,CAAC6U,KAApB,CAAX,CAArB;AACA1S,qBAAO,CAACC,GAAR,CAAY,OAAI,CAACyS,KAAjB;AACH,aAPL;AASH;;;8CAGmBlV,K,EAAsB;AACtC,gBAAI,KAAKgf,mBAAL,IAA4Bhf,KAAK,CAAC8J,GAAN,KAAc,OAA1C,IAAqD9J,KAAK,CAAC6hB,OAA/D,EAAwE;AACpE,mBAAKmB,eAAL;AACH;AACJ;;;oCAESnZ,K,EAAOzF,I,EAAM;AACnB,mBAAOyF,KAAP;AACH;;;4CAEiB;AACd,iBAAKmV,mBAAL,GAA2B,CAAC,KAAKA,mBAAjC,CADc,CAEd;AACH;;;yCAEc;AACX,iBAAK9J,KAAL,GAAa/U,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,SAAL,CAAe,KAAK0iB,aAApB,CAAX,CAAb;AACH;;;sCAEW;AAAA;;AACR,iBAAKjJ,MAAL,GAAc,CAAC,KAAKA,MAApB;;AACA,gBAAI,KAAKA,MAAL,IAAe3Z,IAAI,CAACE,SAAL,CAAe,KAAK0iB,aAApB,MAAuC5iB,IAAI,CAACE,SAAL,CAAe,KAAK6U,KAApB,CAA1D,EAAsF;AAClF,mBAAKmM,QAAL,GAAgB,IAAhB;AACA,mBAAK4B,WAAL;AACA,mBAAKH,aAAL,CAAmBtd,IAAnB,CAAwB,KAAK0P,KAAL,CAAWxB,OAAnC;AACA7O,wBAAU,CAAE,YAAM;AAAE,uBAAI,CAAC6d,SAAL;AAAmB,eAA7B,EAA+B,IAA/B,CAAV;AACA7d,wBAAU,CAAE,YAAM;AACd,uBAAI,CAACwc,QAAL,GAAgB,KAAhB;AACA,uBAAI,CAACvH,MAAL,GAAc,KAAd;AACA,uBAAI,CAACkF,mBAAL,GAA2B,KAA3B;AACH,eAJS,EAIP,IAJO,CAAV;AAKH;AACJ;;;qDAE0B;AACvBxc,mBAAO,CAACC,GAAR,CAAY,KAAKqS,iBAAL,CAAuBtG,YAAnC;AACAhM,mBAAO,CAACC,GAAR,CAAY,KAAKyS,KAAL,CAAW1G,YAAvB;AACA,iBAAK0G,KAAL,CAAW1G,YAAX,GAA0B,CAAC,KAAK4E,uBAAhC;AACH;;;yCAEc5E,Y,EAAoB;AAC/BhM,mBAAO,CAACC,GAAR,CAAY,CAAC,CAAC,KAAKqS,iBAAL,CAAuBtG,YAAxB,KAAyC,CAACA,YAA3C,IAA2D,GAA3D,GAAiEA,YAAjE,GAAgF,GAA5F;AACA,mBAAO,CAACA,YAAD,KAAkB,CAAC,KAAKsG,iBAAL,CAAuBtG,YAAjD;AACH;;;6DAEkC;AAC/B,iBAAK,IAAIvF,CAAC,GAAG,CAAb,EAAiBA,CAAC,GAAG,KAAKiM,KAAL,CAAWgO,YAAX,CAAwB5d,MAA7C,EAAsD2D,CAAC,EAAvD,EAA2D;AACvD,mBAAK,IAAIuW,gBAAgB,GAAG,CAA5B,EACKA,gBAAgB,GAAG,KAAKtK,KAAL,CAAWgO,YAAX,CAAwBja,CAAxB,EAA2Bka,uBAA3B,CAAmD7d,MAD3E,EACoFka,gBAAgB,EADpG,EACwG;AACpG,oBAAI,KAAKtK,KAAL,CAAWgO,YAAX,CAAwBja,CAAxB,EAA2Bka,uBAA3B,CAAmD3D,gBAAnD,EAAqE4D,OAArE,CAA6E9d,MAA7E,KAAwF,CAA5F,EAA+F;AAC3F,uBAAK4P,KAAL,CAAWgO,YAAX,CAAwBja,CAAxB,EAA2Bka,uBAA3B,CAAmD9Z,MAAnD,CAA0DmW,gBAA1D,EAA4E,CAA5E;AACAA,kCAAgB;AACnB;AACJ;;AACD,kBAAI,KAAKtK,KAAL,CAAWgO,YAAX,CAAwBja,CAAxB,EAA2Boa,iBAA/B,EAAkD;AAC9C,qBAAK,IAAI5D,UAAU,GAAG,CAAtB,EAAyBA,UAAU,GAAG,KAAKvK,KAAL,CAAWgO,YAAX,CAAwBja,CAAxB,EAA2Boa,iBAA3B,CAA6C/d,MAAnF,EAA2Fma,UAAU,EAArG,EAAyG;AACrG,uBAAK,IAAIC,eAAe,GAAG,CAA3B,EAA8BA,eAAe,GAC7C,KAAKxK,KAAL,CAAWgO,YAAX,CAAwBja,CAAxB,EAA2Boa,iBAA3B,CAA6C5D,UAA7C,EAAyD6D,sBAAzD,CAAgFhe,MADhF,EACwFoa,eAAe,EADvG,EAC2G;AACvG,yBAAK,IAAIC,sBAAsB,GAAG,CAAlC,EAAqCA,sBAAsB,GAC3D,KAAKzK,KAAL,CAAWgO,YAAX,CAAwBja,CAAxB,EAA2Boa,iBAA3B,CAA6C5D,UAA7C,EACK6D,sBADL,CAC4B5D,eAD5B,EAC6C6D,6BAD7C,CAC2Eje,MAF3E,EAEmFqa,sBAAsB,EAFzG,EAE6G;AACzG,0BACC,KAAKzK,KAAL,CAAWgO,YAAX,CAAwBja,CAAxB,EAA2Boa,iBAA3B,CAA6C5D,UAA7C,EAAyD6D,sBAAzD,CAAgF5D,eAAhF,EACI6D,6BADJ,CACkC5D,sBADlC,EAC0DyD,OAD1D,CACkE9d,MADlE,KAC6E,CAF9E,EAEiF;AAC7E,6BAAK4P,KAAL,CAAWgO,YAAX,CAAwBja,CAAxB,EAA2Boa,iBAA3B,CAA6C5D,UAA7C,EAAyD6D,sBAAzD,CAAgF5D,eAAhF,EACK6D,6BADL,CACmCla,MADnC,CAC0CsW,sBAD1C,EACkE,CADlE;AAEAA,8CAAsB;AACzB;AACJ;;AACD,wBAAI,KAAKzK,KAAL,CAAWgO,YAAX,CAAwBja,CAAxB,EAA2Boa,iBAA3B,CAA6C5D,UAA7C,EACC6D,sBADD,CACwB5D,eADxB,EACyC6D,6BADzC,CACuEje,MADvE,KACkF,CADtF,EACyF;AACrF,2BAAK4P,KAAL,CAAWgO,YAAX,CAAwBja,CAAxB,EAA2Boa,iBAA3B,CAA6C5D,UAA7C,EAAyD6D,sBAAzD,CAAgFja,MAAhF,CAAuFqW,eAAvF,EAAwG,CAAxG;AACAA,qCAAe;AAClB;AACJ;;AACD,uBAAK,IAAIE,YAAY,GAAG,CAAxB,EAA2BA,YAAY,GACvC,KAAK1K,KAAL,CAAWgO,YAAX,CAAwBja,CAAxB,EAA2Boa,iBAA3B,CAA6C5D,UAA7C,EAAyD+D,mBAAzD,CAA6Ele,MAD7E,EACqFsa,YAAY,EADjG,EACqG;AACjG,yBAAK,IAAIE,mBAAmB,GAAG,CAA/B,EAAkCA,mBAAmB,GACrD,KAAK5K,KAAL,CAAWgO,YAAX,CAAwBja,CAAxB,EAA2Boa,iBAA3B,CAA6C5D,UAA7C,EAAyD+D,mBAAzD,CAA6E5D,YAA7E,EACK6D,0BADL,CACgCne,MAFhC,EAEwCwa,mBAAmB,EAF3D,EAE+D;AAC3D,0BAAI,KAAK5K,KAAL,CAAWgO,YAAX,CAAwBja,CAAxB,EAA2Boa,iBAA3B,CAA6C5D,UAA7C,EAAyD+D,mBAAzD,CAA6E5D,YAA7E,EACC6D,0BADD,CAC4B3D,mBAD5B,EACiDsD,OADjD,CACyD9d,MADzD,KACoE,CADxE,EAC2E;AACvE,6BAAK4P,KAAL,CAAWgO,YAAX,CAAwBja,CAAxB,EAA2Boa,iBAA3B,CAA6C5D,UAA7C,EACK+D,mBADL,CACyB5D,YADzB,EACuC6D,0BADvC,CACkEpa,MADlE,CACyEyW,mBADzE,EAC8F,CAD9F;AAEAA,2CAAmB;AACtB;AACJ;;AACD,wBAAI,KAAK5K,KAAL,CAAWgO,YAAX,CAAwBja,CAAxB,EAA2Boa,iBAA3B,CAA6C5D,UAA7C,EACC+D,mBADD,CACqB5D,YADrB,EACmC6D,0BADnC,CAC8Dne,MAD9D,KACyE,CAD7E,EACgF;AAC5E,2BAAK4P,KAAL,CAAWgO,YAAX,CAAwBja,CAAxB,EAA2Boa,iBAA3B,CAA6C5D,UAA7C,EAAyD+D,mBAAzD,CAA6Ena,MAA7E,CAAoFuW,YAApF,EAAkG,CAAlG;AACAA,kCAAY;AACf;AACJ;;AACD,sBAAI,KAAK1K,KAAL,CAAWgO,YAAX,CAAwBja,CAAxB,EAA2Boa,iBAA3B,CAA6C5D,UAA7C,EAAyD6D,sBAAzD,CAAgFhe,MAAhF,KAA2F,CAA3F,IACG,KAAK4P,KAAL,CAAWgO,YAAX,CAAwBja,CAAxB,EAA2Boa,iBAA3B,CAA6C5D,UAA7C,EAAyD+D,mBAAzD,CAA6Ele,MAA7E,KAAwF,CAD/F,EACkG;AAC9F,yBAAK4P,KAAL,CAAWgO,YAAX,CAAwBja,CAAxB,EAA2Boa,iBAA3B,CAA6Cha,MAA7C,CAAoDoW,UAApD,EAAgE,CAAhE;AACAA,8BAAU;AACb;AACJ;AACJ;;AACD,kBAAI,KAAKvK,KAAL,CAAWgO,YAAX,CAAwBja,CAAxB,EAA2Bya,cAA/B,EAA+C;AAC3C,qBAAK,IAAI3D,OAAO,GAAG,CAAnB,EAAsBA,OAAO,GAAG,KAAK7K,KAAL,CAAWgO,YAAX,CAAwBja,CAAxB,EAA2Bya,cAA3B,CAA0Cpe,MAA1E,EAAkFya,OAAO,EAAzF,EAA6F;AACzF,uBAAK,IAAIC,OAAO,GAAG,CAAnB,EAAsBA,OAAO,GAAG,KAAK9K,KAAL,CAAWgO,YAAX,CAAwBja,CAAxB,EAC3Bya,cAD2B,CACZ3D,OADY,EACH4D,qBADG,CACmBre,MADnD,EAC2D0a,OAAO,EADlE,EACsE;AAClE,wBAAI,KAAK9K,KAAL,CAAWgO,YAAX,CAAwBja,CAAxB,EAA2Bya,cAA3B,CAA0C3D,OAA1C,EAAmD4D,qBAAnD,CAAyE3D,OAAzE,EAAkFoD,OAAlF,CAA0F9d,MAA1F,KAAqG,CAAzG,EAA4G;AACxG,2BAAK4P,KAAL,CAAWgO,YAAX,CAAwBja,CAAxB,EAA2Bya,cAA3B,CAA0C3D,OAA1C,EAAmD4D,qBAAnD,CAAyEta,MAAzE,CAAgF2W,OAAhF,EAAyF,CAAzF;AACAA,6BAAO;AACV;AACJ;;AACD,sBAAI,KAAK9K,KAAL,CAAWgO,YAAX,CAAwBja,CAAxB,EAA2Bya,cAA3B,CAA0Cpe,MAA1C,KAAqD,CAAzD,EAA4D;AACxD,yBAAK4P,KAAL,CAAWgO,YAAX,CAAwBja,CAAxB,EAA2Bya,cAA3B,CAA0Cra,MAA1C,CAAiD0W,OAAjD,EAA0D,CAA1D;AACAA,2BAAO;AACV;AACJ;AACJ;;AAED,mBAAK,IAAI6D,UAAU,GAAG,CAAtB,EACKA,UAAU,GAAG,KAAK1O,KAAL,CAAWgO,YAAX,CAAwBja,CAAxB,EAA2B4a,mBAA3B,CAA+Cve,MADjE,EAC0Ese,UAAU,EADpF,EACwF;AACpF,oBAAI,KAAK1O,KAAL,CAAWgO,YAAX,CAAwBja,CAAxB,EAA2B4a,mBAA3B,CAA+CD,UAA/C,EAA2DR,OAA3D,CAAmE9d,MAAnE,KAA8E,CAAlF,EAAqF;AACjF,uBAAK4P,KAAL,CAAWgO,YAAX,CAAwBja,CAAxB,EAA2B4a,mBAA3B,CAA+Cxa,MAA/C,CAAsDua,UAAtD,EAAkE,CAAlE;AACAA,4BAAU;AACb;AACJ;;AAED,kBAAI,KAAK1O,KAAL,CAAWsE,QAAf,EAAyB;AACrB,oBAAI,KAAKtE,KAAL,CAAWsE,QAAX,CAAoByI,KAApB,CAA0B3c,MAA1B,KAAqC,CAArC,IAA0C,KAAK4P,KAAL,CAAWsE,QAAX,CAAoBb,GAApB,CAAwBrT,MAAxB,KAAmC,CAAjF,EAAoF;AAChF,uBAAK4P,KAAL,CAAWsE,QAAX,GAAsB,IAAtB;AACH;AACJ;;AAED,kBAAI,KAAKtE,KAAL,CAAWqF,WAAf,EAA4B;AACxB,oBAAI,KAAKrF,KAAL,CAAWqF,WAAX,CAAuB8D,WAAvB,CAAmC/Y,MAAnC,KAA8C,CAA9C,IAAmD,KAAK4P,KAAL,CAAWqF,WAAX,CAAuB5B,GAAvB,CAA2BrT,MAA3B,KAAsC,CAA7F,EAAgG;AAC5F,uBAAK4P,KAAL,CAAWqF,WAAX,GAAyB,IAAzB;AACH;AACJ;;AAED,kBAAI,KAAKrF,KAAL,CAAWgO,YAAX,CAAwBja,CAAxB,EAA2Bka,uBAA3B,CAAmD7d,MAAnD,KAA8D,CAA9D,IACG,CAAC,KAAK4P,KAAL,CAAWgO,YAAX,CAAwBja,CAAxB,EAA2Boa,iBAD/B,IAEG,CAAC,KAAKnO,KAAL,CAAWgO,YAAX,CAAwBja,CAAxB,EAA2Bya,cAFnC,EAEmD;AAC/ClhB,uBAAO,CAACC,GAAR,CAAY,0CAA0C,KAAKyS,KAAL,CAAWgO,YAAX,CAAwBja,CAAxB,EAA2BtJ,KAAjF;AACA,qBAAKuV,KAAL,CAAWgO,YAAX,CAAwB7Z,MAAxB,CAA+BJ,CAA/B,EAAkC,CAAlC;AACAA,iBAAC;AACJ;AACJ;AACJ;;;2CAEgByU,I,EAAc;AAC3B,oBAAQA,IAAI,CAACxZ,WAAL,EAAR;AACI,mBAAK,KAAL;AACI,qBAAKgR,KAAL,CAAW4F,WAAX,GAAyB,CAAC,KAAK5F,KAAL,CAAW4F,WAArC;AACA;;AACJ,mBAAK,cAAL;AACI,qBAAK5F,KAAL,CAAW6F,oBAAX,GAAkC,CAAC,KAAK7F,KAAL,CAAW6F,oBAA9C;AACA;;AACJ,mBAAK,aAAL;AACI,qBAAK7F,KAAL,CAAW8F,mBAAX,GAAiC,CAAC,KAAK9F,KAAL,CAAW8F,mBAA7C;AACA;;AACJ,mBAAK,UAAL;AACI,qBAAK9F,KAAL,CAAW+F,gBAAX,GAA8B,CAAC,KAAK/F,KAAL,CAAW+F,gBAA1C;AACA;;AACJ,mBAAK,OAAL;AACI,qBAAK/F,KAAL,CAAWgG,aAAX,GAA2B,CAAC,KAAKhG,KAAL,CAAWgG,aAAvC;AACA;AAfR;;AAkBA,iBAAK4I,kBAAL,CAAwB,KAAK5O,KAA7B,EAAoC,KAAK6N,aAAzC;AACH,W,CAED;AACA;AACA;AACA;AACA;;;;wCACc;AACV,iBAAKgB,cAAL;;AACA,gBAAI,KAAKC,YAAL,EAAJ,EAAyB;AACrB;AACA,mBAAK/Q,YAAL,CAAkBiC,KAAlB,CAAwB,KAAK3V,IAA7B,EAAmC,yEAAY0R,MAA/C,EAAuD,CAAvD,EAA0D,KAAKiE,KAA/D,EACK9W,IADL,CAEQ,UAACwD,IAAD,EAAe;AACXY,uBAAO,CAACC,GAAR,CAAYb,IAAZ;AACH,eAJT;AAMH,aARD,MAQO;AACH,mBAAK,IAAIqiB,UAAU,GAAG,CAAtB,EAAyBA,UAAU,GAAG,KAAK/O,KAAL,CAAWgO,YAAX,CAAwB5d,MAA9D,EAAsE2e,UAAU,EAAhF,EAAoF;AAChF,oBAAI,KAAKC,mBAAL,CAAyB,KAAKhP,KAAL,CAAWgO,YAAX,CAAwBe,UAAxB,CAAzB,CAAJ,EAAmE;AAC/D;AACA,uBAAKhR,YAAL,CAAkBiQ,YAAlB,CAA+B,KAAK3jB,IAApC,EAA0C,yEAAY0R,MAAtD,EAA8D,CAA9D,EAAiE,KAAKiE,KAAL,CAAWgO,YAAX,CAAwBe,UAAxB,CAAjE,EACK7lB,IADL,CAEQ,UAACwD,IAAD,EAAe;AACXY,2BAAO,CAACC,GAAR,CAAYb,IAAZ;AACH,mBAJT;AAMH,iBARD,MAQO;AACH,uBAAK,IAAI6d,UAAU,GAAG,CAAtB,EAAyBA,UAAU,GAAG,KAAKvK,KAAL,CAAWgO,YAAX,CAAwBe,UAAxB,EAAoCZ,iBAApC,CAAsD/d,MAA5F,EAAoGma,UAAU,EAA9G,EAAkH;AAC9G,wBAAI,KAAK0E,YAAL,CAAkB,KAAKjP,KAAL,CAAWgO,YAAX,CAAwBe,UAAxB,EAAoCZ,iBAApC,CAAsD5D,UAAtD,CAAlB,CAAJ,EAA0F;AACtF;AACA,2BAAKxM,YAAL,CAAkBtC,KAAlB,CAAwB,KAAKpR,IAA7B,EAAmC,yEAAY0R,MAA/C,EAAuD,CAAvD,EACI,KAAKiE,KAAL,CAAWgO,YAAX,CAAwBe,UAAxB,EAAoCZ,iBAApC,CAAsD5D,UAAtD,CADJ,EAEKrhB,IAFL,CAGQ,UAACwD,IAAD,EAAe;AACXY,+BAAO,CAACC,GAAR,CAAYb,IAAZ;AACH,uBALT;AAOH,qBATD,MASO;AACH,0BAAI,KAAKwiB,kBAAL,CAAwB,KAAKlP,KAAL,CAAWgO,YAAX,CAAwBe,UAAxB,EAAoCZ,iBAApC,CAAsD5D,UAAtD,CAAxB,EACA,KAAKsD,aAAL,CAAmBG,YAAnB,CAAgCe,UAAhC,EAA4CZ,iBAA5C,CAA8D5D,UAA9D,CADA,CAAJ,EACgF;AAC5E;AACA,6BAAKxM,YAAL,CAAkBtC,KAAlB,CAAwB,KAAKpR,IAA7B,EAAmC,yEAAY8R,GAA/C,EAAoD,CAApD,EACI,KAAK6D,KAAL,CAAWgO,YAAX,CAAwBe,UAAxB,EAAoCZ,iBAApC,CAAsD5D,UAAtD,CADJ,EAEKrhB,IAFL,CAGQ,UAACwD,IAAD,EAAe;AACXY,iCAAO,CAACC,GAAR,CAAYb,IAAZ;AACH,yBALT;AAOH;;AACD,2BAAK,IAAIyiB,UAAU,GAAG,CAAtB,EACKA,UAAU,GAAG,KAAKnP,KAAL,CAAWgO,YAAX,CAAwBe,UAAxB,EAAoCZ,iBAApC,CAAsD5D,UAAtD,EACR6D,sBADQ,CACehe,MAFjC,EAGK+e,UAAU,EAHf,EAGmB;AACf,4BAAI,KAAKC,iBAAL,CAAuB,KAAKpP,KAAL,CAAWgO,YAAX,CAAwBe,UAAxB,EAAoCZ,iBAApC,CAAsD5D,UAAtD,EACtB6D,sBADsB,CACCe,UADD,CAAvB,CAAJ,EAC0C;AACtC;AACA,+BAAKpR,YAAL,CAAkBtT,KAAlB,CAAwB,KAAKJ,IAA7B,EAAmC,yEAAY0R,MAA/C,EAAuD,CAAvD,EACI,KAAKiE,KAAL,CAAWgO,YAAX,CAAwBe,UAAxB,EAAoCZ,iBAApC,CAAsD5D,UAAtD,EACK6D,sBADL,CAC4Be,UAD5B,CADJ,EAGKjmB,IAHL,CAIQ,UAACwD,IAAD,EAAe;AACXY,mCAAO,CAACC,GAAR,CAAYb,IAAZ;AACH,2BANT;AAQH,yBAXD,MAWO;AACH,8BAAI,KAAK2iB,uBAAL,CAA6B,KAAKrP,KAAL,CAAWgO,YAAX,CAAwBe,UAAxB,EAAoCZ,iBAApC,CAAsD5D,UAAtD,EACxB6D,sBADwB,CACDe,UADC,CAA7B,EAEA,KAAKtB,aAAL,CAAmBG,YAAnB,CAAgCe,UAAhC,EAA4CZ,iBAA5C,CAA8D5D,UAA9D,EACK6D,sBADL,CAC4Be,UAD5B,CAFA,CAAJ,EAG8C;AAC1C;AACA,iCAAKpR,YAAL,CAAkBtT,KAAlB,CAAwB,KAAKJ,IAA7B,EAAmC,yEAAY8R,GAA/C,EAAoD,CAApD,EACI,KAAK6D,KAAL,CAAWgO,YAAX,CAAwBe,UAAxB,EAAoCZ,iBAApC,CAAsD5D,UAAtD,EACK6D,sBADL,CAC4Be,UAD5B,CADJ,EAGKjmB,IAHL,CAIQ,UAACwD,IAAD,EAAe;AACXY,qCAAO,CAACC,GAAR,CAAYb,IAAZ;AACH,6BANT;AAQH;;AACD,+BAAK,IAAI4iB,iBAAiB,GAAG,CAA7B,EACKA,iBAAiB,GAAG,KAAKtP,KAAL,CAAWgO,YAAX,CAAwBe,UAAxB,EAAoCZ,iBAApC,CAAsD5D,UAAtD,EACf6D,sBADe,CACQe,UADR,EACoBd,6BADpB,CACkDje,MAF3E,EAGKkf,iBAAiB,EAHtB,EAG0B;AACtB,gCAAI,KAAKC,wBAAL,CAA8B,KAAKvP,KAAL,CAAWgO,YAAX,CAAwBe,UAAxB,EAAoCZ,iBAApC,CAAsD5D,UAAtD,EAC7B6D,sBAD6B,CACNe,UADM,EACMd,6BADN,CACoCiB,iBADpC,CAA9B,CAAJ,EAC2F;AACvF;AACA,mCAAKvR,YAAL,CAAkByR,YAAlB,CAA+B,KAAKnlB,IAApC,EAA0C,yEAAY0R,MAAtD,EAA8D,CAA9D,EACI,KAAKiE,KAAL,CAAWgO,YAAX,CAAwBe,UAAxB,EAAoCZ,iBAApC,CAAsD5D,UAAtD,EACK6D,sBADL,CAC4Be,UAD5B,EAEKd,6BAFL,CAEmCiB,iBAFnC,CADJ,EAG2DpmB,IAH3D,CAII,UAACwD,IAAD,EAAe;AACXY,uCAAO,CAACC,GAAR,CAAYb,IAAZ;AACH,+BANL;AAQH,6BAXD,MAWO;AACH,kCAAI,KAAK+iB,8BAAL,CAAoC,KAAKzP,KAAL,CAAWgO,YAAX,CAAwBe,UAAxB,EAC/BZ,iBAD+B,CACb5D,UADa,EACD6D,sBADC,CACsBe,UADtB,EAE/Bd,6BAF+B,CAEDiB,iBAFC,CAApC,EAGA,KAAKzB,aAAL,CAAmBG,YAAnB,CAAgCe,UAAhC,EAA4CZ,iBAA5C,CAA8D5D,UAA9D,EACK6D,sBADL,CAC4Be,UAD5B,EAEKd,6BAFL,CAEmCiB,iBAFnC,CAHA,CAAJ,EAK4D;AACxD;AACA,qCAAKvR,YAAL,CAAkByR,YAAlB,CAA+B,KAAKnlB,IAApC,EAA0C,yEAAY8R,GAAtD,EAA2D,CAA3D,EACI,KAAK6D,KAAL,CAAWgO,YAAX,CAAwBe,UAAxB,EAAoCZ,iBAApC,CAAsD5D,UAAtD,EACK6D,sBADL,CAC4Be,UAD5B,EAEKd,6BAFL,CAEmCiB,iBAFnC,CADJ,EAG2DpmB,IAH3D,CAII,UAACwD,IAAD,EAAe;AACXY,yCAAO,CAACC,GAAR,CAAYb,IAAZ;AACH,iCANL;AAQH;AACJ;AACJ;AACJ;AACJ;;AACD,2BAAK,IAAIgjB,OAAO,GAAG,CAAnB,EACKA,OAAO,GAAG,KAAK1P,KAAL,CAAWgO,YAAX,CAAwBe,UAAxB,EAAoCZ,iBAApC,CAAsD5D,UAAtD,EAAkE+D,mBAAlE,CAAsFle,MADrG,EAEKsf,OAAO,EAFZ,EAEgB;AACZ,4BAAI,KAAKC,cAAL,CAAoB,KAAK3P,KAAL,CAAWgO,YAAX,CAAwBe,UAAxB,EAAoCZ,iBAApC,CAAsD5D,UAAtD,EACnB+D,mBADmB,CACCoB,OADD,CAApB,CAAJ,EACoC;AAChC;AACA,+BAAK3R,YAAL,CAAkB4M,EAAlB,CAAqB,KAAKtgB,IAA1B,EAAgC,yEAAY0R,MAA5C,EAAoD,CAApD,EACI,KAAKiE,KAAL,CAAWgO,YAAX,CAAwBe,UAAxB,EAAoCZ,iBAApC,CAAsD5D,UAAtD,EAAkE+D,mBAAlE,CAAsFoB,OAAtF,CADJ,EAEKxmB,IAFL,CAGQ,UAACwD,IAAD,EAAe;AACXY,mCAAO,CAACC,GAAR,CAAYb,IAAZ;AACH,2BALT;AAOH,yBAVD,MAUO;AACH,8BAAI,KAAKkjB,oBAAL,CAA0B,KAAK5P,KAAL,CAAWgO,YAAX,CAAwBe,UAAxB,EAAoCZ,iBAApC,CAAsD5D,UAAtD,EACrB+D,mBADqB,CACDoB,OADC,CAA1B,EAEA,KAAK7B,aAAL,CAAmBG,YAAnB,CAAgCe,UAAhC,EAA4CZ,iBAA5C,CAA8D5D,UAA9D,EACK+D,mBADL,CACyBoB,OADzB,CAFA,CAAJ,EAGwC;AACpC;AACA,iCAAK3R,YAAL,CAAkB4M,EAAlB,CAAqB,KAAKtgB,IAA1B,EAAgC,yEAAY8R,GAA5C,EAAiD,CAAjD,EACI,KAAK6D,KAAL,CAAWgO,YAAX,CAAwBe,UAAxB,EAAoCZ,iBAApC,CAAsD5D,UAAtD,EAAkE+D,mBAAlE,CAAsFoB,OAAtF,CADJ,EAEKxmB,IAFL,CAGQ,UAACwD,IAAD,EAAe;AACXY,qCAAO,CAACC,GAAR,CAAYb,IAAZ;AACH,6BALT;AAOH;;AACD,+BAAK,IAAImjB,cAAc,GAAG,CAA1B,EACKA,cAAc,GAAG,KAAK7P,KAAL,CAAWgO,YAAX,CAAwBe,UAAxB,EAAoCZ,iBAApC,CAAsD5D,UAAtD,EACZ+D,mBADY,CACQoB,OADR,EACiBnB,0BADjB,CAC4Cne,MAFlE,EAGKyf,cAAc,EAHnB,EAGuB;AACnB,gCAAI,KAAKC,qBAAL,CAA2B,KAAK9P,KAAL,CAAWgO,YAAX,CAAwBe,UAAxB,EAAoCZ,iBAApC,CAAsD5D,UAAtD,EAC1B+D,mBAD0B,CACNoB,OADM,EACGnB,0BADH,CAC8BsB,cAD9B,CAA3B,CAAJ,EAC+E;AAC3E;AACA,mCAAK9R,YAAL,CAAkBgS,SAAlB,CAA4B,KAAK1lB,IAAjC,EAAuC,yEAAY0R,MAAnD,EAA2D,CAA3D,EACI,KAAKiE,KAAL,CAAWgO,YAAX,CAAwBe,UAAxB,EAAoCZ,iBAApC,CAAsD5D,UAAtD,EACK+D,mBADL,CACyBoB,OADzB,EACkCnB,0BADlC,CAC6DsB,cAD7D,CADJ,EAEkF3mB,IAFlF,CAGI,UAACwD,IAAD,EAAe;AACXY,uCAAO,CAACC,GAAR,CAAYb,IAAZ;AACH,+BALL;AAOH,6BAVD,MAUO;AACH,kCAAI,KAAKsjB,2BAAL,CAAiC,KAAKhQ,KAAL,CAAWgO,YAAX,CAAwBe,UAAxB,EAC5BZ,iBAD4B,CACV5D,UADU,EACE+D,mBADF,CACsBoB,OADtB,EAE5BnB,0BAF4B,CAEDsB,cAFC,CAAjC,EAGA,KAAKhC,aAAL,CAAmBG,YAAnB,CAAgCe,UAAhC,EAA4CZ,iBAA5C,CAA8D5D,UAA9D,EACK+D,mBADL,CACyBoB,OADzB,EACkCnB,0BADlC,CAC6DsB,cAD7D,CAHA,CAAJ,EAImF;AAC/E;AACA,qCAAK9R,YAAL,CAAkBgS,SAAlB,CAA4B,KAAK1lB,IAAjC,EAAuC,yEAAY8R,GAAnD,EAAwD,CAAxD,EACI,KAAK6D,KAAL,CAAWgO,YAAX,CAAwBe,UAAxB,EAAoCZ,iBAApC,CAAsD5D,UAAtD,EACK+D,mBADL,CACyBoB,OADzB,EACkCnB,0BADlC,CAC6DsB,cAD7D,CADJ,EAEkF3mB,IAFlF,CAGI,UAACwD,IAAD,EAAe;AACXY,yCAAO,CAACC,GAAR,CAAYb,IAAZ;AACH,iCALL;AAOH;AACJ;AACJ;AACJ;AACJ;AACJ;AACJ;;AAED,uBAAK,IAAIme,OAAO,GAAG,CAAnB,EAAsBA,OAAO,GAAG,KAAK7K,KAAL,CAAWgO,YAAX,CAAwBe,UAAxB,EAAoCP,cAApC,CAAmDpe,MAAnF,EAA2Fya,OAAO,EAAlG,EAAsG;AAClG,wBAAI,KAAKoF,SAAL,CAAe,KAAKjQ,KAAL,CAAWgO,YAAX,CAAwBe,UAAxB,EAAoCP,cAApC,CAAmD3D,OAAnD,CAAf,CAAJ,EAAiF;AAC7E;AACA,2BAAK9M,YAAL,CAAkBsL,EAAlB,CAAqB,KAAKhf,IAA1B,EAAgC,yEAAY0R,MAA5C,EAAoD,CAApD,EACI,KAAKiE,KAAL,CAAWgO,YAAX,CAAwBe,UAAxB,EAAoCP,cAApC,CAAmD3D,OAAnD,CADJ,EACiE3hB,IADjE,CAEI,UAACwD,IAAD,EAAe;AACXY,+BAAO,CAACC,GAAR,CAAYb,IAAZ;AACH,uBAJL;AAMH,qBARD,MAQO;AACH,0BAAI,KAAKwjB,eAAL,CAAqB,KAAKlQ,KAAL,CAAWgO,YAAX,CAAwBe,UAAxB,EAAoCP,cAApC,CAAmD3D,OAAnD,CAArB,EACA,KAAKgD,aAAL,CAAmBG,YAAnB,CAAgCe,UAAhC,EAA4CP,cAA5C,CAA2D3D,OAA3D,CADA,CAAJ,EAC0E;AACtE;AACA,6BAAK9M,YAAL,CAAkBsL,EAAlB,CAAqB,KAAKhf,IAA1B,EAAgC,yEAAY8R,GAA5C,EAAiD,CAAjD,EACI,KAAK6D,KAAL,CAAWgO,YAAX,CAAwBe,UAAxB,EAAoCP,cAApC,CAAmD3D,OAAnD,CADJ,EACiE3hB,IADjE,CAEI,UAACwD,IAAD,EAAe;AACXY,iCAAO,CAACC,GAAR,CAAYb,IAAZ;AACH,yBAJL;AAMH;;AACD,2BAAK,IAAIyjB,cAAc,GAAG,CAA1B,EACKA,cAAc,GAAG,KAAKnQ,KAAL,CAAWgO,YAAX,CAAwBe,UAAxB,EAAoCP,cAApC,CAAmD3D,OAAnD,EAA4D4D,qBAA5D,CAAkFre,MADxG,EAEK+f,cAAc,EAFnB,EAEuB;AACnB,4BAAI,KAAKC,gBAAL,CAAsB,KAAKpQ,KAAL,CAAWgO,YAAX,CAAwBe,UAAxB,EAAoCP,cAApC,CAAmD3D,OAAnD,EACrB4D,qBADqB,CACC0B,cADD,CAAtB,CAAJ,EAC6C;AACzC;AACA,+BAAKpS,YAAL,CAAkBsS,SAAlB,CAA4B,KAAKhmB,IAAjC,EAAuC,yEAAY0R,MAAnD,EAA2D,CAA3D,EACI,KAAKiE,KAAL,CAAWgO,YAAX,CAAwBe,UAAxB,EAAoCP,cAApC,CAAmD3D,OAAnD,EACK4D,qBADL,CAC2B0B,cAD3B,CADJ,EAEgDjnB,IAFhD,CAGI,UAACwD,IAAD,EAAe;AACXY,mCAAO,CAACC,GAAR,CAAYb,IAAZ;AACH,2BALL;AAOH,yBAVD,MAUO;AACH,8BAAI,KAAK4jB,sBAAL,CAA4B,KAAKtQ,KAAL,CAAWgO,YAAX,CAAwBe,UAAxB,EAAoCP,cAApC,CAAmD3D,OAAnD,EACvB4D,qBADuB,CACD0B,cADC,CAA5B,EAEA,KAAKtC,aAAL,CAAmBG,YAAnB,CAAgCe,UAAhC,EAA4CP,cAA5C,CAA2D3D,OAA3D,EACK4D,qBADL,CAC2B0B,cAD3B,CAFA,CAAJ,EAGiD;AAC7C;AACA7iB,mCAAO,CAACC,GAAR,CAAY,iCACR,KAAKyS,KAAL,CAAWgO,YAAX,CAAwBe,UAAxB,EAAoCP,cAApC,CAAmD3D,OAAnD,EACK4D,qBADL,CAC2B0B,cAD3B,EAC2CjC,OAFnC,GAE6C,OAF7C,GAGR,KAAKL,aAAL,CAAmBG,YAAnB,CAAgCe,UAAhC,EAA4CP,cAA5C,CAA2D3D,OAA3D,EACK4D,qBADL,CAC2B0B,cAD3B,EAC2CjC,OAJ/C;AAKA,iCAAKnQ,YAAL,CAAkBsS,SAAlB,CAA4B,KAAKhmB,IAAjC,EAAuC,yEAAY8R,GAAnD,EAAwD,CAAxD,EACI,KAAK6D,KAAL,CAAWgO,YAAX,CAAwBe,UAAxB,EAAoCP,cAApC,CAAmD3D,OAAnD,EACK4D,qBADL,CAC2B0B,cAD3B,CADJ,EAEgDjnB,IAFhD,CAGI,UAACwD,IAAD,EAAe;AACXY,qCAAO,CAACC,GAAR,CAAYb,IAAZ;AACH,6BALL;AAOH;AACJ;AACJ;AACJ;AACJ;;AAGD,uBAAK,IAAI4d,gBAAgB,GAAG,CAA5B,EAA+BA,gBAAgB,GAAG,KAAKtK,KAAL,CAAWgO,YAAX,CAAwBe,UAAxB,EAAoCd,uBAApC,CAA4D7d,MAA9G,EACKka,gBAAgB,EADrB,EACyB;AACrB,wBAAI,KAAKiG,kBAAL,CAAwB,KAAKvQ,KAAL,CAAWgO,YAAX,CAAwBe,UAAxB,EAAoCd,uBAApC,CAA4D3D,gBAA5D,CAAxB,CAAJ,EAA4G;AACxG;AACA,2BAAKvM,YAAL,CAAkBoL,WAAlB,CAA8B,KAAK9e,IAAnC,EAAyC,yEAAY0R,MAArD,EAA6D,CAA7D,EACI,KAAKiE,KAAL,CAAWgO,YAAX,CAAwBe,UAAxB,EAAoCd,uBAApC,CAA4D3D,gBAA5D,CADJ,EAEKphB,IAFL,CAGQ,UAACwD,IAAD,EAAe;AACXY,+BAAO,CAACC,GAAR,CAAYb,IAAZ;AACH,uBALT;AAOH,qBATD,MASO;AACH,0BAAI,KAAK8jB,wBAAL,CAA8B,KAAKxQ,KAAL,CAAWgO,YAAX,CAAwBe,UAAxB,EAAoCd,uBAApC,CAA4D3D,gBAA5D,CAA9B,EACA,KAAKuD,aAAL,CAAmBG,YAAnB,CAAgCe,UAAhC,EAA4Cd,uBAA5C,CAAoE3D,gBAApE,CADA,CAAJ,EAC4F;AACxF;AACA,6BAAKvM,YAAL,CAAkBoL,WAAlB,CAA8B,KAAK9e,IAAnC,EAAyC,yEAAY8R,GAArD,EAA0D,CAA1D,EACI,KAAK6D,KAAL,CAAWgO,YAAX,CAAwBe,UAAxB,EAAoCd,uBAApC,CAA4D3D,gBAA5D,CADJ,EAEKphB,IAFL,CAGQ,UAACwD,IAAD,EAAe;AACXY,iCAAO,CAACC,GAAR,CAAYb,IAAZ;AACH,yBALT;AAOH;AACJ;AACJ;;AAGD,uBAAK,IAAIgiB,UAAU,GAAG,CAAtB,EAAyBA,UAAU,GAAG,KAAK1O,KAAL,CAAWgO,YAAX,CAAwBe,UAAxB,EAAoCJ,mBAApC,CAAwDve,MAA9F,EACKse,UAAU,EADf,EACmB;AACf,wBAAI,KAAK+B,WAAL,CAAiB,KAAKzQ,KAAL,CAAWgO,YAAX,CAAwBe,UAAxB,EAAoCJ,mBAApC,CAAwDD,UAAxD,CAAjB,CAAJ,EAA2F;AACvF;AACA,2BAAK3Q,YAAL,CAAkBqL,KAAlB,CAAwB,KAAK/e,IAA7B,EAAmC,yEAAY0R,MAA/C,EAAuD,CAAvD,EACI,KAAKiE,KAAL,CAAWgO,YAAX,CAAwBe,UAAxB,EAAoCJ,mBAApC,CAAwDD,UAAxD,CADJ,EAEKxlB,IAFL,CAGQ,UAACwD,IAAD,EAAe;AACXY,+BAAO,CAACC,GAAR,CAAYb,IAAZ;AACH,uBALT;AAOH,qBATD,MASO;AACH,0BAAI,KAAKgkB,iBAAL,CAAuB,KAAK1Q,KAAL,CAAWgO,YAAX,CAAwBe,UAAxB,EAAoCJ,mBAApC,CAAwDD,UAAxD,CAAvB,EACA,KAAKb,aAAL,CAAmBG,YAAnB,CAAgCe,UAAhC,EAA4CJ,mBAA5C,CAAgED,UAAhE,CADA,CAAJ,EACkF;AAC9E;AACA,6BAAK3Q,YAAL,CAAkBqL,KAAlB,CAAwB,KAAK/e,IAA7B,EAAmC,yEAAY8R,GAA/C,EAAoD,CAApD,EACI,KAAK6D,KAAL,CAAWgO,YAAX,CAAwBe,UAAxB,EAAoCJ,mBAApC,CAAwDD,UAAxD,CADJ,EAEKxlB,IAFL,CAGQ,UAACwD,IAAD,EAAe;AACXY,iCAAO,CAACC,GAAR,CAAYb,IAAZ;AACH,yBALT;AAOH;AACJ;AACJ;;AAED,sBAAI,KAAKikB,0BAAL,CAAgC,KAAK3Q,KAAL,CAAWgO,YAAX,CAAwBe,UAAxB,CAAhC,EAAqE,KAAKlB,aAAL,CAAmBG,YAAnB,CAAgCe,UAAhC,CAArE,CAAJ,EAAuH;AACnH;AACA,yBAAKhR,YAAL,CAAkBiQ,YAAlB,CAA+B,KAAK3jB,IAApC,EAA0C,yEAAY8R,GAAtD,EAA2D,CAA3D,EAA8D,KAAK6D,KAAL,CAAWgO,YAAX,CAAwBe,UAAxB,CAA9D,EACK7lB,IADL,CAEQ,UAACwD,IAAD,EAAe;AACXY,6BAAO,CAACC,GAAR,CAAYb,IAAZ;AACH,qBAJT;AAMH;AACJ;AACJ;;AACD,kBAAI,KAAKkiB,kBAAL,CAAwB,KAAK5O,KAA7B,EAAoC,KAAK6N,aAAzC,CAAJ,EAA6D;AACzD,qBAAK9P,YAAL,CAAkBiC,KAAlB,CAAwB,KAAK3V,IAA7B,EAAmC,yEAAY8R,GAA/C,EAAoD,CAApD,EAAuD,KAAK6D,KAA5D,EAAmE9W,IAAnE,CACI,UAACwD,IAAD,EAAe;AACXY,yBAAO,CAACC,GAAR,CAAYb,IAAZ;AACH,iBAHL;AAKH;AACJ;AACJ;;;2CAEgB;AACb,iBAAKsT,KAAL,CAAWgF,OAAX,GAAqB,KAAKhF,KAAL,CAAWgF,OAAX,GAAqB,KAAKhF,KAAL,CAAWgF,OAAX,CAAmB5U,MAAnB,KAA8B,CAA9B,GAAkC,KAAK4P,KAAL,CAAWgF,OAA7C,GAAuD,IAA5E,GAAmF,IAAxG;AACA,iBAAKhF,KAAL,CAAWyD,GAAX,GAAiB,KAAKzD,KAAL,CAAWyD,GAAX,GAAiB,KAAKzD,KAAL,CAAWyD,GAAX,CAAerT,MAAf,KAA0B,CAA1B,GAA8B,KAAK4P,KAAL,CAAWyD,GAAzC,GAA+C,IAAhE,GAAuE,IAAxF;AACA,iBAAKzD,KAAL,CAAWwD,IAAX,GAAkB,KAAKxD,KAAL,CAAWwD,IAAX,GAAkB,KAAKxD,KAAL,CAAWwD,IAAX,CAAgBpT,MAAhB,KAA2B,CAA3B,GAA+B,KAAK4P,KAAL,CAAWwD,IAA1C,GAAiD,IAAnE,GAA0E,IAA5F;AACA,iBAAKxD,KAAL,CAAWqE,MAAX,GAAoB,KAAKrE,KAAL,CAAWqE,MAAX,GAAoB,KAAKrE,KAAL,CAAWqE,MAAX,CAAkBjU,MAAlB,KAA6B,CAA7B,GAAiC,KAAK4P,KAAL,CAAWqE,MAA5C,GAAqD,IAAzE,GAAgF,IAApG;AACA,iBAAKrE,KAAL,CAAWsF,SAAX,GAAuB,KAAKtF,KAAL,CAAWsF,SAAX,GAAuB,KAAKtF,KAAL,CAAWsF,SAAX,CAAqBlV,MAArB,KAAgC,CAAhC,GAAoC,KAAK4P,KAAL,CAAWsF,SAA/C,GAA2D,IAAlF,GAAyF,IAAhH;AACA,iBAAKtF,KAAL,CAAWuF,QAAX,GAAsB,KAAKvF,KAAL,CAAWuF,QAAX,GAAsB,KAAKvF,KAAL,CAAWuF,QAAX,CAAoBnV,MAApB,KAA+B,CAA/B,GAAmC,KAAK4P,KAAL,CAAWuF,QAA9C,GAAyD,IAA/E,GAAsF,IAA5G;AACA,iBAAKvF,KAAL,CAAWmF,MAAX,GAAoB,KAAKnF,KAAL,CAAWmF,MAAX,GAAoB,KAAKnF,KAAL,CAAWmF,MAAX,CAAkB/U,MAAlB,KAA6B,CAA7B,GAAiC,KAAK4P,KAAL,CAAWmF,MAA5C,GAAqD,IAAzE,GAAgF,IAApG;AACA,iBAAKnF,KAAL,CAAWwF,aAAX,GAA2B,KAAKxF,KAAL,CAAWwF,aAAX,GACvB,KAAKxF,KAAL,CAAWwF,aAAX,CAAyBpV,MAAzB,KAAoC,CAApC,GAAwC,KAAK4P,KAAL,CAAWwF,aAAnD,GAAmE,IAD5C,GAErB,IAFN;AAGA,iBAAKxF,KAAL,CAAW2F,gBAAX,GAA8B,KAAK3F,KAAL,CAAW2F,gBAAX,GAC1B,KAAK3F,KAAL,CAAW2F,gBAAX,CAA4BvV,MAA5B,KAAuC,CAAvC,GAA2C,KAAK4P,KAAL,CAAW2F,gBAAtD,GAAyE,IAD/C,GAExB,IAFN;AAGA,iBAAK3F,KAAL,CAAWiE,MAAX,GAAoB,KAAKjE,KAAL,CAAWiE,MAAX,GAAoB,KAAKjE,KAAL,CAAWiE,MAAX,CAAkB7T,MAAlB,KAA6B,CAA7B,GAAiC,KAAK4P,KAAL,CAAWiE,MAA5C,GAAqD,IAAzE,GAAgF,IAApG;AACH;;;uCAEYkK,iB,EAAoC;AAAA,wDACzBA,iBAAiB,CAACC,sBADO;AAAA;;AAAA;AAC7C,qEAA8D;AAAA,oBAAnD3jB,KAAmD;;AAC1D,oBAAI,CAAC,KAAK2kB,iBAAL,CAAuB3kB,KAAvB,CAAL,EAAoC;AAChC,yBAAO,KAAP;AACH;AACJ;AAL4C;AAAA;AAAA;AAAA;AAAA;;AAAA,wDAM5B0jB,iBAAiB,CAACG,mBANU;AAAA;;AAAA;AAM7C,qEAAwD;AAAA,oBAA7C3D,EAA6C;;AACpD,oBAAI,CAAC,KAAKgF,cAAL,CAAoBhF,EAApB,CAAL,EAA8B;AAC1B,yBAAO,KAAP;AACH;AACJ;AAV4C;AAAA;AAAA;AAAA;AAAA;;AAW7C,mBAAO,IAAP;AACH;;;4CAEiByD,sB,EAA8C;AAAA,yDACjCA,sBAAsB,CAACC,6BADU;AAAA;;AAAA;AAC5D,wEAAiF;AAAA,oBAAtEmB,YAAsE;;AAC7E,oBAAI,CAAC,KAAKD,wBAAL,CAA8BC,YAA9B,CAAL,EAAkD;AAC9C,yBAAO,KAAP;AACH;AACJ;AAL2D;AAAA;AAAA;AAAA;AAAA;;AAM5D,mBAAO,IAAP;AACH;;;mDAEwBnB,6B,EAA4D;AACjF,mBAAOA,6BAA6B,CAACH,OAA9B,CAAsC9d,MAAtC,KAAiD,CAAjD,IAAsD,CAAE,CAAC,CAACie,6BAA6B,CAACH,OAA/F;AACH;;;yCAEcI,mB,EAAwC;AAAA,yDAC3BA,mBAAmB,CAACC,0BADO;AAAA;;AAAA;AACnD,wEAAwE;AAAA,oBAA7DwB,SAA6D;;AACpE,oBAAI,CAAC,KAAKD,qBAAL,CAA2BC,SAA3B,CAAL,EAA4C;AACxC,yBAAO,KAAP;AACH;AACJ;AALkD;AAAA;AAAA;AAAA;AAAA;;AAMnD,mBAAO,IAAP;AACH;;;gDAEqBxB,0B,EAAsD;AACxE,mBAAO,CAAE,CAAC,CAACA,0BAA0B,CAACL,OAA/B,IAA2CK,0BAA0B,CAACL,OAA3B,CAAmC9d,MAAnC,KAA8C,CAAhG;AACH;;;oCAESoe,c,EAA8B;AAAA,yDACZA,cAAc,CAACC,qBADH;AAAA;;AAAA;AACpC,wEAA8D;AAAA,oBAAnD4B,SAAmD;;AAC1D,oBAAI,CAAC,KAAKD,gBAAL,CAAsBC,SAAtB,CAAL,EAAuC;AACnC,yBAAO,KAAP;AACH;AACJ;AALmC;AAAA;AAAA;AAAA;AAAA;;AAMpC,mBAAO,IAAP;AACH;;;2CAEgB5B,qB,EAA4C;AACzD,mBAAOA,qBAAqB,CAACP,OAAtB,CAA8B9d,MAA9B,KAAyC,CAAhD;AACH;;;8CAEmBwgB,wB,EAAqD;AAAA,yDAC3CA,wBAD2C;AAAA;;AAAA;AACrE,wEAAoD;AAAA,oBAAzCzH,WAAyC;;AAChD,oBAAI,CAAC,KAAKoH,kBAAL,CAAwBpH,WAAxB,CAAL,EAA2C;AACvC,yBAAO,KAAP;AACH;AACJ;AALoE;AAAA;AAAA;AAAA;AAAA;;AAMrE,mBAAO,IAAP;AACH;;;6CAEkBA,W,EAAoC;AACnD,mBAAO,CAAE,CAAC,CAACA,WAAW,CAAC+E,OAAhB,IAA4B/E,WAAW,CAAC+E,OAAZ,CAAoB9d,MAApB,KAA+B,CAAlE;AACH;;;uCAEYygB,iB,EAA0C;AAAA,yDAC/BA,iBAD+B;AAAA;;AAAA;AACnD,wEAAuC;AAAA,oBAA5BzH,KAA4B;;AACnC,oBAAI,CAAC,KAAKqH,WAAL,CAAiBrH,KAAjB,CAAL,EAA8B;AAC1B,yBAAO,KAAP;AACH;AACJ;AALkD;AAAA;AAAA;AAAA;AAAA;;AAMnD,mBAAO,IAAP;AACH;;;sCAEW0H,I,EAA2B;AACnC,mBAAO,CAAE,CAAC,CAACA,IAAI,CAAC5C,OAAT,IAAqB4C,IAAI,CAAC5C,OAAL,CAAa9d,MAAb,KAAwB,CAApD;AACH;;;8CAEmB4d,Y,EAA8B;AAAA,yDAC1BA,YAAY,CAACG,iBADa;AAAA;;AAAA;AAC9C,wEAAoD;AAAA,oBAAzC1S,KAAyC;;AAChD,oBAAI,CAAC,KAAKwT,YAAL,CAAkBxT,KAAlB,CAAL,EAA+B;AAC3B,yBAAO,KAAP;AACH;AACJ;AAL6C;AAAA;AAAA;AAAA;AAAA;;AAAA,yDAM7BuS,YAAY,CAACQ,cANgB;AAAA;;AAAA;AAM9C,wEAA8C;AAAA,oBAAnCnF,EAAmC;;AAC1C,oBAAI,CAAC,KAAK4G,SAAL,CAAe5G,EAAf,CAAL,EAAyB;AACrB,yBAAO,KAAP;AACH;AACJ;AAV6C;AAAA;AAAA;AAAA;AAAA;;AAW9C,gBAAI,CAAC,KAAK0H,mBAAL,CAAyB/C,YAAY,CAACC,uBAAtC,CAAL,EAAqE;AACjE,qBAAO,KAAP;AACH;;AAED,mBAAO,IAAP;AACH;;;yCAEW;AACR,gBAAI,KAAKjO,KAAL,CAAWyD,GAAX,CAAerT,MAAf,KAA0B,CAA1B,IACI,KAAK4P,KAAL,CAAWqF,WAAX,KAA2B,KAAKrF,KAAL,CAAWqF,WAAX,CAAuB5B,GAAvB,CAA2BrT,MAA3B,KAAsC,CAAtC,IAA2C,KAAK4P,KAAL,CAAWqF,WAAX,CAAuB8D,WAAvB,CAAmC/Y,MAAnC,KAA8C,CAApH,CADJ,IAEI,KAAK4P,KAAL,CAAWsE,QAAX,KAAwB,KAAKtE,KAAL,CAAWsE,QAAX,CAAoBb,GAApB,CAAwBrT,MAAxB,KAAmC,CAAnC,IAAwC,KAAK4P,KAAL,CAAWsE,QAAX,CAAoByI,KAApB,CAA0B3c,MAA1B,KAAqC,CAArG,CAFR,EAEkH;AAC9G,qBAAO,KAAP;AACH;;AALO,yDAMY,KAAK4P,KAAL,CAAWgO,YANvB;AAAA;;AAAA;AAMR,wEAA6C;AAAA,oBAAlCjB,KAAkC;;AACzC,oBAAI,CAAC,KAAKiC,mBAAL,CAAyBjC,KAAzB,CAAL,EAAsC;AAClC,yBAAO,KAAP;AACH;AACJ;AAVO;AAAA;AAAA;AAAA;AAAA;;AAWR,mBAAO,IAAP;AACH;;;6CAEkBiE,M,EAA2BC,M,EAAyB;AACnE,mBAAOD,MAAM,CAACE,cAAP,KAA0BD,MAAM,CAACC,cAAjC,IAAmDF,MAAM,CAACG,QAAP,KAAoBF,MAAM,CAACE,QAArF;AACH;;;kDAEuBH,M,EAAgCC,M,EAA8B;AAClF,mBAAOD,MAAM,CAACI,mBAAP,KAA+BH,MAAM,CAACG,mBAA7C;AACH;;;yDAE8BJ,M,EAAuCC,M,EAAqC;AACvG,mBAAOD,MAAM,CAACK,wBAAP,KAAoCJ,MAAM,CAACI,wBAA3C,IAAuEL,MAAM,CAAC9C,OAAP,KAAmB+C,MAAM,CAAC/C,OAAxG;AACH;;;+CAEoB8C,M,EAA6BC,M,EAA2B;AACzE,mBAAOD,MAAM,CAACI,mBAAP,KAA+BH,MAAM,CAACG,mBAA7C;AACH;;;sDAE2BJ,M,EAAoCC,M,EAAkC;AAC9F,mBAAOD,MAAM,CAACM,qBAAP,KAAiCL,MAAM,CAACK,qBAAxC,IAAiEN,MAAM,CAAC9C,OAAP,KAAmB+C,MAAM,CAAC/C,OAAlG;AACH;;;0CAEe8C,M,EAAwBC,M,EAAsB;AAC1D,mBAAOD,MAAM,CAACE,cAAP,KAA0BD,MAAM,CAACC,cAAjC,IAAmDF,MAAM,CAACG,QAAP,KAAoBF,MAAM,CAACE,QAArF;AACH;;;iDAEsBH,M,EAA+BC,M,EAA6B;AAC/E,mBAAOD,MAAM,CAACO,gBAAP,KAA4BN,MAAM,CAACM,gBAAnC,IAAuDP,MAAM,CAAC9C,OAAP,KAAmB+C,MAAM,CAAC/C,OAAxF;AACH;;;mDAEwBsD,Y,EAAuCC,Y,EAAqC;AACjG,mBAAOD,YAAY,CAACN,cAAb,KAAgCO,YAAY,CAACP,cAA7C,IAA+DM,YAAY,CAACtD,OAAb,KAAyBuD,YAAY,CAACvD,OAA5G;AACH;;;4CAEiBwD,M,EAA6BC,M,EAA2B;AACtE,mBAAOD,MAAM,CAACR,cAAP,KAA0BS,MAAM,CAACT,cAAjC,IAAmDQ,MAAM,CAACxD,OAAP,KAAmByD,MAAM,CAACzD,OAApF;AACH;;;qDAE0B0D,M,EAAwBC,M,EAAsB;AACrE,mBAAOD,MAAM,CAACpT,OAAP,KAAmBqT,MAAM,CAACrT,OAA1B,IAAqCoT,MAAM,CAACnnB,KAAP,KAAiBonB,MAAM,CAACpnB,KAApE;AACH;;;6CAEkBqnB,M,EAA2BC,M,EAAyB;AACnE,gBAAMC,UAAU,GAAG/mB,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,SAAL,CAAe2mB,MAAf,CAAX,CAAnB,CADmE,CAEnE;AACA;AACA;;AACA,gBAAMG,UAAU,GAAGhnB,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,SAAL,CAAe4mB,MAAf,CAAX,CAAnB,CALmE,CAMnE;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;;AACA,mBAAO,CAAC,4CAAK,CAACC,UAAD,EAAaC,UAAb,CAAb;AACH;;;4BAvrBkBxoB,E,EAAY;AAAE,iBAAK+U,OAAL,GAAe/U,EAAf;AAAmB,iBAAKmb,MAAL,GAAc,KAAd;AAAqB,iBAAKkF,mBAAL,GAA2B,KAA3B;AACxC,iBAAK0D,SAAL;AAAkB,iBAAKtP,uBAAL,GAA+B,KAAK0B,iBAAL,CAAuBtG,YAAtD;AAAqE;;;;;;;yBAL/GqU,wB,EAAwB,gI,EAAA,qI;AAAA,O;;;cAAxBA,wB;AAAwB,6C;AAAA;AAAA;;qBAAxB,+B;AAA2B,a,EAAA,K,EAAA,+D;;;;;;;;;;;;;;;;ACbxC;;AAoQA;;AAKA;;AACI;;AAAkC;;AAAkD;;AACpF;;AAAuD;AAAA,qBAAU,IAAAuE,wBAAA,EAAV;AAAoC,aAApC,EAAqC,eAArC,EAAqC;AAAA;AAAA,aAArC;;AAEnD;;AAAiB;;AAAM;;AACvB;;AAGJ;;AACJ;;;;AAlRyB;;AAoQpB;;AAAA;;AAQO;;AAAA;;AAEI;;AAAA;;;;;;;;;wEDjQHvE,wB,EAAwB;gBALpC,uDAKoC;iBAL1B;AACPniB,oBAAQ,EAAE,sBADH;AAEPC,uBAAW,EAAE,mCAFN;AAGPC,qBAAS,EAAE,CAAC,mCAAD;AAHJ,W;AAK0B,U;;;;;;;AAExB6R,qBAAW,EAAE,CAAF;kBAAnB;AAAmB,WAAE,C;AACbqC,2BAAiB,EAAE,CAAF;kBAAzB;AAAyB,WAAE,C;AACf6N,eAAK;kBAAjB;AAAiB,Y;AAERG,uBAAa;kBAAtB;AAAsB,Y;AAgCvBF,6BAAmB;kBADlB,0DACkB;mBADL,kB,EAAoB,CAAC,QAAD,C;AACf;;;;;;;;;;;;;;;;;;;AEnDvB;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;;;ACEI;;AACI;;AAAQ;AAAA;;AAAA;;AAAA;AAAA;;AAA8C;;AAAqB;;AAC/E;;;;;;AAOY;;AACI;;AACJ;;;;;;AAFoD;;AAChD;;AAAA;;;;;;AAMJ;;AAAoC;;AAAyB;;;;;;AAAzB;;AAAA;;;;;;AAoBpC;;AACI;;AACI;;AAAmB;;AAAqB;;AACxC;;AAAK;;AAAkD;;AACvD;;AAAK;;AAAoD;;AACzD;;AAAK;;AAA8C;;AACnD;;AAAK;;AAA0C;;AAC/C;;AAAK;;AAAgD;;AACrD;;AAAK;;AAA8C;;AACnD;;AAAK;;AAA6C;;AAClD;;AAAK;;AAAuD;;AAC5D;;AAAK;;AAA6C;;AAClD;;AAAK;;AAA0C;;AAC/C;;AAAK;;AAA+C;;AACxD;;AACA;;AACI;;AAAmB;;AAAkB;;AACrC;;AAAK;;AAAwC;;AAC7C;;AAAK;;AAAwC;;AAC7C;;AAAK;;AAAoD;;AACzD;;AAAK;;AAA6C;;AAClD;;AAAK;;AAAwC;;AAC7C;;AAAK;;AAAuC;;AAC5C;;AAAK;;AAAwC;;AAC7C;;AAAK;;AAAwC;;AAC7C;;AAAK;;AAAqC;;AAC1C;;AAAK;;AAAiD;;AAC1D;;AACA;;AACI;;AAAmB;;AAAgB;;AACnC;;AAAK;;AAAyC;;AAC9C;;AAAK;;AAA+C;;AACpD;;AAAK;;AAAuC;;AAC5C;;AAAK;;AAAiD;;AACtD;;AAAK;;AAA8C;;AACnD;;AAAK;;AAAgD;;AACrD;;AAAK;;AAAyC;;AAC9C;;AAAK;;AAAoC;;AAC7C;;AACA;;AACI;;AAAmB;;AAAc;;AACjC;;AAAK;;AAAoC;;AACzC;;AAAK;;AAAoC;;AACzC;;AAAK;;AAAgC;;AACzC;;AACA;;AACI;;AAAmB;;AAAqB;;AACxC;;AAAK;;AAAgD;;AACzD;;AACJ;;;;;;AA9Ca;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AAIA;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AAIA;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AAIA;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AAIA;;AAAA;;;;;;;;AArErB;;AACI;;AACI;;AACJ;;AACA;;AACI;;AACI;;AACI;;AAAK;;AAAsD;;AAC3D;;AAAK;;AAAwC;;AAC7C;;AAAK;;AAA4C;;AACrD;;AACA;;AACI;;AAAK;;AAA4C;;AACjD;;AAAK;;AAAsD;;AAC3D;;AAAK;;AAA8C;;AACnD;;AAAK;;AAAsC;;AAC/C;;AACJ;;AACA;;AAAc;AAAA;;AAAA;;AAAA;AAAA;;AAEV;;AACJ;;AACA;;AAkDJ;;AACJ;;;;;;AAvEY;;AAAA;;AAKS;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AAGA;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AAGC;;AAAA;;AAIuB;;AAAA;;;;;;AAyD7B;;AACI;;AACJ;;;;;;AAKQ;;AAAqC;;AAAK;;AAAG;;AAAiB;;AAAI;;;;;;AAArB;;AAAA;;;;;;AAFjD;;AACI;;AAAG;;AAA+B;;AAClC;;AACJ;;;;;;;;AAFO;;AAAA;;AACW;;AAAA;;;;;;AAGd;;AAAG;;AAAiB;;;;;;AAAjB;;AAAA;;;;;;;;AAZnB;;AACI;;AACI;;AAGA;;AAA+B;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAE3B;;AAIA;;AAGJ;;AACJ;;AACJ;;;;;;;;;;AAdqC;;AAAA;;AAIrB;;AAAA;;AACE;;AAAA,kGAAuC,UAAvC,EAAuC,IAAvC;;;;;;;;AAYtB;;AACI;;AAEA;AAAA;;AAAA;;AAAA;AAAA;;AAA4D;;AAChE;;;;;;AAHqC;;AAAA,sGAA2B,cAA3B,EAA2B,qCAA3B,EAA2B,OAA3B,EAA2B,qBAA3B;;;;UDpGpCyE,mB;AAeT,qCAAoB9nB,IAApB,EACoB0T,YADpB,EAEoB9E,iBAFpB,EAGmB7O,WAHnB,EAImBE,MAJnB,EAImC;AAAA;;AAJf,eAAAD,IAAA,GAAAA,IAAA;AACA,eAAA0T,YAAA,GAAAA,YAAA;AACA,eAAA9E,iBAAA,GAAAA,iBAAA;AACD,eAAA7O,WAAA,GAAAA,WAAA;AACA,eAAAE,MAAA,GAAAA,MAAA;AAZnB,eAAA8nB,+BAAA,GAAkC,KAAlC;AAKA,eAAAnU,iBAAA,GAAoB,KAApB;AAQC;;;;qCAEO;AAAA;;AACJ,iBAAKhF,iBAAL,CAAuBqE,iBAAvB,CAAyC,KAAKjT,IAA9C,EAAoD,IAApD,EAA0DnB,IAA1D,CACI,UAACwD,IAAD,EAAe;AACXY,qBAAO,CAACC,GAAR,CAAYb,IAAZ;AACA,kBAAMsB,QAAQ,GAAGtB,IAAjB;AACA,qBAAI,CAAC6Q,WAAL,GAAmBvP,QAAQ,CAACtB,IAA5B;AACH,aALL;AAOH;;;6CAEkB;AAAA;;AACf,gBAAI,CAAC,KAAKwR,uBAAN,KAAkC,CAAtC,EAAyC;AACrC,mBAAKC,cAAL,GAAsB,IAAtB;AACA,mBAAKC,iBAAL,GAAyB,KAAKb,WAAL,CAAiBM,IAAjB,CAAsB,UAAArI,CAAC;AAAA,uBAAIA,CAAC,CAAC8D,YAAF,KAAmB,CAAC,OAAI,CAAC4E,uBAA7B;AAAA,eAAvB,CAAzB;AACA,mBAAKG,eAAL;AACH;AACJ;;;4CAEwB;AAAA;;AACrB,iBAAKN,YAAL,CAAkBO,iBAAlB,CAAoC,KAAKjU,IAAzC,EAA+C,KAAK6T,uBAApD,EAA6EhV,IAA7E,CACI,UAACqV,SAAD,EAAoB;AAChB,kBAAMvQ,QAAQ,GAAoBuQ,SAAlC;AACAjR,qBAAO,CAACC,GAAR,CAAYS,QAAZ;AACA,qBAAI,CAACgQ,kBAAL,GAA0BhQ,QAAQ,CAACtB,IAAnC;AACAY,qBAAO,CAACC,GAAR,CAAY,OAAI,CAACyQ,kBAAjB;AACH,aANL;AAQH;;;sCAEkBQ,O,EAAiB;AAChC,iBAAKL,cAAL,GAAsBK,OAAtB;AACH;;;kCAEO3B,W,EAAqB;AACzB,oBAAQA,WAAW,CAAC7N,WAAZ,EAAR;AACI,mBAAK,cAAL;AACI,uBAAOwN,IAAI,CAACE,KAAL,CAAW,CAAC,KAAK0B,iBAAL,CAAuBzE,YAAvB,GAAsC,EAAvC,IAA6C,CAAxD,CAAP;;AACJ,mBAAK,OAAL;AACI,uBAAO6C,IAAI,CAACE,KAAL,CAAW,CAAC,KAAK0B,iBAAL,CAAuBxE,KAAvB,GAA+B,EAAhC,IAAsC,CAAjD,CAAP;;AACJ,mBAAK,SAAL;AACI,uBAAO4C,IAAI,CAACE,KAAL,CAAW,CAAC,KAAK0B,iBAAL,CAAuBvE,OAAvB,GAAiC,EAAlC,IAAwC,CAAnD,CAAP;;AACJ,mBAAK,SAAL;AACI,uBAAO2C,IAAI,CAACE,KAAL,CAAW,CAAC,KAAK0B,iBAAL,CAAuBtE,OAAvB,GAAiC,EAAlC,IAAwC,CAAnD,CAAP;;AACJ,mBAAK,cAAL;AACI,uBAAO0C,IAAI,CAACE,KAAL,CAAW,CAAC,KAAK0B,iBAAL,CAAuBrE,YAAvB,GAAsC,EAAvC,IAA6C,CAAxD,CAAP;;AACJ,mBAAK,UAAL;AACI,uBAAOyC,IAAI,CAACE,KAAL,CAAW,CAAC,KAAK0B,iBAAL,CAAuBpE,QAAvB,GAAkC,EAAnC,IAAyC,CAApD,CAAP;;AACJ,mBAAK,MAAL;AACI,uBAAOwC,IAAI,CAACE,KAAL,CAAW,CAAC,KAAK0B,iBAAL,CAAuBjE,IAAvB,GAA8B,EAA/B,IAAqC,CAAhD,CAAP;AAdR;AAgBH;;;yCAEcqE,O,EAAiB;AAAA;;AAC5B,iBAAKP,iBAAL,GAAyB,IAAzB;AACA,iBAAKQ,eAAL,GAAuBD,OAAvB;AACA7O,sBAAU,CAAC,YAAM;AACb,qBAAI,CAACoO,YAAL,CAAkBW,YAAlB,CAA+B,OAAI,CAACrU,IAApC,EAA0CmU,OAA1C,EAAmDtV,IAAnD,CACI,UAACqV,SAAD,EAAoB;AAChB,oBAAMvQ,QAAQ,GAAoBuQ,SAAlC;AACAjR,uBAAO,CAACC,GAAR,CAAYS,QAAZ;;AACA,oBAAM2G,KAAK,GAAG,OAAI,CAACqJ,kBAAL,CAAwB5O,OAAxB,CAAgC,OAAI,CAAC4O,kBAAL,CAAwBH,IAAxB,CAA6B,UAAArI,CAAC;AAAA,yBAAI,CAACA,CAAC,CAACgJ,OAAH,KAAe,CAACA,OAApB;AAAA,iBAA9B,CAAhC,CAAd;;AACA,uBAAI,CAACR,kBAAL,CAAwBrJ,KAAxB,IAAiC3G,QAAQ,CAACtB,IAA1C;AACAY,uBAAO,CAACC,GAAR,CAAY,OAAI,CAACyQ,kBAAL,CAAwBrJ,KAAxB,CAAZ;AACH,eAPL;AASH,aAVS,EAUP,IAVO,CAAV;AAWAhF,sBAAU,CAAC,YAAM;AACb,qBAAI,CAACsO,iBAAL,GAAyB,KAAzB;AACA,qBAAI,CAACQ,eAAL,GAAuB,IAAvB;AACH,aAHS,EAGP,IAHO,CAAV;AAIH;;;2CAEgBE,Q,EAAkB;AAC/B,mBAAOA,QAAQ,CAACC,OAAT,CAAiB,4CAAjB,EAA+D,IAA/D,CAAP;AACH;;;wDAE6B;AAC1B,iBAAKtU,MAAL,CAAYqE,QAAZ,CAAqB,CAAC,SAAD,EAAY;AAAClF,gBAAE,EAAE,KAAKyU;AAAV,aAAZ,CAArB;AACH;;;;;;;yBApGQiU,mB,EAAmB,gI,EAAA,qI,EAAA,+I,EAAA,+H,EAAA,uH;AAAA,O;;;cAAnBA,mB;AAAmB,uC;AAAA,iB;AAAA,e;AAAA,o4B;AAAA;AAAA;ACbhC;;AAEI;;AAIA;;AACI;;AACI;;AAAkC;;AAAoD;;AACtF;;AAAuD;AAAA,qBAAU,IAAAtT,gBAAA,EAAV;AAA4B,aAA5B,EAA6B,eAA7B,EAA6B;AAAA;AAAA,aAA7B;;AAEnD;;AAGJ;;AACJ;;AACA;;AA2EA;;AACI;;AACI;;AAiBJ;;AAEA;;AAMJ;;AACJ;;AACJ;;;;AAtHS;;AAAA;;AAQW;;AAAA;;AACI;;AAAA;;AAKX;;AAAA;;AA6EiB;;AAAA;;AAmBJ;;AAAA;;;;;;;;;wEDnGbsT,mB,EAAmB;gBAL/B,uDAK+B;iBALrB;AACP3mB,oBAAQ,EAAE,gBADH;AAEPC,uBAAW,EAAE,6BAFN;AAGPC,qBAAS,EAAE,CAAC,6BAAD;AAHJ,W;AAKqB,U;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AEbhC;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;;;ACegB;;AAAuC;;AAAM;;;;;;AAC7C;;AAAwC;;AAAmB;;;;;;AAAnB;;AAAA;;;;;;AAKxC;;AAAuC;;AAAqB;;;;;;;;AAC5D;;AACI;;AACI;;AAAqC;AAAA;;AAAA;;AAAA;;AAAA;AAAA,aAAgD,eAAhD,EAAgD;AAAA;;AAAA;AAAA;AAAA,WAAhD;;AACY;;AACrD;;AACJ;;;;;;AAFsB;;AAAA;;;;;;AAOtB;;AAAuC;;AAA0B;;;;;;;;AACjE;;AACI;;AAA0C;AAAA;;AAAA;AAAA;AAAA;;AAA1C;;AACJ;;;;;;AADW;;AAAA,0GAAkC,SAAlC,EAAkC,8BAAlC;;;;;;AAMX;;AAAuC;;AAA2B;;;;;;;;AAClE;;AACI;;AACI;;AAAqC;AAAA;;AAAA;;AAAA;;AAAA;AAAA,aAAmD,eAAnD,EAAmD;AAAA;;AAAA;AAAA;AAAA,WAAnD;;AACe;;AACxD;;AACJ;;;;;;AAFsB;;AAAA;;;;;;AAOtB;;AAAuC;;AAAwB;;;;;;;;AAC/D;;AACI;;AACO;AAAA;;AAAA;AAAA;AAAA;;AADP;;AAEJ;;;;;;AAFW;;AAAA,6GAAqC,SAArC,EAAqC,mCAArC;;;;;;AAKf;;;;;;AACA;;;;UD5CC2mB,8B;AAST,gDAAoBhoB,IAApB,EACoB4O,iBADpB,EAEoBC,SAFpB,EAE4C;AAAA;;AAFxB,eAAA7O,IAAA,GAAAA,IAAA;AACA,eAAA4O,iBAAA,GAAAA,iBAAA;AACA,eAAAC,SAAA,GAAAA,SAAA;AAJpB,eAAAG,gBAAA,GAA6B,CAAC,QAAD,EAAW,cAAX,EAA2B,oBAA3B,EAAiD,iBAAjD,EAAoE,yBAApE,CAA7B;AAKC;;;;qCAEO;AACJ,iBAAKiB,yBAAL;AACH;;;sDAE2B;AAAA;;AACxB,iBAAKrB,iBAAL,CAAuBqZ,wBAAvB,CAAgD,KAAKjoB,IAArD,EAA2DnB,IAA3D,CACI,UAACwD,IAAD,EAAe;AACXY,qBAAO,CAACC,GAAR,CAAYb,IAAZ;AACA,kBAAMsB,QAAQ,GAAoBtB,IAAlC;AACA,qBAAI,CAAC8O,qBAAL,GAA6BxN,QAAQ,CAACtB,IAAtC;AACA,qBAAI,CAAC6lB,6BAAL,GAAqCtnB,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,SAAL,CAAe,OAAI,CAACqQ,qBAApB,CAAX,CAArC,CAJW,CAKX;AACH,aAPL;AASH;;;yCAGc;AAAA;;AACX;AACA,gBAAMN,eAAe,GAAG,KAAKM,qBAAL,CAA2B,CAA3B,CAAxB;AACA,gBAAMJ,cAAc,GAAG;AACnBC,qCAAuB,EAAE,IADN;AACY3B,oBAAM,EAAEwB,eAAe,CAACxB,MAAhB,GAAyB,CAD7C;AACgDmB,0BAAY,EAAE,KAD9D;AAEnBC,gCAAkB,EAAE,CAFD;AAEIQ,6BAAe,EAAE,KAFrB;AAE4BC,qCAAuB,EAAE;AAFrD,aAAvB;AAIA,iBAAKtC,iBAAL,CAAuBuC,qBAAvB,CAA6C,KAAKnR,IAAlD,EAAwD,yEAAYgE,IAApE,EACI+M,cAAc,CAACC,uBADnB,EAC4CD,cAD5C,EAC4DlS,IAD5D,CAEI,UAACwD,IAAD,EAAe;AACXY,qBAAO,CAACC,GAAR,CAAYb,IAAZ;AACA,kBAAMsB,QAAQ,GAAoB/C,IAAI,CAACC,KAAL,CAAWwB,IAAX,CAAlC;;AACA,qBAAI,CAAC0I,MAAL,CAAYC,gCAAZ,CAA6CrH,QAA7C;;AACA,kBAAIA,QAAQ,CAACC,MAAT,GAAkB,GAAlB,IAAyBD,QAAQ,CAACC,MAAT,GAAkB,GAA/C,EAAoD;AAChDX,uBAAO,CAACC,GAAR,CAAYS,QAAQ,CAACtB,IAArB;AACA0O,8BAAc,CAACC,uBAAf,GAA0CrN,QAAQ,CAACtB,IAAT,CAAwC2O,uBAAlF,CAFgD,CAGhD;;AACA,uBAAI,CAACG,qBAAL,CAA2BgX,OAA3B,CAAmCpX,cAAnC;;AACA,uBAAI,CAACK,KAAL,CAAWC,UAAX;AACH,eAND,MAMO,IAAI1N,QAAQ,CAACC,MAAT,KAAoB,GAAxB,EAA6B;AAChC,uBAAI,CAAC0N,YAAL,CAAkB,oBAAlB,EAAwC,QAAxC;AACH;AACJ,aAfL,WAiBI,UAACjP,IAAD,EAAe;AACXY,qBAAO,CAACC,GAAR,CAAYb,IAAZ;AACA,kBAAMkP,YAAY,GAAGlP,IAArB;AACA,kBAAMsB,QAAQ,GAAoB/C,IAAI,CAACC,KAAL,CAAWwB,IAAI,CAACmP,KAAhB,CAAlC;;AACA,qBAAI,CAACzG,MAAL,CAAYC,gCAAZ,CAA6CrH,QAA7C;;AACA,kBAAI4N,YAAY,CAAC3N,MAAb,KAAwB,GAA5B,EAAiC;AAC7B,uBAAI,CAAC0N,YAAL,CAAkB,oBAAlB,EAAwC,QAAxC;AACH;AACJ,aAzBL,EAPW,CAkCX;AACH;;;2CAEgB;AAAA;;AACb,gBAAMG,WAAW,GAAG,KAAKN,qBAAL,CAA2B,KAAKA,qBAAL,CAA2BpL,MAA3B,GAAoC,CAA/D,CAApB;AACA,iBAAK6I,iBAAL,CAAuBuC,qBAAvB,CAA6C,KAAKnR,IAAlD,EAAwD,yEAAY0R,MAApE,EAA4ED,WAAW,CAACT,uBAAxF,EAAiHS,WAAjH,EAA8H5S,IAA9H,CACI,UAACwD,IAAD,EAAe;AACXY,qBAAO,CAACC,GAAR,CAAYb,IAAZ;AACA,kBAAMsB,QAAQ,GAAoB/C,IAAI,CAACC,KAAL,CAAWwB,IAAX,CAAlC;;AACA,qBAAI,CAAC0I,MAAL,CAAYC,gCAAZ,CAA6CrH,QAA7C;;AACA,kBAAIA,QAAQ,CAACC,MAAT,GAAkB,GAAlB,IAAyBD,QAAQ,CAACC,MAAT,GAAkB,GAA/C,EAAoD;AAChD;AACA,uBAAI,CAACuN,qBAAL,CAA2BiX,KAA3B;;AACA,uBAAI,CAAChX,KAAL,CAAWC,UAAX;AACH;AACJ,aAVL,EAFa,CAcb;AACH;;;yCAEc;AAAA;;AACX,iBAAK,IAAIO,gBAAgB,GAAG,CAA5B,EAAgCA,gBAAgB,GAAG,KAAKT,qBAAL,CAA2BpL,MAA9E,EAAuF6L,gBAAgB,EAAvG,EAA2G;AACvG,kBAAI,CAAC,4CAAK,CAAC,KAAKT,qBAAL,CAA2BS,gBAA3B,CAAD,EAA+C,KAAKsW,6BAAL,CAAmCtW,gBAAnC,CAA/C,CAAV,EAAgH;AAC5G,qBAAKhD,iBAAL,CAAuBuC,qBAAvB,CAA6C,KAAKnR,IAAlD,EAAwD,yEAAY8R,GAApE,EACI,KAAKX,qBAAL,CAA2BS,gBAA3B,EAA6CZ,uBADjD,EAC0E,KAAKG,qBAAL,CAA2BS,gBAA3B,CAD1E,EAEK/S,IAFL,CAGQ,UAACwD,IAAD,EAAe;AACXY,yBAAO,CAACC,GAAR,CAAYb,IAAZ;AACA,sBAAMsB,QAAQ,GAAoB/C,IAAI,CAACC,KAAL,CAAWwB,IAAX,CAAlC;;AACA,yBAAI,CAAC0I,MAAL,CAAYC,gCAAZ,CAA6CrH,QAA7C;AACH,iBAPT;AASH;AACJ;;AACD2B,sBAAU,CAAC,YAAM;AACb,qBAAI,CAAC2K,yBAAL;AACH,aAFS,EAEP,IAFO,CAAV;AAGH;;;uCAEY;AACT,iBAAKkB,qBAAL,GAA6BvQ,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,SAAL,CAAe,KAAKonB,6BAApB,CAAX,CAA7B;AACH;;;uCAEYrhB,O,EAAiBkL,M,EAAgB;AAC1C,iBAAKlD,SAAL,CAAemD,IAAf,CAAoBnL,OAApB,EAA6BkL,MAA7B,EAAqC;AACjCE,sBAAQ,EAAE;AADuB,aAArC;AAGH;;;yDAE8BC,0B,EAAoC;AAC/D,iBAAKf,qBAAL,CAA2Be,0BAA3B,EAAuDzB,kBAAvD,GACI,KAAKU,qBAAL,CAA2Be,0BAA3B,EAAuD1B,YAAvD,GACI,KAAKW,qBAAL,CAA2Be,0BAA3B,EAAuDzB,kBAD3D,GACgF,CAFpF;AAGH;;;4DAEiCyB,0B,EAAoC;AAClE,iBAAKf,qBAAL,CAA2Be,0BAA3B,EAAuDhB,uBAAvD,GACI,KAAKC,qBAAL,CAA2Be,0BAA3B,EAAuDjB,eAAvD,GACI,KAAKE,qBAAL,CAA2Be,0BAA3B,EAAuDhB,uBAD3D,GACqF,CAFzF;AAGH;;;;;;;yBA5HQ8W,8B,EAA8B,gI,EAAA,+I,EAAA,wI;AAAA,O;;;cAA9BA,8B;AAA8B,mD;AAAA;AAAA;sEAE5B,gE,EAAQ,I;;;;;;;;;;;;;;;;;ACjBvB;;AAEI;;AAEI;;AACI;;AAA8B;AAAA,qBAAS,IAAAK,YAAA,EAAT;AAAuB,aAAvB;;AAAyB;;AAA0B;;AACjF;;AAA8B;AAAA,qBAAS,IAAAC,cAAA,EAAT;AAAyB,aAAzB;;AAA2B;;AAA2B;;AACxF;;AACA;;AAMI;;AACI;;AACA;;AACJ;;AAGA;;AACI;;AACA;;AAMJ;;AAGA;;AACI;;AACA;;AAGJ;;AAGA;;AACI;;AACA;;AAMJ;;AAGA;;AACI;;AACA;;AAIJ;;AAEA;;AACA;;AACJ;;AAEA;;AAEI;;AAAgC;AAAA,qBAAS,IAAAC,YAAA,EAAT;AAAuB,aAAvB;;AAAyB;;AAAa;;AAC1E;;AAEJ;;AAEA;;AACJ;;;;AA9DgC;;AAAA;;AAkDD;;AAAA;;AACP;;AAAA;;;;;;;;;wED5CXP,8B,EAA8B;gBAL1C,uDAK0C;iBALhC;AACP7mB,oBAAQ,EAAE,4BADH;AAEPC,uBAAW,EAAE,yCAFN;AAGPC,qBAAS,EAAE,CAAC,yCAAD;AAHJ,W;AAKgC,U;;;;;;;;;AAElB+P,eAAK,EAAE,CAAF;kBAAzB,uDAAyB;mBAAf,gE;AAAe,WAAE,C;AACPrG,gBAAM,EAAE,CAAF;kBAA1B,uDAA0B;mBAAhB,Q;AAAgB,WAAE;;;;UAuIpByd,4B;;;;;yBAAAA,4B;AAA4B,O;;;cAA5BA,4B;AAA4B,gD;AAAA;AAAA;AAAA,S;AAAA,gB;AAAA,e;AAAA,qC;AAAA;AAAA;;;;;;;;;;;;;;;;;;;wEAA5BA,4B,EAA4B;gBAXxC,uDAWwC;iBAX9B;AACPrnB,oBAAQ,EAAE,yBADH;AAEPiH,oBAAQ,EAAE,kCACN,oBADM,GAEN,SAJG;AAKPgP,kBAAM,EAAE;AALD,W;AAW8B,U;AAC5BvQ,iBAAO,EAAE,CAAF;kBAAf;AAAe,WAAE;;;;;;;;;;;;;;;;;;;AE1JtB;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAWa4hB,wB;AAEX,4CAAc;AAAA;AAAG;;;;sDAEkBzoB,I,EAAgB;AACjD,gBAAM+I,eAAe,GAAoB,EAAzC;AACA,gBAAM5F,UAAU,GAAG,yDAAW,0DAAX,GAA0B,mBAA7C;AACA,gBAAMulB,yBAAyB,GAC7B1oB,IAAI,CAACwF,GAAL,CAA0BrC,UAA1B,CADF;AAEA,gBAAMwlB,2BAA2B,GAAiBD,yBAAyB,CAAChoB,SAA1B,CAChD,UAACiD,QAAD,EAAc;AACZ,kBAAMsI,QAAQ,GAAoBtI,QAAQ,CAACtB,IAA3C;;AADY,2DAEU4J,QAFV;AAAA;;AAAA;AAEZ,0EAAgC;AAAA,sBAArB8B,OAAqB;AAC9BhF,iCAAe,CAAC2B,IAAhB,CAAqBqD,OAArB;AACD;AAJW;AAAA;AAAA;AAAA;AAAA;;AAKZ4a,yCAA2B,CAACC,WAA5B;AACD,aAP+C,EAQhD,UAACpX,KAAD,EAAW;AACTvO,qBAAO,CAACC,GAAR,CAAY,kDAAkDsO,KAA9D;AACD,aAV+C,EAWhD,YAAM,CACL,CAZ+C,CAAlD;AAcA,mBAAOzI,eAAP;AACD;;;6CAEyB/I,I,EAAgB;AACxC,gBAAM6oB,WAAW,GAAc,EAA/B;AACA,gBAAM1lB,UAAU,GAAG,yDAAW,iEAA9B;AACA,gBAAMulB,yBAAyB,GAC7B1oB,IAAI,CAACwF,GAAL,CAA0BrC,UAA1B,CADF;AAEA,gBAAMwlB,2BAA2B,GAAiBD,yBAAyB,CAAChoB,SAA1B,CAChD,UAACiD,QAAD,EAAc;AACZ,kBAAMsI,QAAQ,GAActI,QAAQ,CAACtB,IAArC;;AADY,2DAEU4J,QAFV;AAAA;;AAAA;AAEZ,0EAAgC;AAAA,sBAArB8B,OAAqB;AAC9B8a,6BAAW,CAACne,IAAZ,CAAiBqD,OAAjB;AACD;AAJW;AAAA;AAAA;AAAA;AAAA;;AAKZ4a,yCAA2B,CAACC,WAA5B;AACD,aAP+C,EAQhD,UAACpX,KAAD,EAAW;AACTvO,qBAAO,CAACC,GAAR,CAAY,kDAAkDsO,KAA9D;AACD,aAV+C,EAWhD,YAAM,CACL,CAZ+C,CAAlD;AAcA,mBAAOqX,WAAP;AACD;AAED;;;;;;kDAI+B7oB,I,EAAgB;AAC7C,gBAAMmD,UAAU,GAAG,yDAAW,0DAAX,GAA0B,mBAA7C;AACA,mBAAOnD,IAAI,CAACsD,OAAL,CAAa,KAAb,EAAoBH,UAApB,EAAgC;AAACM,0BAAY,EAAE;AAAf,aAAhC,EAAwDC,SAAxD,EAAP;AACD;AAED;;;;;;uCAIoB1D,I,EAAkB4M,gB,EAA0B9H,O,EAAe;AAC7E,gBAAM/B,MAAM,GAAG;AAAC6J,8BAAgB,EAAE5J,SAAnB;AAA8B8B,qBAAO,EAAE9B;AAAvC,aAAf;AACAD,kBAAM,CAAC6J,gBAAP,GAA0BA,gBAA1B;AACA7J,kBAAM,CAAC+B,OAAP,GAAiBA,OAAjB;AACA,gBAAM3B,UAAU,GAAG,yDAAW,yDAA9B;AACA,gBAAMC,MAAM,GAAG,IAAI,+DAAJ,GAAiBC,GAAjB,CAAqB,SAArB,EAAgCzC,IAAI,CAACE,SAAL,CAAeiC,MAAf,CAAhC,CAAf;AAEA,mBAAO/C,IAAI,CAACsD,OAAL,CAAa,MAAb,EAAqBH,UAArB,EAAiC;AAACM,0BAAY,EAAE,MAAf;AAAuBL,oBAAM,EAANA;AAAvB,aAAjC,EAAiEM,SAAjE,EAAP;AACD;;;0CAEsB1D,I,EAAkBqJ,S,EAAmBuD,gB,EAA0B9H,O,EAAe;AACnG,gBAAM/B,MAAM,GAAG;AAACsG,uBAAS,EAAErG,SAAZ;AAAuB4J,8BAAgB,EAAE5J,SAAzC;AAAoD8B,qBAAO,EAAE9B;AAA7D,aAAf;AACAD,kBAAM,CAACsG,SAAP,GAAmBA,SAAnB;AACAtG,kBAAM,CAAC6J,gBAAP,GAA0BA,gBAAgB,KAAK,CAArB,GAAyB,MAAzB,GAAkCA,gBAA5D;AACA7J,kBAAM,CAAC+B,OAAP,GAAiBA,OAAjB;AACA,gBAAM3B,UAAU,GAAG,yDAAW,yDAAX,GAAyB,aAAzB,GAAyCkG,SAA5D;AACA,gBAAMjG,MAAM,GAAG,IAAI,+DAAJ,GAAiBC,GAAjB,CAAqB,SAArB,EAAgCzC,IAAI,CAACE,SAAL,CAAeiC,MAAf,CAAhC,CAAf;AAEA,mBAAO/C,IAAI,CAACsD,OAAL,CAAa,KAAb,EAAoBH,UAApB,EAAgC;AAACM,0BAAY,EAAE,MAAf;AAAuBL,oBAAM,EAANA;AAAvB,aAAhC,EAAgEM,SAAhE,EAAP;AACD;AAED;;;;;;yCAIsB1D,I,EAAgB;AACpC,gBAAMmD,UAAU,GAAG,yDAAW,iEAA9B;AACA,mBAAOnD,IAAI,CAACsD,OAAL,CAAa,KAAb,EAAoBH,UAApB,EAAgC;AAACM,0BAAY,EAAE;AAAf,aAAhC,EAAwDC,SAAxD,EAAP;AACD;;;uCAEmB1D,I,EAAkB8E,O,EAAe;AACnD,gBAAM/B,MAAM,GAAG;AAAE+B,qBAAO,EAAE9B;AAAX,aAAf;AACAD,kBAAM,CAAC+B,OAAP,GAAiBA,OAAjB;AACA,gBAAM3B,UAAU,GAAG,yDAAW,iEAA9B;AACA,gBAAMC,MAAM,GAAG,IAAI,+DAAJ,GAAiBC,GAAjB,CAAqB,SAArB,EAAgCzC,IAAI,CAACE,SAAL,CAAeiC,MAAf,CAAhC,CAAf;AACA,mBAAO/C,IAAI,CAACsD,OAAL,CAAa,MAAb,EAAqBH,UAArB,EAAiC;AAACM,0BAAY,EAAE,MAAf;AAAuBL,oBAAM,EAANA;AAAvB,aAAjC,EAAiEM,SAAjE,EAAP;AACD;;;0CAEsB1D,I,EAAkB4M,gB,EAA0B9H,O,EAAe;AAChF,gBAAM/B,MAAM,GAAG;AAAE6J,8BAAgB,EAAE5J,SAApB;AAA+B8B,qBAAO,EAAE9B;AAAxC,aAAf;AACAD,kBAAM,CAAC6J,gBAAP,GAA0BA,gBAA1B;AACA7J,kBAAM,CAAC+B,OAAP,GAAiBA,OAAjB;AACA,gBAAM3B,UAAU,GAAG,yDAAW,iEAAX,GAAiC,oBAAjC,GAAwDyJ,gBAA3E;AACA3J,mBAAO,CAACC,GAAR,CAAYC,UAAZ;AACA,gBAAMC,MAAM,GAAG,IAAI,+DAAJ,GAAiBC,GAAjB,CAAqB,SAArB,EAAgCzC,IAAI,CAACE,SAAL,CAAeiC,MAAf,CAAhC,CAAf;AAEA,mBAAO/C,IAAI,CAACsD,OAAL,CAAa,KAAb,EAAoBH,UAApB,EAAgC;AAACM,0BAAY,EAAE,MAAf;AAAuBL,oBAAM,EAANA;AAAvB,aAAhC,EAAgEM,SAAhE,EAAP;AACD;;;;;;;yBA5GU+kB,wB;AAAwB,O;;;eAAxBA,wB;AAAwB,iBAAxBA,wBAAwB,K;AAAA,oBAFvB;;;;;wEAEDA,wB,EAAwB;gBAHpC,wDAGoC;iBAHzB;AACVhmB,sBAAU,EAAE;AADF,W;AAGyB,U;;;;;;;;;;;;;;;;;;;;ACXrC;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAMaqmB,e;AAET,iCAAoB9oB,IAApB,EAAsC;AAAA;;AAAlB,eAAAA,IAAA,GAAAA,IAAA;AACnB;;;;kCAEc+oB,M,EAAgBC,U,EAAkB;AAC7C,gBAAM7lB,UAAU,GAAG6lB,UAAU,CAACC,QAAX,CAAoB,OAApB,IACf,iBAAiBF,MAAjB,GAA0B,GAA1B,GAAgCC,UADjB,GAC8B,iBAAiBD,MAAjB,GAA0B,GAA1B,GAAgCC,UAAhC,GAA6C,OAD9F;AAEA,mBAAO,KAAKhpB,IAAL,CAAUsD,OAAV,CAAkB,KAAlB,EAAyBH,UAAzB,EAAqC;AAACM,0BAAY,EAAE;AAAf,aAArC,EAA6DC,SAA7D,EAAP;AACH;;;;;;;yBATQolB,e,EAAe,uH;AAAA,O;;;eAAfA,e;AAAe,iBAAfA,eAAe,K;AAAA,oBAFZ;;;;;wEAEHA,e,EAAe;gBAH3B,wDAG2B;iBAHhB;AACRrmB,sBAAU,EAAE;AADJ,W;AAGgB,U;;;;;;;;;;;;;;;;;;;;;;ACN5B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAOaymB,wB;AAEX,4CAAc;AAAA;;AAEP,eAAA7d,QAAA,GAAsB,EAAtB;AADN;;;;6CAGyBrL,I,EAAkBmpB,U,EAAoB9f,S,EAAmB+f,I,EAAyB;AAC1G,gBAAMrmB,MAAM,GAAG;AAACsG,uBAAS,EAAErG,SAAZ;AAAuBomB,kBAAI,EAAEpmB;AAA7B,aAAf;AACAD,kBAAM,CAACsG,SAAP,GAAmBA,SAAnB;AACAtG,kBAAM,CAACqmB,IAAP,GAAcA,IAAd;AACAnmB,mBAAO,CAACC,GAAR,CAAYH,MAAZ;AACA,gBAAMI,UAAU,GAAG,yDAAW,6DAAX,GAA6B,aAA7B,GAA6CkG,SAA7C,GAAyD,qBAA5E;AACApG,mBAAO,CAACC,GAAR,CAAYC,UAAZ;AACA,gBAAMC,MAAM,GAAG,IAAI,+DAAJ,GAAiBC,GAAjB,CAAqB,MAArB,EAA6BzC,IAAI,CAACE,SAAL,CAAeiC,MAAf,CAA7B,CAAf;AAEA,mBAAO/C,IAAI,CAACsD,OAAL,CAAa6lB,UAAb,EAAyBhmB,UAAzB,EAAqC;AAACM,0BAAY,EAAE,MAAf;AAAuBL,oBAAM,EAANA;AAAvB,aAArC,EAAqEM,SAArE,EAAP;AACD;;;gDAE4B1D,I,EAAkBmpB,U,EAAoB9f,S,EAAmB+f,I,EAA4B;AAChH,gBAAMrmB,MAAM,GAAG;AAACsG,uBAAS,EAAErG,SAAZ;AAAuBomB,kBAAI,EAAEpmB;AAA7B,aAAf;AACAD,kBAAM,CAACsG,SAAP,GAAmBA,SAAnB;AACAtG,kBAAM,CAACqmB,IAAP,GAAcA,IAAd;;AACA,iBAAK,IAAI1f,CAAC,GAAG,CAAb,EAAiBA,CAAC,GAAG3G,MAAM,CAACqmB,IAAP,CAAYrjB,MAAjC,EAA0C2D,CAAC,EAA3C,EAA+C;AAC7C3G,oBAAM,CAACqmB,IAAP,CAAY1f,CAAZ,EAAeK,MAAf,GAAwB,CAAChH,MAAM,CAACqmB,IAAP,CAAY1f,CAAZ,EAAeK,MAAhB,KAA2B,CAA3B,GAA+B,IAA/B,GAAsC,CAAChH,MAAM,CAACqmB,IAAP,CAAY1f,CAAZ,EAAeK,MAA9E;AACD;;AACD9G,mBAAO,CAACC,GAAR,CAAYimB,UAAZ;AACAlmB,mBAAO,CAACC,GAAR,CAAYtC,IAAI,CAACE,SAAL,CAAeiC,MAAM,CAACqmB,IAAtB,CAAZ;AACA,gBAAMjmB,UAAU,GAAG,yDAAW,iEAAX,GAAiC,aAAjC,GAAiDkG,SAAjD,GAA6D,qBAAhF;AACApG,mBAAO,CAACC,GAAR,CAAYC,UAAZ;AACA,gBAAMC,MAAM,GAAG,IAAI,+DAAJ,GAAiBC,GAAjB,CAAqB,MAArB,EAA6BzC,IAAI,CAACE,SAAL,CAAeiC,MAAf,CAA7B,CAAf;AAEA,mBAAO/C,IAAI,CAACsD,OAAL,CAAa6lB,UAAb,EAAyBhmB,UAAzB,EAAqC;AAACM,0BAAY,EAAE,MAAf;AAAuBL,oBAAM,EAANA;AAAvB,aAArC,EAAqEM,SAArE,EAAP;AACD;;;mDAE+B1D,I,EAAkBqJ,S,EAAiB;AACjE,gBAAMlG,UAAU,GAAG,yDAAW,6DAAX,GAA6B,aAA7B,GAA6CkG,SAAhE;AACA,mBAAOrJ,IAAI,CAACsD,OAAL,CAAa,KAAb,EAAoBH,UAApB,EAAgC;AAACM,0BAAY,EAAE;AAAf,aAAhC,EAAwDC,SAAxD,EAAP;AACD;;;kDAE8B1D,I,EAAkBqJ,S,EAAiB;AAChE,gBAAMlG,UAAU,GAAG,yDAAW,iEAAX,GAAiC,aAAjC,GAAiDkG,SAApE;AACA,mBAAOrJ,IAAI,CAACsD,OAAL,CAAa,KAAb,EAAoBH,UAApB,EAAgC;AAACM,0BAAY,EAAE;AAAf,aAAhC,EAAwDC,SAAxD,EAAP;AACD;;;2CAEuB1D,I,EAAgB;AACtC,mBAAOA,IAAI,CAACsD,OAAL,CAAa,KAAb,EAAoB,yDAAW,uBAA/B,EAAwD;AAACG,0BAAY,EAAE;AAAf,aAAxD,EAAgFC,SAAhF,EAAP;AACD;;;;;;;yBA9CUwlB,wB;AAAwB,O;;;eAAxBA,wB;AAAwB,iBAAxBA,wBAAwB,K;AAAA,oBAFvB;;;;;wEAEDA,wB,EAAwB;gBAHpC,wDAGoC;iBAHzB;AACVzmB,sBAAU,EAAE;AADF,W;AAGyB,U;;;;;;;;;;;;;;;;;;;;ACPrC;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UASa4mB,Y;AAET,gCAAc;AAAA;AACb;;;;yCAEqBrpB,I,EAAkBmU,O,EAAiBmV,a,EAAuB7kB,K,EAAe;AAC3F,gBAAMtB,UAAU,GAAG,yDAAW,6DAAX,GAA6B,WAA7B,GAA2CgR,OAA3C,GAAqD,GAArD,GAA2DmV,aAA3D,GAA2E,GAA3E,GAAiF7kB,KAApG;AACAxB,mBAAO,CAACC,GAAR,CAAYC,UAAZ;AACA,mBAAOnD,IAAI,CAACsD,OAAL,CAAa,yEAAYwO,GAAZ,CAAgBtO,QAAhB,EAAb,EAAyCL,UAAzC,EAAqDO,SAArD,EAAP;AACH;;;8CAE0B1D,I,EAAkBmpB,U,EAAoBI,O,EAAiBC,Y,EAAwB;AACtG,gBAAMzmB,MAAM,GAAG;AAAC8jB,4BAAc,EAAE7jB,SAAjB;AAA4BymB,0BAAY,EAAEzmB;AAA1C,aAAf;AACAD,kBAAM,CAAC8jB,cAAP,GAAwB0C,OAAxB;AACAxmB,kBAAM,CAAC0mB,YAAP,GAAsBD,YAAtB;AACAvmB,mBAAO,CAACC,GAAR,CAAYH,MAAZ;AACA,gBAAMI,UAAU,GAAG,yDAAW,0CAAX,GAAwD,WAAxD,GAAsEomB,OAAtE,GAAgF,EAAnG;AACAtmB,mBAAO,CAACC,GAAR,CAAYC,UAAZ;AACA,gBAAMC,MAAM,GAAG,IAAI,+DAAJ,GAAiBC,GAAjB,CAAqB,0BAArB,EAAiDzC,IAAI,CAACE,SAAL,CAAeiC,MAAf,CAAjD,CAAf;AAEA,mBAAO/C,IAAI,CAACsD,OAAL,CAAa6lB,UAAb,EAAyBhmB,UAAzB,EAAqC;AAACM,0BAAY,EAAE,MAAf;AAAuBL,oBAAM,EAANA;AAAvB,aAArC,EAAqEM,SAArE,EAAP;AACH;;;8CAE0B1D,I,EAAkBmpB,U,EAAoBhV,O,EAAiBwB,K,EAAU;AACxF,gBAAM5S,MAAM,GAAG;AAACoR,qBAAO,EAAEnR,SAAV;AAAqB0mB,mBAAK,EAAE1mB;AAA5B,aAAf;AACAD,kBAAM,CAACoR,OAAP,GAAiBA,OAAjB;AACApR,kBAAM,CAAC2mB,KAAP,GAAe/T,KAAf;AACA1S,mBAAO,CAACC,GAAR,CAAYH,MAAZ;AACA,gBAAMI,UAAU,GAAG,yDAAW,+DAA9B;AACAF,mBAAO,CAACC,GAAR,CAAYC,UAAZ;AACA,gBAAMC,MAAM,GAAG,IAAI,+DAAJ,GAAiBC,GAAjB,CAAqB,OAArB,EAA8BzC,IAAI,CAACE,SAAL,CAAeiC,MAAf,CAA9B,CAAf;AAEA,mBAAO/C,IAAI,CAACsD,OAAL,CAAa6lB,UAAb,EAAyBhmB,UAAzB,EAAqC;AAACM,0BAAY,EAAE,MAAf;AAAuBL,oBAAM,EAANA;AAAvB,aAArC,EAAqEM,SAArE,EAAP;AACH;;;0CAEsB1D,I,EAAkBmU,O,EAAiB;AACtD,gBAAMhR,UAAU,GAAG,yDAAW,+DAAX,GAA+B,WAA/B,GAA6CgR,OAA7C,GAAuD,EAA1E;AACAlR,mBAAO,CAACC,GAAR,CAAYC,UAAZ;AACA,mBAAOnD,IAAI,CAACsD,OAAL,CAAa,yEAAYC,GAAZ,CAAgBC,QAAhB,EAAb,EAAyCL,UAAzC,EAAqDO,SAArD,EAAP;AACH;;;sDAEkC1D,I,EAAkBmU,O,EAAiBlF,Y,EAAsB;AACxF,gBAAM9L,UAAU,GAAG,yDAAW,wCAAX,GAAsD,WAAtD,GAAoEgR,OAApE,GAA8E,gBAA9E,GAAiGlF,YAAjG,GACnB,qBADA;AAEAhM,mBAAO,CAACC,GAAR,CAAYC,UAAZ;AACA,mBAAOnD,IAAI,CAACsD,OAAL,CAAa,yEAAYC,GAAZ,CAAgBC,QAAhB,EAAb,EAAyCL,UAAzC,EAAqDO,SAArD,EAAP;AACH;;;mDAE+B1D,I,EAAkBmpB,U,EAAyBQ,oB,EAA6C;AACpH,gBAAM5mB,MAAM,GAAG;AAAC6mB,mCAAqB,EAAE5mB;AAAxB,aAAf;AACAD,kBAAM,CAAC6mB,qBAAP,GAA+BD,oBAA/B;AACA1mB,mBAAO,CAACC,GAAR,CAAYH,MAAZ;AACA,gBAAMI,UAAU,GAAG,yDAAW,wCAA9B;AACAF,mBAAO,CAACC,GAAR,CAAYC,UAAZ;AACA,gBAAMC,MAAM,GAAG,IAAI,+DAAJ,GAAiBC,GAAjB,CAAqB,uBAArB,EAA8CzC,IAAI,CAACE,SAAL,CAAeiC,MAAf,CAA9C,CAAf;AAEA,mBAAO/C,IAAI,CAACsD,OAAL,CAAa6lB,UAAU,CAAC3lB,QAAX,EAAb,EAAoCL,UAApC,EAAgD;AAACM,0BAAY,EAAE,MAAf;AAAuBL,oBAAM,EAANA;AAAvB,aAAhD,EAAgFM,SAAhF,EAAP;AACH;;;+CAE2B1D,I,EAAkBiP,Y,EAAsB;AAChE,gBAAM9L,UAAU,GAAG,yDAAW,+DAAX,GAA+B,gBAA/B,GAAkD8L,YAAlD,GAAiE,EAApF;AACAhM,mBAAO,CAACC,GAAR,CAAYC,UAAZ;AACA,mBAAOnD,IAAI,CAACsD,OAAL,CAAa,yEAAYC,GAAZ,CAAgBC,QAAhB,EAAb,EAAyCL,UAAzC,EAAqDO,SAArD,EAAP;AACH;;;0CAEsB1D,I,EAAkBiP,Y,EAAsB;AAC3D,gBAAM9L,UAAU,GAAG,yDAAW,+DAAX,GAA+B,gBAA/B,GAAkD8L,YAAlD,GAAiE,eAApF;AACAhM,mBAAO,CAACC,GAAR,CAAYC,UAAZ;AACA,mBAAOnD,IAAI,CAACsD,OAAL,CAAa,yEAAYC,GAAZ,CAAgBC,QAAhB,EAAb,EAAyCL,UAAzC,EAAqDO,SAArD,EAAP;AACH;;;4CAEwB1D,I,EAAkBiP,Y,EAAsB;AAC7D,gBAAM9L,UAAU,GAAG,yDAAW,+DAAX,GAA+B,gBAA/B,GAAkD8L,YAAlD,GAAiE,iBAApF;AACAhM,mBAAO,CAACC,GAAR,CAAYC,UAAZ;AACA,mBAAOnD,IAAI,CAACsD,OAAL,CAAa,yEAAYC,GAAZ,CAAgBC,QAAhB,EAAb,EAAyCL,UAAzC,EAAqDO,SAArD,EAAP;AACH;;;uCAEmB1D,I,EAAkBmU,O,EAAiB;AACnD,gBAAMhR,UAAU,GAAG,yDAAW,+DAAX,GAA+B,WAA/B,GAA6CgR,OAA7C,GAAuD,gBAA1E;AACAlR,mBAAO,CAACC,GAAR,CAAYC,UAAZ;AACA,mBAAOnD,IAAI,CAACsD,OAAL,CAAa,yEAAYC,GAAZ,CAAgBC,QAAhB,EAAb,EAAyCL,UAAzC,EAAqDO,SAArD,EAAP;AACH;;;8CAE0B1D,I,EAAkBmpB,U,EAAoBhV,O,EAAiBuO,K,EAAsB;AAAA;;AACpG,gBAAMmH,aAAa,GAAoBjpB,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,SAAL,CAAe4hB,KAAf,CAAX,CAAvC;AACAmH,yBAAa,CAACzY,KAAd,GAAsB,IAAtB;AACAyY,yBAAa,CAAC7K,EAAd,GAAmB,IAAnB;AACA,gBAAMjc,MAAM,GAAG;AAACoR,qBAAO,EAAEnR,SAAV;AAAqB8mB,0BAAY,EAAE9mB;AAAnC,aAAf;AACAD,kBAAM,CAACoR,OAAP,GAAiBA,OAAjB;AACApR,kBAAM,CAAC+mB,YAAP,GAAsBD,aAAtB;AACA5mB,mBAAO,CAACC,GAAR,CAAYH,MAAZ;AACA,gBAAMI,UAAU,GAAG,yDAAW,+DAAX,GAA+B,WAA/B,GAA6CgR,OAA7C,GAAuD,EAA1E;AACAlR,mBAAO,CAACC,GAAR,CAAYC,UAAZ;AACA,gBAAMC,MAAM,GAAG,IAAI,+DAAJ,GAAiBC,GAAjB,CAAqB,cAArB,EAAqCzC,IAAI,CAACE,SAAL,CAAeiC,MAAf,CAArC,CAAf;AAEA,mBAAO/C,IAAI,CAACsD,OAAL,CAAa6lB,UAAb,EAAyBhmB,UAAzB,EAAqC;AAACM,0BAAY,EAAE,MAAf;AAAuBL,oBAAM,EAANA;AAAvB,aAArC,EAAqEM,SAArE,GAAiF7E,IAAjF,CACH,UAACkrB,gBAAD,EAA2B;AACvB9mB,qBAAO,CAACC,GAAR,CAAY6mB,gBAAZ;AACA,kBAAMpmB,QAAQ,GAAoB/C,IAAI,CAACC,KAAL,CAAWkpB,gBAAX,CAAlC;AACA,kBAAMlD,cAAc,GAAGljB,QAAQ,CAACtB,IAAT,CAAcwkB,cAArC;AACA5jB,qBAAO,CAACC,GAAR,CAAYS,QAAZ;AACAV,qBAAO,CAACC,GAAR,CAAYS,QAAQ,CAACtB,IAArB;AACA,qBAAO,OAAI,CAAC2nB,wBAAL,CAA8BhqB,IAA9B,EAAoCmpB,UAApC,EAAgDtC,cAAhD,EAAgEnE,KAAK,CAACtR,KAAtE,EAA6EvS,IAA7E,CACH,UAACorB,oBAAD,EAA+B;AAC3BhnB,uBAAO,CAACC,GAAR,CAAY+mB,oBAAZ;AACA,uBAAO,OAAI,CAACC,qBAAL,CAA2BlqB,IAA3B,EAAiCmpB,UAAjC,EAA6CtC,cAA7C,EAA6DnE,KAAK,CAAC1D,EAAnE,CAAP;AACH,eAJE,CAAP;AAMH,aAbE,CAAP;AAeH;;;mDAEgChf,I,EAAkBmpB,U,EAAoBtC,c,EAAwBsD,U,EAAkC;AAE7H,gBAAMpnB,MAAM,GAAG;AAAC8jB,4BAAc,EAAE7jB,SAAjB;AAA4BonB,+BAAiB,EAAEpnB;AAA/C,aAAf;AACAD,kBAAM,CAAC8jB,cAAP,GAAwBA,cAAxB;AACA9jB,kBAAM,CAACqnB,iBAAP,GAA2BD,UAA3B;AACAlnB,mBAAO,CAACC,GAAR,CAAYH,MAAZ;AACA,gBAAMI,UAAU,GAAG,yDAAW,+DAAX,GAA+B,kBAA/B,GAAoD0jB,cAApD,GAAqE,EAAxF;AACA5jB,mBAAO,CAACC,GAAR,CAAYC,UAAZ;AACA,gBAAMC,MAAM,GAAG,IAAI,+DAAJ,GAAiBC,GAAjB,CAAqB,mBAArB,EAA0CzC,IAAI,CAACE,SAAL,CAAeiC,MAAf,CAA1C,CAAf;AAEA,mBAAO/C,IAAI,CAACsD,OAAL,CAAa6lB,UAAb,EAAyBhmB,UAAzB,EAAqC;AAACM,0BAAY,EAAE,MAAf;AAAuBL,oBAAM,EAANA;AAAvB,aAArC,EAAqEM,SAArE,EAAP;AACH;;;gDAE6B1D,I,EAAkBmpB,U,EAAoBtC,c,EAAwBwD,O,EAA4B;AAEpH,gBAAMtnB,MAAM,GAAG;AAAC8jB,4BAAc,EAAE7jB,SAAjB;AAA4BsnB,4BAAc,EAAEtnB;AAA5C,aAAf;AACAD,kBAAM,CAAC8jB,cAAP,GAAwBA,cAAxB;AACA9jB,kBAAM,CAACunB,cAAP,GAAwBD,OAAxB;AACApnB,mBAAO,CAACC,GAAR,CAAYH,MAAZ;AACA,gBAAMI,UAAU,GAAG,yDAAW,+DAAX,GAA+B,kBAA/B,GAAoD0jB,cAApD,GAAqE,EAAxF;AACA5jB,mBAAO,CAACC,GAAR,CAAYC,UAAZ;AACA,gBAAMC,MAAM,GAAG,IAAI,+DAAJ,GAAiBC,GAAjB,CAAqB,gBAArB,EAAuCzC,IAAI,CAACE,SAAL,CAAeiC,MAAf,CAAvC,CAAf;AAEA,mBAAO/C,IAAI,CAACsD,OAAL,CAAa6lB,UAAb,EAAyBhmB,UAAzB,EAAqC;AAACM,0BAAY,EAAE,MAAf;AAAuBL,oBAAM,EAANA;AAAvB,aAArC,EAAqEM,SAArE,EAAP;AACH;;;oCAEgB1D,I,EAAkBmpB,U,EAAyBjC,gB,EAA0B9C,qB,EAA4C;AAE9H,gBAAMrhB,MAAM,GAAG;AAACmkB,8BAAgB,EAAElkB,SAAnB;AAA8BunB,mCAAqB,EAAEvnB;AAArD,aAAf;AACAD,kBAAM,CAACmkB,gBAAP,GAA0BA,gBAA1B;AACAnkB,kBAAM,CAACwnB,qBAAP,GAA+BnG,qBAA/B;AACAnhB,mBAAO,CAACC,GAAR,CAAYH,MAAZ;AACA,gBAAMI,UAAU,GAAG,yDAAW,wCAAX,GAAsD,oBAAtD,GAA6E+jB,gBAA7E,GAAgG,EAAnH;AACAjkB,mBAAO,CAACC,GAAR,CAAYC,UAAZ;AACA,gBAAMC,MAAM,GAAG,IAAI,+DAAJ,GAAiBC,GAAjB,CAAqB,uBAArB,EAA8CzC,IAAI,CAACE,SAAL,CAAeiC,MAAf,CAA9C,CAAf;AAEA,mBAAO/C,IAAI,CAACsD,OAAL,CAAa6lB,UAAU,CAAC3lB,QAAX,EAAb,EAAoCL,UAApC,EAAgD;AAACM,0BAAY,EAAE,MAAf;AAAuBL,oBAAM,EAANA;AAAvB,aAAhD,EAAgFM,SAAhF,EAAP;AACH;;;6BAES1D,I,EAAkBmpB,U,EAAyBtC,c,EAAwB1C,c,EAA8B;AACvG,gBAAMqG,mBAAmB,GAAG;AAACtD,8BAAgB,EAAE/C,cAAc,CAAC+C,gBAAlC;AACxBL,4BAAc,EAAE1C,cAAc,CAAC0C,cADP;AAExBC,sBAAQ,EAAE3C,cAAc,CAAC2C;AAFD,aAA5B;AAGA,gBAAM/jB,MAAM,GAAG;AAAC8jB,4BAAc,EAAE7jB,SAAjB;AAA4BsnB,4BAAc,EAAEE;AAA5C,aAAf;AACAznB,kBAAM,CAAC8jB,cAAP,GAAwBA,cAAxB;AACA5jB,mBAAO,CAACC,GAAR,CAAYH,MAAZ;AACA,gBAAMI,UAAU,GAAG,yDAAW,iCAAX,GAA+C,kBAA/C,GAAoE0jB,cAApE,GAAqF,EAAxG;AACA5jB,mBAAO,CAACC,GAAR,CAAYC,UAAZ;AACA,gBAAMC,MAAM,GAAG,IAAI,+DAAJ,GAAiBC,GAAjB,CAAqB,gBAArB,EAAuCzC,IAAI,CAACE,SAAL,CAAeiC,MAAf,CAAvC,CAAf;AAEA,mBAAO/C,IAAI,CAACsD,OAAL,CAAa6lB,UAAU,CAAC3lB,QAAX,EAAb,EAAoCL,UAApC,EAAgD;AAACM,0BAAY,EAAE,MAAf;AAAuBL,oBAAM,EAANA;AAAvB,aAAhD,EAAgFM,SAAhF,EAAP;AACH;;;uCAEmB1D,I,EAAkBmpB,U,EAAyBnC,wB,EAC3ChD,6B,EAA4D;AAC5E,gBAAMjhB,MAAM,GAAG;AAACikB,sCAAwB,EAAEhkB,SAA3B;AAAsCynB,2CAA6B,EAAEznB;AAArE,aAAf;AACAD,kBAAM,CAACikB,wBAAP,GAAkCA,wBAAlC;AACAjkB,kBAAM,CAAC0nB,6BAAP,GAAuCzG,6BAAvC;AACA/gB,mBAAO,CAACC,GAAR,CAAYH,MAAZ;AACA,gBAAMI,UAAU,GAAG,yDAAW,gDAAX,GACb,4BADa,GACkB6jB,wBADlB,GAC6C,EADhE;AAEA/jB,mBAAO,CAACC,GAAR,CAAYC,UAAZ;AACA,gBAAMC,MAAM,GAAG,IAAI,+DAAJ,GAAiBC,GAAjB,CAAqB,+BAArB,EAAsDzC,IAAI,CAACE,SAAL,CAAeiC,MAAf,CAAtD,CAAf;AAEA,mBAAO/C,IAAI,CAACsD,OAAL,CAAa6lB,UAAU,CAAC3lB,QAAX,EAAb,EAAoCL,UAApC,EAAgD;AAACM,0BAAY,EAAE,MAAf;AAAuBL,oBAAM,EAANA;AAAvB,aAAhD,EAAgFM,SAAhF,EAAP;AACH;;;gCAEY1D,I,EAAkBmpB,U,EAAyBpC,mB,EAA6BhD,sB,EAA8C;AAE/H,gBAAM2G,2BAA2B,GAAG;AAAC1D,sCAAwB,EAAEjD,sBAAsB,CAACiD,wBAAlD;AAChCD,iCAAmB,EAAEhD,sBAAsB,CAACgD;AADZ,aAApC;AAEA,gBAAMhkB,MAAM,GAAG;AAACgkB,iCAAmB,EAAE/jB,SAAtB;AAAiC2nB,oCAAsB,EAAED;AAAzD,aAAf;AACA3nB,kBAAM,CAACgkB,mBAAP,GAA6BA,mBAA7B;AACA9jB,mBAAO,CAACC,GAAR,CAAYH,MAAZ;AACA,gBAAMI,UAAU,GAAG,yDAAW,yCAAX,GAAuD,uBAAvD,GAAiF4jB,mBAAjF,GAAuG,EAA1H;AACA9jB,mBAAO,CAACC,GAAR,CAAYC,UAAZ;AACA,gBAAMC,MAAM,GAAG,IAAI,+DAAJ,GAAiBC,GAAjB,CAAqB,wBAArB,EAA+CzC,IAAI,CAACE,SAAL,CAAeiC,MAAf,CAA/C,CAAf;AAEA,mBAAO/C,IAAI,CAACsD,OAAL,CAAa6lB,UAAU,CAAC3lB,QAAX,EAAb,EAAoCL,UAApC,EAAgD;AAACM,0BAAY,EAAE,MAAf;AAAuBL,oBAAM,EAANA;AAAvB,aAAhD,EAAgFM,SAAhF,EAAP;AACH;;;oCAEgB1D,I,EAAkBmpB,U,EAAyBlC,qB,EAC3C/C,0B,EAAsD;AACnE,gBAAMnhB,MAAM,GAAG;AAACkkB,mCAAqB,EAAEjkB,SAAxB;AAAmC4nB,wCAA0B,EAAE5nB;AAA/D,aAAf;AACAD,kBAAM,CAACkkB,qBAAP,GAA+BA,qBAA/B;AACAlkB,kBAAM,CAAC6nB,0BAAP,GAAoC1G,0BAApC;AACAjhB,mBAAO,CAACC,GAAR,CAAYH,MAAZ;AACA,gBAAMI,UAAU,GAAG,yDAAW,6CAAX,GACb,yBADa,GACe8jB,qBADf,GACuC,EAD1D;AAEAhkB,mBAAO,CAACC,GAAR,CAAYC,UAAZ;AACA,gBAAMC,MAAM,GAAG,IAAI,+DAAJ,GAAiBC,GAAjB,CAAqB,4BAArB,EAAmDzC,IAAI,CAACE,SAAL,CAAeiC,MAAf,CAAnD,CAAf;AAEA,mBAAO/C,IAAI,CAACsD,OAAL,CAAa6lB,UAAU,CAAC3lB,QAAX,EAAb,EAAoCL,UAApC,EAAgD;AAACM,0BAAY,EAAE,MAAf;AAAuBL,oBAAM,EAANA;AAAvB,aAAhD,EAAgFM,SAAhF,EAAP;AACH;;;6BAES1D,I,EAAkBmpB,U,EAAyBpC,mB,EAA6B9C,mB,EAAwC;AAEtH,gBAAM4G,wBAAwB,GAAG;AAAC5D,mCAAqB,EAAEhD,mBAAmB,CAACgD,qBAA5C;AAC7BF,iCAAmB,EAAE9C,mBAAmB,CAAC8C;AADZ,aAAjC;AAEA,gBAAMhkB,MAAM,GAAG;AAACgkB,iCAAmB,EAAE/jB,SAAtB;AAAiC8nB,iCAAmB,EAAED;AAAtD,aAAf;AACA9nB,kBAAM,CAACgkB,mBAAP,GAA6BA,mBAA7B;AACA9jB,mBAAO,CAACC,GAAR,CAAYH,MAAZ;AACA,gBAAMI,UAAU,GAAG,yDAAW,sCAAX,GAAoD,uBAApD,GAA8E4jB,mBAA9E,GAAoG,EAAvH;AACA9jB,mBAAO,CAACC,GAAR,CAAYC,UAAZ;AACA,gBAAMC,MAAM,GAAG,IAAI,+DAAJ,GAAiBC,GAAjB,CAAqB,qBAArB,EAA4CzC,IAAI,CAACE,SAAL,CAAeiC,MAAf,CAA5C,CAAf;AAEA,mBAAO/C,IAAI,CAACsD,OAAL,CAAa6lB,UAAU,CAAC3lB,QAAX,EAAb,EAAoCL,UAApC,EAAgD;AAACM,0BAAY,EAAE,MAAf;AAAuBL,oBAAM,EAANA;AAAvB,aAAhD,EAAgFM,SAAhF,EAAP;AACH;;;gCAEY1D,I,EAAkBmpB,U,EAAyBtC,c,EAAwB/C,iB,EAAoC;AAChH,gBAAMiH,sBAAsB,GAAG;AAAChE,iCAAmB,EAAEjD,iBAAiB,CAACiD,mBAAxC;AAC3BF,4BAAc,EAAE/C,iBAAiB,CAAC+C,cADP;AAE3BC,sBAAQ,EAAEhD,iBAAiB,CAACgD;AAFD,aAA/B;AAGA,gBAAM/jB,MAAM,GAAG;AAAC8jB,4BAAc,EAAE7jB,SAAjB;AAA4BonB,+BAAiB,EAAEW;AAA/C,aAAf;AACAhoB,kBAAM,CAAC8jB,cAAP,GAAwBA,cAAxB;AACA5jB,mBAAO,CAACC,GAAR,CAAYH,MAAZ;AACA,gBAAMI,UAAU,GAAG,yDAAW,oCAAX,GAAkD,kBAAlD,GAAuE0jB,cAAvE,GAAwF,EAA3G;AACA5jB,mBAAO,CAACC,GAAR,CAAYC,UAAZ;AACA,gBAAMC,MAAM,GAAG,IAAI,+DAAJ,GAAiBC,GAAjB,CAAqB,mBAArB,EAA0CzC,IAAI,CAACE,SAAL,CAAeiC,MAAf,CAA1C,CAAf;AAEA,mBAAO/C,IAAI,CAACsD,OAAL,CAAa6lB,UAAU,CAAC3lB,QAAX,EAAb,EAAoCL,UAApC,EAAgD;AAACM,0BAAY,EAAE,MAAf;AAAuBL,oBAAM,EAANA;AAAvB,aAAhD,EAAgFM,SAAhF,EAAP;AACH;;;uCAEmB1D,I,EAAkBmpB,U,EAAyBhV,O,EAAiBwP,a,EAA4B;AACxG,gBAAMqH,iBAAiB,GAAG;AAACnE,4BAAc,EAAElD,aAAY,CAACkD,cAA9B;AAA8C1S,qBAAO,EAAEwP,aAAY,CAACxP,OAApE;AAA6E/T,mBAAK,EAAEujB,aAAY,CAACvjB;AAAjG,aAA1B;AACA,gBAAM2C,MAAM,GAAG;AAACoR,qBAAO,EAAEnR,SAAV;AAAqB8mB,0BAAY,EAAEkB;AAAnC,aAAf;AACAjoB,kBAAM,CAACoR,OAAP,GAAiBA,OAAjB;AACAlR,mBAAO,CAACC,GAAR,CAAYH,MAAZ;AACA,gBAAMI,UAAU,GAAG,yDAAW,+BAAX,GAA6C,WAA7C,GAA2DgR,OAA3D,GAAqE,EAAxF;AACAlR,mBAAO,CAACC,GAAR,CAAYC,UAAZ;AACA,gBAAMC,MAAM,GAAG,IAAI,+DAAJ,GAAiBC,GAAjB,CAAqB,cAArB,EAAqCzC,IAAI,CAACE,SAAL,CAAeiC,MAAf,CAArC,CAAf;AAEA,mBAAO/C,IAAI,CAACsD,OAAL,CAAa6lB,UAAU,CAAC3lB,QAAX,EAAb,EAAoCL,UAApC,EAAgD;AAACM,0BAAY,EAAE,MAAf;AAAuBL,oBAAM,EAANA;AAAvB,aAAhD,EAAgFM,SAAhF,EAAP;AACH;;;sCAEkB1D,I,EAAkBmpB,U,EAAyBtC,c,EAAwBjD,uB,EAAgD;AAElI,gBAAM7gB,MAAM,GAAG;AAACoR,qBAAO,EAAEnR,SAAV;AAAqBioB,qCAAuB,EAAEjoB;AAA9C,aAAf;AACAD,kBAAM,CAACoR,OAAP,GAAiB0S,cAAjB;AACA9jB,kBAAM,CAACkoB,uBAAP,GAAiCrH,uBAAjC;AACA3gB,mBAAO,CAACC,GAAR,CAAYH,MAAZ;AACA,gBAAMI,UAAU,GAAG,yDAAW,0CAAX,GAAwD,kBAAxD,GAA6E0jB,cAA7E,GAA8F,EAAjH;AACA5jB,mBAAO,CAACC,GAAR,CAAYC,UAAZ;AACA,gBAAMC,MAAM,GAAG,IAAI,+DAAJ,GAAiBC,GAAjB,CAAqB,yBAArB,EAAgDzC,IAAI,CAACE,SAAL,CAAeiC,MAAf,CAAhD,CAAf;AAEA,mBAAO/C,IAAI,CAACsD,OAAL,CAAa6lB,UAAU,CAAC3lB,QAAX,EAAb,EAAoCL,UAApC,EAAgD;AAACM,0BAAY,EAAE,MAAf;AAAuBL,oBAAM,EAANA;AAAvB,aAAhD,EAAgFM,SAAhF,EAAP;AACH;;;gCAEY1D,I,EAAkBmpB,U,EAAyBtC,c,EAAwBL,iB,EAAsC;AAElH,gBAAMzjB,MAAM,GAAG;AAACoR,qBAAO,EAAEnR,SAAV;AAAqBkoB,+BAAiB,EAAEloB;AAAxC,aAAf;AACAD,kBAAM,CAACoR,OAAP,GAAiB0S,cAAjB;AACA9jB,kBAAM,CAACmoB,iBAAP,GAA2B1E,iBAA3B;AACAvjB,mBAAO,CAACC,GAAR,CAAYH,MAAZ;AACA,gBAAMI,UAAU,GAAG,yDAAW,oCAAX,GAAkD,kBAAlD,GAAuE0jB,cAAvE,GAAwF,EAA3G;AACA5jB,mBAAO,CAACC,GAAR,CAAYC,UAAZ;AACA,gBAAMC,MAAM,GAAG,IAAI,+DAAJ,GAAiBC,GAAjB,CAAqB,mBAArB,EAA0CzC,IAAI,CAACE,SAAL,CAAeiC,MAAf,CAA1C,CAAf;AAEA,mBAAO/C,IAAI,CAACsD,OAAL,CAAa6lB,UAAU,CAAC3lB,QAAX,EAAb,EAAoCL,UAApC,EAAgD;AAACM,0BAAY,EAAE,MAAf;AAAuBL,oBAAM,EAANA;AAAvB,aAAhD,EAAgFM,SAAhF,EAAP;AACH;;;gCAEY1D,I,EAAkBmpB,U,EAAyBla,Y,EAAsB0G,M,EAAwB;AAElG,gBAAMwV,UAAU,GAAGvqB,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,SAAL,CAAe6U,MAAf,CAAX,CAAnB;AACAwV,sBAAU,CAACxH,YAAX,GAA0B,IAA1B;AACAwH,sBAAU,CAACnQ,WAAX,GAAyB,IAAzB;AACAmQ,sBAAU,CAAClR,QAAX,GAAsB,IAAtB;AACA,gBAAMlX,MAAM,GAAG;AAACkM,0BAAY,EAAEjM,SAAf;AAA0B0mB,mBAAK,EAAE1mB;AAAjC,aAAf;AACAD,kBAAM,CAACkM,YAAP,GAAsBA,YAAtB;AACAlM,kBAAM,CAAC2mB,KAAP,GAAeyB,UAAf;AACAloB,mBAAO,CAACC,GAAR,CAAYH,MAAZ;AACA,gBAAMI,UAAU,GAAG,yDAAW,sBAAX,GAAoC,gBAApC,GAAuD8L,YAAvD,GAAsE,EAAzF;AACAhM,mBAAO,CAACC,GAAR,CAAYC,UAAZ;AACA,gBAAMC,MAAM,GAAG,IAAI,+DAAJ,GAAiBC,GAAjB,CAAqB,OAArB,EAA8BzC,IAAI,CAACE,SAAL,CAAeiC,MAAf,CAA9B,CAAf;AACAE,mBAAO,CAACC,GAAR,CAAYH,MAAZ;AAEA,mBAAO/C,IAAI,CAACsD,OAAL,CAAa6lB,UAAU,CAAC3lB,QAAX,EAAb,EAAoCL,UAApC,EAAgD;AAACM,0BAAY,EAAE,MAAf;AAAuBL,oBAAM,EAANA;AAAvB,aAAhD,EAAgFM,SAAhF,EAAP;AACH;;;sCAEkB1D,I,EAAkBmpB,U,EAAyBnJ,a,EAAuBhF,Y,EAAwB;AAEzG,gBAAMjY,MAAM,GAAG;AAACid,2BAAa,EAAEhd,SAAhB;AAA2BooB,yBAAW,EAAEpoB;AAAxC,aAAf;AACAD,kBAAM,CAACid,aAAP,GAAuBA,aAAvB;AACAjd,kBAAM,CAACqoB,WAAP,GAAqBpQ,YAArB;AACA/X,mBAAO,CAACC,GAAR,CAAYH,MAAZ;AACA,gBAAMI,UAAU,GAAG,yDAAW,kCAAX,GAAgD,iBAAhD,GAAoE6c,aAApE,GAAoF,EAAvG;AACA/c,mBAAO,CAACC,GAAR,CAAYC,UAAZ;AACA,gBAAMC,MAAM,GAAG,IAAI,+DAAJ,GAAiBC,GAAjB,CAAqB,aAArB,EAAoCzC,IAAI,CAACE,SAAL,CAAeiC,MAAf,CAApC,CAAf;AAEA,mBAAO/C,IAAI,CAACsD,OAAL,CAAa6lB,UAAU,CAAC3lB,QAAX,EAAb,EAAoCL,UAApC,EAAgD;AAACM,0BAAY,EAAE,MAAf;AAAuBL,oBAAM,EAANA;AAAvB,aAAhD,EAAgFM,SAAhF,EAAP;AACH;;;mCAEe1D,I,EAAkBmpB,U,EAAyBkC,W,EAAqBC,S,EAAmB;AAE/F,gBAAMvoB,MAAM,GAAG;AAACsoB,yBAAW,EAAEroB,SAAd;AAAyBuoB,uBAAS,EAAEvoB;AAApC,aAAf;AACAD,kBAAM,CAACsoB,WAAP,GAAqBA,WAArB;AACAtoB,kBAAM,CAACwoB,SAAP,GAAmBD,SAAnB;AACAroB,mBAAO,CAACC,GAAR,CAAYH,MAAZ;AACA,gBAAMI,UAAU,GAAG,yDAAW,+BAAX,GAA6C,eAA7C,GAA+DkoB,WAA/D,GAA6E,EAAhG;AACApoB,mBAAO,CAACC,GAAR,CAAYC,UAAZ;AACA,gBAAMC,MAAM,GAAG,IAAI,+DAAJ,GAAiBC,GAAjB,CAAqB,WAArB,EAAkCzC,IAAI,CAACE,SAAL,CAAeiC,MAAf,CAAlC,CAAf;AAEA,mBAAO/C,IAAI,CAACsD,OAAL,CAAa6lB,UAAU,CAAC3lB,QAAX,EAAb,EAAoCL,UAApC,EAAgD;AAACM,0BAAY,EAAE,MAAf;AAAuBL,oBAAM,EAANA;AAAvB,aAAhD,EAAgFM,SAAhF,EAAP;AACH;;;;;;;yBA3TQ2lB,Y;AAAY,O;;;eAAZA,Y;AAAY,iBAAZA,YAAY,K;AAAA,oBAFT;;;;;wEAEHA,Y,EAAY;gBAHxB,wDAGwB;iBAHb;AACR5mB,sBAAU,EAAE;AADJ,W;AAGa,U;;;;;;;;;;;;;;;;;;;;ACTzB;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAQa+oB,iB;AAET,qCAAc;AAAA;AACb;;;;4CAEwBxrB,I,EAAkByrB,e,EAA0B;AACjE,gBAAMtoB,UAAU,GAAG,yDAAW,4DAAX,GAA4B,mBAA5B,GAAkDsoB,eAArE;AACAxoB,mBAAO,CAACC,GAAR,CAAYC,UAAZ;AACA,mBAAOnD,IAAI,CAACsD,OAAL,CAAa,KAAb,EAAoBH,UAApB,EAAgCO,SAAhC,EAAP;AACH;;;wCAEoB1D,I,EAAkBiP,Y,EAAsBwc,e,EAA0B;AACnF,gBAAMtoB,UAAU,GAAG,yDAAW,4DAAX,GAA4B,gBAA5B,GAA+C8L,YAA/C,GAA8D,mBAA9D,GAAoFwc,eAAvG;AACAxoB,mBAAO,CAACC,GAAR,CAAYC,UAAZ;AACA,mBAAOnD,IAAI,CAACsD,OAAL,CAAa,KAAb,EAAoBH,UAApB,EAAgCO,SAAhC,EAAP;AACH;;;oDAEyB1D,I,EAAkBiP,Y,EAAsByc,O,EAAkB;AAChF,gBAAMvoB,UAAU,GAAG,yDAAW,6DAAX,GAA6B,gBAA7B,GAAgD8L,YAAhD,GAA+D,WAA/D,GAA6Eyc,OAAhG;AACAzoB,mBAAO,CAACC,GAAR,CAAYC,UAAZ;AACA,mBAAOnD,IAAI,CAACsD,OAAL,CAAa,KAAb,EAAoBH,UAApB,EAAgCO,SAAhC,EAAP;AACH;;;mDAEwB1D,I,EAAkB;AACvC,gBAAMmD,UAAU,GAAG,yDAAW,2BAA9B;AACAF,mBAAO,CAACC,GAAR,CAAYC,UAAZ;AACA,mBAAOnD,IAAI,CAACsD,OAAL,CAAa,KAAb,EAAoBH,UAApB,EAAgCO,SAAhC,EAAP;AACH;;;gDAEqB1D,I,EAAkBmpB,U,EAAyBnY,uB,EAC3CG,sB,EAA4C;AAC9D,gBAAMpO,MAAM,GAAG;AAACiO,qCAAuB,EAAEhO,SAA1B;AAAqC2oB,mCAAqB,EAAE3oB;AAA5D,aAAf;AACAD,kBAAM,CAACiO,uBAAP,GAAiCA,uBAAjC;AACAjO,kBAAM,CAAC4oB,qBAAP,GAA+Bxa,sBAA/B;AACAlO,mBAAO,CAACC,GAAR,CAAYH,MAAZ;AACA,gBAAMI,UAAU,GAAG,yDAAW,2BAAX,GAAyC,2BAAzC,GAAuE6N,uBAA1F;AACA/N,mBAAO,CAACC,GAAR,CAAYC,UAAZ;AACA,gBAAMC,MAAM,GAAG,IAAI,+DAAJ,GAAiBC,GAAjB,CAAqB,uBAArB,EAA8CzC,IAAI,CAACE,SAAL,CAAeiC,MAAf,CAA9C,CAAf;AAEA,mBAAO/C,IAAI,CAACsD,OAAL,CAAa6lB,UAAU,CAAC3lB,QAAX,EAAb,EAAoCL,UAApC,EAAgD;AAACM,0BAAY,EAAE,MAAf;AAAuBL,oBAAM,EAANA;AAAvB,aAAhD,EAAgFM,SAAhF,EAAP;AACH;;;6CAEkB1D,I,EAAkBqP,M,EAAc;AAC/C,gBAAMlM,UAAU,GAAG,yDAAW,mCAAX,GAAiDkM,MAApE;AACApM,mBAAO,CAACC,GAAR,CAAYC,UAAZ;AAEA,mBAAOnD,IAAI,CAACsD,OAAL,CAAa,KAAb,EAAoBH,UAApB,EAAgCO,SAAhC,EAAP;AACH;;;uCAEY1D,I,EAAkBmpB,U,EAAyBla,Y,EAAsBI,M,EAA+B;AACzG,gBAAMtM,MAAM,GAAG;AAACkM,0BAAY,EAAEjM,SAAf;AAA0B4oB,oBAAM,EAAE5oB;AAAlC,aAAf;AACAD,kBAAM,CAACkM,YAAP,GAAsBA,YAAtB;AACAlM,kBAAM,CAAC6oB,MAAP,GAAgBvc,MAAhB;AACApM,mBAAO,CAACC,GAAR,CAAYH,MAAZ;AACA,gBAAMI,UAAU,GAAG,yDAAW,kBAAX,GAAgC,gBAAhC,GAAmD8L,YAAtE;AACAhM,mBAAO,CAACC,GAAR,CAAYC,UAAZ;AACA,gBAAMC,MAAM,GAAG,IAAI,+DAAJ,GAAiBC,GAAjB,CAAqB,QAArB,EAA+BzC,IAAI,CAACE,SAAL,CAAeiC,MAAf,CAA/B,CAAf;AAEA,mBAAO/C,IAAI,CAACsD,OAAL,CAAa,yEAAYU,IAAZ,CAAiBR,QAAjB,EAAb,EAA0CL,UAA1C,EAAsD;AAACM,0BAAY,EAAE,MAAf;AAAuBL,oBAAM,EAANA;AAAvB,aAAtD,EAAsFM,SAAtF,EAAP;AACH;;;sCAEW1D,I,EAAkBiP,Y,EAAsB4c,K,EAAgB;AAChE,gBAAM1oB,UAAU,GAAG,yDAAW,kBAAX,GAAgC,gBAAhC,GAAmD8L,YAAnD,GAAkE,SAAlE,GAA8E4c,KAAjG;AACA5oB,mBAAO,CAACC,GAAR,CAAYC,UAAZ;AAEA,mBAAOnD,IAAI,CAACsD,OAAL,CAAa,yEAAYC,GAAZ,CAAgBC,QAAhB,EAAb,EAAyCL,UAAzC,EAAqDO,SAArD,EAAP;AACH;;;;;;;yBAlEQ8nB,iB;AAAiB,O;;;eAAjBA,iB;AAAiB,iBAAjBA,iBAAiB,K;AAAA,oBAFd;;;;;wEAEHA,iB,EAAiB;gBAH7B,wDAG6B;iBAHlB;AACR/oB,sBAAU,EAAE;AADJ,W;AAGkB,U;;;;;;;;;;;;;;;;;;;;ACR9B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA,S,CAAA;AACA;;;AACO,UAAIqpB,QAAQ,GAAG,uBAAf;AACA,UAAIC,eAAe,GAAG,oBAAtB;AACA,UAAIC,mBAAmB,GAAG,uBAA1B;AACA,UAAIC,YAAY,GAAG,kBAAnB;AACA,UAAIC,WAAW,GAAG,iBAAlB;AACA,UAAIC,mBAAmB,GAAG,wBAA1B;AAMP;;;;AAGO,UAAIC,iBAAiB,GAAG,+BAAxB;AACA,UAAIC,iBAAiB,GAAG,sBAAxB;AAGP;;;;AAGO,UAAIC,cAAc,GAAG,oBAArB;AACA,UAAIC,eAAe,GAAG,+BAAtB;;;;;;;;;;;;;;;;ACxBP;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAOaC,gB;AAEX,oCAAc;AAAA;AAAG;;;;qCAET,CACP;;;;;;;yBALUA,gB;AAAgB,O;;;cAAhBA,gB;AAAgB,oC;AAAA,iB;AAAA,e;AAAA,oO;AAAA;AAAA;ACP7B;;AAEI;;AACI;;AAAuB;;AAAkB;;AACzC;;AACI;;AACI;;AAAwD;;AAAO;;AACnE;;AACA;;AACI;;AAAoD;;AAAG;;AAC3D;;AACJ;;AAEA;;AAAwB;;AAAoD;;AAAmC;;AAAS;;AAAI;;AAAC;;AACjI;;AAEJ;;;;;;;;wEDTaA,gB,EAAgB;gBAL5B,uDAK4B;iBALlB;AACTrrB,oBAAQ,EAAE,aADD;AAETC,uBAAW,EAAE,0BAFJ;AAGTC,qBAAS,EAAE,CAAC,0BAAD;AAHF,W;AAKkB,U;;;;;;;;;;;;;;;;;;;;AEP7B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAOaorB,gB;AAEX,oCAAc;AAAA;AAAG;;;;qCAET,CACP;;;;;;;yBALUA,gB;AAAgB,O;;;cAAhBA,gB;AAAgB,oC;AAAA,gB;AAAA,e;AAAA,sG;AAAA;AAAA;ACP7B;;AACI;;AACA;;AACA;;AACA;;AACA;;AACJ;;;;;;;;wEDCaA,gB,EAAgB;gBAL5B,uDAK4B;iBALlB;AACTtrB,oBAAQ,EAAE,aADD;AAETC,uBAAW,EAAE,0BAFJ;AAGTC,qBAAS,EAAE,CAAC,0BAAD;AAHF,W;AAKkB,U;;;;;;;;;;;;;;;;;;;;AEP7B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAUaqrB,wB;AAIT,0CAAoB1sB,IAApB,EACoBuX,WADpB,EACkD;AAAA;;AAD9B,eAAAvX,IAAA,GAAAA,IAAA;AACA,eAAAuX,WAAA,GAAAA,WAAA;AACnB;;;;qCAEO;AAAA;;AACJ,iBAAKA,WAAL,CAAiBE,OAAjB,CAAyB,SAAzB,EAAoC,mBAApC,EAAyD5Y,IAAzD,CACI,UAACqiB,WAAD,EAAsB;AAClB;AACA,qBAAI,CAACvJ,qBAAL,GAA6B/W,IAAI,CAACC,KAAL,CAAWqgB,WAAX,CAA7B;AACAje,qBAAO,CAACC,GAAR,CAAY,OAAI,CAACyU,qBAAjB;AACH,aALL;AAOH;;;sCAEW;AACR,gBAAIgV,UAAJ;AACA1pB,mBAAO,CAACC,GAAR,CAAY,KAAKyU,qBAAL,CAA2B2G,YAA3B,CAAwC,GAAxC,CAAZ;AACAqO,sBAAU,GAAG,KAAKhV,qBAAL,CAA2B2G,YAA3B,CAAwC,GAAxC,CAAb;AACArb,mBAAO,CAACC,GAAR,CAAYypB,UAAZ;AACA,gBAAM5pB,MAAM,GAAG;AAAC8jB,4BAAc,EAAE7jB,SAAjB;AAA4B4pB,mBAAK,EAAE5pB;AAAnC,aAAf;AACAD,kBAAM,CAAC8jB,cAAP,GAAwB,CAAxB;AACA9jB,kBAAM,CAAC6pB,KAAP,GAAeD,UAAU,CAACvb,KAAX,CAAiB,CAAjB,CAAf;AACAnO,mBAAO,CAACC,GAAR,CAAYH,MAAZ;AACA,gBAAMI,UAAU,GAAG,kEAAW,oCAAX,GAAkD,kBAAlD,GAAuE,CAAvE,GAA2E,EAA9F;AACAF,mBAAO,CAACC,GAAR,CAAYC,UAAZ;AACA,gBAAMC,MAAM,GAAG,IAAI,+DAAJ,GAAiBC,GAAjB,CAAqB,mBAArB,EAA0CzC,IAAI,CAACE,SAAL,CAAeiC,MAAf,CAA1C,CAAf;AACA,mBAAO,KAAK/C,IAAL,CAAUsD,OAAV,CAAkB,MAAlB,EAA0BH,UAA1B,EAAsC;AAACM,0BAAY,EAAE,MAAf;AAAuBL,oBAAM,EAANA;AAAvB,aAAtC,EAAsEM,SAAtE,GAAkF7E,IAAlF,CACH,UAACwD,IAAD,EAAe;AACXY,qBAAO,CAACC,GAAR,CAAYb,IAAZ;AACH,aAHE,CAAP;AAKH;;;mCAEQ;AACL,gBAAIwqB,iBAAJ;AACA5pB,mBAAO,CAACC,GAAR,CAAY,KAAKyU,qBAAjB;AACA1U,mBAAO,CAACC,GAAR,CAAY,KAAKyU,qBAAL,CAA2B+G,iBAA3B,CAA6C,EAA7C,CAAZ;AACAmO,6BAAiB,GAAG,KAAKlV,qBAAL,CAA2B+G,iBAA3B,CAA6C,EAA7C,CAApB;AACAzb,mBAAO,CAACC,GAAR,CAAY2pB,iBAAZ;AACA,gBAAM9pB,MAAM,GAAG;AAAC8jB,4BAAc,EAAE7jB,SAAjB;AAA4B8pB,gBAAE,EAAE9pB;AAAhC,aAAf;AACAD,kBAAM,CAAC8jB,cAAP,GAAwB,CAAxB;AACA9jB,kBAAM,CAAC+pB,EAAP,GAAYD,iBAAiB,CAAC7N,EAAlB,CAAqB,CAArB,CAAZ;AACA/b,mBAAO,CAACC,GAAR,CAAYH,MAAZ;AACA,gBAAMI,UAAU,GAAG,kEAAW,iCAAX,GAA+C,kBAA/C,GAAoE,CAApE,GAAwE,EAA3F;AACAF,mBAAO,CAACC,GAAR,CAAYC,UAAZ;AACA,gBAAMC,MAAM,GAAG,IAAI,+DAAJ,GAAiBC,GAAjB,CAAqB,gBAArB,EAAuCzC,IAAI,CAACE,SAAL,CAAeiC,MAAf,CAAvC,CAAf;AACA,mBAAO,KAAK/C,IAAL,CAAUsD,OAAV,CAAkB,MAAlB,EAA0BH,UAA1B,EAAsC;AAACM,0BAAY,EAAE,MAAf;AAAuBL,oBAAM,EAANA;AAAvB,aAAtC,EAAsEM,SAAtE,GAAkF7E,IAAlF,CACH,UAACwD,IAAD,EAAe;AACXY,qBAAO,CAACC,GAAR,CAAYb,IAAZ;AACH,aAHE,CAAP;AAKH;;;6CAEkB;AACf,gBAAMU,MAAM,GAAG;AAAC8jB,4BAAc,EAAE7jB,SAAjB;AAA4BymB,0BAAY,EAAEzmB;AAA1C,aAAf;AACAD,kBAAM,CAAC8jB,cAAP,GAAwB,CAAxB;AACA9jB,kBAAM,CAAC0mB,YAAP,GAAsB,KAAK9R,qBAAL,CAA2B+G,iBAA3B,CAA6C,EAA7C,EAAiDI,WAAvE;AACA7b,mBAAO,CAACC,GAAR,CAAYH,MAAZ;AACA,gBAAMI,UAAU,GAAG,kEAAW,0CAAX,GAAwD,WAAxD,GAAsE,CAAtE,GAA0E,EAA7F;AACAF,mBAAO,CAACC,GAAR,CAAYC,UAAZ;AACA,gBAAMC,MAAM,GAAG,IAAI,+DAAJ,GAAiBC,GAAjB,CAAqB,0BAArB,EAAiDzC,IAAI,CAACE,SAAL,CAAeiC,MAAf,CAAjD,CAAf;AAEA,mBAAO,KAAK/C,IAAL,CAAUsD,OAAV,CAAkB,MAAlB,EAA0BH,UAA1B,EAAsC;AAACM,0BAAY,EAAE,MAAf;AAAuBL,oBAAM,EAANA;AAAvB,aAAtC,EAAsEM,SAAtE,GAAkF7E,IAAlF,CACH,UAACwD,IAAD,EAAe;AACXY,qBAAO,CAACC,GAAR,CAAYb,IAAZ;AACH,aAHE,CAAP;AAKH;;;sCAEW;AACR,gBAAMU,MAAM,GAAG;AAAC8jB,4BAAc,EAAE7jB,SAAjB;AAA4B+pB,mBAAK,EAAE/pB;AAAnC,aAAf;AACAD,kBAAM,CAAC8jB,cAAP,GAAwB,CAAxB;AACA9jB,kBAAM,CAACgqB,KAAP,GAAe,KAAKpV,qBAAL,CAA2B+G,iBAA3B,CAA6C,EAA7C,EAAiDK,KAAjD,CAAuD1c,IAAtE;AACAY,mBAAO,CAACC,GAAR,CAAYH,MAAZ;AACA,gBAAMI,UAAU,GAAG,kEAAW,oCAAX,GAAkD,WAAlD,GAAgE,CAAhE,GAAoE,EAAvF;AACAF,mBAAO,CAACC,GAAR,CAAYC,UAAZ;AACA,gBAAMC,MAAM,GAAG,IAAI,+DAAJ,GAAiBC,GAAjB,CAAqB,mBAArB,EAA0CzC,IAAI,CAACE,SAAL,CAAeiC,MAAf,CAA1C,CAAf;AAEA,mBAAO,KAAK/C,IAAL,CAAUsD,OAAV,CAAkB,MAAlB,EAA0BH,UAA1B,EAAsC;AAACM,0BAAY,EAAE,MAAf;AAAuBL,oBAAM,EAANA;AAAvB,aAAtC,EAAsEM,SAAtE,GAAkF7E,IAAlF,CACH,UAACwD,IAAD,EAAe;AACXY,qBAAO,CAACC,GAAR,CAAYb,IAAZ;AACH,aAHE,CAAP;AAKH;;;;;;;yBAvFQqqB,wB,EAAwB,gI,EAAA,4I;AAAA,O;;;cAAxBA,wB;AAAwB,8C;AAAA,iB;AAAA,e;AAAA,8B;AAAA;AAAA;ACVrC;;AAAG;;AAAwB;;AAC3B;;AAAQ;AAAA,qBAAS,IAAAM,SAAA,EAAT;AAAoB,aAApB;;AAAsB;;AAAU;;AACxC;;AAAQ;AAAA,qBAAS,IAAAC,MAAA,EAAT;AAAiB,aAAjB;;AAAmB;;AAAO;;AAClC;;AAAQ;AAAA,qBAAS,IAAAC,gBAAA,EAAT;AAA2B,aAA3B;;AAA6B;;AAAgB;;AACrD;;AAAQ;AAAA,qBAAS,IAAAC,SAAA,EAAT;AAAoB,aAApB;;AAAsB;;AAAU;;;;;;;;wEDM3BT,wB,EAAwB;gBALpC,uDAKoC;iBAL1B;AACPvrB,oBAAQ,EAAE,uBADH;AAEPC,uBAAW,EAAE,oCAFN;AAGPC,qBAAS,EAAE,CAAC,oCAAD;AAHJ,W;AAK0B,U;;;;;;;;;;;;;;;;;;;;;;;;AEVrC;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAOa+rB,yB;AAEX,6CAAc;AAAA;AAAG;;;;qCAET,CACP;;;;;;;yBALUA,yB;AAAyB,O;;;cAAzBA,yB;AAAyB,8C;AAAA,gB;AAAA,e;AAAA,sO;AAAA;AAAA;ACPtC;;AACI;;AACI;;AACI;;AACI;;AACI;;AACJ;;AACJ;;AACA;;AACI;;AACJ;;AACJ;;AACJ;;AACJ;;;;;;;;;wEDNaA,yB,EAAyB;gBALrC,uDAKqC;iBAL3B;AACTjsB,oBAAQ,EAAE,uBADD;AAETC,uBAAW,EAAE,oCAFJ;AAGTC,qBAAS,EAAE,CAAC,oCAAD;AAHF,W;AAK2B,U;;;;;;;;;;;;;;;;;;;;AEPtC;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;ACiBoB;;AAAoD;;AAAoB;;;;;;AACxE;;AAAqD;;AAAgC;;;;;;AACrF;;AAAuC;;AAAoB;;;;;;AAE/D;;;;;;AAYI;;AAAoD;;AAAoB;;;;;;AACxE;;AAAiE;;AAA+B;;;;;;AAahG;;AAAkE;;AAAqB;;;;;;;;AAa3F;;AAII;AAAA;;AAAA;;AAAA;AAAA;;AACA;;AACI;;AACJ;;AACJ;;;;;;AAWQ;;AAAsD;;AAA2B;;;;;;AACjF;;AAAmE;;AAAgC;;;;;;AACnG;;AAAuE;;AAA2B;;;;;;;;;;;;;;AAX9G;;AACI;;AACI;;AACI;;AAAW;;AAAe;;AAC1B;;AAEO;AAAA;;AAAA;;AAAA;AAAA;;AAFP;;AAGA;;AAAoB;;AAAO;;AAC3B;;AAAqF;;AAAiB;;AACtG;;AACA;;AACA;;AACJ;;AACJ;;AACJ;;;;;;AANkC;;AAAA;;AACX;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;;;;;AAYX;;AACI;;AACJ;;;;;;AAFuD;;AACnD;;AAAA;;;;;;AAGR;;AAAsD;;AAAgC;;;;;;;;AAX9F;;AACI;;AACI;;AAAqC;;AAAuB;;AAC5D;;AAA0D;AAAA;;AAAA;;AAAA;AAAA;;AAGtD;;AACA;;AAGJ;;AACA;;AACJ;;AACJ;;;;;;AANoB;;AAAA;;AAID;;AAAA;;;;ADnFxB,UAAMgsB,aAAa,GAAgB,SAA7BA,aAA6B,CAACC,SAAD,EAAmD;AACzF,YAAIA,SAAS,CAAC9nB,GAAV,CAAc,UAAd,EAA0Bf,KAA1B,CAAgCsB,MAAhC,GAAyC,CAA7C,EAAgD;AAC5C,iBAAO;AAACwnB,2BAAe,EAAE;AAAlB,WAAP;AACH,SAFD,MAEO,IAAID,SAAS,CAAC9nB,GAAV,CAAc,UAAd,EAA0Bf,KAA1B,CAAgCsB,MAAhC,GAAyC,EAA7C,EAAiD;AACpD,iBAAO;AAACynB,2BAAe,EAAE;AAAlB,WAAP;AACH,SAFM,MAEA;AACH,iBAAO,IAAP;AACH;AACJ,OARM;;AAUA,UAAMC,sBAAsB,GAAgB,SAAtCA,sBAAsC,CAACH,SAAD,EAAmD;AAClG,YAAIA,SAAS,CAAC9nB,GAAV,CAAc,UAAd,EAA0Bf,KAA1B,CAAgCsB,MAAhC,GAAyC,CAA7C,EAAgD;AAC5C,iBAAO;AAAC2nB,2BAAe,EAAE;AAAlB,WAAP;AACH,SAFD,MAEO,IAAIJ,SAAS,CAAC9nB,GAAV,CAAc,UAAd,EAA0Bf,KAA1B,CAAgCsB,MAAhC,GAAyC,CAA7C,EAAgD;AACnD,iBAAO;AAAC4nB,iCAAqB,EAAE;AAAxB,WAAP;AACH;;AACD,YAAIL,SAAS,CAAC9nB,GAAV,CAAc,UAAd,EAA0Bf,KAA1B,KAAoC6oB,SAAS,CAAC9nB,GAAV,CAAc,gBAAd,EAAgCf,KAAxE,EAA+E;AAC3E,iBAAO,IAAP;AACH,SAFD,MAEO;AACH,iBAAO;AAACmpB,4BAAgB,EAAE;AAAnB,WAAP;AACH;AACJ,OAXM;;AAaA,UAAMC,mBAAmB,GAAgB,SAAnCA,mBAAmC,CAACP,SAAD,EAAmD;AAC/F,YAAM7gB,QAAQ,CAACC,cAAT,CAAwB,gBAAxB,KACED,QAAQ,CAACC,cAAT,CAAwB,gBAAxB,EAA+DjI,KAA/D,CAAqEsB,MAArE,KAAgF,CADpF,IAEK0G,QAAQ,CAACC,cAAT,CAAwB,yBAAxB,KACGD,QAAQ,CAACC,cAAT,CAAwB,yBAAxB,EAAyEjI,KAAzE,CAA+EsB,MAA/E,KAA0F,CAHtG,EAG0G;AACtG,iBAAO;AAAC+nB,6BAAiB,EAAE;AAApB,WAAP;AACH,SALD,MAKO,IAAMrhB,QAAQ,CAACC,cAAT,CAAwB,gBAAxB,KACLD,QAAQ,CAACC,cAAT,CAAwB,gBAAxB,EAA+DjI,KAA/D,CAAqEsB,MAArE,GAA8E,EAD/E,EACoF;AACvF,iBAAO;AAACgoB,iCAAqB,EAAE;AAAxB,WAAP;AACH,SAHM,MAGA;AACH,iBAAO,IAAP;AACH;AACJ,OAZM;;UAmBMC,mB;AAuBT,qCAAoBjuB,WAApB,EACoBC,IADpB,EAEoBC,MAFpB,EAEkC;AAAA;;AAAA;;AAFd,eAAAF,WAAA,GAAAA,WAAA;AACA,eAAAC,IAAA,GAAAA,IAAA;AACA,eAAAC,MAAA,GAAAA,MAAA;AArBpB,eAAA2tB,gBAAA,GAAmB,KAAnB;AAEA,eAAAK,IAAA,GAAO,IAAP;AAIA,eAAAC,yBAAA,GAA4B,KAA5B;AACA,eAAAC,cAAA,GAAiB,KAAjB;AASA,eAAAC,8BAAA,GAAiC,KAAjC;AACA,eAAAC,oCAAA,GAAuC,KAAvC;;AAqFO,eAAAC,QAAA,GAAW,UAACC,WAAD,EAAsBC,SAAtB,EAA4C;AAC1D,mBAAO,OAAI,CAACC,cAAL,CAAoBC,QAApB,CAA6BH,WAA7B,EAA0CD,QAA1C,CAAmDE,SAAnD,CAAP;AACH,WAFM;;AAwCP,eAAAG,UAAA,GAAa,UAACC,aAAD,EAAmB;AAC5B,gBAAI,OAAI,CAACH,cAAL,CAAoBI,KAAxB,EAA+B;AAC3B,qBAAI,CAACC,mBAAL,CAAyBF,aAAzB;AACH;AACJ,WAJD;;AAMQ,eAAAE,mBAAA,GAAsB,UAACF,aAAD,EAAmB;AAC7C,gBAAM/qB,IAAI,GAAoB;AAC1BjB,sBAAQ,EAAEgsB,aAAa,CAAChsB,QADE;AAE1BC,sBAAQ,EAAE+rB,aAAa,CAAC/rB,QAFE;AAG1B7B,qBAAO,EAAE,KAHiB;AAI1BC,0BAAY,EAAE;AAJY,aAA9B;AAOA,gBAAM8tB,eAAe,GAAe;AAChC9f,0BAAY,EAAE,OAAI,CAACA,YAAL,GAAoB,OAAI,CAACA,YAAzB,GAAwC,IADtB;AAEhCmK,iBAAG,EAAE,OAAI,CAACtV,UAAL,CAAgBW,KAAhB,GAAwB,OAAI,CAACX,UAAL,CAAgBW,KAAxC,GAAgD,IAFrB;AAGhC4K,oBAAM,EAAE,CAHwB;AAIhCgB,6BAAe,EAAE,CAJe;AAKhCf,0BAAY,EAAE,CALkB;AAMhCC,mBAAK,EAAE,CANyB;AAOhCC,qBAAO,EAAE,CAPuB;AAQhCC,qBAAO,EAAE,CARuB;AAShCC,0BAAY,EAAE,CATkB;AAUhCC,sBAAQ,EAAE,CAVsB;AAWhCgD,iCAAmB,EAAE,CAXW;AAYhC7C,kBAAI,EAAE,CAZ0B;AAahC+C,2BAAa,EAAE,CAbiB;AAchCmc,mCAAqB,EAAE;AAdS,aAApC;;AAiBA,mBAAI,CAACjvB,WAAL,CAAiB4uB,UAAjB,CAA4B,OAAI,CAAC3uB,IAAjC,EAAuC6D,IAAvC,EAA6CkrB,eAA7C,EACKlwB,IADL,CAEQ,UAACwD,IAAD,EAAe;AACXY,qBAAO,CAACC,GAAR,CAAYb,IAAZ;AACA,kBAAMsB,QAAQ,GAAoB/C,IAAI,CAACC,KAAL,CAAWwB,IAAX,CAAlC;AACA,kBAAM4sB,WAAW,GAAoBtrB,QAAQ,CAACtB,IAA9C;;AACA,qBAAI,CAACgC,MAAL,CAAY4qB,WAAW,CAACrsB,QAAxB,EAAkCqsB,WAAW,CAACpsB,QAA9C;AACH,aAPT,WASQ,UAACR,IAAD,EAAe;AACXY,qBAAO,CAACC,GAAR,CAAYb,IAAZ;AACA,kBAAMsB,QAAQ,GAAoBtB,IAAlC;;AACA,kBAAIsB,QAAQ,CAACC,MAAT,KAAoB,GAAxB,EAA6B;AAC7B,uBAAI,CAACsrB,qBAAL,CAA2B,uCAA3B;AACH;AACJ,aAfL;AAiBH,WA1CO;AA7HP;;;;qCAEO;AAAA;;AACJ,iBAAKT,cAAL,GAAsB,IAAI,wDAAJ,CAAc;AAChC7rB,sBAAQ,EAAE,IAAI,0DAAJ,CAAgB,EAAhB,EAAoB,CAAC,0DAAWusB,QAAZ,EAAsB,0DAAWC,SAAX,CAAqB,EAArB,CAAtB,CAApB,CADsB;AAEhCvsB,sBAAQ,EAAE,IAAI,0DAAJ,CAAgB,EAAhB,EAAoB,CAAC,0DAAWssB,QAAZ,EAAsB,0DAAWE,SAAX,CAAqB,CAArB,CAAtB,CAApB,CAFsB;AAGhCC,4BAAc,EAAE,IAAI,0DAAJ,CAAgB,EAAhB,EAAoB,CAAC,0DAAWH,QAAZ,CAApB,CAHgB;AAIhCjB,uCAAyB,EAAE,IAAI,0DAAJ,CAAgB,EAAhB,CAJK;AAKhCqB,mCAAqB,EAAE,IAAI,0DAAJ,CAAgB,EAAhB,CALS;AAMhCzrB,wBAAU,EAAE,IAAI,0DAAJ,CAAgB,EAAhB;AANoB,aAAd,EAOnB,CAAC2pB,sBAAD,EAAyBI,mBAAzB,EAA8CR,aAA9C,CAPmB,CAAtB;;AAQA,gBAAI,KAAKttB,WAAL,CAAiBkC,MAArB,EAA6B;AACzB,mBAAK4E,OAAL,GAAe,IAAf,CADyB,CAEzB;AACA;;AACA,kBAAMrE,WAAW,GAAG,iBAApB,CAJyB,CAMzB;;AACA,mBAAKvC,MAAL,CAAYqE,QAAZ,CAAqB,CAAC9B,WAAD,CAArB;AACH;;AACD,iBAAKzC,WAAL,CAAiByvB,oBAAjB,CAAsC,KAAKxvB,IAA3C,EAAiDnB,IAAjD,CACI,UAACwD,IAAD,EAAe;AACXY,qBAAO,CAACC,GAAR,CAAYb,IAAZ;AACA,kBAAMsB,QAAQ,GAAoBtB,IAAlC;AACA,qBAAI,CAACotB,cAAL,GAAsB9rB,QAAQ,CAACtB,IAA/B;AACAY,qBAAO,CAACC,GAAR,CAAYS,QAAQ,CAACtB,IAArB;AACAY,qBAAO,CAACC,GAAR,CAAY,OAAI,CAACusB,cAAL,CAAoB,CAApB,CAAZ;AACH,aAPL;AASH;;;4CAkBiB;AACd,gBAAI,KAAKhB,cAAL,CAAoBH,QAApB,CAA6B,iBAA7B,CAAJ,EAAqD;AACjD,mBAAKzrB,QAAL,CAAc6sB,SAAd,CAAwB;AAACP,wBAAQ,EAAE;AAAX,eAAxB;AACH,aAFD,MAEO,IAAI,KAAKV,cAAL,CAAoBH,QAApB,CAA6B,kBAA7B,CAAJ,EAAsD;AACzD,mBAAKgB,cAAL,CAAoBI,SAApB,CAA8B;AAAC9B,gCAAgB,EAAE;AAAnB,eAA9B;AACH,aAFM,MAEA,IAAI,KAAKa,cAAL,CAAoBH,QAApB,CAA6B,uBAA7B,CAAJ,EAA2D;AAC9D,mBAAKzrB,QAAL,CAAc6sB,SAAd,CAAwB;AAAC/B,qCAAqB,EAAE;AAAxB,eAAxB;AACH,aAFM,MAEA;AACH,mBAAK2B,cAAL,CAAoBI,SAApB,CAA8B,IAA9B;AACH;AACJ;;;8CAEmB;AAChB,gBAAI,KAAKjB,cAAL,CAAoBH,QAApB,CAA6B,mBAA7B,CAAJ,EAAuD;AACnD,mBAAKxqB,UAAL,CAAgB4rB,SAAhB,CAA0B;AAACP,wBAAQ,EAAE;AAAX,eAA1B;AACH,aAFD,MAEO,IAAI,KAAKV,cAAL,CAAoBH,QAApB,CAA6B,uBAA7B,CAAJ,EAA2D;AAC9D,mBAAKxqB,UAAL,CAAgB4rB,SAAhB,CAA0B;AAACC,kBAAE,EAAE;AAAL,eAA1B;AACH,aAFM,MAEA;AACH,mBAAKC,+BAAL;AACH;AACJ;;;4CAEiB;AACd,gBAAI,KAAKnB,cAAL,CAAoBH,QAApB,CAA6B,iBAA7B,CAAJ,EAAqD;AACjD,mBAAK1rB,QAAL,CAAc8sB,SAAd,CAAwB;AAACP,wBAAQ,EAAE;AAAX,eAAxB;AACH,aAFD,MAEO,IAAI,KAAKV,cAAL,CAAoBH,QAApB,CAA6B,iBAA7B,CAAJ,EAAqD;AACxD,mBAAK1rB,QAAL,CAAc8sB,SAAd,CAAwB;AAAC3B,qCAAqB,EAAE;AAAxB,eAAxB;AACH,aAFM,MAEA;AACH,mBAAK8B,yBAAL;AACH;AACJ;;;iCAMMC,a,EAAuBC,a,EAAuB;AAAA;;AACjD,gBAAMntB,QAAQ,GAAGktB,aAAa,GAAGA,aAAH,GAAoBrjB,QAAQ,CAACC,cAAT,CAAwB,cAAxB,EAA6DjI,KAA/G;AACA,gBAAM5B,QAAQ,GAAGktB,aAAa,GAAGA,aAAH,GAAoBtjB,QAAQ,CAACC,cAAT,CAAwB,cAAxB,EAA6DjI,KAA/G,CAFiD,CAGjD;;AAEAxB,mBAAO,CAACC,GAAR,CAAYN,QAAZ;AACAK,mBAAO,CAACC,GAAR,CAAYL,QAAZ;AACA,iBAAK9C,WAAL,CAAiBsE,MAAjB,CAAwB,KAAKrE,IAA7B,EAAmC4C,QAAnC,EAA6CC,QAA7C,EAAuDhE,IAAvD,CACI,UAACwD,IAAD,EAAe;AACXY,qBAAO,CAACC,GAAR,CAAYb,IAAZ;;AACA,kBAAI,OAAI,CAACtC,WAAL,CAAiBkC,MAArB,EAA6B;AACzB,uBAAI,CAAC4E,OAAL,GAAe,IAAf,CADyB,CAEzB;AACA;;AACA,oBAAMrE,WAAW,GAAG,iBAApB,CAJyB,CAMzB;;AACA,uBAAI,CAACvC,MAAL,CAAYqE,QAAZ,CAAqB,CAAC9B,WAAD,CAArB;AACH;AACJ,aAZL,EAYO,UAACH,IAAD,EAAe;AACdY,qBAAO,CAACC,GAAR,CAAYb,IAAZ;;AACA,kBAAI,CAAC,OAAI,CAACtC,WAAL,CAAiBkC,MAAtB,EAA8B;AAC1B,uBAAI,CAACitB,qBAAL,CAA2B,wCAA3B;AACH;AACJ,aAjBL,WAmBI,UAAC7sB,IAAD,EAAe;AACXY,qBAAO,CAACC,GAAR,CAAYb,IAAZ;;AACA,kBAAI,CAAC,OAAI,CAACtC,WAAL,CAAiBkC,MAAtB,EAA8B;AAC1B,uBAAI,CAACitB,qBAAL,CAA2B,wCAA3B;AACH;AACJ,aAxBL;AA2BH;;;gDAoDqBroB,O,EAAiB;AACnC,iBAAKA,OAAL,GAAeA,OAAf;AACH;;;8DAEmC;AAAA;;AAChC,iBAAKqnB,yBAAL,GAAiC,CAAC,KAAKA,yBAAvC;;AACA,gBAAI,CAAC,KAAKA,yBAAV,EAAqC;AACjCjrB,qBAAO,CAACC,GAAR,CAAY,KAAKgrB,yBAAjB;AACA,mBAAKjf,YAAL,GAAoB,IAApB;AACA,mBAAKnL,UAAL,CAAgBmJ,UAAhB,CAA2B,IAA3B;AACA,mBAAKnJ,UAAL,CAAgBksB,eAAhB;AACA,mBAAKlsB,UAAL,CAAgBmsB,sBAAhB;AACA,mBAAKxB,cAAL,CAAoBwB,sBAApB;AACA3qB,wBAAU,CAAC,YAAM;AAAC,uBAAI,CAACgqB,cAAL,CAAoBriB,UAApB,CAA+B,OAAI,CAACqiB,cAAL,CAAoB7qB,KAAnD;AAA4D,eAApE,EAAuE,EAAvE,CAAV;AACH,aARD,MAQO;AACH,mBAAKX,UAAL,CAAgBosB,aAAhB,CAA8B,CAAC,0DAAWf,QAAZ,CAA9B;AACA,mBAAKrrB,UAAL,CAAgBmsB,sBAAhB;AACH;;AACDhtB,mBAAO,CAACC,GAAR,CAAY,KAAKurB,cAAL,CAAoB7qB,MAAhC;AACH;;;mDAEwB;AACrB,iBAAKuqB,cAAL,GAAsB,CAAC,KAAKA,cAA5B;;AACA,gBAAI,CAAC,KAAKA,cAAV,EAA0B;AACtB,mBAAKlf,YAAL,GAAoB,IAApB;AACA,mBAAKnL,UAAL,CAAgBmJ,UAAhB,CAA2B,IAA3B;AACH;AACJ;;;gDAEqB;AAClB,gBAAMnJ,UAAU,GAAI2I,QAAQ,CAACC,cAAT,CAAwB,yBAAxB,EAAyEjI,KAA7F;;AACA,gBAAIX,UAAU,CAACiC,MAAX,GAAoB,CAAxB,EAA2B;AACvB,mBAAKkJ,YAAL,GAAoB,KAAKwgB,cAAL,CAAoBjc,IAApB,CAAyB,UAAArI,CAAC;AAAA,uBAAIA,CAAC,CAACiO,GAAF,KAAUtV,UAAd;AAAA,eAA1B,EAAoDmL,YAAxE;AACH;;AACDhM,mBAAO,CAACC,GAAR,CAAY,KAAK+L,YAAjB;AACH;;;sDAE2B;AAAA;;AACxB,gBAAI,KAAKkhB,aAAT,EAAuB;AACnBC,0BAAY,CAAC,KAAKD,aAAN,CAAZ;AACH,aAHuB,CAKxB;;;AACA,iBAAKA,aAAL,GAAqB7qB,UAAU,CAAC,YAAM;AAAC,qBAAI,CAAC8oB,8BAAL,GAAsC,IAAtC;;AAA4C,qBAAI,CAACiC,cAAL;AAAwB,aAA5E,EAA8E,IAA9E,CAA/B;AACH;;;2CAEgB;AAAA;;AACbptB,mBAAO,CAACC,GAAR,CAAY,KAAKnD,WAAjB;AACA,iBAAKA,WAAL,CAAiBuwB,sBAAjB,CAAwC,KAAKtwB,IAA7C,EAAmD,KAAK4C,QAAL,CAAc6B,KAAjE,EAAwE5F,IAAxE,CACI,UAACwD,IAAD,EAAe;AACX,qBAAI,CAAC+rB,8BAAL,GAAsC,KAAtC;AACAnrB,qBAAO,CAACC,GAAR,CAAYb,IAAZ;;AACA,qBAAI,CAACO,QAAL,CAAc8sB,SAAd,CAAwB,IAAxB;;AACA,qBAAI,CAACa,mBAAL,GAA2B,KAA3B;AACH,aANL,WAQI,UAACluB,IAAD,EAAe;AACX,qBAAI,CAAC+rB,8BAAL,GAAsC,KAAtC;AACAnrB,qBAAO,CAACC,GAAR,CAAYb,IAAZ;AACA,kBAAMsB,QAAQ,GAAoBtB,IAAlC;;AACA,kBAAIsB,QAAQ,CAACC,MAAT,KAAoB,GAAxB,EAA6B;AACzB,uBAAI,CAAChB,QAAL,CAAc8sB,SAAd,CAAwB;AAACc,qCAAmB,EAAE;AAAtB,iBAAxB;;AACAlrB,0BAAU,CAAE,YAAM;AAAE,yBAAI,CAACirB,mBAAL,GAA2B,IAA3B;AAAkC,iBAA5C,EAA8C,EAA9C,CAAV;AACH;AACJ,aAhBL;AAkBH;;;4DAEiC;AAAA;;AAC9B,gBAAI,KAAKE,mBAAT,EAA6B;AACzBL,0BAAY,CAAC,KAAKK,mBAAN,CAAZ;AACH,aAH6B,CAK9B;;;AACA,iBAAKA,mBAAL,GAA2BnrB,UAAU,CAAC,YAAM;AACxC,qBAAI,CAAC+oB,oCAAL,GAA4C,IAA5C;;AAAkD,qBAAI,CAACqC,oBAAL;AACjD,aAFgC,EAE9B,IAF8B,CAArC;AAGH;;;iDAEsB;AAAA;;AACnBztB,mBAAO,CAACC,GAAR,CAAY,KAAKnD,WAAjB;AACA,iBAAKA,WAAL,CAAiB4wB,2BAAjB,CAA6C,KAAK3wB,IAAlD,EAAwD,KAAK8D,UAAL,CAAgBW,KAAxE,EAA+E5F,IAA/E,CACI,UAACwD,IAAD,EAAe;AACX,qBAAI,CAACgsB,oCAAL,GAA4C,KAA5C;AACAprB,qBAAO,CAACC,GAAR,CAAYb,IAAZ;;AACA,qBAAI,CAACyB,UAAL,CAAgB4rB,SAAhB,CAA0B,IAA1B;;AACA,qBAAI,CAACkB,yBAAL,GAAiC,KAAjC;AACH,aANL,WAQI,UAACvuB,IAAD,EAAe;AACX,qBAAI,CAACgsB,oCAAL,GAA4C,KAA5C;AACA,kBAAM1qB,QAAQ,GAAoBtB,IAAlC;;AACA,kBAAIsB,QAAQ,CAACC,MAAT,KAAoB,GAAxB,EAA6B;AACzB,uBAAI,CAACE,UAAL,CAAgB4rB,SAAhB,CAA0B;AAACmB,2CAAyB,EAAE;AAA5B,iBAA1B;;AACAvrB,0BAAU,CAAE,YAAM;AAAE,yBAAI,CAACsrB,yBAAL,GAAiC,IAAjC;AAAwC,iBAAlD,EAAoD,EAApD,CAAV;AACH;AACJ,aAfL;AAiBH;;;2CAEgB;AACb3tB,mBAAO,CAACC,GAAR,CAAY,KAAKurB,cAAL,CAAoBqC,MAAhC;AACA7tB,mBAAO,CAACC,GAAR,CAAY,KAAKL,QAAL,CAAciuB,MAA1B;AACA7tB,mBAAO,CAACC,GAAR,CAAY,KAAKosB,cAAL,CAAoBwB,MAAhC;AACA7tB,mBAAO,CAACC,GAAR,CAAY,KAAKN,QAAL,CAAckuB,MAA1B;AACA7tB,mBAAO,CAACC,GAAR,CAAY,KAAKY,UAAL,CAAgBgtB,MAA5B;AACH;;;sCAEW;AACR,iBAAK7wB,MAAL,CAAYqE,QAAZ,CAAqB,CAAC,QAAD,CAArB;AACH;;;8BAxPc;AACX,mBAAO,KAAKmqB,cAAL,CAAoBjpB,GAApB,CAAwB,UAAxB,CAAP;AACH;;;8BAEc;AACX,mBAAO,KAAKipB,cAAL,CAAoBjpB,GAApB,CAAwB,UAAxB,CAAP;AACH;;;8BAEoB;AACjB,mBAAO,KAAKipB,cAAL,CAAoBjpB,GAApB,CAAwB,gBAAxB,CAAP;AACH;;;8BAEgB;AACb,mBAAO,KAAKipB,cAAL,CAAoBjpB,GAApB,CAAwB,YAAxB,CAAP;AACH;;;;;;;yBAxEQwoB,mB,EAAmB,+H,EAAA,gI,EAAA,uH;AAAA,O;;;cAAnBA,mB;AAAmB,wC;AAAA,iB;AAAA,gB;AAAA,quD;AAAA;AAAA;ACxDhC;;AACI;;AACI;;AAAiE;AAAA,qBAAY,IAAAW,UAAA,0BAAZ;AAA4C,aAA5C;;AAC7D;;AACI;;AACI;;AACJ;;AACJ;;AACA;;AAAyB;AAAA,qBAAS,oBAAT;AAA8B,aAA9B;;AACrB;;AACJ;;AACA;;AACI;;AACI;;AAAW;;AAAmB;;AAC9B;;AAAoF;AAAA,qBAAS,qBAAT;AAA+B,aAA/B;;AAApF;;AACA;;AAAoB;;AAAc;;AAClC;;AAA+E;;AAAiB;;AAChG;;AACA;;AACA;;AACJ;;AACA;;AACJ;;AACA;;AACI;;AACI;;AAAW;;AAAmB;;AAC9B;;AACkC;AAAA,qBAAS,IAAAoC,eAAA,EAAT;AAA0B,aAA1B;;AADlC;;AAEA;;AAAgD;AAAA;AAAA;;AAE5C;;AAAU;;AAA0C;;AACxD;;AACA;;AAAsB;;AAAgB;;AACtC;;AACA;;AACJ;;AACJ;;AAEA;;AACI;;AACI;;AAAW;;AAAc;;AACzB;;AACwC;AAAA,qBAAS,IAAAA,eAAA,EAAT;AAA0B,aAA1B;;AADxC;;AAEA;;AAAgD;AAAA;AAAA;;AAE5C;;AAAU;;AAA0C;;AACxD;;AACA;;AACJ;;AACJ;;AAEA;;AACI;;AAGI;AAAA,qBAAS,IAAAC,iCAAA,EAAT;AAA4C,aAA5C;;AAEA;;AACJ;;AACA;;AACA;;AASJ;;AACA;;AAgBA;;AAeA;;AAAG;;AAAgB;;AACnB;;AAAsF;;AAAO;;AAC7F;;AAAmG;AAAA,qBAAS,eAAT;AAAyB,aAAzB;;AAA2B;;AAAM;;AACxI;;AACJ;;AACJ;;;;AAxGc;;AAAA;;AAc4B;;AAAA;;AACX;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AAEG;;AAAA;;AAKE;;AAAA;;AAEuD;;AAAA,qGAAmC,cAAnC,EAAmC,QAAnC;;AAEzD;;AAAA;;AAGH;;AAAA;;AACA;;AAAA;;AAOK;;AAAA;;AAEuD;;AAAA,qGAAmC,cAAnC,EAAmC,QAAnC;;AAEzD;;AAAA;;AAEH;;AAAA;;AASX;;AAAA;;AAKA;;AAAA;;AASH;;AAAA;;AAgBA;;AAAA;;AAeF;;AAAA;;AACgD;;AAAA;;;;;;;;;wED9ClDhD,mB,EAAmB;gBAL/B,uDAK+B;iBALrB;AACP7sB,oBAAQ,EAAE,iBADH;AAEPC,uBAAW,EAAE,8BAFN;AAGPC,qBAAS,EAAE,CAAC,8BAAD;AAHJ,W;AAKqB,U;;;;;;;;;;;;;;;;;;;;;;;;;;AExDhC;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UASa4vB,uB;AAEX,yCAAoBlxB,WAApB,EACoB+O,KADpB,EACmC;AAAA;;AADf,eAAA/O,WAAA,GAAAA,WAAA;AACA,eAAA+O,KAAA,GAAAA,KAAA;AAAkB;;;;qCAE9B;AACJ5M,wBAAY,CAACgvB,UAAb,CAAwB,aAAxB;AACA,iBAAKnxB,WAAL,CAAiBoxB,OAAjB;AACA,iBAAKriB,KAAL,CAAWxK,QAAX,CAAoB,CAAC,iBAAD,CAApB;AACH;;;;;;;yBATU2sB,uB,EAAuB,+H,EAAA,uH;AAAA,O;;;cAAvBA,uB;AAAuB,4C;AAAA,gB;AAAA,e;AAAA;AAAA;ACTpC;;AAAG;;AAAsB;;;;;;;;wEDSZA,uB,EAAuB;gBALnC,uDAKmC;iBALzB;AACT9vB,oBAAQ,EAAE,qBADD;AAETC,uBAAW,EAAE,kCAFJ;AAGTC,qBAAS,EAAE,CAAC,kCAAD;AAHF,W;AAKyB,U;;;;;;;;;;;;;;;;;;;;;;;;AETpC;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;ACkBoB;;AAAoD;;AAAoB;;;;;;AACxE;;AAAqD;;AAAgC;;;;;;AACrF;;AAA2D;;AAAgB;;;;;;AAa3E;;AAAoD;;AAAoB;;;;;;AACxE;;AAAqD;;AAA+B;;;;;;;;;;UD3B3F+vB,W;;;;UAUAC,kB;AAYT,oCAAoBtxB,WAApB,EACoBC,IADpB,EAEoBC,MAFpB,EAEoC;AAAA;;AAAA;;AAFhB,eAAAF,WAAA,GAAAA,WAAA;AACA,eAAAC,IAAA,GAAAA,IAAA;AACA,eAAAC,MAAA,GAAAA,MAAA;AAVpB,eAAAguB,IAAA,GAAO,IAAP;AAMA,eAAAG,8BAAA,GAAiC,KAAjC;;AA4CO,eAAAE,QAAA,GAAW,UAACC,WAAD,EAAsBC,SAAtB,EAA4C;AAC1D,mBAAO,OAAI,CAAC8C,aAAL,CAAmB5C,QAAnB,CAA4BH,WAA5B,EAAyCD,QAAzC,CAAkDE,SAAlD,CAAP;AACH,WAFM;AAvCN;;;;qCAEO;AAAA;;AACJ,iBAAK8C,aAAL,GAAqB,IAAI,wDAAJ,CAAc;AAC/B1uB,sBAAQ,EAAE,IAAI,0DAAJ,CAAgB,EAAhB,EAAoB,CAAC,0DAAWusB,QAAZ,EAAsB,0DAAWC,SAAX,CAAqB,EAArB,CAAtB,CAApB,CADqB;AAE/BvsB,sBAAQ,EAAE,IAAI,0DAAJ,CAAgB,EAAhB,EAAoB,CAAC,0DAAWssB,QAAZ,EAAsB,0DAAWE,SAAX,CAAqB,CAArB,CAAtB,CAApB;AAFqB,aAAd,CAArB,CADI,CAKJ;AACA;;AACA,gBAAI,CAAC,KAAKtvB,WAAL,CAAiBkC,MAAlB,IAA4BC,YAAY,CAACC,OAAb,CAAqB,aAArB,CAAhC,EAAqE;AACjE,mBAAKpC,WAAL,CAAiBqC,gCAAjB,CAAkD,KAAKpC,IAAvD,EAA6DnB,IAA7D,CACI,UAACwD,IAAD,EAAe;AACX,oBAAI,OAAI,CAACtC,WAAL,CAAiBkC,MAArB,EAA6B;AACzB,yBAAI,CAAC4E,OAAL,GAAe,IAAf,CADyB,CAEzB;AACA;;AACA,sBAAMrE,WAAW,GAAG,iBAApB,CAJyB,CAMzB;;AACAS,yBAAO,CAACC,GAAR,CAAY,OAAI,CAACjD,MAAL,CAAYU,GAAxB;;AACA,yBAAI,CAACV,MAAL,CAAYqE,QAAZ,CAAqB,CAAC9B,WAAD,CAArB;AACH;AACJ,eAZL;AAcH,aAfD,MAeO,IAAI,KAAKzC,WAAL,CAAiBkC,MAArB,EAA6B;AAChC,kBAAMO,WAAW,GAAG,iBAApB,CADgC,CAEhC;;AACA,mBAAKvC,MAAL,CAAYqE,QAAZ,CAAqB,CAAC9B,WAAD,CAArB;AACH;AACJ;;;4CAciB;AACd,gBAAI,KAAK8uB,aAAL,CAAmBhD,QAAnB,CAA4B,iBAA5B,CAAJ,EAAoD;AAChD,mBAAKzrB,QAAL,CAAc6sB,SAAd,CAAwB;AAACP,wBAAQ,EAAE;AAAX,eAAxB;AACH,aAFD,MAEO,IAAI,KAAKmC,aAAL,CAAmBhD,QAAnB,CAA4B,kBAA5B,CAAJ,EAAqD;AACxD,mBAAKgD,aAAL,CAAmB5B,SAAnB,CAA6B;AAAC9B,gCAAgB,EAAE;AAAnB,eAA7B;AACH,aAFM,MAEA,IAAI,KAAK0D,aAAL,CAAmBhD,QAAnB,CAA4B,uBAA5B,CAAJ,EAA0D;AAC7D,mBAAKzrB,QAAL,CAAc6sB,SAAd,CAAwB;AAAC/B,qCAAqB,EAAE;AAAxB,eAAxB;AACH,aAFM,MAEA;AACH,mBAAK2D,aAAL,CAAmB5B,SAAnB,CAA6B,IAA7B;AACH;AACJ;;;4CAEiB;AACd,gBAAI,KAAK4B,aAAL,CAAmBhD,QAAnB,CAA4B,iBAA5B,CAAJ,EAAoD;AAChD,mBAAK1rB,QAAL,CAAc8sB,SAAd,CAAwB;AAACP,wBAAQ,EAAE;AAAX,eAAxB;AACH,aAFD,MAEO,IAAI,KAAKmC,aAAL,CAAmBhD,QAAnB,CAA4B,iBAA5B,CAAJ,EAAoD;AACvD,mBAAK1rB,QAAL,CAAc8sB,SAAd,CAAwB;AAACN,yBAAS,EAAE;AAAZ,eAAxB;AACH,aAFM,MAEA;AACH,mBAAKS,yBAAL;AACH;AACJ;;;sDAE2B;AAAA;;AACxB,gBAAI,KAAKM,aAAT,EAAuB;AACnBC,0BAAY,CAAC,KAAKD,aAAN,CAAZ;AACH,aAHuB,CAKxB;;;AACA,gBAAI,KAAKvtB,QAAL,CAAc6B,KAAd,CAAoBsB,MAApB,GAA6B,CAAjC,EAAoC;AAChC,mBAAKoqB,aAAL,GAAqB7qB,UAAU,CAAC,YAAM;AAClC,uBAAI,CAAC8oB,8BAAL,GAAsC,IAAtC;;AACA,uBAAI,CAACiC,cAAL;AACH,eAH8B,EAG5B,IAH4B,CAA/B;AAIH;AACJ;;;2CAEgB;AAAA;;AACbptB,mBAAO,CAACC,GAAR,CAAY,KAAKnD,WAAjB;AACA,iBAAKA,WAAL,CAAiBuwB,sBAAjB,CAAwC,KAAKtwB,IAA7C,EAAmD,KAAK4C,QAAL,CAAc6B,KAAjE,EAAwE5F,IAAxE,CACI,UAACwD,IAAD,EAAe;AACX,qBAAI,CAAC+rB,8BAAL,GAAsC,KAAtC;AACAnrB,qBAAO,CAACC,GAAR,CAAYb,IAAZ;;AACA,kBAAI,OAAI,CAACO,QAAL,CAAc0rB,QAAd,CAAuB,WAAvB,CAAJ,EAAyC;AACrC,uBAAI,CAAC1rB,QAAL,CAAc8sB,SAAd,CAAwB;AAAC6B,iCAAe,EAAE,IAAlB;AAAwBC,2BAAS,EAAE;AAAnC,iBAAxB;AACH,eAFD,MAEO;AACH,uBAAI,CAAC5uB,QAAL,CAAc8sB,SAAd,CAAwB;AAAC6B,iCAAe,EAAE;AAAlB,iBAAxB;AACH;;AACDjsB,wBAAU,CAAE,YAAM;AAAE,uBAAI,CAACisB,eAAL,GAAuB,IAAvB;AAA8B,eAAxC,EAA0C,EAA1C,CAAV;AACH,aAVL,WAYI,UAAClvB,IAAD,EAAe;AACX,qBAAI,CAAC+rB,8BAAL,GAAsC,KAAtC;AACAnrB,qBAAO,CAACC,GAAR,CAAYb,IAAZ;AACA,kBAAMsB,QAAQ,GAAoBtB,IAAlC;;AACA,kBAAIsB,QAAQ,CAACC,MAAT,KAAoB,GAAxB,EAA6B;AACzB,uBAAI,CAAChB,QAAL,CAAc8sB,SAAd,CAAwB,IAAxB;;AACA,uBAAI,CAAC6B,eAAL,GAAuB,KAAvB;AACH;AACJ,aApBL;AAsBH;;;mCAEQ;AAAA;;AACL,gBAAM3uB,QAAQ,GAAI6J,QAAQ,CAACC,cAAT,CAAwB,cAAxB,EAA6DjI,KAA/E;AACA,gBAAM5B,QAAQ,GAAI4J,QAAQ,CAACC,cAAT,CAAwB,cAAxB,EAA6DjI,KAA/E;AACAxB,mBAAO,CAACC,GAAR,CAAYN,QAAZ;AACAK,mBAAO,CAACC,GAAR,CAAYL,QAAZ;AACA,iBAAK9C,WAAL,CAAiBsE,MAAjB,CAAwB,KAAKrE,IAA7B,EAAmC4C,QAAnC,EAA6CC,QAA7C,EAAuDhE,IAAvD,CACI,UAACwD,IAAD,EAAe;AACXY,qBAAO,CAACC,GAAR,CAAYb,IAAZ;;AACA,kBAAI,OAAI,CAACtC,WAAL,CAAiBkC,MAArB,EAA6B;AACzBC,4BAAY,CAACuvB,OAAb,CAAqB,aAArB,EAAoC7wB,IAAI,CAACE,SAAL,CAAe;AAAC8B,0BAAQ,EAARA,QAAD;AAAWC,0BAAQ,EAARA;AAAX,iBAAf,CAApC;AACA,uBAAI,CAACgE,OAAL,GAAe,IAAf,CAFyB,CAGzB;AACA;;AACA,oBAAMrE,WAAW,GAAG,iBAApB,CALyB,CAOzB;;AACA,uBAAI,CAACvC,MAAL,CAAYqE,QAAZ,CAAqB,CAAC9B,WAAD,CAArB;AACH;AACJ,aAbL,EAaO,UAACH,IAAD,EAAe;AACdY,qBAAO,CAACC,GAAR,CAAYb,IAAZ;;AACA,kBAAI,CAAC,OAAI,CAACtC,WAAL,CAAiBkC,MAAtB,EAA8B;AAC1B,uBAAI,CAACitB,qBAAL,CAA2B,wCAA3B;AACH;AACJ,aAlBL,WAoBI,UAAC7sB,IAAD,EAAe;AACXY,qBAAO,CAACC,GAAR,CAAYb,IAAZ;;AACA,kBAAI,CAAC,OAAI,CAACtC,WAAL,CAAiBkC,MAAtB,EAA8B;AAC1B,uBAAI,CAACitB,qBAAL,CAA2B,wCAA3B;AACH;AACJ,aAzBL;AA2BH;;;gDAEqBroB,O,EAAiB;AACnC,iBAAKA,OAAL,GAAeA,OAAf;AACH;;;uCAEY;AACT,iBAAK5G,MAAL,CAAYqE,QAAZ,CAAqB,CAAC,SAAD,CAArB;AACH;;;2CAEgB;AACbrB,mBAAO,CAACC,GAAR,CAAY,KAAKouB,aAAL,CAAmBR,MAA/B;AACA7tB,mBAAO,CAACC,GAAR,CAAY,KAAKouB,aAAL,CAAmB5C,QAA/B;AACAzrB,mBAAO,CAACC,GAAR,CAAY,KAAKN,QAAL,CAAckuB,MAA1B;AACA7tB,mBAAO,CAACC,GAAR,CAAY,KAAKL,QAAL,CAAciuB,MAAd,CAAqBvmB,GAAjC;AACH;;;8BAzHc;AACX,mBAAO,KAAK+mB,aAAL,CAAmB9rB,GAAnB,CAAuB,UAAvB,CAAP;AACH;;;8BAEc;AACX,mBAAO,KAAK8rB,aAAL,CAAmB9rB,GAAnB,CAAuB,UAAvB,CAAP;AACH;;;;;;;yBApDQ6rB,kB,EAAkB,+H,EAAA,gI,EAAA,uH;AAAA,O;;;cAAlBA,kB;AAAkB,uC;AAAA,iB;AAAA,gB;AAAA,i2B;AAAA;AAAA;ACjB/B;;AACI;;AACI;;AAAgE;AAAA,qBAAY,YAAZ;AAAyB,aAAzB;;AAC5D;;AACI;;AACI;;AACJ;;AACJ;;AACA;;AAAyB;AAAA,qBAAS,IAAAK,cAAA,EAAT;AAAyB,aAAzB;;AACrB;;AACJ;;AACA;;AACI;;AACI;;AAAW;;AAAmB;;AAC9B;;AACO;AAAA,qBAAS,qBAAT;AAA+B,aAA/B,EAAgC,eAAhC,EAAgC;AAAA,qBAAkB,YAAlB;AAA+B,aAA/D;;AADP;;AAEA;;AAAoB;;AAAc;;AAClC;;AAA2E;;AAAiB;;AAC5F;;AACA;;AACA;;AACJ;;AACJ;;AACA;;AACI;;AACI;;AAAW;;AAAmB;;AAC9B;;AACkC;AAAA,qBAAS,IAAAX,eAAA,EAAT;AAA0B,aAA1B,EAA2B,eAA3B,EAA2B;AAAA,qBAAkB,YAAlB;AAA+B,aAA1D;;AADlC;;AAEA;;AAAgD;AAAA;AAAA;;AAE5C;;AAAU;;AAA0C;;AACxD;;AACA;;AAAsB;;AAAgB;;AACtC;;AACA;;AACJ;;AACJ;;AAEA;;AAAG;;AAAgB;;AACnB;;AAAmE;;AAAM;;AACzE;;AAAmG;AAAA,qBAAS,gBAAT;AAA0B,aAA1B;;AAA4B;;AAAO;;AAC1I;;AACJ;;AACJ;;;;AAzCc;;AAAA;;AAe4B;;AAAA;;AACX;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AAMK;;AAAA;;AAEuD;;AAAA,qGAAmC,cAAnC,EAAmC,QAAnC;;AAEzD;;AAAA;;AAGH;;AAAA;;AACA;;AAAA;;AAIhB;;AAAA;;AAC8B;;AAAA;;;;;;;;;wEDtBhCM,kB,EAAkB;gBAL9B,uDAK8B;iBALpB;AACPlwB,oBAAQ,EAAE,gBADH;AAEPC,uBAAW,EAAE,6BAFN;AAGPC,qBAAS,EAAE,CAAC,6BAAD;AAHJ,W;AAKoB,U;;;;;;;;;;;;;;;;;;;;;;;;;;AEjB/B;AAAA;;;AAAA;AAAA;AAAA,S,CAAA;AACA;AACA;;;AAEO,UAAMswB,WAAW,GAAG;AACzBC,kBAAU,EAAE;AADa,OAApB;AAIP;;;;;;;AAOA;;;;;;;;;;;;;;;;;ACfA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;AAMA,UAAI,sEAAYA,UAAhB,EAA4B;AAC1B;AACD;;AAED,kFAAyBC,eAAzB,CAAyC,yDAAzC,WACS,UAAAC,GAAG;AAAA,eAAI7uB,OAAO,CAACuO,KAAR,CAAcsgB,GAAd,CAAJ;AAAA,OADZ","file":"main-es5.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./$$_lazy_route_resource lazy recursive\";","import {NgModule} from '@angular/core';\r\nimport {Routes, RouterModule} from '@angular/router';\r\nimport {LootTableComponent} from './loot-table/loot-table.component';\r\nimport {GestionDropMonstreComponent} from './gestion-drop-monstre/gestion-drop-monstre.component';\r\nimport {GestionMonstreComponent} from './gestion-monstre/gestion-monstre.component';\r\nimport {FadingInfoComponent} from './fading-info/fading-info.component';\r\nimport {GestionDropMonstreBisComponent} from './gestion-drop-monstre-bis/gestion-drop-monstre-bis.component';\r\nimport {ArmesComponent} from './objets/armes/armes.component';\r\nimport {ArmuresComponent} from './objets/armures/armures.component';\r\nimport {ObjetSimpleComponent} from './objets/objet-simple/objet-simple.component';\r\nimport { TestInsertTableComponent } from './test-insert-table/test-insert-table.component';\r\nimport {PersonnageObjetComponent} from './personnage-objet/personnage-objet.component';\r\nimport {PersonnageComponent} from './personnage/personnage.component';\r\nimport {GestionObjetComponent} from './gestion-objet/gestion-objet.component';\r\nimport {UserLoginComponent} from './user/user-login/user-login.component';\r\nimport {UserCreateComponent} from './user/user-create/user-create.component';\r\nimport {AuthGuard} from './auth/auth.guard';\r\nimport {UserDisconnectComponent} from './user/user-disconnect/user-disconnect.component';\r\nimport {UnauthorizedUserComponent} from './user/unauthorized-user/unauthorized-user.component';\r\nimport {ProgressionPersonnageComponent} from './progression-personnage/progression-personnage.component';\r\nimport {GestionNiveauJoueurComponent} from './gestion-niveau-joueur/gestion-niveau-joueur.component';\r\nimport {GestionNiveauxComponent} from './gestion-niveaux/gestion-niveaux.component';\r\nimport {SourcesComponent} from './sources/sources.component';\r\n\r\n\r\nconst routes: Routes = [\r\n    {path: 'niveau', component: GestionNiveauJoueurComponent},\r\n    {path: 'progression', component: ProgressionPersonnageComponent},\r\n    {path: 'unauthorized', component: UnauthorizedUserComponent},\r\n    {path: 'deconnexion', component: UserDisconnectComponent},\r\n    {path: 'signin', component: UserCreateComponent},\r\n    {path: 'login', component: UserLoginComponent},\r\n    {path: 'testPersonnage', component: PersonnageComponent},\r\n    {path: 'testPersonnageObjet', component: PersonnageObjetComponent},\r\n    {path: 'testTable', component: TestInsertTableComponent},\r\n    {path: 'testObjet', component: ObjetSimpleComponent},\r\n    {path: 'testArmures', component: ArmuresComponent},\r\n    {path: 'testArmes', component: ArmesComponent},\r\n    {path: 'testBanner', component: FadingInfoComponent},\r\n    {path: 'GestionNiveaux', component: GestionNiveauxComponent},\r\n    {path: 'GestionObjets', component: GestionObjetComponent, canActivate: [AuthGuard]},\r\n    {path: 'GestionMonstre', component: GestionMonstreComponent, canActivate: [AuthGuard]},\r\n    {path: 'GestionDropMonstre', component: GestionDropMonstreComponent, canActivate: [AuthGuard]},\r\n    {path: 'GestionDropMonstreBis', component: GestionDropMonstreBisComponent, canActivate: [AuthGuard]},\r\n    {path: 'LootTable', component: LootTableComponent, canActivate: [AuthGuard]},\r\n    {path: 'sources', component: SourcesComponent},\r\n    {path: '', redirectTo: '/testPersonnage', pathMatch: 'full'},\r\n    {path: '**', redirectTo: '/testPersonnage'}\r\n];\r\n\r\n@NgModule({\r\n    imports: [RouterModule.forRoot(routes)],\r\n    exports: [RouterModule]\r\n})\r\nexport class AppRoutingModule {\r\n}\r\n","import {Component, OnInit} from '@angular/core';\nimport {AuthService} from './auth/auth.service';\nimport {HttpClient} from '@angular/common/http';\nimport {NavigationEnd, Router} from '@angular/router';\nimport {filter} from 'rxjs/operators';\nimport {MatIconRegistry} from '@angular/material/icon';\nimport {DomSanitizer} from '@angular/platform-browser';\n\n@Component({\n    selector: 'app-root',\n    templateUrl: './app.component.html',\n    styleUrls: ['./app.component.scss']\n})\nexport class AppComponent implements OnInit {\n    title = 'LootTable';\n\n    constructor(private authService: AuthService,\n                private http: HttpClient,\n                private router: Router,\n                private matIconRegistry: MatIconRegistry,\n                private domSanitizer: DomSanitizer) {\n        this.matIconRegistry.addSvgIcon(\n            `statistiqueAugmentation`,\n            this.domSanitizer.bypassSecurityTrustResourceUrl(`../assets/fond/health-increase.svg`)\n        );\n        this.matIconRegistry.addSvgIcon(\n            `statistiqueDiminution`,\n            this.domSanitizer.bypassSecurityTrustResourceUrl(`../assets/fond/health-decrease.svg`)\n        );\n        this.matIconRegistry.addSvgIcon(\n            `minus`,\n            this.domSanitizer.bypassSecurityTrustResourceUrl(`../assets/fond/pounceTest.svg`)\n        );\n    }\n\n    ngOnInit(): void {\n        // console.log(localStorage);\n        this.router.events.pipe(\n            filter(event => event instanceof NavigationEnd)\n        ).subscribe(event => {\n            const url = JSON.parse(JSON.stringify(event)).url;\n            this.authService.checkUserInLocalStorage(this.http, this.router, url);\n        });\n    }\n\n    isAdmin() {\n        return this.authService.isAdmin();\n    }\n\n    isGameMaster() {\n        return this.authService.isGameMaster();\n    }\n\n    isAuth() {\n        return this.authService.isAuthenticated();\n    }\n}\n","<mat-toolbar color=\"primary\">\n    <div fxShow=\"true\" fxHide.gt-sm=\"true\">\n        <button mat-icon-button (click)=\"sidenav.toggle()\">\n            <mat-icon>menu</mat-icon>\n        </button>\n    </div>\n    <a mat-button class=\"companyName\" routerLink=\"/\">\n        <span>[Titre du menu]</span>\n    </a>\n    <span class=\"example-spacer\"></span>\n    <div fxShow=\"true\" fxHide.lt-md=\"true\" class=\"menuItems\">\n        <button mat-button [matMenuTriggerFor]=\"personnage\">Personnage <mat-icon>arrow_drop_down</mat-icon></button>\n        <mat-menu #personnage=\"matMenu\">\n            <button mat-menu-item > <a mat-button routerLink=\"/testPersonnage\">Personnage</a></button>\n            <button mat-menu-item *ngIf=\"isGameMaster()\"><a mat-button routerLink=\"/progression\">Gestion niveaux</a></button>\n            <button mat-menu-item *ngIf=\"isGameMaster()\"><a mat-button routerLink=\"/GestionNiveaux\">Attribution niveaux</a></button>\n        </mat-menu>\n\n\n        <button mat-button [matMenuTriggerFor]=\"objets\" *ngIf=\"isGameMaster()\">Objets <mat-icon>arrow_drop_down</mat-icon></button>\n        <mat-menu #objets=\"matMenu\">\n            <button mat-menu-item *ngIf=\"isGameMaster()\"><a mat-button routerLink=\"/LootTable\">Loot</a></button>\n            <button mat-menu-item *ngIf=\"isGameMaster()\"><a mat-button routerLink=\"/GestionObjets\">Gestion Objets</a></button>\n            <button mat-menu-item *ngIf=\"isGameMaster()\"><a mat-button routerLink=\"/GestionDropMonstreBis\">Gestion Drop Monstre</a></button>\n        </mat-menu>\n\n        <a mat-button routerLink=\"/GestionMonstre\" *ngIf=\"isGameMaster()\">Gestion Monstre</a>\n        <a mat-button routerLink=\"/sources\">Sources</a>\n\n        <button class=\"btn btn-outline-danger\" routerLink=\"/login\" *ngIf=\"!this.isAuth()\">Connexion</button>\n        <button class=\"btn btn-outline-danger\" routerLink=\"/deconnexion\" *ngIf=\"this.isAuth()\">Déconnexion</button>\n    </div>\n</mat-toolbar>\n<mat-sidenav-container fxFlexFill class=\"example-container\">\n    <mat-sidenav color=\"primary\" #sidenav fxLayout=\"column\" mode=\"over\" opened=\"false\" fxHide.gt-sm=\"true\">\n        <div fxLayout=\"column\" class=\"menuItemsMobile\">\n            <a mat-button routerLink=\"/testPersonnage\">Personnages</a>\n            <a mat-button routerLink=\"/progression\" *ngIf=\"isGameMaster()\">Gestion niveaux</a>\n            <a mat-button routerLink=\"/GestionNiveaux\" *ngIf=\"isGameMaster()\">Attribution niveaux</a>\n            <a mat-button routerLink=\"/LootTable\" *ngIf=\"isGameMaster()\">Loot</a>\n            <a mat-button routerLink=\"/GestionObjets\" *ngIf=\"isGameMaster()\">Gestion Objets</a>\n            <a mat-button routerLink=\"/GestionMonstre\" *ngIf=\"isGameMaster()\">Gestion Monstre</a>\n            <a mat-button routerLink=\"/GestionDropMonstreBis\" *ngIf=\"isGameMaster()\">Gestion Drop Monstre</a>\n            <a mat-button routerLink=\"/sources\">Sources</a>\n            <button class=\"btn btn-outline-danger\" routerLink=\"/login\" *ngIf=\"!this.isAuth()\">Connexion</button>\n            <button class=\"btn btn-outline-danger\" routerLink=\"/deconnexion\" *ngIf=\"this.isAuth()\">Déconnexion</button>\n        </div>\n    </mat-sidenav>\n    <mat-sidenav-content fxFlexFill>\n\n        <!--Composant de base, tout le reste représente le menu-->\n        <router-outlet></router-outlet>\n\n    </mat-sidenav-content>\n</mat-sidenav-container>\n\n","import {NgModule} from '@angular/core';\r\nimport {BrowserModule} from '@angular/platform-browser';\r\n\r\nimport {AppRoutingModule} from './app-routing.module';\r\nimport {AppComponent} from './app.component';\r\nimport {DialogContentDialogComponent, LootTableComponent} from './loot-table/loot-table.component';\r\nimport {FormsModule, ReactiveFormsModule} from '@angular/forms';\r\nimport {MatAutocompleteModule} from '@angular/material/autocomplete';\r\nimport {MAT_FORM_FIELD_DEFAULT_OPTIONS, MatFormFieldModule} from '@angular/material/form-field';\r\nimport {BrowserAnimationsModule} from '@angular/platform-browser/animations';\r\n\r\nimport {HttpClientModule} from '@angular/common/http';\r\nimport {DemoMaterialModule} from './material-module';\r\nimport {FlexLayoutModule} from '@angular/flex-layout';\r\nimport {MatNativeDateModule} from '@angular/material/core';\r\nimport {platformBrowserDynamic} from '@angular/platform-browser-dynamic';\r\nimport {AutocompleteGroupeComponent} from './autocomplete-groupe/autocomplete-groupe.component';\r\nimport {GestionDropMonstreComponent} from './gestion-drop-monstre/gestion-drop-monstre.component';\r\nimport {GestionMonstreComponent} from './gestion-monstre/gestion-monstre.component';\r\nimport {\r\n    AdDirective,\r\n    FadingInfoComponent,\r\n    BannerComponent\r\n} from './fading-info/fading-info.component';\r\nimport {GestionDropMonstreBisComponent} from './gestion-drop-monstre-bis/gestion-drop-monstre-bis.component';\r\nimport {ArmesComponent} from './objets/armes/armes.component';\r\nimport {ArmuresComponent} from './objets/armures/armures.component';\r\nimport {MaledictionsComponent} from './objets/maledictions/maledictions.component';\r\nimport {ObjetSimpleComponent} from './objets/objet-simple/objet-simple.component';\r\nimport {TestInsertTableComponent} from './test-insert-table/test-insert-table.component';\r\nimport {PersonnageComponent} from './personnage/personnage.component';\r\nimport {PersonnageObjetComponent} from './personnage-objet/personnage-objet.component';\r\nimport {GestionObjetComponent} from './gestion-objet/gestion-objet.component';\r\nimport {SpinnerComponent} from './spinner/spinner.component';\r\nimport {PersonnageObjetPersonnageComponent} from './personnage-objet-personnage/personnage-objet-personnage.component';\r\nimport {UserLoginComponent} from './user/user-login/user-login.component';\r\nimport {AuthService} from './auth/auth.service';\r\nimport {UserCreateComponent} from './user/user-create/user-create.component';\r\nimport {UserDisconnectComponent} from './user/user-disconnect/user-disconnect.component';\r\nimport {UnauthorizedUserComponent} from './user/unauthorized-user/unauthorized-user.component';\r\nimport {ProprieteMagiqueComponent} from './objets/propriete-magique/propriete-magique.component';\r\nimport {InformationSnackBarComponent, ProgressionPersonnageComponent} from './progression-personnage/progression-personnage.component';\r\nimport { GestionNiveauJoueurComponent } from './gestion-niveau-joueur/gestion-niveau-joueur.component';\r\nimport { GestionNiveauxComponent } from './gestion-niveaux/gestion-niveaux.component';\r\nimport { SourcesComponent } from './sources/sources.component';\r\n\r\n\r\n@NgModule({\r\n    declarations: [\r\n        AppComponent,\r\n        LootTableComponent,\r\n        AutocompleteGroupeComponent,\r\n        GestionDropMonstreComponent,\r\n        GestionMonstreComponent,\r\n        FadingInfoComponent,\r\n        AdDirective,\r\n        BannerComponent,\r\n        GestionDropMonstreBisComponent,\r\n        ArmesComponent,\r\n        ArmuresComponent,\r\n        MaledictionsComponent,\r\n        ObjetSimpleComponent,\r\n        TestInsertTableComponent,\r\n        PersonnageComponent,\r\n        PersonnageObjetComponent,\r\n        GestionObjetComponent,\r\n        SpinnerComponent,\r\n        PersonnageObjetPersonnageComponent,\r\n        UserLoginComponent,\r\n        UserCreateComponent,\r\n        UserDisconnectComponent,\r\n        UnauthorizedUserComponent,\r\n        ProprieteMagiqueComponent,\r\n        DialogContentDialogComponent,\r\n        ProgressionPersonnageComponent,\r\n        InformationSnackBarComponent,\r\n        GestionNiveauJoueurComponent,\r\n        GestionNiveauxComponent,\r\n        SourcesComponent,\r\n    ],\r\n    imports: [\r\n        BrowserModule,\r\n        BrowserAnimationsModule,\r\n        AppRoutingModule,\r\n        FormsModule,\r\n        ReactiveFormsModule,\r\n        MatAutocompleteModule,\r\n        MatFormFieldModule,\r\n        HttpClientModule,\r\n        DemoMaterialModule,\r\n        MatNativeDateModule,\r\n        FlexLayoutModule,\r\n    ],\r\n    entryComponents: [],\r\n    bootstrap: [AppComponent],\r\n    providers: [\r\n        {provide: MAT_FORM_FIELD_DEFAULT_OPTIONS, useValue: {appearance: 'fill'}},\r\n        AuthService,\r\n    ]\r\n})\r\nexport class AppModule {\r\n}\r\n","import {Injectable} from '@angular/core';\nimport {CanActivate, ActivatedRouteSnapshot, RouterStateSnapshot, UrlTree, Router} from '@angular/router';\nimport {Observable} from 'rxjs';\nimport {AuthService} from './auth.service';\nimport {HttpClient} from '@angular/common/http';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class AuthGuard implements CanActivate {\n\n    constructor(private http: HttpClient,\n                private authService: AuthService,\n                private router: Router) {\n    }\n\n    canActivate(\n        next: ActivatedRouteSnapshot,\n        state: RouterStateSnapshot): Observable<boolean | UrlTree> | Promise<boolean | UrlTree> | boolean | UrlTree {\n        const url: string = state.url;\n        if (!this.authService.isAuth && localStorage.getItem('userSession')) {\n            return this.authService.checkUserInLocalStorageAsPromise(this.http).then(\n                (data: any) => {\n                    return this.checkLogin(url);\n                }\n            );\n        } else {\n            return this.checkLogin(url);\n        }\n    }\n\n    checkLogin(url: string): true | UrlTree {\n        if (this.authService.isGameMaster()) {\n            return true;\n        } else if (!this.authService.isAuth) {\n            return this.router.parseUrl('/login');\n        } else {\n            // Store the attempted URL for redirecting\n            this.authService.redirectUrl = url;\n\n            // Redirect to the login page\n            return this.router.parseUrl('/unauthorized');\n        }\n    }\n\n}\n","import {HttpClient, HttpParams} from '@angular/common/http';\r\nimport {HttpMethods} from '../interface/http-methods.enum';\r\nimport {BASE_URL, URL_OBJET_COMPLET} from '../services/rest.service';\r\nimport {SpecialResponse} from '../loot-table/loot-table.component';\r\nimport {UserForCreation} from '../user/user-create/user-create.component';\r\nimport {UserSession} from '../user/user-login/user-login.component';\r\nimport {Router} from '@angular/router';\r\n\r\nexport class User {\r\n    idUser: number;\r\n    username: string;\r\n    isGameMaster: false;\r\n    isAdmin: false;\r\n}\r\n\r\nexport class AuthService {\r\n\r\n    isAuth = false;\r\n\r\n    user: User;\r\n\r\n    personnage: Personnage;\r\n\r\n    redirectUrl: string;\r\n\r\n    signIn(http: HttpClient, username: string, password: string) {\r\n        return new Promise(\r\n            (resolve, rejects) => {\r\n                const values = {username: undefined, password: undefined};\r\n                values.username = username;\r\n                values.password = password;\r\n                console.log(values);\r\n                const baseUrlBis = BASE_URL + 'connexion.php';\r\n                console.log(baseUrlBis);\r\n\r\n                const params = new HttpParams().set('Connexion', JSON.stringify(values));\r\n\r\n                return http.request(HttpMethods.GET.toString(), baseUrlBis, {responseType: 'text', params}).toPromise().then(\r\n                    (data: any) => {\r\n                        console.log(data);\r\n                        const response: SpecialResponse = JSON.parse(data) as SpecialResponse;\r\n                        if (response.status === 200) {\r\n                            this.isAuth = true;\r\n                            this.user = response.data as User;\r\n                            this.personnage = response.data.personnage as Personnage;\r\n                            resolve(true);\r\n                        } else {\r\n                            rejects(false);\r\n                        }\r\n                    }\r\n                ).catch(\r\n                    (data: any) => {\r\n                        console.log(data);\r\n                        const response: SpecialResponse = data as SpecialResponse;\r\n                        if (response.status === 200) {\r\n                            this.isAuth = true;\r\n                            this.user = response.data as User;\r\n                            this.personnage = response.data.personnage as Personnage;\r\n                            resolve(true);\r\n                        } else {\r\n                            rejects(false);\r\n                        }\r\n                    }\r\n                );\r\n            }\r\n        );\r\n    }\r\n\r\n    signOut() {\r\n        this.user = null;\r\n        this.personnage = null;\r\n        this.isAuth = false;\r\n    }\r\n\r\n    createUser(http: HttpClient, user: UserForCreation, personnage: Personnage): Promise<any> {\r\n        const values = {User: undefined, Personnage: undefined};\r\n        values.User = user;\r\n        values.Personnage = personnage;\r\n        console.log(values);\r\n        const baseUrlBis = BASE_URL + 'connexion.php';\r\n        console.log(baseUrlBis);\r\n\r\n        const params = new HttpParams().set('Creation', JSON.stringify(values));\r\n\r\n        return http.request(HttpMethods.POST.toString(), baseUrlBis, {responseType: 'text', params}).toPromise();\r\n    }\r\n\r\n    getAllLeftPersonnage(http: HttpClient) {\r\n        const baseUrlBis = BASE_URL + 'connexion.php' + '?leftPersonnage=true';\r\n        console.log(baseUrlBis);\r\n        return http.request(HttpMethods.GET.toString(), baseUrlBis).toPromise();\r\n    }\r\n\r\n    checkUsernameAvailable(http: HttpClient, usernameToCheck: string) {\r\n        const fakeUser: UserForCreation = {\r\n            username: usernameToCheck,\r\n            password: null,\r\n            isGameMaster: null,\r\n            isAdmin: null,\r\n        };\r\n        const values = {User: undefined};\r\n        values.User = fakeUser;\r\n        const params = new HttpParams().set('User', JSON.stringify(values));\r\n        const baseUrlBis = BASE_URL + 'connexion.php' + '?checkAvailable=true';\r\n        console.log(baseUrlBis);\r\n        return http.request(HttpMethods.GET.toString(), baseUrlBis, {responseType: 'text', params}).toPromise();\r\n    }\r\n\r\n    checkPersonnageNomAvailable(http: HttpClient, personnageNomToCheck: string) {\r\n        const baseUrlBis = BASE_URL + 'connexion.php' + '?nomPersonnage=' + personnageNomToCheck + '&checkAvailable=true';\r\n        console.log(baseUrlBis);\r\n        return http.request(HttpMethods.GET.toString(), baseUrlBis).toPromise();\r\n    }\r\n\r\n    isAdmin() {\r\n        return !!(this.user && this.user.isAdmin);\r\n    }\r\n\r\n    isGameMaster() {\r\n        return !!(this.user && (this.user.isGameMaster || this.isAdmin()));\r\n    }\r\n\r\n    isAuthenticated() {\r\n        return this.isAuth;\r\n    }\r\n\r\n    checkUserInLocalStorage(http: HttpClient, router: Router, url: string = router.url) {\r\n        const userSession = JSON.parse(localStorage.getItem('userSession')) as UserSession;\r\n        if (userSession && ! this.isAuth) {\r\n            this.signIn(http, userSession.username, userSession.password).then(\r\n                (data: any) => {\r\n                    if (this.isAuth) {\r\n                        // Usually you would use the redirect URL from the auth service.\r\n                        // However to keep the example simple, we will always redirect to `/admin`.\r\n\r\n                        // Redirect the user\r\n                        router.navigate([url]);\r\n                    }\r\n                }\r\n            );\r\n        }\r\n    }\r\n\r\n    checkUserInLocalStorageAsPromise(http: HttpClient) {\r\n        const userSession = JSON.parse(localStorage.getItem('userSession')) as UserSession;\r\n        return this.signIn(http, userSession.username, userSession.password);\r\n    }\r\n}\r\n","import {Component, Input, OnInit, Output, EventEmitter, ViewChildren, ElementRef, ViewChild} from '@angular/core';\r\nimport {FormBuilder, FormGroup} from '@angular/forms';\r\nimport {Observable} from 'rxjs';\r\nimport {startWith, map} from 'rxjs/operators';\r\n\r\nexport const filter = (opt: Monstre[], value: string): Monstre[] => {\r\n  const filterValue = value.toLowerCase().trim();\r\n\r\n  return opt.filter(item => item.libelle.toLowerCase().trim().indexOf(filterValue) !== -1);\r\n};\r\n\r\n/**\r\n * @title Option groups autocomplete\r\n */\r\n@Component({\r\n  selector: 'app-autocomplete-groupe',\r\n  templateUrl: './autocomplete-groupe.component.html',\r\n  styleUrls: ['./autocomplete-groupe.component.scss']\r\n})\r\nexport class AutocompleteGroupeComponent implements OnInit {\r\n\r\n  monstreForm: FormGroup = this.formBuilder.group({\r\n    monstreGroup: '',\r\n  });\r\n  @Input() monsterGroupes: MonstreGroupe[];\r\n  @Output() monstreEventEmitter = new EventEmitter<Monstre>();\r\n\r\n  monstreGroupOptions: Observable<MonstreGroupe[]>;\r\n\r\n  constructor(private formBuilder: FormBuilder) {}\r\n\r\n  ngOnInit() {\r\n    // Je mets un setTimeout ici car sinon l'affichage des possibilités ne se fait pas quand la page vient de se charger\r\n    // et que l'on clique sur l'élément. On est obligé de taper une lettre pour que celle-ci se fasse.\r\n    // setTimout semble éviter ce disfonctionnement.\r\n    setTimeout( () => {\r\n      this.monstreGroupOptions = this.monstreForm.get('monstreGroup').valueChanges\r\n        .pipe(\r\n          startWith(''),\r\n          map(value => this._filterGroup(value))\r\n        );\r\n    }, 100);\r\n  }\r\n\r\n  private _filterGroup(value: string): MonstreGroupe[] {\r\n    if (value) {\r\n      return this.monsterGroupes\r\n        .map(group => ({Famille: group.Famille, Membres: filter(group.Membres, value)}))\r\n        .filter(group => group.Membres.length > 0);\r\n    }\r\n\r\n    return this.monsterGroupes;\r\n  }\r\n\r\n  selection(monstre: Monstre) {\r\n    this.monstreEventEmitter.emit(monstre);\r\n  }\r\n\r\n  handleEmpty() {\r\n    // alert((event.srcElement as Element).nodeValue);\r\n  }\r\n}\r\n\r\n","<form [formGroup]=\"monstreForm\">\r\n  <mat-form-field #MonstresGroupes>\r\n    <label for=\"Familles\"></label>\r\n    <input type=\"text\"\r\n           matInput\r\n           formControlName=\"monstreGroup\"\r\n           [matAutocomplete]=\"autoGroup\"\r\n           (change)=\"handleEmpty()\"\r\n           (click)=\"$event.target.select()\"\r\n           id=\"Familles\"\r\n           >\r\n    <mat-label>Monstres</mat-label>\r\n    <!-- #docregion mat-autocomplete -->\r\n    <mat-autocomplete #autoGroup=\"matAutocomplete\">\r\n      <mat-optgroup *ngFor=\"let group of monstreGroupOptions | async\" [label]=\"group.Famille\">\r\n        <mat-option *ngFor=\"let membre of group.Membres\" [value]=\"membre.libelle\"\r\n                    (onSelectionChange)=\"selection(membre)\">\r\n          {{membre.libelle}}\r\n        </mat-option>\r\n      </mat-optgroup>\r\n    </mat-autocomplete>\r\n    <!-- #enddocregion mat-autocomplete -->\r\n  </mat-form-field>\r\n</form>\r\n\r\n<!-- Copyright 2020 Google LLC. All Rights Reserved.\r\n    Use of this source code is governed by an MIT-style license that\r\n    can be found in the LICENSE file at http://angular.io/license -->\r\n","import {\r\n    AfterViewInit,\r\n    Component,\r\n    ComponentFactoryResolver,\r\n    Directive,\r\n    Input,\r\n    OnDestroy,\r\n    OnInit,\r\n    Type,\r\n    ViewChild,\r\n    ViewContainerRef\r\n} from '@angular/core';\r\nimport {SpecialResponse} from '../loot-table/loot-table.component';\r\n\r\n\r\n@Directive({\r\n    selector: '[adHost]',\r\n})\r\nexport class AdDirective {\r\n    constructor(public viewContainerRef: ViewContainerRef) {\r\n    }\r\n}\r\n\r\n@Component({\r\n    selector: 'app-fading-info',\r\n    templateUrl: './fading-info.component.html',\r\n    styleUrls: ['./fading-info.component.scss']\r\n})\r\nexport class FadingInfoComponent implements OnDestroy {\r\n\r\n    currentAdIndex = -1;\r\n    @ViewChild(AdDirective, {static: true}) adHost: AdDirective;\r\n    interval: any;\r\n\r\n    constructor(private componentFactoryResolver: ComponentFactoryResolver) {\r\n    }\r\n\r\n    ngOnDestroy() {\r\n        clearInterval(this.interval);\r\n    }\r\n\r\n    loadComponent(title: string, message: string, color: string) {\r\n        const adItem = new AdItem(BannerComponent, {title, message, color});\r\n\r\n        const componentFactory = this.componentFactoryResolver.resolveComponentFactory(adItem.component);\r\n\r\n        const componentRef = this.adHost.viewContainerRef.createComponent<BannerComponent>(componentFactory);\r\n        componentRef.instance.data = adItem.data;\r\n\r\n        this.interval = setTimeout(() => {\r\n            this.adHost.viewContainerRef.remove(this.adHost.viewContainerRef.indexOf(componentRef.hostView));\r\n        }, 4500);\r\n    }\r\n\r\n    loadComponentFromSpecialResponse(response: SpecialResponse) {\r\n        this.loadComponent(response.status_message, JSON.stringify(response.data), '' + response.status);\r\n    }\r\n}\r\n\r\n@Component({\r\n    template: `\r\n        <div class=\"banner\" #BannerElement>\r\n            <h3>{{data.title}}</h3>\r\n\r\n            <p>{{data.message}}</p>\r\n\r\n        </div>\r\n    `,\r\n    styleUrls: ['./fading-info.component.scss']\r\n})\r\nexport class BannerComponent implements OnInit, OnDestroy, AfterViewInit {\r\n    @Input() data: any;\r\n    @ViewChild('BannerElement') Banner;\r\n    timer: any;\r\n\r\n    ngOnInit() {\r\n        this.timer = setTimeout(() => {\r\n            this.Banner.nativeElement.style.setProperty('opacity', '0');\r\n        }, 3000);\r\n    }\r\n\r\n    ngAfterViewInit() {\r\n        if (this.data.color.startsWith('2')) {\r\n            this.Banner.nativeElement.classList.add('Mission-Complete');\r\n        } else if (this.data.color.startsWith('4')) {\r\n            this.Banner.nativeElement.classList.add('SQL-Error');\r\n        } else if (this.data.color.startsWith('5')) {\r\n            this.Banner.nativeElement.classList.add('Server-Error');\r\n        } else {\r\n            this.Banner.nativeElement.classList.add('Unknown-Error');\r\n        }\r\n    }\r\n\r\n    ngOnDestroy() {\r\n        clearInterval(this.timer);\r\n    }\r\n}\r\n\r\n\r\nexport class AdItem {\r\n    constructor(public component: Type<any>, public data: any) {\r\n    }\r\n}\r\n\r\n\r\n","<div class=\"ad-banner-example\">\r\n  <ng-template adHost></ng-template>\r\n</div>\r\n","import {Component, OnInit, ViewChild} from '@angular/core';\r\nimport {HttpClient} from '@angular/common/http';\r\nimport {FamilleAndMonstreService} from '../services/famille-and-monstre.service';\r\nimport {MonstreLootChanceService} from '../services/monstre-loot-chance.service';\r\nimport {SpecialResponse} from '../loot-table/loot-table.component';\r\nimport {FadingInfoComponent} from '../fading-info/fading-info.component';\r\n\r\n@Component({\r\n  selector: 'app-gestion-drop-monstre-bis',\r\n  templateUrl: './gestion-drop-monstre-bis.component.html',\r\n  styleUrls: ['./gestion-drop-monstre-bis.component.scss']\r\n})\r\nexport class GestionDropMonstreBisComponent implements OnInit {\r\n\r\n  @ViewChild('Banner') banner: FadingInfoComponent;\r\n\r\n  monstresGroupes: MonstreGroupe[];\r\n  monstreCourrant: Monstre;\r\n  monstreSelectionneLootChance: MonstreLootChanceBis[];\r\n  monstreSelectionneLootChanceOriginal: MonstreLootChanceBis[];\r\n  lootPossible: Loot[] = [];\r\n\r\n  unUpdatableMonstreLootChance: MonstreLootChanceBis[] = [];\r\n  monstreLootChanceToPOST: MonstreLootChanceBis[] = [];\r\n  monstreLootChanceToPUT: MonstreLootChanceBis[] = [];\r\n  unchangesLootChance: MonstreLootChanceBis[] = [];\r\n\r\n  differ: any;\r\n\r\n  constructor(private http: HttpClient,\r\n              private familleMonstre: FamilleAndMonstreService,\r\n              private monstreLootChance: MonstreLootChanceService,\r\n  ) {\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.chargerFamilles(this.http);\r\n    this.monstreLootChance.getLootPossibles(this.http).then(\r\n      (data: any) => {\r\n        const response: SpecialResponse = JSON.parse(data) as SpecialResponse;\r\n        this.lootPossible  = response.data as Loot[];\r\n      }\r\n    );\r\n  }\r\n\r\n  public chargerFamilles(http: HttpClient) {\r\n    this.monstresGroupes = this.familleMonstre.chargerFamillesAvecMonstres(http);\r\n  }\r\n\r\n  public chargerMonstreLootChance() {\r\n    this.monstreSelectionneLootChance = [];\r\n    this.monstreSelectionneLootChanceOriginal = [];\r\n\r\n    this.monstreLootChance.getMonstreLootChanceBis(this.http, this.monstreCourrant.idMonstre).then(\r\n      (data: any) => {\r\n        console.log(data);\r\n        const response: SpecialResponse = JSON.parse(data) as SpecialResponse;\r\n        this.monstreSelectionneLootChance = response.data as MonstreLootChanceBis[];\r\n        this.remplissageLootManquant(this.monstreSelectionneLootChance , this.lootPossible);\r\n        this.monstreSelectionneLootChanceOriginal = this.monstreSelectionneLootChance .map(x => Object.assign({}, x));\r\n      });\r\n  }\r\n\r\n  public remplissageLootManquant(monstreSelectionneLootChance: MonstreLootChanceBis[], lootPossible: Loot[]) {\r\n    for (let i = 0; i < 20; i++) {\r\n      if (!monstreSelectionneLootChance.map(a => + a.roll).includes((i + 1))) {\r\n        monstreSelectionneLootChance.splice(i, 0,\r\n          {\r\n            roll: (i + 1), idLoot: 0, niveauMonstre: null, multiplier: null, diceNumber: null, dicePower: null, poids: null\r\n          } as unknown as MonstreLootChanceBis);\r\n\r\n      }\r\n    }\r\n  }\r\n\r\n  selectionMonstre($event: Monstre) {\r\n    if (!this.monstreCourrant || this.monstreCourrant.idMonstre !== $event.idMonstre) {\r\n      this.monstreCourrant = $event;\r\n      this.chargerMonstreLootChance();\r\n    }\r\n  }\r\n\r\n  public missingAtLeastOneValue(index: number) {\r\n    for (const key in this.monstreSelectionneLootChance[index]) {\r\n      if (this.monstreSelectionneLootChance[index][key] == null && key !== 'niveauMonstre' && key !== 'poids') {\r\n        return true;\r\n      }\r\n    }\r\n    return false;\r\n  }\r\n\r\n  public thereIsAtLeastOneValue(index: number) {\r\n    for (const key in this.monstreSelectionneLootChance[index]) {\r\n      if (this.monstreSelectionneLootChance[index][key] != null && key !== 'niveauMonstre' && key !== 'poids' && key !== 'idLoot') {\r\n        return true;\r\n      }\r\n    }\r\n    return false;\r\n  }\r\n\r\n  public originalLootChanceWasEmpty(index: number) {\r\n    for (const key in this.monstreSelectionneLootChanceOriginal[index]) {\r\n      if (this.monstreSelectionneLootChanceOriginal[index][key] != null && key !== 'niveauMonstre' && key !== 'poids'\r\n        && key !== 'roll' && key !== 'libelle' && this.monstreSelectionneLootChanceOriginal[index].idLoot !== 0) {\r\n        return false;\r\n      }\r\n    }\r\n    console.log('originalLootChanceWasEmpty => true');\r\n    return true;\r\n  }\r\n\r\n  public missingMyValue(index: number, key: string) {\r\n    return this.monstreSelectionneLootChance[index][key] == null;\r\n  }\r\n\r\n  public lootChanceIsCorrect(index: number) {\r\n    for (const key in this.monstreSelectionneLootChance[index]) {\r\n      if (this.monstreSelectionneLootChance[index][key] == null && key !== 'niveauMonstre' && key !== 'poids') {\r\n        console.log('La clef ' + key + 'est null');\r\n        return false;\r\n      }\r\n    }\r\n    return true;\r\n  }\r\n\r\n  public lootChanceIsDifferentFromOriginalOne(index: number) {\r\n    return !(JSON.stringify(this.monstreSelectionneLootChanceOriginal[index]) === JSON.stringify(this.monstreSelectionneLootChance[index]));\r\n  }\r\n\r\n  public updateOrCreateLootChance() {\r\n    this.monstreLootChanceToPOST = [];\r\n    this.monstreLootChanceToPUT = [];\r\n    this.unUpdatableMonstreLootChance = [];\r\n    this.unchangesLootChance = [];\r\n    for (let i = 0; i < 20; i++) {\r\n      console.log(this.monstreSelectionneLootChance[i]);\r\n      if (this.thereIsAtLeastOneValue(i) && this.missingAtLeastOneValue(i)) {\r\n        // console.log('Ajout dans unUpdatable');\r\n        this.unUpdatableMonstreLootChance.push(this.monstreSelectionneLootChance[i]);\r\n      } else if (this.originalLootChanceWasEmpty(i) && this.lootChanceIsCorrect(i)) {\r\n        console.log('Ajout dans POST');\r\n        console.log(this.monstreSelectionneLootChance[i]);\r\n        this.monstreLootChanceToPOST.push(this.monstreSelectionneLootChance[i]);\r\n      } else if (this.lootChanceIsCorrect(i) && this.lootChanceIsDifferentFromOriginalOne(i)) {\r\n        console.log('Ajout dans PUT');\r\n        console.log(this.monstreSelectionneLootChance[i]);\r\n        this.monstreLootChanceToPUT.push(this.monstreSelectionneLootChance[i]);\r\n      } else {\r\n        console.log('Ajout dans unChanged');\r\n        this.unchangesLootChance.push(this.monstreSelectionneLootChance[i]);\r\n      }\r\n    }\r\n    if (this.monstreLootChanceToPOST.length > 0) {\r\n      this.monstreLootChance.envoyerLootChancesBis(this.http, 'POST', this.monstreCourrant.idMonstre, this.monstreLootChanceToPOST).then(\r\n        (data: any) => {\r\n          console.log(data);\r\n          const response: SpecialResponse = JSON.parse(data) as SpecialResponse;\r\n          this.banner.loadComponentFromSpecialResponse(response);\r\n          this.monstreLootChanceToPOST = [];\r\n          this.monstreLootChanceToPUT = [];\r\n          this.unUpdatableMonstreLootChance = [];\r\n          this.unchangesLootChance = [];\r\n          this.chargerMonstreLootChance();\r\n        });\r\n    }\r\n    if (this.monstreLootChanceToPUT.length > 0) {\r\n      this.monstreLootChance.envoyerLootChancesBis(this.http, 'PUT', this.monstreCourrant.idMonstre, this.monstreLootChanceToPUT).then(\r\n        (data: any) => {\r\n          console.log(data);\r\n          const response: SpecialResponse = JSON.parse(data) as SpecialResponse;\r\n          this.banner.loadComponentFromSpecialResponse(response);\r\n          this.monstreLootChanceToPOST = [];\r\n          this.monstreLootChanceToPUT = [];\r\n          this.unUpdatableMonstreLootChance = [];\r\n          this.unchangesLootChance = [];\r\n          this.chargerMonstreLootChance();\r\n        });\r\n    }\r\n  }\r\n\r\n  public uncompleteForm(): boolean {\r\n    if (this.monstreSelectionneLootChance) {\r\n      for (let i = 0; i < this.monstreSelectionneLootChance.length; i++) {\r\n        if (this.missingAtLeastOneValue(i)) {\r\n          return true;\r\n        }\r\n      }\r\n      return false;\r\n    }\r\n    return false;\r\n  }\r\n\r\n}\r\n","<div id=\"fakebody\">\r\n  <div class=\"principal\">\r\n    <div id=\"caracterSelection\" class=\"caracterSelection\">\r\n      <h3>Selectionnez un monstre</h3>\r\n      <app-autocomplete-groupe (monstreEventEmitter)=\"selectionMonstre($event)\"\r\n                               [monsterGroupes]=\"monstresGroupes\">\r\n        loading\r\n      </app-autocomplete-groupe>\r\n    </div>\r\n    <div style=\"width: 100%\">\r\n      <h3 *ngIf=\"monstreCourrant\"> {{monstreCourrant.libelle}}</h3>\r\n    </div>\r\n    <div style=\"width: 100%\">\r\n      <form class=\"needs-validation\" id=\"gestionDropMonstreBisForm\">\r\n        <div class=\"form-row\" *ngFor=\"let lootChance of monstreSelectionneLootChance; let index = index;\">\r\n          <label class=\"labelFormGroup\" [ngClass]=\"{'missingValue': this.missingAtLeastOneValue(index)}\" [for]=\"'fromgroup'+this.monstreSelectionneLootChance[index].roll\">\r\n            {{this.monstreSelectionneLootChance[index].roll}} : </label>\r\n          <div class=\"form-group col-md-2\" [id]=\"'fromgroup'+this.monstreSelectionneLootChance[index].roll\">\r\n            <label for=\"inputFamilleMonstre\">Loot</label>\r\n            <select id=\"inputFamilleMonstre\" class=\"form-control\" [(ngModel)]=\"this.monstreSelectionneLootChance[index].idLoot\"\r\n                    [name]=\"'Loot'+index\">\r\n              <option selected value=0> </option>\r\n              <option *ngFor=\"let loot of this.lootPossible\" [value]=\"loot.idLoot\">\r\n                {{loot.idLoot}} - {{loot.libelle}}\r\n              </option>\r\n            </select>\r\n          </div>\r\n          <div class=\"col-md-1 mb-5\" [ngClass]=\"{'missing': !this.monstreSelectionneLootChance[index].diceNumber, 'missingValue': this.missingMyValue(index, 'diceNumber')}\">\r\n            <label [for]=\"'diceNumber'+index\"> diceNumber\r\n            </label>\r\n            <input min=\"1\" max=\"1000\" type=\"number\" class=\"form-control\" [id]=\"'diceNumber'+index\"\r\n                   [name]=\"'diceNumber'+index\"\r\n                   [placeholder]=\"'diceNumber'+monstreSelectionneLootChance[index].roll\"\r\n                   [(ngModel)]=\"this.monstreSelectionneLootChance[index].diceNumber\"\r\n                   required>\r\n          </div>\r\n          <div class=\"col-md-1 mb-5\" [ngClass]=\"{'missing': !this.monstreSelectionneLootChance[index].dicePower, 'missingValue': this.missingMyValue(index, 'dicePower')}\">\r\n            <label [for]=\"'dicePower'+index\"> dicePower\r\n            </label>\r\n            <input min=\"1\" max=\"1000\" type=\"number\" class=\"form-control\" [id]=\"'dicePower'+index\"\r\n                   [name]=\"'dicePower'+index\"\r\n                   [placeholder]=\"'dicePower'+monstreSelectionneLootChance[index].roll\"\r\n                   [(ngModel)]=\"this.monstreSelectionneLootChance[index].dicePower\"\r\n                   required>\r\n          </div>\r\n          <div class=\"col-md-1 mb-5\" [ngClass]=\"{'missing': !this.monstreSelectionneLootChance[index].multiplier, 'missingValue': this.missingMyValue(index, 'multiplier')}\">\r\n            <label [for]=\"'multiplier'+index\"> Multiplier\r\n            </label>\r\n            <input min=\"1\" max=\"1000\" type=\"number\" class=\"form-control\" [id]=\"'multiplier'+index\"\r\n                   [name]=\"'multiplier'+index\"\r\n                   [placeholder]=\"'multiplier'+monstreSelectionneLootChance[index].roll\"\r\n                   [(ngModel)]=\"this.monstreSelectionneLootChance[index].multiplier\"\r\n                   required>\r\n          </div>\r\n        </div>\r\n\r\n        <button class=\"btn pull-right\" type=\"submit\" id=\"submissionEffectButton\" style=\"transition: 0.5s\"\r\n                (click)=\"this.updateOrCreateLootChance();\"\r\n                [ngClass]=\"this.uncompleteForm() ? 'btn-danger' : 'btn-outline-warning'\">\r\n          Valider les chances de loot\r\n        </button>\r\n      </form>\r\n\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<app-fading-info #Banner></app-fading-info>\r\n\r\n\r\n","import {Component, IterableDiffers, OnInit} from '@angular/core';\r\nimport {HttpClient} from '@angular/common/http';\r\nimport {FamilleAndMonstreService} from '../services/famille-and-monstre.service';\r\nimport {MonstreLootChanceService} from '../services/monstre-loot-chance.service';\r\nimport {SpecialResponse} from '../loot-table/loot-table.component';\r\n\r\n\r\nexport const filterMissing = (opt: MonstreLootChance[], values: any[]): string[] => {\r\n  return values.map(a => a.libelle).filter(f => !opt.map(a => a.libelle).includes(f));\r\n};\r\n\r\n@Component({\r\n  selector: 'app-gestion-drop-monstre',\r\n  templateUrl: './gestion-drop-monstre.component.html',\r\n  styleUrls: ['./gestion-drop-monstre.component.scss']\r\n})\r\nexport class GestionDropMonstreComponent implements OnInit {\r\n\r\n  monstresGroupes: MonstreGroupe[];\r\n  monstreCourrant: Monstre;\r\n  monstreSelectionneLootChance: MonstreLootChance[];\r\n  monstreSelectionneLootChanceOriginal: MonstreLootChance[];\r\n  lootPossible: string[] = [];\r\n  addedRow: boolean[] = [];\r\n\r\n  unUpdatableMonstreLootChance: MonstreLootChance[] = [];\r\n  monstreLootChanceToPOST: MonstreLootChance[] = [];\r\n  monstreLootChanceToPUT: MonstreLootChance[] = [];\r\n  unchangesLootChance: MonstreLootChance[] = [];\r\n\r\n  differ: any;\r\n\r\n  constructor(private http: HttpClient,\r\n              private familleMonstre: FamilleAndMonstreService,\r\n              private monstreLootChance: MonstreLootChanceService,\r\n              ) {\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.chargerFamilles(this.http);\r\n    this.monstreLootChance.getLootPossibles(this.http).then(\r\n      (data: any) => {\r\n        const response: SpecialResponse = JSON.parse(data) as SpecialResponse;\r\n        this.lootPossible  = response.data as string[];\r\n      }\r\n    );\r\n  }\r\n\r\n  public chargerFamilles(http: HttpClient) {\r\n    this.monstresGroupes = this.familleMonstre.chargerFamillesAvecMonstres(http);\r\n    console.log(JSON.stringify(this.monstresGroupes));\r\n  }\r\n\r\n  public chargerMonstreLootChance(http: HttpClient, idMonstre: number) {\r\n    this.monstreSelectionneLootChance = [];\r\n    this.addedRow = [];\r\n    this.monstreLootChance.getMonstreLootChanceTest(this.http, this.monstreCourrant.idMonstre).then(\r\n      (data: any) => {\r\n        const response: SpecialResponse = JSON.parse(data) as SpecialResponse;\r\n        this.monstreSelectionneLootChance  = response.data as MonstreLootChance[];\r\n        this.addedRow = this.remplissageLootManquant(this.monstreSelectionneLootChance , this.lootPossible);\r\n        this.monstreSelectionneLootChanceOriginal = this.monstreSelectionneLootChance .map(x => Object.assign({}, x));\r\n      });\r\n  }\r\n\r\n  public remplissageLootManquant(monstreSelectionneLootChance: MonstreLootChance[], lootPossible: string[]): boolean[] {\r\n    const addedRow: boolean[] = [];\r\n    for (const value of lootPossible) {\r\n      addedRow.push(false);\r\n    }\r\n    for (let i = 0; i < lootPossible.length; i++) {\r\n      if (!monstreSelectionneLootChance.map(a => a.libelle).includes(lootPossible[i])) {\r\n        monstreSelectionneLootChance.splice(i, 0,\r\n          {\r\n            idLoot: (i + 1), libelle: lootPossible[i], minRoll: null, maxRoll: null, niveauMonstre: null, multiplier: null,\r\n            dicePower: null, poids: null\r\n          } as unknown as MonstreLootChance);\r\n        addedRow[i] = true;\r\n      }\r\n    }\r\n    return addedRow;\r\n  }\r\n\r\n  selectionMonstre($event: Monstre) {\r\n    if (!this.monstreCourrant || this.monstreCourrant.idMonstre !== $event.idMonstre) {\r\n      this.monstreCourrant = $event;\r\n      this.chargerMonstreLootChance(this.http, $event.idMonstre);\r\n    }\r\n  }\r\n\r\n  public missingAtLeastOneValue(index: number) {\r\n    for (const key in this.monstreSelectionneLootChance[index]) {\r\n      if (this.monstreSelectionneLootChance[index][key] == null && key !== 'niveauMonstre' && key !== 'poids') {\r\n        return true;\r\n      }\r\n    }\r\n    return false;\r\n  }\r\n\r\n  public thereIsAtLeastOneValue(index: number) {\r\n    for (const key in this.monstreSelectionneLootChance[index]) {\r\n      if (this.monstreSelectionneLootChance[index][key] != null && key !== 'niveauMonstre' && key !== 'poids' && key !== 'idLoot') {\r\n        return true;\r\n      }\r\n    }\r\n    return false;\r\n  }\r\n\r\n  public originalLootChanceWasEmpty(index: number) {\r\n    for (const key in this.monstreSelectionneLootChanceOriginal[index]) {\r\n      if (this.monstreSelectionneLootChanceOriginal[index][key] != null && key !== 'niveauMonstre' && key !== 'poids'\r\n        && key !== 'idLoot' && key !== 'libelle') {\r\n        return false;\r\n      }\r\n    }\r\n    console.log('originalLootChanceWasEmpty => true');\r\n    return true;\r\n  }\r\n\r\n  public missingMyValue(index: number, key: string) {\r\n    return this.monstreSelectionneLootChance[index][key] == null;\r\n  }\r\n\r\n  public lootChanceIsCorrect(index: number) {\r\n    for (const key in this.monstreSelectionneLootChance[index]) {\r\n      if (this.monstreSelectionneLootChance[index][key] == null && key !== 'niveauMonstre' && key !== 'poids') {\r\n        console.log('La clef ' + key + 'est null');\r\n        return false;\r\n      }\r\n    }\r\n    return true;\r\n  }\r\n\r\n  public lootChanceIsDifferentFromOriginalOne(index: number) {\r\n    return !(JSON.stringify(this.monstreSelectionneLootChanceOriginal[index]) === JSON.stringify(this.monstreSelectionneLootChance[index]));\r\n  }\r\n\r\n  public updateOrCreateLootChance() {\r\n    for (let i = 0; i < this.lootPossible.length; i++) {\r\n      console.log(this.monstreSelectionneLootChance[i]);\r\n      if (this.thereIsAtLeastOneValue(i) && this.missingAtLeastOneValue(i)) {\r\n        console.log('Ajout dans unUpdatable');\r\n        this.unUpdatableMonstreLootChance.push(this.monstreSelectionneLootChance[i]);\r\n      } else if (this.originalLootChanceWasEmpty(i) && this.lootChanceIsCorrect(i)) {\r\n        console.log('Ajout dans POST');\r\n        this.monstreLootChanceToPOST.push(this.monstreSelectionneLootChance[i]);\r\n      } else if (this.lootChanceIsCorrect(i) && this.lootChanceIsDifferentFromOriginalOne(i)) {\r\n        console.log('Ajout dans PUT');\r\n        this.monstreLootChanceToPUT.push(this.monstreSelectionneLootChance[i]);\r\n      } else {\r\n        console.log('Ajout dans unChanged');\r\n        this.unchangesLootChance.push(this.monstreSelectionneLootChance[i]);\r\n      }\r\n      console.log((this.unUpdatableMonstreLootChance.length + this.monstreLootChanceToPOST.length\r\n        + this.monstreLootChanceToPUT.length + this.unchangesLootChance.length));\r\n    }\r\n    if (this.monstreLootChanceToPOST.length > 0) {\r\n      this.monstreLootChance.envoyerLootChances(this.http, 'POST', this.monstreCourrant.idMonstre, this.monstreLootChanceToPOST).then(\r\n        (data: any) => {\r\n          console.log(data);\r\n          this.monstreLootChanceToPOST = [];\r\n          this.monstreLootChanceToPUT = [];\r\n          this.unUpdatableMonstreLootChance = [];\r\n          this.unchangesLootChance = [];\r\n        });\r\n    }\r\n    if (this.monstreLootChanceToPUT.length > 0) {\r\n      this.monstreLootChance.envoyerLootChances(this.http, 'PUT', this.monstreCourrant.idMonstre, this.monstreLootChanceToPUT).then(\r\n        (data: any) => {\r\n          console.log(data);\r\n          this.monstreLootChanceToPOST = [];\r\n          this.monstreLootChanceToPUT = [];\r\n          this.unUpdatableMonstreLootChance = [];\r\n          this.unchangesLootChance = [];\r\n        });\r\n    }\r\n  }\r\n\r\n  public uncompleteForm(): boolean {\r\n    if (this.monstreSelectionneLootChance) {\r\n      for (let i = 0; i < this.monstreSelectionneLootChance.length; i++) {\r\n        if (this.missingAtLeastOneValue(i)) {\r\n          return true;\r\n        }\r\n      }\r\n      return false;\r\n    }\r\n    return false;\r\n  }\r\n\r\n}\r\n","<div id=\"fakebody\">\r\n  <div class=\"principal\">\r\n    <div id=\"caracterSelection\" class=\"caracterSelection\">\r\n      <h3>Selectionnez un monstre</h3>\r\n      <app-autocomplete-groupe (monstreEventEmitter)=\"selectionMonstre($event)\"\r\n                               [monsterGroupes]=\"monstresGroupes\">\r\n        loading\r\n      </app-autocomplete-groupe>\r\n    </div>\r\n    <div style=\"width: 100%\">\r\n      <h3 *ngIf=\"monstreCourrant\"> {{monstreCourrant.libelle}}</h3>\r\n    </div>\r\n    <div style=\"width: 100%\">\r\n      <form class=\"needs-validation\" id=\"gestionDropMonstreForm\">\r\n        <div class=\"form-row\" *ngFor=\"let lootChance of monstreSelectionneLootChance; let index = index;\">\r\n          <div style=\"display: flex; align-items: center; justify-content: left; width : 150px;\" [ngClass]=\"{'missingValue': this.missingAtLeastOneValue(index)}\">\r\n            {{ monstreSelectionneLootChance[index].libelle }} ({{this.monstreSelectionneLootChance[index].idLoot}}) : </div>\r\n          <div class=\"col-md-1 mb-5\" [ngClass]=\"{'missing': !this.monstreSelectionneLootChance[index].minRoll, 'missingValue': this.missingMyValue(index, 'minRoll')}\">\r\n            <label [for]=\"'minRoll'+index\"> MinRoll\r\n            </label>\r\n            <input min=\"1\" max=\"20\" type=\"number\" class=\"form-control\" [id]=\"'minRoll'+index\"\r\n                   [name]=\"'minRoll'+index\"\r\n                   [placeholder]=\"'minRoll'+monstreSelectionneLootChance[index].libelle\"\r\n                   [(ngModel)]=\"this.monstreSelectionneLootChance[index].minRoll\"\r\n                   required>\r\n          </div>\r\n          <div class=\"col-md-1 mb-5\" [ngClass]=\"{'missing': !this.monstreSelectionneLootChance[index].maxRoll, 'missingValue': this.missingMyValue(index, 'maxRoll')}\">\r\n            <label [for]=\"'maxRoll'+index\"> MaxRoll\r\n            </label>\r\n            <input min=\"1\" max=\"20\" type=\"number\" class=\"form-control\" [id]=\"'maxRoll'+index\"\r\n                   [name]=\"'maxRoll'+index\"\r\n                   [placeholder]=\"'maxRoll'+monstreSelectionneLootChance[index].libelle\"\r\n                   [(ngModel)]=\"this.monstreSelectionneLootChance[index].maxRoll\"\r\n                   required>\r\n          </div>\r\n          <div class=\"col-md-1 mb-5\" [ngClass]=\"{'missing': !this.monstreSelectionneLootChance[index].dicePower, 'missingValue': this.missingMyValue(index, 'dicePower')}\">\r\n            <label [for]=\"'dicePower'+index\"> dicePower\r\n            </label>\r\n            <input min=\"1\" max=\"1000\" type=\"number\" class=\"form-control\" [id]=\"'dicePower'+index\"\r\n                   [name]=\"'dicePower'+index\"\r\n                   [placeholder]=\"'dicePower'+monstreSelectionneLootChance[index].libelle\"\r\n                   [(ngModel)]=\"this.monstreSelectionneLootChance[index].dicePower\"\r\n                   required>\r\n          </div>\r\n          <div class=\"col-md-1 mb-5\" [ngClass]=\"{'missing': !this.monstreSelectionneLootChance[index].multiplier, 'missingValue': this.missingMyValue(index, 'multiplier')}\">\r\n            <label [for]=\"'multiplier'+index\"> Multiplier\r\n            </label>\r\n            <input min=\"1\" max=\"1000\" type=\"number\" class=\"form-control\" [id]=\"'multiplier'+index\"\r\n                   [name]=\"'multiplier'+index\"\r\n                   [placeholder]=\"'multiplier'+monstreSelectionneLootChance[index].libelle\"\r\n                   [(ngModel)]=\"this.monstreSelectionneLootChance[index].multiplier\"\r\n                   required>\r\n          </div>\r\n        </div>\r\n\r\n        <button class=\"btn pull-right\" type=\"submit\" id=\"submissionEffectButton\" style=\"transition: 0.5s\"\r\n                (click)=\"this.updateOrCreateLootChance();\"\r\n                [ngClass]=\"this.uncompleteForm() ? 'btn-danger' : 'btn-outline-warning'\">\r\n          Valider les chances de loot\r\n        </button>\r\n      </form>\r\n\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n\r\n","import {Component, ContentChild, OnInit, ViewChild} from '@angular/core';\r\nimport {HttpClient} from '@angular/common/http';\r\nimport {FamilleAndMonstreService} from '../services/famille-and-monstre.service';\r\nimport {FormControl} from '@angular/forms';\r\nimport {Observable} from 'rxjs';\r\nimport {map, startWith} from 'rxjs/operators';\r\nimport {SpecialResponse} from '../loot-table/loot-table.component';\r\nimport {AutocompleteGroupeComponent} from '../autocomplete-groupe/autocomplete-groupe.component';\r\nimport {FadingInfoComponent} from '../fading-info/fading-info.component';\r\n\r\n@Component({\r\n    selector: 'app-gestion-monstre',\r\n    templateUrl: './gestion-monstre.component.html',\r\n    styleUrls: ['./gestion-monstre.component.scss']\r\n})\r\nexport class GestionMonstreComponent implements OnInit {\r\n\r\n    @ContentChild('monstreLibelle') child: HTMLInputElement;\r\n    @ViewChild('autocompleteGroupeMonstre') autocompleteGroupeMonstre: AutocompleteGroupeComponent;\r\n    @ViewChild('Banner') banner: FadingInfoComponent;\r\n\r\n\r\n    myControl = new FormControl();\r\n    familles: Famille[];\r\n    familleCourante: Famille;\r\n    filteredFamilles: Observable<Famille[]>;\r\n\r\n    monstresGroupes: MonstreGroupe[];\r\n    monstreCourrant: Monstre;\r\n    familleMonstreSelectionne: Famille;\r\n\r\n    monstreExactMatchV: boolean;\r\n\r\n    constructor(private http: HttpClient,\r\n                private familleAndMonstreService: FamilleAndMonstreService,\r\n    ) {\r\n    }\r\n\r\n    ngOnInit(): void {\r\n        // this.familles = this.familleAndMonstreService.chargerAllFamilles(this.http);\r\n        this.chargerFamille();\r\n        // this.monstresGroupes = this.familleAndMonstreService.chargerFamillesAvecMonstres(this.http);\r\n        this.chargerFamilleEtMonstre();\r\n        this.filteredFamilles = this.myControl.valueChanges.pipe(\r\n            startWith(''),\r\n            map(value => this.filter(value))\r\n        );\r\n    }\r\n\r\n    private chargerFamille() {\r\n        this.familleAndMonstreService.getAllFamilles(this.http).then(\r\n            (data: any) => {\r\n                const response: SpecialResponse = JSON.parse(data) as SpecialResponse;\r\n                this.familles = response.data as Famille[];\r\n                this.filteredFamilles = this.myControl.valueChanges.pipe(\r\n                    startWith(''),\r\n                    map(value => this.filter(value))\r\n                );\r\n                this.updateFamilleCourante();\r\n                this.chargerFamilleEtMonstre();\r\n            }\r\n        );\r\n    }\r\n\r\n    private chargerFamilleEtMonstre() {\r\n        this.familleAndMonstreService.getFamillesAvecMonstres(this.http).then(\r\n            (data: any) => {\r\n                const response: SpecialResponse = JSON.parse(data) as SpecialResponse;\r\n                this.monstresGroupes = response.data as MonstreGroupe[];\r\n            }\r\n        );\r\n        if (this.monstresGroupes) {\r\n            this.updateMonstreCourant();\r\n        }\r\n        this.monstreExactMatchV = this.monstreExactMatch();\r\n    }\r\n\r\n    private filter(value: string): Famille[] {\r\n        if (value) {\r\n            const filterValue = value.toLowerCase();\r\n            return this.familles.filter(option => option.libelle.toLowerCase().includes(filterValue));\r\n        }\r\n        return this.familles;\r\n    }\r\n\r\n    /* ---------------------------------------------------*\r\n    |                  Partie Monstre                     |\r\n    *-----------------------------------------------------*/\r\n    selectionMonstre($event: Monstre) {\r\n        if (!this.monstreCourrant || this.monstreCourrant.idMonstre !== $event.idMonstre\r\n            || this.monstreCourrant.libelle.toLowerCase() !== $event.libelle.toLowerCase()\r\n            || (this.familleMonstreSelectionne\r\n                && this.familleMonstreSelectionne.libelle !== (document.getElementById('inputFamilleMonstre') as HTMLSelectElement)\r\n                    .options.item(this.familleMonstreSelectionne.idFamilleMonstre).label)) {\r\n\r\n            // On met à jour le monstre courant, et on change la selection en JS vanilla. A voir si on peut faire autrement.\r\n            this.monstreCourrant = $event;\r\n            (document.getElementById('monstreLibelle') as HTMLInputElement).value = this.monstreCourrant.libelle;\r\n\r\n            // Selection de la famille et affichage en JS vanilla, car je n'arrive pas à le faire sans JS Vanilla.\r\n            this.familleMonstreSelectionne = this.familles.filter(f => +f.idFamilleMonstre === +$event.idFamilleMonstre)[0];\r\n            const familleToSelect: number = this.familleMonstreSelectionne !== undefined ? this.familleMonstreSelectionne.idFamilleMonstre : 0;\r\n\r\n            // Oblige de mettre un Timeout, sinon ça ne passe pas du tout ... Sinon ça reste à la première valeur.\r\n            setTimeout(() => {\r\n                (document.getElementById('inputFamilleMonstre') as HTMLSelectElement)\r\n                    .options[+familleToSelect].selected = true;\r\n            }, 15);\r\n\r\n            // Changement de valeur de l'autocomplete des monstres, pour garder un affichage cohérent\r\n            this.autocompleteGroupeMonstre.monstreForm.patchValue({\r\n                monstreGroup: this.monstreCourrant.libelle,\r\n            });\r\n            setTimeout(() => {\r\n                this.monstreExactMatchV = this.monstreExactMatch();\r\n            }, 10);\r\n        }\r\n    }\r\n\r\n    public updateMonstreCourant() {\r\n        const libelleCourant: string = (document.getElementById('monstreLibelle') as HTMLInputElement).value;\r\n        const monstre: Monstre = this.searchExistingMonstreByName(libelleCourant);\r\n        if (monstre !== undefined) {\r\n            this.selectionMonstre(monstre);\r\n        }\r\n    }\r\n\r\n    inputMonstreNameAlreadyExist(): boolean {\r\n        if (this.monstresGroupes) {\r\n            const value: string = (document.getElementById('monstreLibelle') as HTMLInputElement).value;\r\n            const monstre: Monstre = this.searchExistingMonstreByName(value);\r\n            return monstre !== undefined;\r\n        }\r\n        return true;\r\n    }\r\n\r\n    monstreExactMatch(): boolean {\r\n        if (this.monstreCourrant) {\r\n            // On cherche si un monstre du même nom existe déja.\r\n            const libelleCourant: string = (document.getElementById('monstreLibelle') as HTMLInputElement).value;\r\n            const monstre: Monstre = this.searchExistingMonstreByName(libelleCourant);\r\n\r\n            // Valeur de la famille choisie dans l'input.\r\n            const select = (document.getElementById('inputFamilleMonstre') as HTMLSelectElement);\r\n            const idFamille = +select.options[select.selectedIndex].value !== 0 ? +select.options[select.selectedIndex].value : undefined;\r\n\r\n            // Si le monstre existe, et qu'il a la même famille que celle selectionnée, et le même nom que le monstre selectionné.\r\n            return monstre !== undefined && monstre.idFamilleMonstre === idFamille\r\n                && (document.getElementById('monstreLibelle') as HTMLInputElement).value === this.monstreCourrant.libelle;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    searchExistingMonstreByName(monstreLibelle: string): Monstre {\r\n        let monstre: Monstre[] = this.monstresGroupes\r\n            .map(f => {\r\n                for (const membre of f.Membres) {\r\n                    if (membre.libelle.toLowerCase() === monstreLibelle.toLowerCase()) {\r\n                        return membre;\r\n                    }\r\n                }\r\n                return undefined;\r\n            });\r\n        monstre = monstre.filter(element => element !== undefined);\r\n        return monstre[0];\r\n    }\r\n\r\n    modifierMonstre() {\r\n        const libelle: string = (document.getElementById('monstreLibelle') as HTMLInputElement).value;\r\n        console.log('Modification monstre');\r\n\r\n        const select = (document.getElementById('inputFamilleMonstre') as HTMLSelectElement);\r\n        const idFamille = select.options[select.selectedIndex].value;\r\n        this.familleAndMonstreService.modifierMonstre(this.http, this.monstreCourrant.idMonstre,\r\n            +idFamille, libelle).then(\r\n            (data: any) => {\r\n                console.log(data);\r\n                this.familleAndMonstreService.getFamillesAvecMonstres(this.http).then(\r\n                    (reload: any) => {\r\n                        const response: SpecialResponse = JSON.parse(reload) as SpecialResponse;\r\n                        this.monstresGroupes = response.data as MonstreGroupe[];\r\n                        this.updateMonstreCourant();\r\n                    }\r\n                );\r\n                const responseModification: SpecialResponse = JSON.parse(data) as SpecialResponse;\r\n                this.banner.loadComponent(responseModification.status_message, JSON.stringify(responseModification.data),\r\n                    '' + responseModification.status);\r\n            }\r\n        );\r\n    }\r\n\r\n    creerMonstre() {\r\n        const libelle: string = (document.getElementById('monstreLibelle') as HTMLInputElement).value;\r\n        console.log('Ajout monstre');\r\n        this.familleAndMonstreService.creerMonstre(this.http, this.familleMonstreSelectionne.idFamilleMonstre, libelle).then(\r\n            (data: any) => {\r\n                console.log(data);\r\n                this.familleAndMonstreService.getFamillesAvecMonstres(this.http).then(\r\n                    (reload: any) => {\r\n                        const response: SpecialResponse = JSON.parse(reload) as SpecialResponse;\r\n                        this.monstresGroupes = response.data as MonstreGroupe[];\r\n                        this.updateMonstreCourant();\r\n                    }\r\n                );\r\n                const responseCreation: SpecialResponse = JSON.parse(data) as SpecialResponse;\r\n                this.banner.loadComponent(responseCreation.status_message, JSON.stringify(responseCreation.data),\r\n                    '' + responseCreation.status);\r\n            }\r\n        );\r\n        this.monstresGroupes = this.familleAndMonstreService.chargerFamillesAvecMonstres(this.http);\r\n    }\r\n\r\n    updateFamilleMonstreSelectionnee() {\r\n        const select = (document.getElementById('inputFamilleMonstre') as HTMLSelectElement);\r\n        const idFamille = select.options[select.selectedIndex].value;\r\n        this.familleMonstreSelectionne = this.familles.filter(f => f.idFamilleMonstre === +idFamille)[0];\r\n    }\r\n\r\n    emptyMonstre() {\r\n        return (document.getElementById('monstreLibelle') as HTMLInputElement).value.length === 0;\r\n    }\r\n\r\n    /* ---------------------------------------------------*\r\n    |                  Partie Famille                     |\r\n    |                  myControl = new FormControl();     |\r\n    |                  familles: Famille[];               |\r\n    |                  familleCourante: Famille;          |\r\n    |                  filteredFamilles: Observable<Famille[]>;|\r\n    *-----------------------------------------------------*/\r\n    selectionFamille(familleAsString: string) {\r\n        const famille = this.searchExistingFamilleByName(familleAsString);\r\n        if (famille && [!this.familleCourante || this.familleCourante.idFamilleMonstre !== famille.idFamilleMonstre\r\n        || this.familleCourante.libelle !== famille.libelle]) {\r\n            this.familleCourante = famille;\r\n            (document.getElementById('familleLibelle') as HTMLInputElement).value = this.familleCourante.libelle;\r\n            // Changement de valeur de l'autocomplete des familles, pour garder un affichage cohérent\r\n            this.myControl.setValue(this.familleCourante.libelle);\r\n        }\r\n    }\r\n\r\n    familleExactMatch(): boolean {\r\n        if (this.familleCourante) {\r\n            // On cherche si une famille du même nom existe déja.\r\n            const libelleCourant: string = (document.getElementById('familleLibelle') as HTMLInputElement).value;\r\n            const famille: Famille = this.searchExistingFamilleByName(libelleCourant);\r\n\r\n            // Si la famille existe, et le même nom que la famille selectionnée.\r\n            return famille && (document.getElementById('familleLibelle') as HTMLInputElement).value === this.familleCourante.libelle;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    public updateFamilleCourante() {\r\n        if ((document.getElementById('familleLibelle') as HTMLInputElement)) {\r\n            this.selectionFamille((document.getElementById('familleLibelle') as HTMLInputElement).value);\r\n        }\r\n    }\r\n\r\n    searchExistingFamilleByName(familleLibelle: string): Famille {\r\n        const famille: Famille[] = this.familles.filter(f => f.libelle.toLowerCase() === familleLibelle.toLowerCase());\r\n        return famille[0];\r\n    }\r\n\r\n    emptyFamille() {\r\n        return (document.getElementById('familleLibelle') as HTMLInputElement)\r\n            && (document.getElementById('familleLibelle') as HTMLInputElement).value.length === 0;\r\n    }\r\n\r\n    modifierFamille() {\r\n        const libelle: string = (document.getElementById('familleLibelle') as HTMLInputElement).value;\r\n        console.log('Modification famille');\r\n        this.familleAndMonstreService.modifierFamille(this.http, this.familleCourante.idFamilleMonstre, libelle).then(\r\n            (data: any) => {\r\n                this.chargerNouvellesDonnees(data);\r\n                const response: SpecialResponse = JSON.parse(data) as SpecialResponse;\r\n                this.banner.loadComponentFromSpecialResponse(response);\r\n            }\r\n        );\r\n    }\r\n\r\n    creerFamille() {\r\n        const libelle: string = (document.getElementById('familleLibelle') as HTMLInputElement).value;\r\n        console.log('Ajout famille');\r\n        this.familleAndMonstreService.creerFamille(this.http, libelle).then(\r\n            (data: any) => {\r\n                this.chargerNouvellesDonnees(data);\r\n                const response: SpecialResponse = JSON.parse(data) as SpecialResponse;\r\n                this.banner.loadComponentFromSpecialResponse(response);\r\n            }\r\n        );\r\n    }\r\n\r\n    private chargerNouvellesDonnees(data: any) {\r\n        console.log(data);\r\n        this.familleAndMonstreService.getAllFamilles(this.http).then(\r\n            (reload: any) => {\r\n                const response: SpecialResponse = JSON.parse(reload) as SpecialResponse;\r\n                this.familles = response.data as Famille[];\r\n                this.filteredFamilles = this.myControl.valueChanges.pipe(\r\n                    startWith(''),\r\n                    map(value => this.filter(value))\r\n                );\r\n                this.chargerFamille();\r\n            }\r\n        );\r\n    }\r\n\r\n}\r\n","<div id=\"fakebody\">\r\n  <div class=\"principal\">\r\n    <div id=\"caracterSelection\" class=\"caracterSelection\">\r\n      <h3>Selectionnez un monstre</h3>\r\n      <app-autocomplete-groupe #autocompleteGroupeMonstre (monstreEventEmitter)=\"selectionMonstre($event)\"\r\n                               [monsterGroupes]=\"this.monstresGroupes\">\r\n        loading\r\n      </app-autocomplete-groupe>\r\n      <div style=\"width: 100%\">\r\n        <div style=\"width: 100%\" *ngIf=\"monstreCourrant\">\r\n          <h3> {{monstreCourrant.libelle}}</h3>\r\n        </div>\r\n        <div style=\"width: 100%\">\r\n          <form class=\"needs-validation\" id=\"monstre\">\r\n            <div class=\"form-row\">\r\n              <div class=\"col-md-3 mb-5\">\r\n                <label for=\"monstreLibelle\"> Libelle\r\n                </label>\r\n                <input type=\"text\" class=\"form-control\" id=\"monstreLibelle\"\r\n                       name=\"monstreLibelle\"\r\n                       placeholder=\"libelle\"\r\n                       (keyup)=\"this.updateMonstreCourant()\"\r\n                       required>\r\n              </div>\r\n              <div class=\"form-group col-md-4\">\r\n                <label for=\"inputFamilleMonstre\">Famille</label>\r\n                <select id=\"inputFamilleMonstre\" class=\"form-control\" (change)=\"updateFamilleMonstreSelectionnee()\">\r\n                  <option selected value=0> </option>\r\n                  <option *ngFor=\"let famille of familles\" [value]=\"famille.idFamilleMonstre\">\r\n                    {{famille.idFamilleMonstre}} - {{famille.libelle}}\r\n                  </option>\r\n                </select>\r\n              </div>\r\n\r\n\r\n            </div>\r\n\r\n            <div style=\"float: right;\">\r\n              <button class=\"btn btn-danger pull-right\" type=\"submit\" id=\"submissionModifierMonstreButton\"\r\n                      style=\"transition: 0.5s ; margin-right: 50px\"\r\n                      *ngIf=\"!this.monstreExactMatch()\"\r\n                      (click)=\"this.modifierMonstre()\"\r\n                      [disabled]=\"this.inputMonstreNameAlreadyExist() || this.emptyMonstre()\"\r\n                      [title]=\"this.inputMonstreNameAlreadyExist() ? 'Le nom choisi existe déjà. Les noms sont uniques.' : ''\">\r\n                Modifier un monstre\r\n              </button>\r\n              <button class=\"btn btn-outline-warning pull-right\" type=\"submit\" id=\"submissionCreerMonstreButton\"\r\n                      style=\"transition: 0.5s;\"\r\n                      *ngIf=\"!this.monstreExactMatch()\"\r\n                      (click)=\"this.creerMonstre()\"\r\n                      [disabled]=\"this.inputMonstreNameAlreadyExist() || this.emptyMonstre()\"\r\n                      [title]=\"this.inputMonstreNameAlreadyExist() ? 'Le nom choisi existe déjà. Les noms doivent être uniques.' : ''\">\r\n                Créer un monstre\r\n              </button>\r\n            </div>\r\n          </form>\r\n\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- /*---------------------------------------------------*\r\n          |                  Partie famille                   |\r\n          *---------------------------------------------------*/ -->\r\n\r\n    <div id=\"familleSelection\" class=\"familleSelection\">\r\n      <h3>Selectionnez une Famille</h3>\r\n      <form class=\"example-form\">\r\n        <mat-form-field class=\"\">\r\n          <input type=\"text\"\r\n                 aria-label=\"Number\"\r\n                 matInput\r\n                 [formControl]=\"myControl\"\r\n                 [matAutocomplete]=\"auto\">\r\n          <mat-label>Familles</mat-label>\r\n          <mat-autocomplete #auto=\"matAutocomplete\"\r\n                            (optionSelected)=\"selectionFamille($event.option.value)\">\r\n            <mat-option *ngFor=\"let famille of filteredFamilles | async\" [value]=\"famille.libelle\">\r\n              {{famille.libelle}}\r\n            </mat-option>\r\n          </mat-autocomplete>\r\n        </mat-form-field>\r\n      </form>\r\n      <div style=\"width: 100%\">\r\n        <div style=\"width: 100%\" *ngIf=\"familleCourante\">\r\n          <h3> {{familleCourante.libelle}}</h3>\r\n        </div>\r\n        <div style=\"width: 100%\">\r\n          <form class=\"needs-validation\" id=\"famille\">\r\n            <div class=\"form-row\">\r\n              <div class=\"col-md-3 mb-5\">\r\n                <label for=\"familleLibelle\"> Libelle\r\n                </label>\r\n                <input type=\"text\" class=\"form-control\" id=\"familleLibelle\"\r\n                       name=\"familleLibelle\"\r\n                       placeholder=\"libelle\"\r\n                       (keyup)=\"this.updateFamilleCourante()\"\r\n                       required>\r\n              </div>\r\n\r\n\r\n            </div>\r\n\r\n            <div style=\"float: right;\">\r\n              <button class=\"btn btn-danger pull-right\" type=\"submit\" id=\"submissionModifierFamilleButton\"\r\n                      style=\"transition: 0.5s ; margin-right: 50px\"\r\n                      *ngIf=\"!this.familleExactMatch()\"\r\n                      [disabled]=\"this.emptyFamille()\"\r\n                      (click)=\"this.modifierFamille()\">\r\n                Modifier une famille\r\n              </button>\r\n              <button class=\"btn btn-outline-warning pull-right\" type=\"submit\" id=\"submissionCreerFamilleButton\"\r\n                      style=\"transition: 0.5s;\"\r\n                      *ngIf=\"!this.familleExactMatch()\"\r\n                      [disabled]=\"this.emptyFamille()\"\r\n                      (click)=\"this.creerFamille()\">\r\n                Créer une famille\r\n              </button>\r\n            </div>\r\n          </form>\r\n\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n  </div>\r\n\r\n</div>\r\n\r\n<app-fading-info #Banner></app-fading-info>\r\n","import {Component, OnInit, ViewChild} from '@angular/core';\nimport {MatTable} from '@angular/material/table';\nimport {FadingInfoComponent} from '../fading-info/fading-info.component';\nimport {HttpClient} from '@angular/common/http';\nimport {PersonnageService} from '../services/personnage.service';\nimport {MatSnackBar} from '@angular/material/snack-bar';\nimport {SpecialResponse} from '../loot-table/loot-table.component';\nimport {HttpMethods} from '../interface/http-methods.enum';\nimport * as equal from 'fast-deep-equal';\nimport {ActivatedRoute, Router} from '@angular/router';\nimport {AuthService} from '../auth/auth.service';\n\n@Component({\n  selector: 'app-gestion-niveau-joueur',\n  templateUrl: './gestion-niveau-joueur.component.html',\n  styleUrls: ['./gestion-niveau-joueur.component.scss']\n})\nexport class GestionNiveauJoueurComponent implements OnInit {\n\n    @ViewChild(MatTable) table: MatTable<ProgressionPersonnage>;\n    @ViewChild('Banner') banner: FadingInfoComponent;\n\n    progressionsPersonnage: ProgressionPersonnage[];\n    progressionsPersonnageOriginal: ProgressionPersonnage[];\n    statistiquesPersonnage: StatistiquesParNiveau[];\n    statistiquesPersonnageOriginal: StatistiquesParNiveau[];\n    nouveauNiveau: StatistiquesParNiveau;\n    niveauEnAttente: ProgressionPersonnage;\n\n    pointsDispos = 0;\n\n    personnage: Personnage;\n\n\n    idPersonnage: number;\n\n    displayedColumns: string[] = ['niveau', 'intelligence', 'force', 'agilité', 'sagesse', 'constitution', 'vitalité', 'vitalité naturelle',\n        'dé vitalité', 'mana', 'mana naturel', 'dé mana'];\n\n    constructor(private http: HttpClient,\n                public authService: AuthService,\n                private personnageService: PersonnageService,\n                private _snackBar: MatSnackBar,\n                private router: Router,\n                private route: ActivatedRoute) {\n    }\n\n    ngOnInit(): void {\n        if (this.authService.personnage) {\n            this.idPersonnage = this.authService.personnage.idPersonnage;\n        } else if (this.authService.isGameMaster()) {\n            this.idPersonnage = +this.route.snapshot.paramMap.get('id');\n        } else {\n            this.router.navigate(['/']);\n        }\n        this.nouveauNiveau = {\n            niveau: 0,\n            intelligence: 0,\n            force: 0,\n            agilite: 0,\n            sagesse: 0,\n            constitution: 0,\n            vitalite: 0,\n            vitaliteNaturelle: 0,\n            deVitalite: 0,\n            mana: 0,\n            manaNaturel: 0,\n            deMana: 0,\n        } as StatistiquesParNiveau;\n        this.loadProgressionPersonnage();\n        this.loadPersonnage();\n    }\n\n    loadPersonnage() {\n        this.personnageService.getPersonnage(this.http, this.idPersonnage, true).then(\n            (data: any) => {\n                console.log(data);\n                const response: SpecialResponse = data as SpecialResponse;\n                this.personnage = response.data as Personnage;\n                this.triggerVitaliteNaturelle();\n                this.nouveauNiveau.niveau = this.personnage.niveau + 1;\n                if (this.personnage.niveauEnAttente) {\n                    this.personnageService.getNiveauEnAttente(this.http, this.personnage.niveau + 1).then(\n                        (dataNiveauEnAttente: SpecialResponse) => {\n                            console.log(dataNiveauEnAttente);\n                            this.niveauEnAttente = dataNiveauEnAttente.data as ProgressionPersonnage;\n                            if (this.niveauEnAttente.statistiques) {\n                                this.pointsDispos = this.niveauEnAttente.nombreStatistiques;\n                            } else {\n                                this.pointsDispos = 0;\n                            }\n                        }\n                    );\n                } else {\n                    this.pointsDispos = 0;\n                }\n            }\n        );\n    }\n\n    loadProgressionPersonnage() {\n        this.personnageService.getStatistiquesDetaillees(this.http, this.idPersonnage, true).then(\n            (data: any) => {\n                console.log(data);\n                const response: SpecialResponse = data as SpecialResponse;\n                this.statistiquesPersonnage = response.data as StatistiquesParNiveau[];\n                this.statistiquesPersonnageOriginal = JSON.parse(JSON.stringify(this.statistiquesPersonnage)) as StatistiquesParNiveau[];\n                // console.log(this.progressionPersonnage);\n            }\n        );\n    }\n\n\n    ajouterLigne() {\n        const lastProgression = this.progressionsPersonnage[this.progressionsPersonnage.length - 1];\n        const newProgression = {\n            idProgressionPersonnage: null, niveau: lastProgression.niveau + 1, statistiques: false,\n            nombreStatistiques: 0, pointCompetence: false, nombrePointsCompetences: 0\n        } as ProgressionPersonnage;\n        this.personnageService.progressionPersonnage(this.http, HttpMethods.POST,\n            newProgression.idProgressionPersonnage, newProgression).then(\n            (data: any) => {\n                console.log(data);\n                const response: SpecialResponse = JSON.parse(data) as SpecialResponse;\n                this.banner.loadComponentFromSpecialResponse(response);\n                if (response.status > 199 && response.status < 299) {\n                    console.log(response.data as ProgressionPersonnage);\n                    newProgression.idProgressionPersonnage = (response.data as ProgressionPersonnage).idProgressionPersonnage;\n                    this.progressionsPersonnage.push(newProgression);\n                    this.table.renderRows();\n                } else if (response.status === 409) {\n                    this.openSnackBar('Niveau déjà défini', 'Erreur');\n                }\n            }\n        ).catch(\n            (data: any) => {\n                console.log(data);\n                const httpResponse = data;\n                const response: SpecialResponse = JSON.parse(data.error) as SpecialResponse;\n                this.banner.loadComponentFromSpecialResponse(response);\n                if (httpResponse.status === 409) {\n                    this.openSnackBar('Niveau déjà défini', 'Erreur');\n                }\n            }\n        );\n        // console.log(this.progressionPersonnage);\n    }\n\n    supprimerLigne() {\n        const progression = this.progressionsPersonnage[this.progressionsPersonnage.length - 1];\n        this.personnageService.progressionPersonnage(this.http, HttpMethods.DELETE, progression.idProgressionPersonnage, progression).then(\n            (data: any) => {\n                console.log(data);\n                const response: SpecialResponse = JSON.parse(data);\n                this.banner.loadComponentFromSpecialResponse(response);\n                if (response.status > 199 && response.status < 299) {\n                    this.progressionsPersonnage.pop();\n                    this.table.renderRows();\n                }\n            }\n        );\n        // console.log(this.progressionPersonnage);\n    }\n\n    validerTable() {\n        for (let indexProgression = 0 ; indexProgression < this.progressionsPersonnage.length ; indexProgression++) {\n            if (!equal(this.progressionsPersonnage[indexProgression], this.progressionsPersonnageOriginal[indexProgression])) {\n                this.personnageService.progressionPersonnage(this.http, HttpMethods.PUT,\n                    this.progressionsPersonnage[indexProgression].idProgressionPersonnage, this.progressionsPersonnage[indexProgression])\n                    .then(\n                        (data: any) => {\n                            console.log(data);\n                            const response: SpecialResponse = JSON.parse(data);\n                            this.banner.loadComponentFromSpecialResponse(response);\n                        }\n                    );\n            }\n        }\n        setTimeout(() => {\n            this.loadProgressionPersonnage();\n        }, 2500);\n    }\n\n    resetTable() {\n        this.progressionsPersonnage = JSON.parse(JSON.stringify(this.progressionsPersonnageOriginal));\n    }\n\n    openSnackBar(message: string, action: string) {\n        this._snackBar.open(message, action, {\n            duration: 9000,\n        });\n    }\n\n    changementStatistiquesAutorise(indexProgressionPersonnage: number) {\n        this.progressionsPersonnage[indexProgressionPersonnage].nombreStatistiques =\n            this.progressionsPersonnage[indexProgressionPersonnage].statistiques ?\n                this.progressionsPersonnage[indexProgressionPersonnage].nombreStatistiques : 0;\n    }\n\n    changementPointCompetenceAutorise(indexProgressionPersonnage: number) {\n        this.progressionsPersonnage[indexProgressionPersonnage].nombrePointsCompetences =\n            this.progressionsPersonnage[indexProgressionPersonnage].pointCompetence ?\n                this.progressionsPersonnage[indexProgressionPersonnage].nombrePointsCompetences : 0;\n    }\n\n    triggerVitaliteNaturelle() {\n        this.nouveauNiveau.vitaliteNaturelle = Math.max(0,\n            Math.floor((this.personnage.constitution + this.nouveauNiveau.constitution - 10) / 2));\n    }\n\n    pointStatistiqueUtilises(): number {\n        const niv = this.nouveauNiveau;\n        return niv.intelligence + niv.force + niv.agilite + niv.constitution + niv.sagesse + niv.vitalite + niv.mana;\n    }\n\n    pointStatistiqueRestant(): boolean {\n        return this.pointStatistiqueUtilises() < this.pointsDispos;\n    }\n\n    nbPointStatistiqueRestant(): number {\n        return this.pointsDispos - this.pointStatistiqueUtilises();\n    }\n\n    pntStatDispo(statistique: string): number {\n        switch (statistique) {\n            case 'intelligence':\n                return +this.nbPointStatistiqueRestant() + this.nouveauNiveau.intelligence;\n            case 'force':\n                return +this.nbPointStatistiqueRestant() + this.nouveauNiveau.force;\n            case 'agilite':\n                return +this.nbPointStatistiqueRestant() + this.nouveauNiveau.agilite;\n            case 'constitution':\n                return +this.nbPointStatistiqueRestant() + this.nouveauNiveau.constitution;\n            case 'sagesse':\n                return +this.nbPointStatistiqueRestant() + this.nouveauNiveau.sagesse;\n            case 'vitalite':\n                return +this.nbPointStatistiqueRestant() + this.nouveauNiveau.vitalite;\n            case 'mana':\n                return +this.nbPointStatistiqueRestant() + this.nouveauNiveau.mana;\n            default:\n                return 0;\n        }\n    }\n\n    isValide(statistique: string): boolean {\n        switch (statistique) {\n            case 'intelligence':\n                return this.nouveauNiveau.intelligence > 0 || this.pointStatistiqueRestant();\n            case 'force':\n                return this.nouveauNiveau.force > 0 || this.pointStatistiqueRestant();\n            case 'agilite':\n                return this.nouveauNiveau.agilite > 0 || this.pointStatistiqueRestant();\n            case 'constitution':\n                return this.nouveauNiveau.constitution > 0 || this.pointStatistiqueRestant();\n            case 'sagesse':\n                return this.nouveauNiveau.sagesse > 0 || this.pointStatistiqueRestant();\n            case 'vitalite':\n                return this.nouveauNiveau.vitalite > 0 || this.pointStatistiqueRestant();\n            case 'mana':\n                return this.nouveauNiveau.mana > 0 || this.pointStatistiqueRestant();\n            default:\n                return false;\n        }\n    }\n\n    augmenterStatistique(statistique: string) {\n        switch (statistique) {\n            case 'intelligence':\n                this.nouveauNiveau.intelligence += 1;\n                break;\n            case 'force':\n                this.nouveauNiveau.force += 1;\n                break;\n            case 'agilite':\n                this.nouveauNiveau.agilite += 1;\n                break;\n            case 'constitution':\n                this.nouveauNiveau.constitution += 1;\n                break;\n            case 'sagesse':\n                this.nouveauNiveau.sagesse += 1;\n                break;\n            case 'vitalite':\n                this.nouveauNiveau.vitalite += 1;\n                break;\n            case 'mana':\n                this.nouveauNiveau.mana += 1;\n                break;\n        }\n    }\n\n    diminuerStatistique(statistique: string) {\n        switch (statistique) {\n            case 'intelligence':\n                this.nouveauNiveau.intelligence -= 1;\n                break;\n            case 'force':\n                this.nouveauNiveau.force -= 1;\n                break;\n            case 'agilite':\n                this.nouveauNiveau.agilite -= 1;\n                break;\n            case 'constitution':\n                this.nouveauNiveau.constitution -= 1;\n                break;\n            case 'sagesse':\n                this.nouveauNiveau.sagesse -= 1;\n                break;\n            case 'vitalite':\n                this.nouveauNiveau.vitalite -= 1;\n                break;\n            case 'mana':\n                this.nouveauNiveau.mana -= 1;\n                break;\n        }\n    }\n\n    checkDeVitalite(event: any) {\n        console.log(this.personnage.deVitaliteNaturelle);\n        if (+event.target.value > this.personnage.deVitaliteNaturelle) {\n            event.target.value = +this.personnage.deVitaliteNaturelle;\n        } else if (+event.target.value < 0) {\n            event.target.value = 0;\n        } else if (isNaN(event.target.value)) {\n            event.target.value = null;\n            this.nouveauNiveau.deVitalite = null;\n        }\n    }\n\n    checkDeMana(event: any) {\n        if (+event.target.value > this.personnage.deManaNaturel) {\n            event.target.value = +this.personnage.deManaNaturel;\n        } else if (+event.target.value < 0) {\n            event.target.value = 0;\n        } else if (isNaN(event.target.value)) {\n            event.target.value = null;\n            this.nouveauNiveau.deMana = null;\n        }\n    }\n\n    isNiveauValidable() {\n        return !this.pointStatistiqueRestant()\n            && ((this.personnage.deVitaliteNaturelle > 0 && this.nouveauNiveau.deVitalite > 0) || this.personnage.deVitaliteNaturelle === 0)\n            && ((this.personnage.deManaNaturel > 0 && this.nouveauNiveau.deMana > 0) || this.personnage.deManaNaturel === 0);\n    }\n\n    validerNiveau() {\n        this.personnageService.monterNiveau(this.http, HttpMethods.POST, this.personnage.idPersonnage, this.nouveauNiveau).then(\n            (data: any) => {\n                console.log(data);\n                const response: SpecialResponse = JSON.parse(data) as SpecialResponse;\n                const niveau: StatistiquesParNiveau = response.data as StatistiquesParNiveau;\n                /*\n                this.router.navigateByUrl('/RefreshComponent', { skipLocationChange: true }).then(() => {\n                    this.router.navigate(['Your actualComponent']);\n                });\n                */\n                this.nouveauNiveau = {\n                    niveau: 0,\n                    intelligence: 0,\n                    force: 0,\n                    agilite: 0,\n                    sagesse: 0,\n                    constitution: 0,\n                    vitalite: 0,\n                    vitaliteNaturelle: 0,\n                    deVitalite: 0,\n                    mana: 0,\n                    manaNaturel: 0,\n                    deMana: 0,\n                } as StatistiquesParNiveau;\n                this.loadPersonnage();\n                this.loadProgressionPersonnage();\n            }\n        ).catch(\n            (data: any) => {\n                console.log(data);\n                const httpResponse = data;\n                const response: SpecialResponse = JSON.parse(data.error) as SpecialResponse;\n                this.banner.loadComponentFromSpecialResponse(response);\n                if (httpResponse.status === 403) {\n                    this.openSnackBar('Montée de niveau non autorisée.', 'Erreur');\n                } else if (httpResponse.status === 451) {\n                    this.openSnackBar('Mauvais niveau.', 'Erreur');\n                } else if (httpResponse.status === 406) {\n                    this.openSnackBar('Pris la main dans le sac !', 'Erreur');\n                } else if (httpResponse.status === 400) {\n                    this.openSnackBar('Erreur d\\'argument ou SQL', 'Erreur');\n                } else {\n                    this.openSnackBar('Erreur inconnue', 'Erreur');\n                }\n            }\n        );\n    }\n}\n","<div class=\"globalContainer\">\n\n    <div class=\"nouveauNiveau\" *ngIf=\"this.personnage && this.personnage.niveauEnAttente\">\n        <div>Nombre de points à affecter : {{this.pointsDispos}}</div>\n        <div>Nombre de points restants : {{this.nbPointStatistiqueRestant()}}</div>\n        <form class=\"example-form\">\n            <mat-form-field class=\"example-full-width\">\n                <mat-label>Intelligence</mat-label>\n                <input type=\"number\" name=\"nouveauNiveauIntelligence\" matInput min=\"0\" [max]=\"this.pntStatDispo('intelligence')\"\n                       [(ngModel)]=\"nouveauNiveau.intelligence\"\n                       [disabled]=\"!this.pointStatistiqueRestant() && this.nouveauNiveau.intelligence < 1\"\n                       (keydown)=\"$event.preventDefault()\">\n                <mat-icon matSuffix [ngClass]=\"{'hidden': !this.isValide('intelligence') || !this.pointStatistiqueRestant()}\"\n                          (click)=\"this.augmenterStatistique('intelligence')\"svgIcon=\"statistiqueAugmentation\" class=\"customMatIcon\">\n                </mat-icon>\n                <mat-icon matSuffix [ngClass]=\"{'hidden': !this.isValide('intelligence') || nouveauNiveau.intelligence < 1}\"\n                          (click)=\"this.diminuerStatistique('intelligence')\"svgIcon=\"minus\" class=\"customMatIcon minusMatIcon\">\n                </mat-icon>\n            </mat-form-field>\n\n            <mat-form-field class=\"example-full-width\">\n                <mat-label>Force</mat-label>\n                <input type=\"number\" name=\"nouveauNiveauForce\" matInput min=\"0\" [max]=\"this.pntStatDispo('force')\"\n                       [(ngModel)]=\"nouveauNiveau.force\"\n                       [disabled]=\"!this.pointStatistiqueRestant() && this.nouveauNiveau.force < 1\"\n                       (keydown)=\"$event.preventDefault()\">\n                <mat-icon matSuffix [ngClass]=\"{'hidden': !this.isValide('force') || !this.pointStatistiqueRestant()}\"\n                          (click)=\"this.augmenterStatistique('force')\"svgIcon=\"statistiqueAugmentation\" class=\"customMatIcon\">\n                </mat-icon>\n                <mat-icon matSuffix [ngClass]=\"{'hidden': !this.isValide('force') || nouveauNiveau.force < 1}\"\n                          (click)=\"this.diminuerStatistique('force')\"svgIcon=\"minus\" class=\"customMatIcon minusMatIcon\">\n                </mat-icon>\n            </mat-form-field>\n\n            <mat-form-field class=\"example-full-width\">\n                <mat-label>Agilité</mat-label>\n                <input type=\"number\" name=\"nouveauNiveauAgilite\" matInput min=\"0\" [max]=\"this.pntStatDispo('agilite')\"\n                       [(ngModel)]=\"nouveauNiveau.agilite\"\n                       [disabled]=\"!this.pointStatistiqueRestant() && this.nouveauNiveau.agilite < 1\"\n                       (keydown)=\"$event.preventDefault()\">\n                <mat-icon matSuffix [ngClass]=\"{'hidden': !this.isValide('agilite') || !this.pointStatistiqueRestant()}\"\n                          (click)=\"this.augmenterStatistique('agilite')\"svgIcon=\"statistiqueAugmentation\" class=\"customMatIcon\">\n                </mat-icon>\n                <mat-icon matSuffix [ngClass]=\"{'hidden': !this.isValide('agilite') || nouveauNiveau.agilite < 1}\"\n                          (click)=\"this.diminuerStatistique('agilite')\"svgIcon=\"minus\" class=\"customMatIcon minusMatIcon\">\n                </mat-icon>\n            </mat-form-field>\n\n            <mat-form-field class=\"example-full-width\">\n                <mat-label>Sagesse</mat-label>\n                <input type=\"number\" name=\"nouveauNiveauSagesse\" matInput [(ngModel)]=\"nouveauNiveau.sagesse\"\n                       [disabled]=\"!this.pointStatistiqueRestant() && this.nouveauNiveau.sagesse < 1\"\n                       (keydown)=\"$event.preventDefault()\">\n                <mat-icon matSuffix [ngClass]=\"{'hidden': !this.isValide('sagesse') || !this.pointStatistiqueRestant()}\"\n                          (click)=\"this.augmenterStatistique('sagesse')\"svgIcon=\"statistiqueAugmentation\" class=\"customMatIcon\">\n                </mat-icon>\n                <mat-icon matSuffix [ngClass]=\"{'hidden': !this.isValide('sagesse') || nouveauNiveau.sagesse < 1}\"\n                          (click)=\"this.diminuerStatistique('sagesse')\"svgIcon=\"minus\" class=\"customMatIcon minusMatIcon\">\n                </mat-icon>\n            </mat-form-field>\n\n            <mat-form-field class=\"example-full-width\">\n                <mat-label>Constitution</mat-label>\n                <input type=\"number\" name=\"nouveauNiveauConstitution\" min=\"0\" [max]=\"this.pntStatDispo('constitution')\"\n                       (change)=\"this.triggerVitaliteNaturelle()\" matInput [(ngModel)]=\"nouveauNiveau.constitution\"\n                       [disabled]=\"!this.pointStatistiqueRestant() && this.nouveauNiveau.constitution < 1\"\n                       (keydown)=\"$event.preventDefault()\">\n                <mat-icon matSuffix [ngClass]=\"{'hidden': !this.isValide('constitution') || !this.pointStatistiqueRestant()}\"\n                          (click)=\"this.augmenterStatistique('constitution'); this.triggerVitaliteNaturelle()\"\n                          svgIcon=\"statistiqueAugmentation\" class=\"customMatIcon\">\n                </mat-icon>\n                <mat-icon matSuffix [ngClass]=\"{'hidden': !this.isValide('constitution') || nouveauNiveau.constitution < 1}\"\n                          (click)=\"this.diminuerStatistique('constitution'); this.triggerVitaliteNaturelle()\"\n                          svgIcon=\"minus\" class=\"customMatIcon minusMatIcon\">\n                </mat-icon>\n            </mat-form-field>\n\n        </form>\n\n        <form class=\"example-form\">\n            <mat-form-field class=\"example-full-width\">\n                <mat-label>Vitalité</mat-label>\n                <input type=\"number\" name=\"nouveauNiveauVitalite\" matInput min=\"0\" [max]=\"this.pntStatDispo('vitalite')\"\n                       [(ngModel)]=\"nouveauNiveau.vitalite\"\n                       [disabled]=\"!this.pointStatistiqueRestant() && this.nouveauNiveau.vitalite < 1\"\n                       (keydown)=\"$event.preventDefault()\">\n                <mat-icon matSuffix [ngClass]=\"{'hidden': !this.isValide('vitalite') || !this.pointStatistiqueRestant()}\"\n                          (click)=\"this.augmenterStatistique('vitalite')\"svgIcon=\"statistiqueAugmentation\" class=\"customMatIcon\">\n                </mat-icon>\n                <mat-icon matSuffix [ngClass]=\"{'hidden': !this.isValide('vitalite') || nouveauNiveau.vitalite < 1}\"\n                          (click)=\"this.diminuerStatistique('vitalite')\"svgIcon=\"minus\" class=\"customMatIcon minusMatIcon\">\n                </mat-icon>\n            </mat-form-field>\n\n            <mat-form-field class=\"example-full-width\">\n                <mat-label>Dé vitalite (1D{{this.personnage.deVitaliteNaturelle}})</mat-label>\n                <input type=\"number\" min=\"0\" [max]=\"this.personnage.deVitaliteNaturelle\" name=\"nouveauNiveauDeVitalite\" matInput\n                       [(ngModel)]=\"nouveauNiveau.deVitalite\" (keyup)=\"this.checkDeVitalite($event)\">\n            </mat-form-field>\n\n            <mat-form-field class=\"example-full-width\">\n                <mat-label>Mana</mat-label>\n                <input type=\"number\" name=\"nouveauNiveauMana\" matInput min=\"0\" [max]=\"this.pntStatDispo('mana')\"\n                       [(ngModel)]=\"nouveauNiveau.mana\"\n                       [disabled]=\"!this.pointStatistiqueRestant() && this.nouveauNiveau.mana < 1\"\n                       (keydown)=\"$event.preventDefault()\">\n                <mat-icon matSuffix [ngClass]=\"{'hidden': !this.isValide('mana') || !this.pointStatistiqueRestant()}\"\n                          (click)=\"this.augmenterStatistique('mana')\"svgIcon=\"statistiqueAugmentation\" class=\"customMatIcon\">\n                </mat-icon>\n                <mat-icon matSuffix [ngClass]=\"{'hidden': !this.isValide('mana') || nouveauNiveau.mana < 1}\"\n                          (click)=\"this.diminuerStatistique('mana')\"svgIcon=\"minus\" class=\"customMatIcon minusMatIcon\">\n                </mat-icon>\n            </mat-form-field>\n\n            <mat-form-field class=\"example-full-width\">\n                <mat-label>Dé mana (1D{{this.personnage.deManaNaturel}})</mat-label>\n                <input type=\"number\" min=\"0\" [max]=\"this.personnage.deManaNaturel\" name=\"nouveauNiveauDeMana\" matInput\n                       [(ngModel)]=\"nouveauNiveau.deMana\" (keyup)=\"this.checkDeMana($event)\">\n            </mat-form-field>\n\n        </form>\n\n        <form class=\"example-form\">\n\n\n            <mat-form-field class=\"example-full-width\">\n                <mat-label>Vitalite naturelle</mat-label>\n                <input type=\"number\" name=\"nouveauNiveauVitaliteNaturelle\" matInput [disabled]=\"true\" [(ngModel)]=\"nouveauNiveau.vitaliteNaturelle\">\n            </mat-form-field>\n\n            <mat-form-field class=\"example-full-width\">\n                <mat-label>Mana naturel</mat-label>\n                <input type=\"number\" name=\"nouveauNiveauManaNaturel\" matInput [disabled]=\"true\" [(ngModel)]=\"nouveauNiveau.manaNaturel\">\n            </mat-form-field>\n\n        </form>\n\n        <button class=\"btn btn-success\" (click)=\"validerNiveau()\" [disabled]=\"this.pointStatistiqueRestant() || !this.isNiveauValidable()\" *ngIf=\"this.niveauEnAttente.niveau > 1\"> Valider niveau </button>\n        <button class=\"btn btn-success\" (click)=\"validerNiveau()\" *ngIf=\"this.niveauEnAttente.niveau === 1\"> Valider niveau </button>\n    </div>\n\n    <div class=\"tableContainer\">\n        <div class=\"boutonControlleTable\">\n            <!--button class=\"btn btn-light\" (click)=\"ajouterLigne()\">Ajouter une ligne à la fin</button-->\n            <!--button class=\"btn btn-light\" (click)=\"supprimerLigne()\">Supprimer la dernière ligne</button-->\n        </div>\n        <table mat-table #table [dataSource]=\"statistiquesPersonnage\" class=\"mat-elevation-z8\">\n\n            <!--- Note that these columns can be defined in any order.\n                  The actual rendered columns are set as a property on the row definition\" -->\n\n            <!-- Niveau Column -->\n            <ng-container matColumnDef=\"niveau\">\n                <th mat-header-cell *matHeaderCellDef> Niveau</th>\n                <td mat-cell *matCellDef=\"let element\"> {{element.niveau}} </td>\n            </ng-container>\n\n            <!-- Statistiques Column -->\n            <ng-container matColumnDef=\"intelligence\">\n                <th mat-header-cell *matHeaderCellDef> Intelligence</th>\n                <td mat-cell *matCellDef=\"let element ; let index = index\">\n                    <div class=\"tdContent\">{{element.intelligence}}</div>\n                </td>\n            </ng-container>\n\n            <!-- NombreStatistiques Column -->\n            <ng-container matColumnDef=\"force\">\n                <th mat-header-cell *matHeaderCellDef> Force</th>\n                <td mat-cell *matCellDef=\"let element\">\n                    <div class=\"tdContent\">{{element.force}}</div>\n                </td>\n            </ng-container>\n\n            <!-- PointCompetence Column -->\n            <ng-container matColumnDef=\"agilité\">\n                <th mat-header-cell *matHeaderCellDef> Agilité</th>\n                <td mat-cell *matCellDef=\"let element; let index = index\">\n                    <div class=\"tdContent\">{{element.agilite}}</div>\n                </td>\n            </ng-container>\n\n            <!-- NombrePointsCompetences Column -->\n            <ng-container matColumnDef=\"sagesse\">\n                <th mat-header-cell *matHeaderCellDef> Sagesse</th>\n                <td mat-cell *matCellDef=\"let element\">\n                    <div class=\"tdContent\">{{element.sagesse}}</div>\n                </td>\n            </ng-container>\n\n            <ng-container matColumnDef=\"constitution\">\n                <th mat-header-cell *matHeaderCellDef> Constitution</th>\n                <td mat-cell *matCellDef=\"let element\">\n                    <div class=\"tdContent\">{{element.constitution}}</div>\n                </td>\n            </ng-container>\n\n            <ng-container matColumnDef=\"vitalité\">\n                <th mat-header-cell *matHeaderCellDef> Vitalité</th>\n                <td mat-cell *matCellDef=\"let element\">\n                    <div class=\"tdContent\">{{element.vitalite}}</div>\n                </td>\n            </ng-container>\n\n            <ng-container matColumnDef=\"vitalité naturelle\">\n                <th mat-header-cell *matHeaderCellDef> Vitalité naturelle</th>\n                <td mat-cell *matCellDef=\"let element\">\n                    <div class=\"tdContent\">{{element.vitaliteNaturelle}}</div>\n                </td>\n            </ng-container>\n\n\n\n            <ng-container matColumnDef=\"dé vitalité\">\n                <th mat-header-cell *matHeaderCellDef> Dé vitalité</th>\n                <td mat-cell *matCellDef=\"let element\">\n                    <div class=\"tdContent\">{{element.deVitalite}}</div>\n                </td>\n            </ng-container>\n\n            <ng-container matColumnDef=\"mana\">\n                <th mat-header-cell *matHeaderCellDef> Mana</th>\n                <td mat-cell *matCellDef=\"let element\">\n                    <div class=\"tdContent\">{{element.mana}}</div>\n                </td>\n            </ng-container>\n\n            <ng-container matColumnDef=\"mana naturel\">\n                <th mat-header-cell *matHeaderCellDef> Mana naturel</th>\n                <td mat-cell *matCellDef=\"let element\">\n                    <div class=\"tdContent\">{{element.manaNaturel}}</div>\n                </td>\n            </ng-container>\n\n            <ng-container matColumnDef=\"dé mana\">\n                <th mat-header-cell *matHeaderCellDef> Dé mana</th>\n                <td mat-cell *matCellDef=\"let element\">\n                    <div class=\"tdContent\">{{element.deMana}}</div>\n                </td>\n            </ng-container>\n\n            <tr mat-header-row *matHeaderRowDef=\"displayedColumns\"></tr>\n            <tr mat-row *matRowDef=\"let row; columns: displayedColumns\"></tr>\n        </table>\n\n        <div class=\"boutonModifierDonneesTables\">\n            <!--button class=\"btn btn-warning\" (click)=\"resetTable()\">Reset table</button-->\n            <!--button class=\"btn btn-success\" (click)=\"validerTable()\">Valider table</button-->\n        </div>\n    </div>\n\n    <app-fading-info #Banner></app-fading-info>\n</div>\n","import {Component, OnInit, ViewChild} from '@angular/core';\nimport {MatTable} from '@angular/material/table';\nimport {FadingInfoComponent} from '../fading-info/fading-info.component';\nimport {HttpClient} from '@angular/common/http';\nimport {AuthService} from '../auth/auth.service';\nimport {PersonnageService} from '../services/personnage.service';\nimport {MatSnackBar} from '@angular/material/snack-bar';\nimport {SpecialResponse} from '../loot-table/loot-table.component';\n\n@Component({\n    selector: 'app-gestion-niveaux',\n    templateUrl: './gestion-niveaux.component.html',\n    styleUrls: ['./gestion-niveaux.component.scss']\n})\nexport class GestionNiveauxComponent implements OnInit {\n\n    @ViewChild(MatTable) table: MatTable<ProgressionPersonnage>;\n    @ViewChild('Banner') banner: FadingInfoComponent;\n\n    personnages: Personnage[];\n    updatingPersonnage = false;\n    updatingPersonnageID: number;\n\n    displayedColumns: string[] = ['idPersonnage', 'nom', 'niveau', 'niveauEnAttente', 'deVitaliteNaturelle', 'deManaNaturel', 'monterNiveaux', 'baisserNiveaux'];\n\n    constructor(private http: HttpClient,\n                private authService: AuthService,\n                private personnageService: PersonnageService,\n                private _snackBar: MatSnackBar) {\n    }\n\n    ngOnInit(): void {\n        this.personnageService.getAllPersonnages(this.http, true).then(\n            (data: any) => {\n                console.log(data);\n                const response = data as SpecialResponse;\n                this.personnages = response.data as Personnage[];\n            }\n        );\n    }\n\n    changerNiveau(idPersonnage: number, monter: boolean) {\n        this.personnageService.gererNiveau(this.http, idPersonnage, monter).then(\n            (data: any) => {\n                console.log(data);\n                const response: SpecialResponse = data as SpecialResponse;\n                this.banner.loadComponentFromSpecialResponse(response);\n                this.reloadPersonnage(idPersonnage);\n            }\n        );\n    }\n\n    reloadPersonnage(idPersonnage: number) {\n        this.updatingPersonnage = true;\n        this.updatingPersonnageID = idPersonnage;\n        setTimeout(() => {\n            this.personnageService.getPersonnage(this.http, idPersonnage, false).then(\n                (dataPersonnage: any) => {\n                    console.log(dataPersonnage);\n                    const response: SpecialResponse = dataPersonnage as SpecialResponse;\n                    console.log(response);\n                    const index = this.personnages.indexOf(this.personnages.find(f => +f.idPersonnage === +idPersonnage));\n                    this.personnages[index] = response.data as Personnage;\n                    console.log(this.personnages[index]);\n                    this.table.renderRows();\n                }\n            );\n        }, 1250);\n        setTimeout(() => {\n            this.updatingPersonnage = false;\n            this.updatingPersonnageID = null;\n        }, 2500);\n    }\n\n}\n","<div class=\"globalContainer\">\n\n    <div class=\"tableContainer\">\n        <div class=\"boutonControlleTable\">\n            <!--button class=\"btn btn-light\" (click)=\"ajouterLigne()\">Ajouter une ligne à la fin</button-->\n            <!--button class=\"btn btn-light\" (click)=\"supprimerLigne()\">Supprimer la dernière ligne</button-->\n        </div>\n        <table mat-table #table [dataSource]=\"personnages\" class=\"mat-elevation-z8\">\n\n            <!--- Note that these columns can be defined in any order.\n                  The actual rendered columns are set as a property on the row definition\" -->\n\n            <!-- Niveau Column -->\n\n            <ng-container matColumnDef=\"idPersonnage\">\n                <th mat-header-cell *matHeaderCellDef> idPersonnage</th>\n                <td mat-cell *matCellDef=\"let element\"> {{element.idPersonnage}} </td>\n            </ng-container>\n\n            <!-- Statistiques Column -->\n            <ng-container matColumnDef=\"nom\">\n                <th mat-header-cell *matHeaderCellDef> Nom</th>\n                <td mat-cell *matCellDef=\"let element ; let index = index\">\n                    <div class=\"tdContent\">{{element.nom}}</div>\n                </td>\n            </ng-container>\n\n            <!-- NombreStatistiques Column -->\n            <ng-container matColumnDef=\"niveau\">\n                <th mat-header-cell *matHeaderCellDef> Niveau</th>\n                <td mat-cell *matCellDef=\"let element\">\n                    <div class=\"tdContent\" *ngIf=\"element.idPersonnage !== 0\">{{element.niveau}}</div>\n                </td>\n            </ng-container>\n\n            <!-- PointCompetence Column -->\n            <ng-container matColumnDef=\"niveauEnAttente\">\n                <th mat-header-cell *matHeaderCellDef> Niveau en attente</th>\n                <td mat-cell *matCellDef=\"let element; let index = index\">\n                    <div class=\"tdContent\" *ngIf=\"element.idPersonnage !== 0\">{{element.niveauEnAttente}}</div>\n                </td>\n            </ng-container>\n\n            <!-- NombrePointsCompetences Column -->\n            <ng-container matColumnDef=\"deVitaliteNaturelle\">\n                <th mat-header-cell *matHeaderCellDef> Dé vitalité naturelle</th>\n                <td mat-cell *matCellDef=\"let element\">\n                    <div class=\"tdContent\" *ngIf=\"element.idPersonnage !== 0\">{{element.deVitaliteNaturelle}}</div>\n                </td>\n            </ng-container>\n\n            <ng-container matColumnDef=\"deManaNaturel\">\n                <th mat-header-cell *matHeaderCellDef> Dé mana naturel</th>\n                <td mat-cell *matCellDef=\"let element\">\n                    <div class=\"tdContent\" *ngIf=\"element.idPersonnage !== 0\">{{element.deManaNaturel}}</div>\n                </td>\n            </ng-container>\n\n            <ng-container matColumnDef=\"monterNiveaux\">\n                <th mat-header-cell *matHeaderCellDef> Monter niveau</th>\n                <td mat-cell *matCellDef=\"let element\">\n                    <button class=\"btn btn-success\" *ngIf=\"element.idPersonnage !== 0\"\n                    (click)=\"this.changerNiveau(element.idPersonnage, true)\"\n                    [disabled]=\"this.updatingPersonnageID === element.idPersonnage\"> Monter d'un niveau </button>\n                </td>\n            </ng-container>\n\n            <ng-container matColumnDef=\"baisserNiveaux\">\n                <th mat-header-cell *matHeaderCellDef> Baisser niveau</th>\n                <td mat-cell *matCellDef=\"let element\">\n                    <button class=\"btn btn-outline-warning\" *ngIf=\"element.idPersonnage !== 0\"\n                    (click)=\"this.changerNiveau(element.idPersonnage, false)\"\n                    [disabled]=\"this.updatingPersonnageID === element.idPersonnage\"> Baisser d'un niveau </button>\n                </td>\n            </ng-container>\n\n\n\n            <tr mat-header-row *matHeaderRowDef=\"displayedColumns\"></tr>\n            <tr mat-row *matRowDef=\"let row; columns: displayedColumns\"></tr>\n        </table>\n\n        <div class=\"boutonModifierDonneesTables\">\n            <!--button class=\"btn btn-warning\" (click)=\"resetTable()\">Reset table</button-->\n            <!--button class=\"btn btn-success\" (click)=\"validerTable()\">Valider table</button-->\n        </div>\n    </div>\n\n    <app-fading-info #Banner></app-fading-info>\n</div>\n","import {Component, OnInit} from '@angular/core';\r\nimport {HttpClient} from '@angular/common/http';\r\nimport {PersonnageService} from '../services/personnage.service';\r\nimport {ObjetService} from '../services/objet.service';\r\nimport {SpecialResponse} from '../loot-table/loot-table.component';\r\n\r\n@Component({\r\n    selector: 'app-gestion-objet',\r\n    templateUrl: './gestion-objet.component.html',\r\n    styleUrls: ['./gestion-objet.component.scss']\r\n})\r\nexport class GestionObjetComponent implements OnInit {\r\n\r\n    personnages: Personnage[];\r\n    idPersonnageSelectionne: number;\r\n    currentPersonnage: Personnage;\r\n\r\n    objetMinimisations: ObjetMinimisation[] = [];\r\n\r\n    objetCourantID: number;\r\n\r\n    updatingObjetName = false;\r\n\r\n    updatingObjetID: number;\r\n\r\n    constructor(private http: HttpClient,\r\n                private personnageService: PersonnageService,\r\n                private objetService: ObjetService,\r\n    ) {\r\n    }\r\n\r\n    ngOnInit(): void {\r\n        this.personnageService.getAllPersonnages(this.http, true).then(\r\n            (data: any) => {\r\n                console.log(data);\r\n                const response = data as SpecialResponse;\r\n                this.personnages = response.data as Personnage[];\r\n            }\r\n        );\r\n    }\r\n\r\n    selectPersonnage() {\r\n        if (+this.idPersonnageSelectionne !== 0) {\r\n            this.objetCourantID = null;\r\n            this.currentPersonnage = this.personnages.find(f => f.idPersonnage === +this.idPersonnageSelectionne);\r\n            this.loadObjetsNames();\r\n        } else {\r\n            this.objetCourantID = null;\r\n            this.currentPersonnage = this.personnages.find(f => f.idPersonnage === +this.idPersonnageSelectionne);\r\n            this.loadObjetsNames();\r\n        }\r\n    }\r\n\r\n    public loadObjetsNames() {\r\n        this.objetService.getAllObjetsNames(this.http, this.idPersonnageSelectionne).then(\r\n            (dataObjet: any) => {\r\n                const response: SpecialResponse = dataObjet as SpecialResponse;\r\n                console.log(response);\r\n                this.objetMinimisations = response.data as ObjetMinimisation[];\r\n                console.log(this.objetMinimisations);\r\n            }\r\n        );\r\n    }\r\n\r\n    reloadObjetsNames(idObjet: number) {\r\n        this.updatingObjetName = true;\r\n        this.updatingObjetID = idObjet;\r\n        setTimeout(() => {\r\n            this.objetService.getObjetName(this.http, idObjet).then(\r\n                (dataObjet: any) => {\r\n                    const response: SpecialResponse = dataObjet as SpecialResponse;\r\n                    console.log(response);\r\n                    const index = this.objetMinimisations.indexOf(this.objetMinimisations.find(f => +f.idObjet === +idObjet));\r\n                    this.objetMinimisations[index] = response.data as ObjetMinimisation;\r\n                    console.log(this.objetMinimisations[index]);\r\n                    if (this.currentPersonnage.idPersonnage !== this.objetMinimisations[index].idPersonnage) {\r\n                        this.objetMinimisations.splice(index, 1);\r\n                        this.objetCourantID = null;\r\n                    }\r\n                }\r\n            );\r\n        }, 1250);\r\n        setTimeout(() => {\r\n            this.updatingObjetName = false;\r\n            this.updatingObjetID = null;\r\n        }, 2500);\r\n    }\r\n\r\n    public selectObjet(idObjet: number) {\r\n        this.objetCourantID = idObjet;\r\n    }\r\n\r\n    getNomSansBalise(objetNom: string) {\r\n        return objetNom.replace(/<a href=\"http:\\/\\/([a-z]*.*?)\">(.*?)<\\/a>/g, '$2');\r\n    }\r\n\r\n}\r\n","<div id=\"fakebody\">\r\n    <div class=\"principal\">\r\n        <div id=\"caracterSelection\" class=\"caracterSelection\">\r\n            <label for=\"inputPersonnageChoix\">Selectionnez un personnage pour visionner ses objets</label>\r\n            <select id=\"inputPersonnageChoix\" class=\"form-control\" (change)=\"selectPersonnage()\" [(ngModel)]=\"this.idPersonnageSelectionne\">\r\n                <option *ngFor=\"let personnage of this.personnages\" [value]=\"personnage.idPersonnage\">\r\n                    {{personnage.idPersonnage}} - {{personnage.nom}}\r\n                </option>\r\n            </select>\r\n        </div>\r\n        <div style=\"width: 100%\">\r\n            <h3 *ngIf=\"this.currentPersonnage\"> {{currentPersonnage.nom}}</h3>\r\n        </div>\r\n        <div style=\"width: 100%\">\r\n            <div class=\"noms\">\r\n                <ng-container *ngFor=\"let objet of this.objetMinimisations\">\r\n                    <div class=\"nomObjet\">\r\n                        <div class=\"spinner_overlay\" *ngIf=\"this.updatingObjetName && this.updatingObjetID === objet.idObjet\">\r\n                            <app-spinner></app-spinner>\r\n                        </div>\r\n                        <button class=\"btn btn-danger\" (click)=\"this.selectObjet(objet.idObjet)\" [disabled]=\"this.updatingObjetName && this.updatingObjetID !== objet.idObjet\">\r\n                            <b>{{getNomSansBalise(objet.nom)}}</b><ng-container *ngIf=\"objet.fauxNom\"> <br/><i>{{objet.fauxNom}}</i></ng-container>\r\n                        </button>\r\n                    </div>\r\n                </ng-container>\r\n            </div>\r\n\r\n            <ng-container *ngIf=\"this.objetCourantID\">\r\n                <app-personnage-objet [personnageCourant]=\"currentPersonnage\" [personnages]=\"personnages\" [idObj]=\"this.objetCourantID\"\r\n                                      (changingObjet)=\"this.reloadObjetsNames($event)\"></app-personnage-objet>\r\n            </ng-container>\r\n\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n\r\n","export enum HttpMethods {\n    GET = 'GET',\n    POST = 'POST',\n    PUT = 'PUT',\n    DELETE = 'DELETE'\n}\n","import {Component, OnInit} from '@angular/core';\r\nimport {HttpClient} from '@angular/common/http';\r\nimport {FamilleAndMonstreService} from '../services/famille-and-monstre.service';\r\nimport {MonstreLootChanceService} from '../services/monstre-loot-chance.service';\r\nimport {ObjetSimpleComponent} from '../objets/objet-simple/objet-simple.component';\r\nimport {ArmesComponent} from '../objets/armes/armes.component';\r\nimport {ArmuresComponent} from '../objets/armures/armures.component';\r\nimport {ObjetService} from '../services/objet.service';\r\nimport {PersonnageService} from '../services/personnage.service';\r\nimport {MatDialog, MatDialogConfig} from '@angular/material/dialog';\r\nimport {Observable} from 'rxjs';\r\n\r\nexport interface SpecialResponse {\r\n    status: number;\r\n    status_message: string;\r\n    data: any;\r\n}\r\n\r\n\r\n@Component({\r\n    selector: 'app-loot-table',\r\n    templateUrl: './loot-table.component.html',\r\n    styleUrls: ['./loot-table.component.scss']\r\n})\r\nexport class LootTableComponent implements OnInit {\r\n\r\n    monstresGroupes: MonstreGroupe[];\r\n    monstreCourrant: Monstre;\r\n    monstreSelectionneLootChance: MonstreLootChanceBis[];\r\n    lootSelectionne: MonstreLootChanceBis;\r\n    lootPossible: Loot[] = [];\r\n    input1: number = null;\r\n    input2: number;\r\n    input3: number;\r\n    deDeDrop: number;\r\n    parametres: string[];\r\n    /* Paramètres en cas de double objet */\r\n    parametres2: string[];\r\n    /* Paramètres du deuxième objet en cas de double objet */\r\n    parametres3: string[];\r\n\r\n    armure: ArmuresComponent;\r\n    arme: ArmesComponent;\r\n    objetSimple: ObjetSimpleComponent;\r\n\r\n    personnages: Personnage[];\r\n    personnageCourant: Personnage;\r\n    idPersonnageSelectionne = 0;\r\n\r\n\r\n    ngOnInit(): void {\r\n        this.chargerFamilles(this.http);\r\n        this.monstreLootChance.getLootPossibles(this.http).then(\r\n            (data: any) => {\r\n                const response: SpecialResponse = JSON.parse(data) as SpecialResponse;\r\n                this.lootPossible = response.data as Loot[];\r\n            }\r\n        );\r\n        this.personnageService.getAllPersonnages(this.http, false).then(\r\n            (data: any) => {\r\n                console.log(data);\r\n                const response = data as SpecialResponse;\r\n                this.personnages = response.data as Personnage[];\r\n            }\r\n        );\r\n    }\r\n\r\n    constructor(private http: HttpClient,\r\n                private familleMonstre: FamilleAndMonstreService,\r\n                private monstreLootChance: MonstreLootChanceService,\r\n                private objetService: ObjetService,\r\n                private personnageService: PersonnageService,\r\n                public dialog: MatDialog) {\r\n    }\r\n\r\n    openDialog(): Observable<boolean> {\r\n        const dialogConfig = new MatDialogConfig();\r\n        dialogConfig.disableClose = true;\r\n        dialogConfig.autoFocus = true;\r\n        dialogConfig.hasBackdrop = true;\r\n        const dialogRef = this.dialog.open(DialogContentDialogComponent, dialogConfig);\r\n\r\n        return dialogRef.afterClosed();\r\n    }\r\n\r\n    public chargerFamilles(http: HttpClient) {\r\n        this.monstresGroupes = this.familleMonstre.chargerFamillesAvecMonstres(http);\r\n    }\r\n\r\n    public chargerMonstreLootChance() {\r\n        this.monstreSelectionneLootChance = [];\r\n        this.monstreLootChance.getMonstreLootChanceBis(this.http, this.monstreCourrant.idMonstre).then(\r\n            (data: any) => {\r\n                const response: SpecialResponse = JSON.parse(data) as SpecialResponse;\r\n                this.monstreSelectionneLootChance = response.data as MonstreLootChanceBis[];\r\n            });\r\n    }\r\n\r\n    selectionMonstre($event: Monstre) {\r\n        this.monstreCourrant = $event;\r\n        this.monstreSelectionneLootChance = [];\r\n        this.chargerMonstreLootChance();\r\n    }\r\n\r\n    selectionLoot(event: any) {\r\n        if (+event.target.value > 20) {\r\n            event.target.value = 20;\r\n        } else if (+event.target.value < 0) {\r\n            event.target.value = 0;\r\n        } else if (isNaN(event.target.value)) {\r\n            event.target.value = null;\r\n            this.deDeDrop = null;\r\n        }\r\n        // this.deDeDrop = +event.target.value;\r\n        this.lootSelectionne = this.monstreSelectionneLootChance.filter(lc => +lc.roll === this.deDeDrop)[0];\r\n    }\r\n\r\n    selectPersonnage() {\r\n        if (+this.idPersonnageSelectionne !== 0) {\r\n            this.personnageCourant = this.personnages.find(f => f.idPersonnage === +this.idPersonnageSelectionne);\r\n        }\r\n    }\r\n\r\n    public isObjet(): boolean {\r\n        // this.setParametres();\r\n        return this.lootSelectionne && (this.lootSelectionne.idLoot === 6 || this.isObjetMaudit());\r\n    }\r\n\r\n    public isObjetMaudit(): boolean {\r\n        return this.lootSelectionne && (this.lootSelectionne.idLoot === 1);\r\n    }\r\n\r\n    public isDoubleObjet() {\r\n        return this.input1 >= 71 && this.input1 <= 80;\r\n    }\r\n\r\n    public isRecompenseValide(): boolean {\r\n        if (!(this.deDeDrop && this.lootSelectionne)) {\r\n            return false;\r\n        }\r\n        switch (+this.lootSelectionne.idLoot) {\r\n            case 2:\r\n            case 3:\r\n            case 4:\r\n            case 5:\r\n                return this.input1 != null;\r\n        }\r\n    }\r\n\r\n    public getRecompense() {\r\n        switch (this.lootSelectionne.idLoot) {\r\n            case 2:\r\n                return 'Vous avez gagné ' + this.getRecompenseValue() + ' pièces de cuivre.';\r\n            case 3:\r\n                return 'Vous avez gagné ' + this.getRecompenseValue() + ' pièces d\\'argent.';\r\n            case 4:\r\n                return 'Vous avez gagné ' + this.getRecompenseValue() + ' pièces d\\'or.';\r\n            case 5:\r\n                return 'Vous avez gagné ' + this.getRecompenseValue() + ' pièces d\\'or.';\r\n        }\r\n    }\r\n\r\n    public getRecompenseValue() {\r\n        switch (this.lootSelectionne.idLoot) {\r\n            case 2:\r\n            case 3:\r\n            case 4:\r\n            case 5:\r\n                return this.input1 * this.lootSelectionne.multiplier;\r\n        }\r\n    }\r\n\r\n    lootSelectionneNom(): string {\r\n        return this.lootPossible.filter(lp => lp.idLoot === this.lootSelectionne.idLoot)[0].libelle;\r\n    }\r\n\r\n    isMe(objet: string) {\r\n        if (objet === 'simple' && this.input1 && this.input1 <= 20) {\r\n            this.parametres = ['Ceci sera un anneau', 'Dead Anno', 'Anneau', 'magique', 'anneauxMagiques'];\r\n            return true;\r\n        } else if (objet === 'armes' && this.input1 >= 21 && this.input1 <= 35) {\r\n            return true;\r\n        } else if (objet === 'armures' && this.input1 >= 36 && this.input1 <= 50) {\r\n            return true;\r\n        } else if (objet === 'simple' && this.input1 >= 51 && this.input1 <= 60) {\r\n            this.parametres = ['Ceci est un bâton', 'Débat thon', 'Bâton', 'magique', 'batons'];\r\n            return true;\r\n        } else if (objet === 'simple' && this.input1 >= 61 && this.input1 <= 70) {\r\n            this.parametres = ['Ceci est un sceptre', 'Dé septentrional', 'Sceptre', 'magique', 'sceptres'];\r\n            return true;\r\n        } else if (objet === 'objets' && this.input1 >= 71 && this.input1 <= 80) {\r\n            return true;\r\n        } else if (objet === 'simple' && this.input1 >= 81 && this.input1 <= 100) {\r\n            this.parametres = ['Ceci est un objet merveilleux', 'Demer veille eux', 'Objet merveileux', 'magique', 'objetsMerveilleux'];\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    setParametres() {\r\n        if (this.input1 && this.input1 <= 20) {\r\n            this.parametres = ['Ceci sera un anneau', 'Dead Anno', 'Anneau', 'magique', 'anneauxMagiques'];\r\n        } else if (this.input1 >= 51 && this.input1 <= 60) {\r\n            this.parametres = ['Ceci est un bâton', 'Débat thon', 'Bâton', 'magique', 'batons'];\r\n        } else if (this.input1 >= 61 && this.input1 <= 70) {\r\n            this.parametres = ['Ceci est un sceptre', 'Dé septentrional', 'Sceptre', 'magique', 'sceptres'];\r\n        } else if (this.input1 >= 81 && this.input1 <= 100) {\r\n            this.parametres = ['Ceci est un objet merveilleux', 'Demer veille eux', 'Objet merveileux', 'magique', 'objetsMerveilleux'];\r\n        }\r\n    }\r\n\r\n    isMeReduced(objet: string, isInput2: boolean) {\r\n        let input;\r\n        let parameter = null;\r\n        let hasToBeTrue = false;\r\n        if (isInput2) {\r\n            input = this.input2;\r\n        } else {\r\n            input = this.input3;\r\n        }\r\n        if (objet === 'simple' && input && input <= 20) {\r\n            parameter = ['Ceci sera un anneau', 'Dead Anno', 'Anneau', 'magique', 'anneauxMagiques'];\r\n            hasToBeTrue = true;\r\n        } else if (objet === 'armes' && input >= 21 && input <= 35) {\r\n            hasToBeTrue = true;\r\n        } else if (objet === 'armures' && input >= 36 && input <= 50) {\r\n            hasToBeTrue = true;\r\n        } else if (objet === 'simple' && input >= 51 && input <= 65) {\r\n            parameter = ['Ceci est un bâton', 'Débat thon', 'Bâton', 'magique', 'batons'];\r\n            hasToBeTrue = true;\r\n        } else if (objet === 'simple' && input >= 65 && input <= 80) {\r\n            parameter = ['Ceci est un sceptre', 'Dé septentrional', 'Sceptre', 'magique', 'sceptres'];\r\n            hasToBeTrue = true;\r\n        } else if (objet === 'simple' && input >= 81 && input <= 100) {\r\n            parameter = ['Ceci est un objet merveilleux', 'Demer veille eux', 'Objet merveileux', 'magique', 'objetsMerveilleux'];\r\n            hasToBeTrue = true;\r\n        }\r\n        if (isInput2) {\r\n            this.parametres2 = parameter;\r\n        } else {\r\n            this.parametres3 = parameter;\r\n        }\r\n        return hasToBeTrue;\r\n    }\r\n\r\n    getObjetSimple($event: ObjetSimpleComponent) {\r\n        if ($event) {\r\n            this.armure = null;\r\n            this.arme = null;\r\n            this.objetSimple = $event;\r\n\r\n            this.checkPersonnageAndSendObjet(this.objetSimple.castToObjetCommunForDB(this.idPersonnageSelectionne));\r\n        }\r\n    }\r\n\r\n    getArme($event: ArmesComponent) {\r\n        this.armure = null;\r\n        this.arme = $event;\r\n        this.objetSimple = null;\r\n\r\n        this.checkPersonnageAndSendObjet(this.arme.castToObjetCommunForDB(this.idPersonnageSelectionne));\r\n    }\r\n\r\n    getArmure($event: ArmuresComponent) {\r\n        this.armure = $event;\r\n        this.arme = null;\r\n        this.objetSimple = null;\r\n\r\n        this.checkPersonnageAndSendObjet(this.armure.castToObjetCommunForDB(this.idPersonnageSelectionne));\r\n    }\r\n\r\n    checkPersonnageAndSendObjet(objetCommunDB: ObjetCommunForDB) {\r\n        console.log(this.idPersonnageSelectionne);\r\n        if (this.idPersonnageSelectionne === 0 || !this.idPersonnageSelectionne) {\r\n            this.openDialog().subscribe(result => {\r\n                console.log(`Dialog result: ${result}`);\r\n                if (result) {\r\n                    this.sendObjet(objetCommunDB);\r\n                }\r\n            });\r\n        } else {\r\n            this.sendObjet(objetCommunDB);\r\n        }\r\n    }\r\n\r\n    sendObjet(objetCommunDB: ObjetCommunForDB) {\r\n        // On fait l'ajout de l'objet, puis de la propriété magique, puis des tables, puis des ul.\r\n        // Car sinon, il y a trop de données, et on a une erreur :\r\n        // CORS policy: No 'Access-Control-Allow-Origin' header is present on the requested resource\r\n        const objetCommunDBModified: ObjetCommunForDB = JSON.parse(JSON.stringify(objetCommunDB)) as ObjetCommunForDB;\r\n        objetCommunDBModified.proprieteMagique = null;\r\n        this.objetService.envoyerObjetComplet(this.http, 'POST', null, objetCommunDBModified).then(\r\n            (dataObjet: any) => {\r\n                console.log(dataObjet);\r\n                const response = JSON.parse(dataObjet) as SpecialResponse;\r\n                const objet: ObjetCommunForDB = response.data as ObjetCommunForDB;\r\n                const idObjet = objet.idObjet;\r\n                console.log(idObjet);\r\n                // this.ajouterMateriau(idObjet, this.armure.materiau);\r\n                // this.ajouterMalediction(idObjet, this.armure.malediction);\r\n                // Obligé de faire comme ça, alors que tout d'un coup marche, sinon erreur ... cf : voir au dessus\r\n                this.ajouterProprietesMagiques(idObjet, objetCommunDB.proprieteMagique);\r\n            }\r\n        );\r\n    }\r\n\r\n    ajouterProprietesMagiques(idObjet: number, proprietesMagiques: MagicalProperty[]) {\r\n        for (const proprieteMagique of proprietesMagiques) {\r\n            this.objetService.envoyerEffetMagique(this.http, 'POST', idObjet, proprieteMagique).then(\r\n                (data: any) => {\r\n                    console.log(data);\r\n                }\r\n            );\r\n        }\r\n    }\r\n}\r\n\r\n@Component({\r\n    selector: 'app-dialog-content-dialog',\r\n    template: '<h2 mat-dialog-title>Validation</h2>\\n' +\r\n        '<mat-dialog-content class=\"mat-typography\">\\n' +\r\n        '  <h3>Personnage sélectionné vide</h3>\\n' +\r\n        '  <p>Aucune personnage sélectionné. Êtes-vous sûr de ce choix ?</p>\\n' +\r\n        '</mat-dialog-content>\\n' +\r\n        '<mat-dialog-actions align=\"end\">\\n' +\r\n        '  <button class=\"btn btn-danger btn-validation-dialog\" [mat-dialog-close]=\"false\">Annuler</button>\\n' +\r\n        '  <button class=\"btn btn-success btn-validation-dialog\" [mat-dialog-close]=\"true\" cdkFocusInitial>Valider</button>\\n' +\r\n        '</mat-dialog-actions>',\r\n    styles: ['.btn-validation-dialog { background: transparent; margin-right: 5px; color: black; }'],\r\n})\r\nexport class DialogContentDialogComponent {}\r\n","<div id=\"fakebody\">\r\n    <div class=\"principal\">\r\n        <div id=\"monstreSelection\" class=\"monstreSelection\">\r\n            <h3>Selectionnez un monstre</h3>\r\n            <app-autocomplete-groupe (monstreEventEmitter)=\"selectionMonstre($event)\"\r\n                                     [monsterGroupes]=\"monstresGroupes\">\r\n                loading\r\n            </app-autocomplete-groupe>\r\n        </div>\r\n        <div style=\"width: 100%\">\r\n            <h3 *ngIf=\"monstreCourrant\"> {{monstreCourrant.libelle}}</h3>\r\n            <form class=\"needs-validation\" id=\"looTableForm\">\r\n                <div class=\"form-row\">\r\n                    <div class=\"col-md-2 mb-3\" *ngIf=\"monstreCourrant\">\r\n                        <label for=\"DedeDrop\">Dé de drop\r\n                        </label>\r\n                        <input min=\"1\" max=\"20\" type=\"number\" class=\"form-control\" id=\"DedeDrop\"\r\n                               name=\"DedeDrop\"\r\n                               placeholder=\"Dé de drop\"\r\n                               [(ngModel)]=\"this.deDeDrop\"\r\n                               (keyup)=\"selectionLoot($event)\"\r\n                               required>\r\n                    </div>\r\n\r\n                    <div class=\"col-md-2 mb-3\"\r\n                         *ngIf=\"deDeDrop && this.lootSelectionne\">\r\n                        <label for=\"validationInput1\"> {{this.lootSelectionneNom()}}\r\n                            : {{this.lootSelectionne.diceNumber}}D{{this.lootSelectionne.dicePower}} </label>\r\n                        <input min=\"1\" max=\"{{this.lootSelectionne.dicePower}}\" type=\"number\" class=\"form-control\"\r\n                               id=\"validationInput1\"\r\n                               name=\"validationInput1\"\r\n                               placeholder=\"{{this.lootSelectionneNom()}}\"\r\n                               [(ngModel)]=\"this.input1\" required>\r\n                    </div>\r\n\r\n                </div>\r\n            </form>\r\n        </div>\r\n        <hr style=\"width: 75%; background-color: lightgrey; margin-left: 0; height : 1px\" *ngIf=\"isRecompenseValide()\">\r\n        <div style=\"width: 100%\" *ngIf=\"isRecompenseValide()\">\r\n            <h3>Récompense</h3>\r\n            <p>{{this.getRecompense()}}</p>\r\n        </div>\r\n        <div *ngIf=\"(deDeDrop && this.isObjet() && this.input1) && !this.isDoubleObjet()\" style=\"width: 100%\">\r\n            <app-armes *ngIf=\"isMe('armes')\" [maudit]=\"this.isObjetMaudit()\" (armeEventEmitter)=\"this.getArme($event)\"></app-armes>\r\n            <app-armures *ngIf=\"isMe('armures')\" [maudit]=\"this.isObjetMaudit()\" (armureEventEmitter)=\"this.getArmure($event)\"></app-armures>\r\n            <app-objet-simple *ngIf=\"isMe('simple')\" [parametres]=\"this.parametres\" [maudit]=\"this.isObjetMaudit()\" (objetSimpleEventEmitter)=\"this.getObjetSimple($event)\"></app-objet-simple>\r\n        </div>\r\n        <div *ngIf=\"this.isDoubleObjet()\" style=\"width: 100%\">\r\n            <div class=\"col-md-2 mb-3\">\r\n                <label for=\"validationInput2\"> Objet1\r\n                    : {{this.lootSelectionne.diceNumber}}D{{this.lootSelectionne.dicePower}} </label>\r\n                <input min=\"1\" max=\"{{this.lootSelectionne.dicePower}}\" type=\"number\" class=\"form-control\"\r\n                       id=\"validationInput2\"\r\n                       name=\"validationInput2\"\r\n                       placeholder=\"Objet1\"\r\n                       [(ngModel)]=\"this.input2\" required>\r\n            </div>\r\n            <div *ngIf=\"this.isDoubleObjet() && this.input2\" style=\"width: 100%\">\r\n                <app-armes *ngIf=\"isMeReduced('armes', true)\" [maudit]=\"false\" (armeEventEmitter)=\"this.getArme($event)\"></app-armes>\r\n                <app-armures *ngIf=\"isMeReduced('armures', true)\" [maudit]=\"false\" (armureEventEmitter)=\"this.getArmure($event)\"></app-armures>\r\n                <app-objet-simple *ngIf=\"isMeReduced('simple', true)\" [parametres]=\"this.parametres2\" [maudit]=\"this.isObjetMaudit()\" (objetSimpleEventEmitter)=\"this.getObjetSimple($event)\"></app-objet-simple>\r\n            </div>\r\n\r\n            <hr style=\"width: 50%; background-color: lightgrey; margin-left: 0; height : 1px\">\r\n\r\n            <div class=\"col-md-2 mb-3\"\r\n                 *ngIf=\"deDeDrop && this.lootSelectionne\">\r\n                <label for=\"validationInput3\"> Objet2\r\n                    : {{this.lootSelectionne.diceNumber}}D{{this.lootSelectionne.dicePower}} </label>\r\n                <input min=\"1\" max=\"{{this.lootSelectionne.dicePower}}\" type=\"number\" class=\"form-control\"\r\n                       id=\"validationInput3\"\r\n                       name=\"validationInput3\"\r\n                       placeholder=\"Objet2\"\r\n                       [(ngModel)]=\"this.input3\" required>\r\n            </div>\r\n\r\n            <div *ngIf=\"this.isDoubleObjet() && this.input3\" style=\"width: 100%\">\r\n                <app-armes *ngIf=\"isMeReduced('armes', false)\" [maudit]=\"false\" (armeEventEmitter)=\"this.getArme($event)\"></app-armes>\r\n                <app-armures *ngIf=\"isMeReduced('armures', false)\" [maudit]=\"false\" (armureEventEmitter)=\"this.getArmure($event)\"></app-armures>\r\n                <app-objet-simple *ngIf=\"isMeReduced('simple', false)\" [parametres]=\"this.parametres3\" [maudit]=\"this.isObjetMaudit()\" (objetSimpleEventEmitter)=\"this.getObjetSimple($event)\"></app-objet-simple>\r\n            </div>\r\n        </div>\r\n\r\n        <div id=\"caracterSelection\" *ngIf=\"this.input1\">\r\n            <label for=\"inputPersonnageChoix\">Selectionnez un personnage à qui attribuer le drop</label>\r\n            <select id=\"inputPersonnageChoix\" class=\"form-control\" (change)=\"selectPersonnage()\"\r\n                    [(ngModel)]=\"this.idPersonnageSelectionne\">\r\n                <option *ngFor=\"let personnage of this.personnages\" [ngValue]=\"+personnage.idPersonnage\"\r\n                [selected]=\"+personnage.idPersonnage === 0\">\r\n                    {{personnage.idPersonnage}} - {{personnage.nom}}\r\n                </option>\r\n            </select>\r\n        </div>\r\n\r\n    </div>\r\n</div>\r\n\r\n\r\n\r\n","import {NgModule} from '@angular/core';\r\nimport {MatToolbarModule} from '@angular/material/toolbar';\r\nimport {MatButtonToggleModule} from '@angular/material/button-toggle';\r\nimport {MatTreeModule} from '@angular/material/tree';\r\nimport {MatProgressBarModule} from '@angular/material/progress-bar';\r\nimport {MatSlideToggleModule} from '@angular/material/slide-toggle';\r\nimport {ScrollingModule} from '@angular/cdk/scrolling';\r\nimport {MatPaginatorModule} from '@angular/material/paginator';\r\nimport {MatInputModule} from '@angular/material/input';\r\nimport {MatExpansionModule} from '@angular/material/expansion';\r\nimport {MatDatepickerModule} from '@angular/material/datepicker';\r\nimport {MatSnackBarModule} from '@angular/material/snack-bar';\r\nimport {OverlayModule} from '@angular/cdk/overlay';\r\nimport {MatMenuModule} from '@angular/material/menu';\r\nimport {MatGridListModule} from '@angular/material/grid-list';\r\nimport {MatSortModule} from '@angular/material/sort';\r\nimport {MatAutocompleteModule} from '@angular/material/autocomplete';\r\nimport {MatCheckboxModule} from '@angular/material/checkbox';\r\nimport {MatTableModule} from '@angular/material/table';\r\nimport {CdkStepperModule} from '@angular/cdk/stepper';\r\nimport {MatCardModule} from '@angular/material/card';\r\nimport {MatTabsModule} from '@angular/material/tabs';\r\nimport {MatTooltipModule} from '@angular/material/tooltip';\r\nimport {MatButtonModule} from '@angular/material/button';\r\nimport {A11yModule} from '@angular/cdk/a11y';\r\nimport {PortalModule} from '@angular/cdk/portal';\r\nimport {CdkTableModule} from '@angular/cdk/table';\r\nimport {CdkTreeModule} from '@angular/cdk/tree';\r\nimport {MatSelectModule} from '@angular/material/select';\r\nimport {MatIconModule} from '@angular/material/icon';\r\nimport {MatListModule} from '@angular/material/list';\r\nimport {MatStepperModule} from '@angular/material/stepper';\r\nimport {MatSidenavModule} from '@angular/material/sidenav';\r\nimport {MatProgressSpinnerModule} from '@angular/material/progress-spinner';\r\nimport {MatRadioModule} from '@angular/material/radio';\r\nimport {ClipboardModule} from '@angular/cdk/clipboard';\r\nimport {MatChipsModule} from '@angular/material/chips';\r\nimport {MatNativeDateModule, MatRippleModule} from '@angular/material/core';\r\nimport {MatSliderModule} from '@angular/material/slider';\r\nimport {DragDropModule} from '@angular/cdk/drag-drop';\r\nimport {MatBadgeModule} from '@angular/material/badge';\r\nimport {MatBottomSheetModule} from '@angular/material/bottom-sheet';\r\nimport {MatDialogModule} from '@angular/material/dialog';\r\nimport {MatDividerModule} from '@angular/material/divider';\r\n\r\n\r\n@NgModule({\r\n  exports: [\r\n    A11yModule,\r\n    ClipboardModule,\r\n    CdkStepperModule,\r\n    CdkTableModule,\r\n    CdkTreeModule,\r\n    DragDropModule,\r\n    MatAutocompleteModule,\r\n    MatBadgeModule,\r\n    MatBottomSheetModule,\r\n    MatButtonModule,\r\n    MatButtonToggleModule,\r\n    MatCardModule,\r\n    MatCheckboxModule,\r\n    MatChipsModule,\r\n    MatStepperModule,\r\n    MatDatepickerModule,\r\n    MatDialogModule,\r\n    MatDividerModule,\r\n    MatExpansionModule,\r\n    MatGridListModule,\r\n    MatIconModule,\r\n    MatInputModule,\r\n    MatListModule,\r\n    MatMenuModule,\r\n    MatNativeDateModule,\r\n    MatPaginatorModule,\r\n    MatProgressBarModule,\r\n    MatProgressSpinnerModule,\r\n    MatRadioModule,\r\n    MatRippleModule,\r\n    MatSelectModule,\r\n    MatSidenavModule,\r\n    MatSliderModule,\r\n    MatSlideToggleModule,\r\n    MatSnackBarModule,\r\n    MatSortModule,\r\n    MatTableModule,\r\n    MatTabsModule,\r\n    MatToolbarModule,\r\n    MatTooltipModule,\r\n    MatTreeModule,\r\n    OverlayModule,\r\n    PortalModule,\r\n    ScrollingModule,\r\n  ]\r\n})\r\n\r\nexport class DemoMaterialModule {}\r\n","import {Component, EventEmitter, Input, OnInit, Output, ViewChild} from '@angular/core';\r\nimport {JSonLoadService} from '../../services/json-load.service';\r\nimport {ObjetCombat} from '../objet-combat';\r\nimport {MaledictionsComponent} from '../maledictions/maledictions.component';\r\n\r\n@Component({\r\n    selector: 'app-armes',\r\n    templateUrl: './armes.component.html',\r\n    styleUrls: ['./armes.component.scss']\r\n})\r\nexport class ArmesComponent extends ObjetCombat implements OnInit {\r\n\r\n    @Output() armeEventEmitter = new EventEmitter<ArmesComponent>();\r\n    @ViewChild('maledictionsComponent') maledictionComponent: MaledictionsComponent;\r\n    @Input() maudit: boolean;\r\n\r\n    allArmesSpeciales: SortedMagicalProperty;\r\n\r\n    arme: Arme;\r\n    taille: DegatsParTaille;\r\n    degats: string;\r\n\r\n    allArmeCourantes: CategoriesArmes;\r\n    allArmesGuerre: CategoriesArmes;\r\n    allArmesExotiques: CategoriesArmes;\r\n    allCategoriesCourante: CategoriesArmes;\r\n\r\n    constructor(private jsonService: JSonLoadService) {\r\n        super(jsonService);\r\n    }\r\n\r\n    ngOnInit(): void {\r\n        this.jsonService.getJSON('magique', 'effetsMagiquesArmes').then(\r\n            (effetsMagiquesArmes: any) => {\r\n                this.allProprietesMagiques = JSON.parse(effetsMagiquesArmes) as SortedMagicalProperty;\r\n                this.jsonService.getJSON('magique', 'armesSpeciales').then(\r\n                    (armesSpeciales: any) => {\r\n                        this.allArmesSpeciales = JSON.parse(armesSpeciales) as SortedMagicalProperty;\r\n                    }\r\n                );\r\n            }\r\n        );\r\n        this.jsonService.getJSON('objets/classique', 'armesCourantes').then(\r\n            (armesCourantes: any) => {\r\n                this.allArmeCourantes = JSON.parse(armesCourantes) as CategoriesArmes;\r\n            }\r\n        );\r\n        this.jsonService.getJSON('objets/classique', 'armesGuerre').then(\r\n            (armesCourantes: any) => {\r\n                this.allArmesGuerre = JSON.parse(armesCourantes) as CategoriesArmes;\r\n            }\r\n        );\r\n        this.jsonService.getJSON('objets/classique', 'armesExotiques').then(\r\n            (armesCourantes: any) => {\r\n                this.allArmesExotiques = JSON.parse(armesCourantes) as CategoriesArmes;\r\n            }\r\n        );\r\n        this.getArrayPourNbProprieteMagique();\r\n    }\r\n\r\n    setBonusArme() {\r\n        this.reset();\r\n        this.isSpecial = false;\r\n        this.isMagique = false;\r\n        this.deSpecial = undefined;\r\n        this.deProprieteMagique = undefined;\r\n        this.deType = undefined;\r\n        this.bonus = undefined;\r\n        switch (this.dePuissance) {\r\n            case 1:\r\n                if (this.deBonus && this.deBonus <= 70) {\r\n                    this.bonus = 1;\r\n                } else if (this.deBonus > 70 && this.deBonus <= 85) {\r\n                    this.bonus = 2;\r\n                } else if (this.deBonus > 85 && this.deBonus <= 90) {\r\n                    this.bonus = 0;\r\n                    this.isSpecial = true;\r\n                } else if (this.deBonus > 90 && this.deBonus <= 100) {\r\n                    this.bonus = 1;\r\n                    this.isMagique = true;\r\n                }\r\n                break;\r\n            case 2:\r\n                if (this.deBonus && this.deBonus <= 10) {\r\n                    this.bonus = 1;\r\n                } else if (this.deBonus > 10 && this.deBonus <= 29) {\r\n                    this.bonus = 2;\r\n                } else if (this.deBonus > 29 && this.deBonus <= 58) {\r\n                    this.bonus = 3;\r\n                } else if (this.deBonus > 58 && this.deBonus <= 62) {\r\n                    this.bonus = 4;\r\n                } else if (this.deBonus > 62 && this.deBonus <= 68) {\r\n                    this.bonus = 0;\r\n                    this.isSpecial = true;\r\n                } else if (this.deBonus > 68 && this.deBonus <= 100) {\r\n                    this.bonus = 1;\r\n                    this.isMagique = true;\r\n                }\r\n                break;\r\n            case 3:\r\n                if (this.deBonus && this.deBonus <= 20) {\r\n                    this.bonus = 3;\r\n                } else if (this.deBonus > 20 && this.deBonus <= 38) {\r\n                    this.bonus = 4;\r\n                } else if (this.deBonus > 38 && this.deBonus <= 49) {\r\n                    this.bonus = 5;\r\n                } else if (this.deBonus > 49 && this.deBonus <= 63) {\r\n                    this.bonus = 0;\r\n                    this.isSpecial = true;\r\n                } else if (this.deBonus > 63 && this.deBonus <= 100) {\r\n                    this.bonus = 1;\r\n                    this.isMagique = true;\r\n                }\r\n                break;\r\n        }\r\n        if (!this.isSpecial && this.categorieObjet) {\r\n            this.arme = JSON.parse(JSON.stringify(\r\n                this.allCategoriesCourante.Categories.find(f => f.title === this.categorieObjet).armes[this.deObjet - 1])) as Arme;\r\n            this.setNom();\r\n            this.setType();\r\n        } else {\r\n            this.type = null;\r\n            this.nom = null;\r\n        }\r\n    }\r\n\r\n    getArmeSpeciale() {\r\n        this.deProprieteMagique = undefined;\r\n        this.deType = undefined;\r\n        this.nom = undefined;\r\n        this.reset();\r\n        if (this.deSpecial && this.deSpecial <= this.getNbProprietesMagiques(this.allArmesSpeciales)) {\r\n            const armeSpecial: MagicalProperty = JSON.parse(JSON.stringify(\r\n                this.getProprietesMagiques(this.allArmesSpeciales)[this.deSpecial - 1])) as MagicalProperty;\r\n            this.setType();\r\n            this.bonus = 0;\r\n            this.proprietesMagiques.push(armeSpecial);\r\n            this.nom = armeSpecial.title;\r\n            this.getPrixAndCurrency();\r\n        }\r\n        this.deNombreProprietesMagiques = 1;\r\n        this.getArrayPourNbProprieteMagique();\r\n    }\r\n\r\n    getPrixFromBonus() {\r\n        switch (this.bonus) {\r\n            case 1:\r\n                this.prix = 2000;\r\n                break;\r\n            case 2:\r\n                this.prix = 8000;\r\n                break;\r\n            case 3:\r\n                this.prix = 18000;\r\n                break;\r\n            case 4:\r\n                this.prix = 32000;\r\n                break;\r\n            case 5:\r\n                this.prix = 50000;\r\n                break;\r\n        }\r\n    }\r\n\r\n    setArme() {\r\n        this.resetHard();\r\n        if (!this.isSpecial) {\r\n            if (this.deObjet) {\r\n                this.arme = JSON.parse(JSON.stringify(\r\n                    this.allCategoriesCourante.Categories.find(f => f.title === this.categorieObjet).armes[this.deObjet - 1])) as Arme;\r\n                this.setType();\r\n                this.setNom();\r\n            }\r\n        } else {\r\n            this.type = null;\r\n            this.nom = null;\r\n        }\r\n    }\r\n\r\n    getNbArme() {\r\n        return this.allCategoriesCourante.Categories.find(f => f.title === this.categorieObjet).armes.length;\r\n    }\r\n\r\n    setAllArmesCourantes() {\r\n        this.deObjet = null;\r\n        this.allCategoriesCourante = null;\r\n        if (+this.Categories === 1) {\r\n            this.allCategoriesCourante = this.allArmeCourantes;\r\n        } else if (+this.Categories === 2) {\r\n            this.allCategoriesCourante = this.allArmesGuerre;\r\n        } else if (+this.Categories === 3) {\r\n            this.allCategoriesCourante = this.allArmesExotiques;\r\n        }\r\n    }\r\n\r\n    allCategoriesLoaded() {\r\n        return !!(this.allArmeCourantes && this.allArmesExotiques && this.allArmesGuerre);\r\n    }\r\n\r\n    setTaille() {\r\n        this.taille = JSON.parse(JSON.stringify(this.arme.degatsParTaille.find(f => f.taille === this.nomTaille))) as DegatsParTaille;\r\n        this.getDegats();\r\n        this.setNom();\r\n    }\r\n\r\n    getNomsTailles() {\r\n        return this.arme.degatsParTaille.map(f => f.taille);\r\n    }\r\n\r\n    getTailles() {\r\n        return this.arme.degatsParTaille;\r\n    }\r\n\r\n    getDegats() {\r\n        this.degats = this.taille.degats === '-' ? '1d0'\r\n            : this.taille.degats === '1' ? '1d1'\r\n                : this.taille.degats;\r\n    }\r\n\r\n    getNbTailleArme() {\r\n        // console.log(this.arme);\r\n        return this.arme.degatsParTaille.length;\r\n    }\r\n\r\n    setMateriau() {\r\n        this.materiau = JSON.parse(JSON.stringify(\r\n            this.arme.autresMateriaux.find(f => f.nom.replace(/<a.*>(.*)<\\/a>/, '$1') === this.nomMateriau))) as Materiau;\r\n        this.setNom();\r\n    }\r\n\r\n    getNomsMateriaux() {\r\n        return this.arme.autresMateriaux.map(f => f.nom.replace(/<a.*>(.*)<\\/a>/, '$1'));\r\n    }\r\n\r\n    getMateriaux() {\r\n        return this.arme.autresMateriaux;\r\n    }\r\n\r\n    getNbMateriaux() {\r\n        return this.arme.autresMateriaux.length;\r\n    }\r\n\r\n    setNom() {\r\n        if (this.arme) {\r\n            this.nom = this.arme.nom;\r\n        }\r\n        if (this.taille) {\r\n            this.nom += ' ' + this.taille.taille;\r\n        }\r\n        if (this.materiau) {\r\n            this.nom += ' en ' + this.materiau.nom;\r\n        }\r\n        this.nom += ' ' + this.getNomsProprieteMagique();\r\n        // console.log(this.nom);\r\n    }\r\n\r\n    setType() {\r\n        this.type = this.isSpecial ? 'Arme spéciale' : this.categorieObjet;\r\n    }\r\n\r\n    resetHard() {\r\n        super.resetHard();\r\n        this.taille = undefined;\r\n    }\r\n\r\n    resetContenu() {\r\n        super.resetContenu();\r\n        this.getDegats();\r\n        this.setMateriau();\r\n        this.setTaille();\r\n        this.setType();\r\n    }\r\n\r\n    selection() {\r\n        super.selection();\r\n        this.armeEventEmitter.emit(this);\r\n    }\r\n\r\n    deselection() {\r\n        this.valide = false;\r\n        this.armeEventEmitter.emit(null);\r\n    }\r\n\r\n    castToObjetCommunForDB(idPersonnageSelectionnee: number = 0): ObjetCommunForDB {\r\n        const maledictionToAdd = this.getMalediction();\r\n        let values: ObjetCommunForDB;\r\n        values = {\r\n            idObjet: null,\r\n            idPersonnage: idPersonnageSelectionnee,\r\n            nom: this.nom,\r\n            fauxNom: this.fauxNom,\r\n            bonus: this.bonus,\r\n            type: this.type,\r\n            prix: this.prix + this.prixProprieteMagique,\r\n            prixNonHumanoide: null,\r\n            devise: this.currencyType,\r\n            proprieteMagique: this.proprietesMagiques,\r\n            malediction: maledictionToAdd,\r\n            categorie: this.categorieObjet,\r\n            materiau: this.materiau,\r\n            taille: this.taille.taille,\r\n            degats: this.degats,\r\n            critique: this.arme.critique,\r\n            facteurPortee: this.arme.facteurPortee,\r\n            armure: null,\r\n            bonusDexteriteMax: null,\r\n            malusArmureTests: null,\r\n            risqueEchecSorts: null,\r\n            afficherNom: this.afficherNom,\r\n            afficherEffetMagique: this.afficherEffetMagique,\r\n            afficherMalediction: this.afficherMalediction,\r\n            afficherMateriau: this.afficherMateriau,\r\n            afficherInfos: this.afficherInfos,\r\n        } as ObjetCommunForDB;\r\n\r\n        return values;\r\n    }\r\n\r\n    public getAllMagiques() {\r\n        return this.isSpecial ? this.allArmesSpeciales : this.allProprietesMagiques;\r\n    }\r\n}\r\n","<app-maledictions *ngIf=\"this.maudit\" #maledictionsComponent\r\n                  (maledictionEventEmitter)=\"selectionMalediction($event)\"></app-maledictions>\r\n\r\n<div style=\"width: 100%\" class=\"objetArme\">\r\n    <div class=\"titleTop\">\r\n        <div class=\"h1Fake\">Ceci est une arme</div>\r\n        <div class=\"validationAffichage\">\r\n            <div class=\"validationBox\" (click)=\"this.changeValidation('nom')\" [ngClass]=\"{'validatedBox' : this.afficherNom}\"\r\n                 data-toggle=\"tooltip\" data-placement=\"bottom\" matTooltip=\"Afficher le nom réel de l'objet\">{{this.afficherNom ? 1 : 0}}</div>\r\n            <div class=\"validationBox\" (click)=\"this.changeValidation('effetMagique')\" [ngClass]=\"{'validatedBox' : this.afficherEffetMagique}\"\r\n                 data-toggle=\"tooltip\" data-placement=\"bottom\" matTooltip=\"Afficher l'effet magique de l'objet\">{{this.afficherEffetMagique ? 1 : 0}}</div>\r\n            <div class=\"validationBox\" (click)=\"this.changeValidation('malediction')\" [ngClass]=\"{'validatedBox' : this.afficherMalediction}\"\r\n                 data-toggle=\"tooltip\" data-placement=\"bottom\" matTooltip=\"Afficher la malédiction de l'objet\">{{this.afficherMalediction ? 1 : 0}}</div>\r\n            <div class=\"validationBox\" (click)=\"this.changeValidation('materiau')\" [ngClass]=\"{'validatedBox' : this.afficherMateriau}\"\r\n                 data-toggle=\"tooltip\" data-placement=\"bottom\" matTooltip=\"Afficher le matériau de l'objet\">{{this.afficherMateriau ? 1 : 0}}</div>\r\n            <div class=\"validationBox\" (click)=\"this.changeValidation('infos')\" [ngClass]=\"{'validatedBox' : this.afficherInfos}\"\r\n                 data-toggle=\"tooltip\" data-placement=\"bottom\" matTooltip=\"Afficher les infos de l'effet magique\">{{this.afficherInfos ? 1 : 0}}</div>\r\n        </div>\r\n    </div>\r\n    <form class=\"needs-validation\" id=\"armeForm\">\r\n        <div class=\"form-row\" *ngIf=\"!this.isSpecial\">\r\n            <div class=\"form-group col-md-2\" *ngIf=\"this.allCategoriesLoaded()\">\r\n                <label for=\"selectCategories\">Reclassement</label>\r\n                <select id=\"selectCategories\" class=\"form-control\" [(ngModel)]=\"this.Categories\"\r\n                        (ngModelChange)=\"this.setAllArmesCourantes()\"\r\n                        name=\"'Categories Armes'\">\r\n                    <option value=\"1\">Armes courantes</option>\r\n                    <option value=\"2\">Armes de guerre</option>\r\n                    <option value=\"3\">Armes exotiques</option>\r\n                </select>\r\n            </div>\r\n            <div class=\"form-group col-md-2\" *ngIf=\"this.allCategoriesCourante\">\r\n                <label for=\"inputFamilleMonstre\">Categorie (1D{{this.allCategoriesCourante.Categories.length}})</label>\r\n                <select id=\"inputFamilleMonstre\" class=\"form-control\" [(ngModel)]=\"this.categorieObjet\"\r\n                        (ngModelChange)=\"this.setArme()\"\r\n                        [name]=\"'categorieArme'\">\r\n                    <option *ngFor=\"let armeCourante of this.allCategoriesCourante.Categories\"\r\n                            [value]=\"armeCourante.title\">\r\n                        {{armeCourante.title}}\r\n                    </option>\r\n                </select>\r\n            </div>\r\n            <div class=\"col-md-2 mb-3\" *ngIf=\"this.categorieObjet\">\r\n                <label for=\"categorieArme\">Dé de l'arme (1D{{this.getNbArme()}})\r\n                </label>\r\n                <input min=\"1\" [max]=\"this.getNbArme()\" type=\"number\" class=\"form-control\" id=\"categorieArme\"\r\n                       name=\"categorieArme\"\r\n                       placeholder=\"Categorie de l'arme\"\r\n                       [(ngModel)]=\"this.deObjet\"\r\n                       (ngModelChange)=\"this.setArme()\"\r\n                       required>\r\n            </div>\r\n            <div class=\"form-group col-md-2\" *ngIf=\"this.arme && this.arme.degatsParTaille\">\r\n                <label for=\"tailleArme\">Taille Arme (1D{{this.getNbTailleArme()}})</label>\r\n                <select id=\"tailleArme\" class=\"form-control\" [(ngModel)]=\"this.nomTaille\"\r\n                        (ngModelChange)=\"this.setTaille()\"\r\n                        [name]=\"'tailleArme'\">\r\n                    <option *ngFor=\"let taille of this.getNomsTailles()\" [value]=\"taille\">\r\n                        {{taille}}\r\n                    </option>\r\n                </select>\r\n            </div>\r\n\r\n            <div class=\"form-group col-md-2\" *ngIf=\"this.arme && this.arme.autresMateriaux\">\r\n                <label for=\"typeMateriau\">materiau Arme (1D{{this.getNbMateriaux()}})</label>\r\n                <select id=\"typeMateriau\" class=\"form-control\" [(ngModel)]=\"this.nomMateriau\"\r\n                        (ngModelChange)=\"this.setMateriau()\"\r\n                        [name]=\"'materiauArme'\">\r\n                    <option *ngFor=\"let materiau of this.getNomsMateriaux()\" [value]=\"materiau\">\r\n                        {{materiau}}\r\n                    </option>\r\n                </select>\r\n            </div>\r\n        </div>\r\n        <div class=\"form-row\">\r\n            <div class=\"col-md-2 mb-3\">\r\n                <label for=\"dePuissanceArme\">Dé de puissance de l'arme\r\n                </label>\r\n                <input min=\"1\" max=\"3\" type=\"number\" class=\"form-control\" id=\"dePuissanceArme\"\r\n                       name=\"dePuissanceArme\"\r\n                       placeholder=\"Puissance de l'arme\"\r\n                       [(ngModel)]=\"this.dePuissance\"\r\n                       (ngModelChange)=\"this.setBonusArme()\"\r\n                       required>\r\n            </div>\r\n\r\n            <div class=\"col-md-2 mb-3\" *ngIf=\"this.dePuissance\">\r\n                <label for=\"DeBonusArme\">Dé de bonus de l'arme\r\n                </label>\r\n                <input min=\"1\" max=\"100\" type=\"number\" class=\"form-control\" id=\"DeBonusArme\"\r\n                       name=\"DeBonusArme\"\r\n                       placeholder=\"Bonus Arme\"\r\n                       [(ngModel)]=\"this.deBonus\"\r\n                       (ngModelChange)=\"this.setBonusArme()\"\r\n                       required>\r\n            </div>\r\n        </div>\r\n        <div *ngIf=\"this.isSpecial\" style=\"width: 100%\">\r\n            <h3>Cette arme sera spéciale</h3>\r\n            <div class=\"col-md-2 mb-3\">\r\n                <label for=\"ArmeSpec\">Dé d'arme Spéciale 1D{{this.getNbProprietesMagiques(this.allArmesSpeciales)}}\r\n                </label>\r\n                <input min=\"1\" [max]=\"this.getNbProprietesMagiques(this.allArmesSpeciales)\"\r\n                       type=\"number\" class=\"form-control\" id=\"ArmeSpec\"\r\n                       name=\"ArmeSpec\"\r\n                       placeholder=\"Arme Spéciale\"\r\n                       [(ngModel)]=\"this.deSpecial\"\r\n                       (ngModelChange)=\"this.getArmeSpeciale()\"\r\n                       required>\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"col-md-2 mb-3\" *ngIf=\"!this.isSpecial && this.dePuissance && this.deBonus && this.isMagique\">\r\n            <label for=\"NbPropMag\">Nombre de propriétés magiques (max : 10)\r\n            </label>\r\n            <input min=\"1\" max=\"10\" type=\"number\" class=\"form-control\"\r\n                   id=\"NbPropMag\"\r\n                   name=\"NbPropMag\"\r\n                   placeholder=\"Nombre propriétés magiques\"\r\n                   [(ngModel)]=\"this.deNombreProprietesMagiques\"\r\n                   (ngModelChange)=\"this.getArrayPourNbProprieteMagique()\"\r\n                   required>\r\n        </div>\r\n\r\n        <!--div *ngIf=\"this.isMagique\" style=\"width: 100%\">\r\n            <h3>Cette arme sera magique</h3>\r\n            <div class=\"col-md-2 mb-3\">\r\n                <label for=\"PropMag\">Dé de propriété magique :\r\n                    1D{{this.getNbProprietesMagiques(this.allProprietesMagiques)}}\r\n                </label>\r\n                <input min=\"1\" [max]=\"this.getNbProprietesMagiques(this.allProprietesMagiques)\" type=\"number\"\r\n                       class=\"form-control\"\r\n                       id=\"PropMag\"\r\n                       name=\"PropMag\"\r\n                       placeholder=\"Propriété Magique\"\r\n                       [(ngModel)]=\"this.deProprieteMagique\"\r\n                       (ngModelChange)=\"this.getProprieteMagique()\"\r\n                       required>\r\n            </div>\r\n        </div-->\r\n\r\n\r\n    </form>\r\n    <div style=\"width: 100%\" *ngIf=\"this.nom\">\r\n        <div style=\"width: 100%\" *ngIf=\"!this.modificationEnCours\">\r\n            <h1>Résultat de l'arme</h1>\r\n            <h3><span [innerHTML]=\"this.nom\"></span></h3>\r\n            <h4 *ngIf=\"this.fauxNom\"> Faux Nom : {{this.fauxNom}}</h4>\r\n            <p>{{this.type}} <span *ngIf=\"this.taille\"> - {{this.degats}}</span><span\r\n                *ngIf=\"this.bonus\"> - Bonus +{{this.bonus}}</span></p>\r\n\r\n            <div *ngIf=\"this.materiau\"><span [innerHTML]=\"this.materiau.nom\"></span> : <span>{{materiau.effet}}</span></div>\r\n            <button (click)=\"this.modifierContenu()\" [disabled]=\"this.valide\">Modifier propriété magique</button>\r\n        </div>\r\n\r\n\r\n        <div style=\"width: 100%\" *ngIf=\"this.modificationEnCours\">\r\n            <h1>Résultat de l'arme</h1>\r\n            <h3><textarea [(ngModel)]=\"this.nom\"></textarea></h3>\r\n            <mat-form-field appearance=\"fill\" class=\"fauxNom\">\r\n                <mat-label>Faux nom</mat-label>\r\n                <textarea [(ngModel)]=\"this.fauxNom\" matInput></textarea>\r\n            </mat-form-field>\r\n            <p><textarea [(ngModel)]=\"this.type\"></textarea>\r\n                <span *ngIf=\"this.taille\"> - <textarea [(ngModel)]=\"this.degats\"></textarea></span>\r\n                <span *ngIf=\"this.bonus\"> - Bonus +<textarea [(ngModel)]=\"this.bonus\"></textarea></span>\r\n            </p>\r\n\r\n            <div *ngIf=\"this.materiau\">\r\n                <textarea [(ngModel)]=\"this.materiau.nom\"></textarea> :\r\n                <textarea [(ngModel)]=\"this.materiau.effet\"></textarea>\r\n            </div>\r\n\r\n            <button (click)=\"this.modifierContenu()\">Valider objet</button>\r\n        </div>\r\n    </div>\r\n\r\n    <div *ngFor=\"let proprieteMagique of this.proprietesMagiquesFakes; let indexPropriete = index\">\r\n        <app-propriete-magique *ngIf=\"this.isSpecial || this.isMagique\"\r\n                               [allProprietesMagiques]=\"this.getAllMagiques()\"\r\n                               [indexProprieteMagique]=\"indexPropriete\"\r\n                               [nom]=\"'Propriété magique'\"\r\n                               [dePuissanceSpecial]=\"this.isSpecial ? this.dePuissance : null\"\r\n                               (creationProprieteMagiqueEventEmitter)=\"this.creationProprieteMagique($event)\"\r\n                               (proprieteMagiqueEventEmitter)=\"changeProprieteMagique($event)\"\r\n                               (resetProprieteMagiqueEventEmitter)=\"this.getProprieteMagique()\"></app-propriete-magique>\r\n    </div>\r\n\r\n\r\n    <button *ngIf=\"!this.valide else objetValidee\" (click)=\"this.selection()\">Valider objet</button>\r\n    <ng-template #objetValidee>\r\n        <button (click)=\"this.deselection()\">Dévalider objet</button>\r\n    </ng-template>\r\n</div>\r\n","import {Component, EventEmitter, Input, OnInit, Output, ViewChild} from '@angular/core';\r\nimport {JSonLoadService} from '../../services/json-load.service';\r\nimport {ObjetCombat} from '../objet-combat';\r\nimport {MaledictionsComponent} from '../maledictions/maledictions.component';\r\n\r\n@Component({\r\n    selector: 'app-armures',\r\n    templateUrl: './armures.component.html',\r\n    styleUrls: ['./armures.component.scss']\r\n})\r\nexport class ArmuresComponent extends ObjetCombat implements OnInit {\r\n\r\n    @Output() armureEventEmitter = new EventEmitter<ArmuresComponent>();\r\n    @ViewChild('maledictionsComponent') maledictionComponent: MaledictionsComponent;\r\n    @Input() maudit: boolean;\r\n\r\n    bouclier = false;\r\n\r\n    allArmuresSpeciales: SortedMagicalProperty;\r\n    allBoucliersSpeciaux: SortedMagicalProperty;\r\n\r\n    armure: Armure;\r\n    taille: PrixParTaille;\r\n\r\n    allArmures: CategoriesArmures;\r\n\r\n    constructor(private jsonService: JSonLoadService) {\r\n        super(jsonService);\r\n    }\r\n\r\n    ngOnInit(): void {\r\n        this.jsonService.getJSON('magique', 'effetsArmuresMagiques').then(\r\n            (effetsArmuresMagiques: any) => {\r\n                this.allProprietesMagiques = JSON.parse(effetsArmuresMagiques) as SortedMagicalProperty;\r\n                this.jsonService.getJSON('magique', 'armuresMagiquesSpeciales').then(\r\n                    (armuresMagiquesSpeciales: any) => {\r\n                        this.allArmuresSpeciales = JSON.parse(armuresMagiquesSpeciales) as SortedMagicalProperty;\r\n                        this.jsonService.getJSON('magique', 'boucliersSpeciaux').then(\r\n                            (boucliersSpeciaux: any) => {\r\n                                this.allBoucliersSpeciaux = JSON.parse(boucliersSpeciaux) as SortedMagicalProperty;\r\n                            }\r\n                        );\r\n                    }\r\n                );\r\n            }\r\n        );\r\n        this.jsonService.getJSON('objets/classique', 'armures').then(\r\n            (armuresCourantes: any) => {\r\n                this.allArmures = JSON.parse(armuresCourantes) as CategoriesArmures;\r\n            }\r\n        );\r\n        this.getArrayPourNbProprieteMagique();\r\n    }\r\n\r\n    isBouclier() {\r\n        this.reset();\r\n        this.isSpecial = false;\r\n        this.isMagique = false;\r\n        this.deSpecial = undefined;\r\n        this.deProprieteMagique = undefined;\r\n        this.deType = undefined;\r\n        switch (this.dePuissance) {\r\n            case 1:\r\n                if (this.deBonus && this.deBonus <= 80) {\r\n                    this.bonus = 1;\r\n                } else if (this.deBonus > 80 && this.deBonus <= 87) {\r\n                    console.log('Je suis bonus +2');\r\n                    this.bonus = 2;\r\n                } else if (this.deBonus > 87 && this.deBonus <= 89) {\r\n                    this.bonus = 0;\r\n                    this.isSpecial = true;\r\n                    this.bouclier = false;\r\n                    this.type = 'Armure speciale';\r\n                } else if (this.deBonus > 89 && this.deBonus <= 91) {\r\n                    this.bonus = 0;\r\n                    this.isSpecial = true;\r\n                    this.bouclier = true;\r\n                    this.type = 'Bouclier special';\r\n                } else if (this.deBonus > 91 && this.deBonus <= 100) {\r\n                    this.bonus = 1;\r\n                    this.isMagique = true;\r\n                }\r\n                break;\r\n            case 2:\r\n                if (this.deBonus && this.deBonus <= 10) {\r\n                    this.bonus = 1;\r\n                } else if (this.deBonus > 10 && this.deBonus <= 30) {\r\n                    this.bonus = 2;\r\n                } else if (this.deBonus > 30 && this.deBonus <= 50) {\r\n                    this.bonus = 3;\r\n                } else if (this.deBonus > 50 && this.deBonus <= 57) {\r\n                    this.bonus = 4;\r\n                } else if (this.deBonus > 57 && this.deBonus <= 60) {\r\n                    this.bonus = 0;\r\n                    this.isSpecial = true;\r\n                    this.bouclier = false;\r\n                    this.type = 'Armure speciale';\r\n                } else if (this.deBonus > 60 && this.deBonus <= 63) {\r\n                    this.bonus = 0;\r\n                    this.isSpecial = true;\r\n                    this.bouclier = true;\r\n                    this.type = 'Bouclier special';\r\n                } else if (this.deBonus > 63 && this.deBonus <= 100) {\r\n                    this.bonus = 1;\r\n                    this.isMagique = true;\r\n                }\r\n                break;\r\n            case 3:\r\n                if (this.deBonus && this.deBonus <= 16) {\r\n                    this.bonus = 3;\r\n                } else if (this.deBonus > 16 && this.deBonus <= 38) {\r\n                    this.bonus = 4;\r\n                } else if (this.deBonus > 38 && this.deBonus <= 57) {\r\n                    this.bonus = 5;\r\n                } else if (this.deBonus > 57 && this.deBonus <= 60) {\r\n                    this.bonus = 0;\r\n                    this.isSpecial = true;\r\n                    this.bouclier = false;\r\n                    this.type = 'Armure speciale';\r\n                } else if (this.deBonus > 60 && this.deBonus <= 63) {\r\n                    this.bonus = 0;\r\n                    this.isSpecial = true;\r\n                    this.bouclier = true;\r\n                    this.type = 'Bouclier special';\r\n                } else if (this.deBonus > 63 && this.deBonus <= 100) {\r\n                    this.bonus = 1;\r\n                    this.isMagique = true;\r\n                }\r\n                break;\r\n        }\r\n        if (!this.isSpecial && this.categorieObjet) {\r\n            this.armure = JSON.parse(JSON.stringify(\r\n                this.allArmures.Categories.find(f => f.title === this.categorieObjet).armures[this.deObjet - 1])) as Armure;\r\n            this.setNom();\r\n            this.setType();\r\n        } else {\r\n            this.type = null;\r\n            this.nom = null;\r\n        }\r\n        return this.bouclier;\r\n    }\r\n\r\n    getSpecial() {\r\n        this.deProprieteMagique = undefined;\r\n        this.deType = undefined;\r\n        this.reset();\r\n        if (this.deSpecial) {\r\n            let special: MagicalProperty = null;\r\n            if (this.bouclier && this.deSpecial <= this.getNbProprietesMagiques(this.allBoucliersSpeciaux)) {\r\n                special = JSON.parse(JSON.stringify(\r\n                    this.getProprietesMagiques(this.allBoucliersSpeciaux)[this.deSpecial - 1])) as MagicalProperty;\r\n            } else if (!this.bouclier && this.deSpecial <= this.getNbProprietesMagiques(this.allArmuresSpeciales)) {\r\n                special = JSON.parse(JSON.stringify(\r\n                    this.getProprietesMagiques(this.allArmuresSpeciales)[this.deSpecial - 1])) as MagicalProperty;\r\n            }\r\n            if (special) {\r\n                this.bonus = 0;\r\n                this.proprietesMagiques.push(special);\r\n                this.nom = special.title;\r\n                this.getPrixAndCurrency();\r\n            }\r\n            this.deNombreProprietesMagiques = 1;\r\n            this.getArrayPourNbProprieteMagique();\r\n        }\r\n    }\r\n\r\n    getNbSpecials(): number {\r\n        return this.bouclier ? this.getNbProprietesMagiques(this.allBoucliersSpeciaux)\r\n            : this.getNbProprietesMagiques(this.allArmuresSpeciales);\r\n    }\r\n\r\n    setArmure() {\r\n        this.resetHard();\r\n        if (this.deObjet && !this.isSpecial) {\r\n            this.armure = JSON.parse(JSON.stringify(\r\n                this.allArmures.Categories.find(f => f.title === this.categorieObjet).armures[this.deObjet - 1])) as Armure;\r\n            this.bouclier = this.categorieObjet === 'Boucliers';\r\n            this.type = this.categorieObjet;\r\n            this.setNom();\r\n        } else {\r\n            this.type = null;\r\n            this.nom = null;\r\n        }\r\n    }\r\n\r\n    getNbArmure() {\r\n        return this.allArmures.Categories.find(f => f.title === this.categorieObjet).armures.length;\r\n    }\r\n\r\n    setTaille() {\r\n        this.taille = JSON.parse(JSON.stringify(this.armure.prixParTaille.find(f => f.taille === this.nomTaille))) as PrixParTaille;\r\n        this.prix = +this.taille.prixHumanoide.match(/([0-9]+ )+/)[0].replace(' ', '');\r\n        this.setNom();\r\n    }\r\n\r\n    getNomsTailles() {\r\n        return this.armure.prixParTaille.map(f => f.taille);\r\n    }\r\n\r\n    getTailles() {\r\n        return this.armure.prixParTaille;\r\n    }\r\n\r\n    getNbTailleArmure() {\r\n        // console.log(this.armure);\r\n        return this.armure.prixParTaille.length;\r\n    }\r\n\r\n    setMateriau() {\r\n        this.materiau = JSON.parse(JSON.stringify(\r\n            this.armure.autresMateriaux.find(f => f.nom.replace(/<a.*>(.*)<\\/a>/, '$1') === this.nomMateriau))) as Materiau;\r\n        this.prix = +this.taille.prixHumanoide.match(/([0-9]+ )+/)[0].replace(' ', '');\r\n        const prixDuMateriau: number = +this.materiau.prix.match(/([0-9]+ )+/)[0]\r\n            .replace(' ', '').replace(' ', '');\r\n        const prixDeBase: number = +this.armure.prixParTaille.find(f => f.taille === 'Moyenne')\r\n            .prixHumanoide.match(/([0-9]+ )+/)[0].replace(' ', '');\r\n        this.prix = this.prix * (prixDuMateriau / prixDeBase);\r\n        this.setNom();\r\n    }\r\n\r\n    getNomsMateriaux() {\r\n        return this.armure.autresMateriaux.map(f => f.nom.replace(/<a.*>(.*)<\\/a>/, '$1'));\r\n    }\r\n\r\n    getMateriaux() {\r\n        return this.armure.autresMateriaux;\r\n    }\r\n\r\n    getNbMateriaux() {\r\n        return this.armure.autresMateriaux.length;\r\n    }\r\n\r\n    setNom() {\r\n        if (this.armure) {\r\n            this.nom = this.armure.nom;\r\n        }\r\n        if (this.taille) {\r\n            this.nom += ' ' + this.taille.taille;\r\n        }\r\n        if (this.materiau) {\r\n            this.nom += ' en ' + this.materiau.nom;\r\n        }\r\n        this.nom += ' ' + this.getNomsProprieteMagique();\r\n        // console.log(this.nom);\r\n    }\r\n\r\n    setType() {\r\n        this.type = !this.isSpecial ? this.categorieObjet\r\n            :  this.bouclier ? 'Bouclier spécial'\r\n                : 'Armure spéciale';\r\n    }\r\n\r\n    resetHard() {\r\n        super.resetHard();\r\n        this.taille = undefined;\r\n    }\r\n\r\n    resetContenu() {\r\n        super.resetContenu();\r\n        this.setMateriau();\r\n        this.setArmure();\r\n        this.setTaille();\r\n        this.setType();\r\n    }\r\n\r\n    selection() {\r\n        super.selection();\r\n        this.armureEventEmitter.emit(this);\r\n    }\r\n\r\n    deselection() {\r\n        this.valide = false;\r\n        this.armureEventEmitter.emit(null);\r\n    }\r\n\r\n    castToObjetCommunForDB(idPersonnageSelectionnee: number = 0): ObjetCommunForDB {\r\n        const maledictionToAdd = this.getMalediction();\r\n        let values: ObjetCommunForDB;\r\n        values = {\r\n            idObjet: null,\r\n            idPersonnage: idPersonnageSelectionnee,\r\n            nom: this.nom,\r\n            fauxNom: this.fauxNom,\r\n            bonus: this.bonus,\r\n            type: this.type,\r\n            prix: this.prix + this.prixProprieteMagique,\r\n            prixNonHumanoide: this.prix,\r\n            devise: this.currencyType,\r\n            proprieteMagique: this.proprietesMagiques,\r\n            malediction: maledictionToAdd,\r\n            categorie: this.categorieObjet,\r\n            materiau: this.materiau,\r\n            taille: this.taille.taille,\r\n            degats: null,\r\n            critique: null,\r\n            facteurPortee: null,\r\n            armure: +this.armure.bonArm.replace('—', '0').replace('+', ''),\r\n            bonusDexteriteMax: +this.armure.bonDext.replace('—', '0').replace('+', ''),\r\n            malusArmureTests: +this.armure.malArm.replace('—', '0'),\r\n            risqueEchecSorts: this.armure.RisqEch,\r\n            afficherNom: this.afficherNom,\r\n            afficherEffetMagique: this.afficherEffetMagique,\r\n            afficherMalediction: this.afficherMalediction,\r\n            afficherMateriau: this.afficherMateriau,\r\n            afficherInfos: this.afficherInfos,\r\n        } as ObjetCommunForDB;\r\n\r\n        return values;\r\n    }\r\n\r\n    public getAllMagiques() {\r\n        return this.isSpecial ?\r\n            this.bouclier ? this.allBoucliersSpeciaux\r\n                : this.allArmuresSpeciales\r\n            : this.allProprietesMagiques;\r\n    }\r\n}\r\n","<app-maledictions *ngIf=\"this.maudit\" #maledictionsComponent\r\n                  (maledictionEventEmitter)=\"selectionMalediction($event)\"></app-maledictions>\r\n\r\n<div style=\"width: 100%\" class=\"objetArmure\">\r\n    <div class=\"titleTop\">\r\n        <div class=\"h1Fake\">Ceci est une armure ou un bouclier</div>\r\n        <div class=\"validationAffichage\">\r\n            <div class=\"validationBox\" (click)=\"this.changeValidation('nom')\" [ngClass]=\"{'validatedBox' : this.afficherNom}\"\r\n                 data-toggle=\"tooltip\" data-placement=\"bottom\" matTooltip=\"Afficher le nom réel de l'objet\">{{this.afficherNom ? 1 : 0}}</div>\r\n            <div class=\"validationBox\" (click)=\"this.changeValidation('effetMagique')\" [ngClass]=\"{'validatedBox' : this.afficherEffetMagique}\"\r\n                 data-toggle=\"tooltip\" data-placement=\"bottom\" matTooltip=\"Afficher l'effet magique de l'objet\">{{this.afficherEffetMagique ? 1 : 0}}</div>\r\n            <div class=\"validationBox\" (click)=\"this.changeValidation('malediction')\" [ngClass]=\"{'validatedBox' : this.afficherMalediction}\"\r\n                 data-toggle=\"tooltip\" data-placement=\"bottom\" matTooltip=\"Afficher la malédiction de l'objet\">{{this.afficherMalediction ? 1 : 0}}</div>\r\n            <div class=\"validationBox\" (click)=\"this.changeValidation('materiau')\" [ngClass]=\"{'validatedBox' : this.afficherMateriau}\"\r\n                 data-toggle=\"tooltip\" data-placement=\"bottom\" matTooltip=\"Afficher le matériau de l'objet\">{{this.afficherMateriau ? 1 : 0}}</div>\r\n            <div class=\"validationBox\" (click)=\"this.changeValidation('infos')\" [ngClass]=\"{'validatedBox' : this.afficherInfos}\"\r\n                 data-toggle=\"tooltip\" data-placement=\"bottom\" matTooltip=\"Afficher les infos de l'effet magique\">{{this.afficherInfos ? 1 : 0}}</div>\r\n        </div>\r\n    </div>\r\n    <form class=\"needs-validation\" id=\"armureForm\">\r\n        <div class=\"form-row\" *ngIf=\"!this.isSpecial\">\r\n            <div class=\"form-group col-md-2\" *ngIf=\"this.allArmures\">\r\n                <label for=\"inputFamilleMonstre\">Categorie (1D{{this.allArmures.Categories.length}})</label>\r\n                <select id=\"inputFamilleMonstre\" class=\"form-control\" [(ngModel)]=\"this.categorieObjet\"\r\n                        (ngModelChange)=\"this.setArmure()\"\r\n                        [name]=\"'categorieArmure'\">\r\n                    <option *ngFor=\"let armureCourante of this.allArmures.Categories\" [value]=\"armureCourante.title\">\r\n                        {{armureCourante.title}}\r\n                    </option>\r\n                </select>\r\n            </div>\r\n            <div class=\"col-md-2 mb-3\" *ngIf=\"this.categorieObjet\">\r\n                <label for=\"categorieArmure\">Dé de l'armure (1D{{this.getNbArmure()}})\r\n                </label>\r\n                <input min=\"1\" [max]=\"this.getNbArmure()\" type=\"number\" class=\"form-control\" id=\"categorieArmure\"\r\n                       name=\"categorieArmure\"\r\n                       placeholder=\"Categorie de l'armure\"\r\n                       [(ngModel)]=\"this.deObjet\"\r\n                       (ngModelChange)=\"this.setArmure()\"\r\n                       required>\r\n            </div>\r\n            <div class=\"form-group col-md-2\" *ngIf=\"this.armure && this.armure.prixParTaille\">\r\n                <label for=\"tailleArmure\">Taille Armure (1D{{this.getNbTailleArmure()}})</label>\r\n                <select id=\"tailleArmure\" class=\"form-control\" [(ngModel)]=\"this.nomTaille\"\r\n                        (ngModelChange)=\"this.setTaille()\"\r\n                        [name]=\"'tailleArmure'\">\r\n                    <option *ngFor=\"let taille of this.getNomsTailles()\" [value]=\"taille\">\r\n                        {{taille}}\r\n                    </option>\r\n                </select>\r\n            </div>\r\n\r\n            <div class=\"form-group col-md-2\" *ngIf=\"this.armure && this.armure.autresMateriaux\">\r\n                <label for=\"typeMateriau\">Materiau Armure (1D{{this.getNbMateriaux()}})</label>\r\n                <select id=\"typeMateriau\" class=\"form-control\" [(ngModel)]=\"this.nomMateriau\"\r\n                        (ngModelChange)=\"this.setMateriau()\"\r\n                        [name]=\"'materiauArmure'\">\r\n                    <option *ngFor=\"let materiau of this.getNomsMateriaux()\" [value]=\"materiau\">\r\n                        {{materiau}}\r\n                    </option>\r\n                </select>\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"form-row\">\r\n            <div class=\"col-md-2 mb-3\">\r\n                <label for=\"dePuissanceArmure\">Dé de puissance (1D3)\r\n                </label>\r\n                <input min=\"1\" max=\"3\" type=\"number\" class=\"form-control\" id=\"dePuissanceArmure\"\r\n                       name=\"dePuissanceArmure\"\r\n                       placeholder=\"Puissance de l'armure\"\r\n                       [(ngModel)]=\"this.dePuissance\"\r\n                       required>\r\n            </div>\r\n\r\n            <div class=\"col-md-2 mb-3\">\r\n                <label for=\"DeBonusArmure\">Dé de bonus (1D100)\r\n                </label>\r\n                <input min=\"1\" max=\"100\" type=\"number\" class=\"form-control\" id=\"DeBonusArmure\"\r\n                       name=\"DeBonusArmure\"\r\n                       placeholder=\"Bonus Armure\"\r\n                       [(ngModel)]=\"this.deBonus\"\r\n                       (ngModelChange)=\"this.isBouclier()\"\r\n                       required>\r\n            </div>\r\n            <div *ngIf=\"this.isSpecial && this.dePuissance && this.deBonus\" style=\"width: 100%\">\r\n                <h3>{{this.type}}</h3>\r\n                <div class=\"col-md-2 mb-3\">\r\n                    <label for=\"Spec\">Dé spécial (1D{{this.getNbSpecials()}})\r\n                    </label>\r\n                    <input min=\"1\" [max]=\"this.getNbSpecials()\" type=\"number\" class=\"form-control\" id=\"Spec\"\r\n                           name=\"Spec\"\r\n                           placeholder=\"Spéciale\"\r\n                           [(ngModel)]=\"this.deSpecial\"\r\n                           (ngModelChange)=\"this.getSpecial()\"\r\n                           required>\r\n                </div>\r\n            </div>\r\n\r\n            <div class=\"col-md-2 mb-3\" *ngIf=\"!this.isSpecial && this.dePuissance && this.deBonus && this.isMagique\">\r\n                <label for=\"NbPropMag\">Nombre de propriétés magiques (max : 10)\r\n                </label>\r\n                <input min=\"1\" max=\"10\" type=\"number\" class=\"form-control\"\r\n                       id=\"NbPropMag\"\r\n                       name=\"NbPropMag\"\r\n                       placeholder=\"Nombre propriétés magiques\"\r\n                       [(ngModel)]=\"this.deNombreProprietesMagiques\"\r\n                       (ngModelChange)=\"this.getArrayPourNbProprieteMagique()\"\r\n                       required>\r\n            </div>\r\n\r\n            <!--div *ngIf=\"this.isMagique\" style=\"width: 100%\">\r\n                <h3>Cette armure sera magique</h3>\r\n                <div class=\"col-md-2 mb-3\">\r\n                    <label for=\"PropMag\">Dé de propriété magique\r\n                        (1D{{this.getNbProprietesMagiques(this.allProprietesMagiques)}})\r\n                    </label>\r\n                    <input min=\"1\" [max]=\"this.getNbProprietesMagiques(this.allProprietesMagiques)\" type=\"number\"\r\n                           class=\"form-control\"\r\n                           id=\"PropMag\"\r\n                           name=\"PropMag\"\r\n                           placeholder=\"Propriété Magique\"\r\n                           [(ngModel)]=\"this.deProprieteMagique\"\r\n                           (ngModelChange)=\"this.getProprieteMagique()\"\r\n                           required>\r\n                </div>\r\n            </div-->\r\n        </div>\r\n\r\n\r\n    </form>\r\n\r\n    <div style=\"width: 100%\" *ngIf=\"this.nom\">\r\n        <div style=\"width: 100%\" *ngIf=\"!this.modificationEnCours\">\r\n            <h1>Résultat</h1>\r\n            <h3><span [innerHTML]=\"this.nom\"></span></h3>\r\n            <h4 *ngIf=\"this.fauxNom\"> Faux Nom : {{this.fauxNom}}</h4>\r\n            <p>{{this.type}}<span *ngIf=\"this.armure\"> - {{this.armure.bonArm}} armure\r\n                <span *ngIf=\"this.bonus\">- Bonus +{{this.bonus}}</span></span>\r\n                <span *ngIf=\"this.prix\"> - Prix : {{this.prix.toLocaleString(\"fr\")}} po</span>\r\n            </p>\r\n            <div *ngIf=\"this.materiau\"><span [innerHTML]=\"this.materiau.nom\"></span> : <span>{{materiau.effet}}</span></div>\r\n            <button (click)=\"this.modifierContenu()\" [disabled]=\"this.valide\">Modifier objet</button>\r\n        </div>\r\n\r\n        <div style=\"width: 100%\" *ngIf=\"this.modificationEnCours\">\r\n            <h1>Résultat de l'arme</h1>\r\n            <h3><textarea [(ngModel)]=\"this.nom\"></textarea></h3>\r\n            <mat-form-field appearance=\"fill\" class=\"fauxNom\">\r\n                <mat-label>Faux nom</mat-label>\r\n                <textarea [(ngModel)]=\"this.fauxNom\" rows=\"1\" matInput></textarea>\r\n            </mat-form-field>\r\n            <p><textarea [(ngModel)]=\"this.type\"></textarea><span *ngIf=\"this.armure\"> - <textarea [(ngModel)]=\"this.armure.bonArm\"></textarea> armure\r\n                <span *ngIf=\"this.proprietesMagiques.length > 0\">- Bonus +<textarea [(ngModel)]=\"this.bonus\"></textarea></span></span>\r\n                <span *ngIf=\"this.prix\"> - Prix : <textarea [(ngModel)]=\"this.prix\"></textarea> po</span>\r\n            </p>\r\n\r\n            <div *ngIf=\"this.materiau\">\r\n                <textarea [(ngModel)]=\"this.materiau.nom\"></textarea> :\r\n                <textarea [(ngModel)]=\"this.materiau.effet\"></textarea>\r\n            </div>\r\n\r\n            <button (click)=\"this.modifierContenu()\">Valider objet</button>\r\n        </div>\r\n    </div>\r\n\r\n    <div *ngFor=\"let proprieteMagique of this.proprietesMagiquesFakes; let indexPropriete = index\">\r\n        <app-propriete-magique *ngIf=\"this.isSpecial || this.isMagique\"\r\n                               [allProprietesMagiques]=\"this.getAllMagiques()\"\r\n                               [indexProprieteMagique]=\"indexPropriete\"\r\n                               [nom]=\"'Propriété magique'\"\r\n                               [dePuissanceSpecial]=\"this.isSpecial ? this.dePuissance : null\"\r\n                               (creationProprieteMagiqueEventEmitter)=\"this.creationProprieteMagique($event)\"\r\n                               (proprieteMagiqueEventEmitter)=\"changeProprieteMagique($event)\"\r\n                               (resetProprieteMagiqueEventEmitter)=\"this.getProprieteMagique()\"></app-propriete-magique>\r\n    </div>\r\n\r\n    <button class=\"btn btn-primary\" *ngIf=\"!this.valide else objetValidee\" (click)=\"this.selection()\" [disabled]=\"!this.objetValidable()\"\r\n            matTooltip=\"L'objet doit avoir un faux nom, ou bien afficher son nom réel.\">Valider objet</button>\r\n    <ng-template #objetValidee>\r\n        <button (click)=\"this.deselection()\">Dévalider objet</button>\r\n    </ng-template>\r\n</div>\r\n","import {Component, EventEmitter, OnInit, Output} from '@angular/core';\r\nimport {JSonLoadService} from '../../services/json-load.service';\r\n\r\n@Component({\r\n    selector: 'app-maledictions',\r\n    templateUrl: './maledictions.component.html',\r\n    styleUrls: ['./maledictions.component.scss']\r\n})\r\nexport class MaledictionsComponent implements OnInit {\r\n\r\n    @Output() maledictionEventEmitter = new EventEmitter<MagicalProperty>();\r\n\r\n    modificationEnCoursMalediction = false;\r\n    validee = false;\r\n\r\n    malediction: MagicalProperty;\r\n    deMalediction: number;\r\n    deMalediction2: number;\r\n    // ---------------------------------------\r\n    conditionsExterieur: MagicalProperty;\r\n    // ---------------------------------------\r\n    conditionsDeFonctionnement: TablesChances;\r\n    conditionDeFonctionnement: string;\r\n    // ----------------------------------------\r\n    inconveniants: TablesChances;\r\n    inconveniant: string;\r\n    // ----------------------------------------\r\n    allObjetsMaudits: SortedMagicalProperty;\r\n    dePuissanceMalediction: number;\r\n\r\n    constructor(private jsonService: JSonLoadService) {\r\n    }\r\n\r\n    ngOnInit(): void {\r\n        this.jsonService.getJSON('magique', 'inconvenientsMalediction').then(\r\n            (data: any) => {\r\n                // console.log(data);\r\n                this.inconveniants = JSON.parse(data) as TablesChances;\r\n                // console.log(this.inconveniants);\r\n            }\r\n        );\r\n        this.jsonService.getJSON('magique', 'conditionsMalediction').then(\r\n            (data: any) => {\r\n                // console.log(data);\r\n                this.conditionsDeFonctionnement = JSON.parse(data) as TablesChances;\r\n                // console.log(this.conditions);\r\n            }\r\n        );\r\n        this.jsonService.getJSON('magique', 'conditionExterieurMaledition').then(\r\n            (data: any) => {\r\n                // console.log(data);\r\n                this.conditionsExterieur = JSON.parse(data) as MagicalProperty;\r\n                // console.log(this.conditionsExterieur);\r\n            }\r\n        );\r\n        this.jsonService.getJSON('magique', 'objetsMauditsSpeciaux').then(\r\n            (mauditsSpeciaux: any) => {\r\n                // console.log(mauditsSpeciaux);\r\n                this.allObjetsMaudits = JSON.parse(mauditsSpeciaux) as SortedMagicalProperty;\r\n                // console.log(JSON.parse(mauditsSpeciaux).strongAnfPowerful[9]);\r\n                // console.log(this.allObjetsMaudits.strongAnfPowerful[9]);\r\n            }\r\n        );\r\n    }\r\n\r\n    loadComplete(): boolean {\r\n        return !!(this.inconveniants && this.conditionsDeFonctionnement && this.conditionsExterieur && this.allObjetsMaudits);\r\n    }\r\n\r\n    getFromChance(maledictions: TablesChances, dice: number) {\r\n        const malediction = (JSON.parse(JSON.stringify(\r\n            maledictions.Chances.filter(chance => (chance.lootChanceMin <= dice && chance.lootChanceMax >= dice))[0])) as Chances);\r\n        return malediction.name;\r\n    }\r\n\r\n    getNbObjetsMaudits(): number {\r\n        return this.getObjetsMaudits().length;\r\n    }\r\n\r\n    getObjetsMaudits() {\r\n        return this.dePuissanceMalediction === 1 ? this.allObjetsMaudits.weakAndSmall.concat(this.allObjetsMaudits.unknown)\r\n            : this.dePuissanceMalediction === 2 ? this.allObjetsMaudits.moderate.concat(this.allObjetsMaudits.unknown)\r\n                : this.dePuissanceMalediction === 3 ? this.allObjetsMaudits.strongAnfPowerful.concat(this.allObjetsMaudits.unknown)\r\n                    : null;\r\n    }\r\n\r\n    modifierMalediction() {\r\n        this.modificationEnCoursMalediction = !this.modificationEnCoursMalediction;\r\n    }\r\n\r\n    resetContenuMalediction() {\r\n        this.getMalediction();\r\n        this.modificationEnCoursMalediction = false;\r\n    }\r\n\r\n    trackByFn(index, item) {\r\n        return index;\r\n    }\r\n\r\n    resetMalediction() {\r\n        this.deMalediction2 = null;\r\n        this.malediction = null;\r\n    }\r\n\r\n    getMalediction(): MagicalProperty {\r\n        this.malediction = null;\r\n        let magicalProperty: MagicalProperty;\r\n        if (this.deMalediction && this.deMalediction <= 11) { // Imaginaire\r\n            magicalProperty = {\r\n                description: ['Le possesseur pense que l’objet est ce qu’il semble être, alors qu’il n’a d’autre pouvoir que d’abuser son utilisateur. Ce dernier est persuadé que l’objet fonctionne normalement et seul le sort délivrance des malédictions peut le convaincre du contraire.'],\r\n                infos: null,\r\n                table: null,\r\n                title: 'Effet imaginaire.',\r\n                ul: null,\r\n            } as MagicalProperty;\r\n        } else if (this.deMalediction > 11 && this.deMalediction <= 23) { // Inversé\r\n            magicalProperty = {\r\n                description: ['Soit les objets maudits de ce genre ont un effet inverse de celui qui était prévu, soit ils affectent leur possesseur au lieu de ses adversaires. Certains de ces objets peuvent toutefois présenter un intérêt indéniable, même si leur fonction est totalement différente de ce qu’elle devrait être.\\n' +\r\n                'Parmi les objets maudits à effet opposé, on trouve les armes qui s’accompagnent d’un malus aux jets d’attaque et de dégâts. De même que les personnages ne connaissent pas immédiatement la valeur exacte du bonus d’altération conféré par leurs armes utiles, il n’y a aucune raison qu’ils se rendent compte immédiatement que leur nouvelle arme est maudite. Une fois qu’ils le comprennent, ils peuvent s’en séparer librement, à moins que l’arme ne s’accompagne d’un enchantement incitant son possesseur à vouloir la garder et à l’utiliser. Dans ce cas, le sort délivrance des malédictions est nécessaire pour s’en débarrasser.'],\r\n                infos: null,\r\n                table: null,\r\n                title: 'Effet (ou cible) inversé.',\r\n                ul: null,\r\n            } as MagicalProperty;\r\n        } else if (this.deMalediction > 23 && this.deMalediction <= 34) { // Fiabilité douteuse\r\n            magicalProperty = {\r\n                description: ['Chaque fois que l’objet est activé, il y a 5% de chances (01–05 sur 1d100) qu’il ne fonctionne pas. Ce risque de dysfonctionnement peut varier entre 1% et 10%, selon la campagne et le type d’objet.'],\r\n                infos: null,\r\n                table: null,\r\n                title: 'Fiabilité douteuse.',\r\n                ul: null,\r\n            } as MagicalProperty;\r\n        } else if (this.deMalediction > 34 && this.deMalediction <= 46) { // Condition extèrieure\r\n            magicalProperty = {\r\n                description: [''],\r\n                infos: null,\r\n                table: null,\r\n                title: 'Dépendant d’une condition extérieure',\r\n                ul: null,\r\n            } as MagicalProperty;\r\n            if (this.deMalediction2) {\r\n                this.conditionDeFonctionnement = this.getFromChance(this.conditionsDeFonctionnement, this.deMalediction2);\r\n            }\r\n            magicalProperty.description[0] = this.conditionDeFonctionnement;\r\n        } else if (this.deMalediction > 46 && this.deMalediction <= 57) { // Incontrolable\r\n            magicalProperty = {\r\n                description: ['Un objet incontrôlable se met à fonctionner n’importe quand, sans que son propriétaire le décide. ' +\r\n                'Jetez 1d100 chaque jour. ' +\r\n                'Sur un résultat de 01–05, l’objet se met en marche au cours de la journée (l’instant exact étant déterminé aléatoirement). ' +\r\n                'L’effet peut parfois être amusant, comme lorsqu’un personnage portant un anneau d’invisibilité disparaît en pleine séance de marchandage acharné, mais il peut également être désastreux, comme quand la baguette de boule de feu de l’aventurier s’actionne alors qu’il discute avec ses amis (lesquels ne le demeureront probablement pas après une telle mésaventure).'],\r\n                infos: null,\r\n                table: null,\r\n                title: 'Incontrôlable.',\r\n                ul: null,\r\n            } as MagicalProperty;\r\n        } else if (this.deMalediction > 57 && this.deMalediction <= 69) { // Conditions de fonctionnement\r\n            magicalProperty = (JSON.parse(JSON.stringify(this.conditionsExterieur)) as MagicalProperty);\r\n        } else if (this.deMalediction > 69 && this.deMalediction <= 80) { // Inconveniant\r\n            magicalProperty = {\r\n                description: [''],\r\n                infos: null,\r\n                table: null,\r\n                title: 'Inconvéniant',\r\n                ul: null,\r\n            } as MagicalProperty;\r\n            if (this.deMalediction2) {\r\n                this.inconveniant = this.getFromChance(this.inconveniants, this.deMalediction2);\r\n            }\r\n            magicalProperty.description[0] = this.inconveniant;\r\n        } else if (this.deMalediction > 80 && this.deMalediction <= 92) { // Effet inventé\r\n            magicalProperty = {\r\n                description: ['Choisissez un effet préjudiciable, en vous inspirant éventuellement des objets maudits spéciaux, détaillés ci-dessous. ' +\r\n                'L’objet peut commencer à fonctionner normalement, mais à un moment, ses propriétés changent radicalement.'],\r\n                infos: null,\r\n                table: null,\r\n                title: 'Effet radicalement différent.',\r\n                ul: null,\r\n            } as MagicalProperty;\r\n        } else if (this.deMalediction > 92) { // Objet maudit spécial\r\n            if (this.deMalediction2 && this.dePuissanceMalediction) {\r\n                magicalProperty = JSON.parse(JSON.stringify(this.getObjetsMaudits()[this.deMalediction2 - 1])) as MagicalProperty;\r\n            }\r\n        }\r\n        this.malediction = magicalProperty;\r\n        return magicalProperty;\r\n    }\r\n\r\n    isInconveniant(): boolean {\r\n        return this.deMalediction > 69 && this.deMalediction <= 80;\r\n    }\r\n\r\n    isConditionDeFonctionnement(): boolean {\r\n        return this.deMalediction > 57 && this.deMalediction <= 69;\r\n    }\r\n\r\n    isConditionExterieure(): boolean {\r\n        return this.deMalediction > 34 && this.deMalediction <= 46;\r\n    }\r\n\r\n    isObjetMauditSpecial(): boolean {\r\n        return this.deMalediction > 92;\r\n    }\r\n\r\n    selection() {\r\n        this.validee = true;\r\n        this.maledictionEventEmitter.emit(this.malediction);\r\n    }\r\n\r\n    deselection() {\r\n        this.validee = false;\r\n        this.maledictionEventEmitter.emit(null);\r\n    }\r\n\r\n}\r\n","<div class=\"form-row\">\r\n    <div class=\"col-md-2 mb-3\">\r\n        <label for=\"Malediction\">Dé Malédiction (1D100)\r\n        </label>\r\n        <input min=\"1\" max=\"100\" type=\"number\" class=\"form-control\"\r\n               id=\"Malediction\"\r\n               name=\"Malediction\"\r\n               placeholder=\"Malediction\"\r\n               [(ngModel)]=\"this.deMalediction\"\r\n               (ngModelChange)=\"this.resetMalediction(); this.getMalediction()\"\r\n               required>\r\n    </div>\r\n\r\n    <div class=\"col-md-2 mb-3\" *ngIf=\"this.isObjetMauditSpecial()\">\r\n        <label for=\"PuissanceMalediction\">Puissance Malédiction (1D3)\r\n        </label>\r\n        <input min=\"1\" max=\"3\" type=\"number\" class=\"form-control\"\r\n               id=\"PuissanceMalediction\"\r\n               name=\"PuissanceMalediction\"\r\n               placeholder=\"PuissanceMalediction\"\r\n               [(ngModel)]=\"this.dePuissanceMalediction\"\r\n               (ngModelChange)=\"this.resetMalediction(); this.getMalediction()\"\r\n               required>\r\n    </div>\r\n\r\n    <div class=\"col-md-2 mb-3\" *ngIf=\"this.isConditionExterieure() || this.isInconveniant()\">\r\n        <label for=\"deMalediction2\">Dé condition ou inconveniant (1D100)\r\n        </label>\r\n        <input min=\"1\" max=\"100\" type=\"number\" class=\"form-control\"\r\n               id=\"deMalediction2\"\r\n               name=\"deMalediction2\"\r\n               placeholder=\"deMalediction2\"\r\n               [(ngModel)]=\"this.deMalediction2\"\r\n               (ngModelChange)=\"this.getMalediction()\"\r\n               required>\r\n    </div>\r\n    <div class=\"col-md-2 mb-3\" *ngIf=\"this.dePuissanceMalediction && this.isObjetMauditSpecial()\">\r\n        <label for=\"deMalediction2Bis\">Objet maudit spécial (1D{{this.getNbObjetsMaudits()}})\r\n        </label>\r\n        <input min=\"1\" [max]=\"this.getNbObjetsMaudits()\" type=\"number\" class=\"form-control\"\r\n               id=\"deMalediction2Bis\"\r\n               name=\"deMalediction2Bis\"\r\n               placeholder=\"deMalediction2Bis\"\r\n               [(ngModel)]=\"this.deMalediction2\"\r\n               (ngModelChange)=\"this.getMalediction()\"\r\n               required>\r\n    </div>\r\n</div>\r\n\r\n<div *ngIf=\"this.malediction && !this.modificationEnCoursMalediction\">\r\n    <h3>Malediction</h3>\r\n    <h4>{{this.malediction.title}}</h4>\r\n    <span *ngFor=\"let description of this.malediction.description; let index = index;\">\r\n                <span [innerHTML]=\"description\"></span><br/>\r\n                <ng-container *ngFor=\"let table of this.malediction.table;\">\r\n                    <span *ngIf=\"table.position === index + 1\">\r\n                        <table cellspacing=\"1\" border=\"1\">\r\n                            <tbody>\r\n                            <tr *ngFor=\"let th of table.title; let thIndex = index\">\r\n                                <ng-container *ngFor=\"let title of th; let titleIndex = index\">\r\n                                    <th *ngIf=\"thIndex === 0 && table.title.length > 1 && table.title[0].length < table.title[1].length; else elseBlock\"\r\n                                        [colSpan]=\"table.title[1][thIndex].length / table.title[0][thIndex].length\">{{title}}</th>\r\n                                    <ng-template #elseBlock>\r\n                                        <th>{{title}}</th>\r\n                                    </ng-template>\r\n                                </ng-container>\r\n                            </tr>\r\n                            <tr *ngFor=\"let td of table.tr; let tdIndex = index\">\r\n                                <ng-container *ngFor=\"let content of td\">\r\n                                    <td>{{content}}</td>\r\n                                </ng-container>\r\n                            </tr>\r\n                            </tbody>\r\n                        </table>\r\n                    </span>\r\n                </ng-container>\r\n\r\n\r\n                <ng-container *ngFor=\"let ul of this.malediction.ul;\">\r\n                    <span *ngIf=\"+ul.position === index + 1\">\r\n                        <ul>\r\n                            <li *ngFor=\"let li of ul.li;\">{{li}}</li>\r\n                        </ul>\r\n                    </span>\r\n                </ng-container>\r\n            </span>\r\n    <span *ngIf=\"malediction.infos\" [innerHTML]=\"malediction.infos.data\"></span><br/><br/>\r\n    <button (click)=\"this.modifierMalediction()\" [disabled]=\"this.validee\">Modifier malediction</button>\r\n    <button *ngIf=\"!this.validee else maledictionValidee\" (click)=\"this.selection()\">Valider malediction</button>\r\n    <ng-template #maledictionValidee>\r\n        <button (click)=\"this.deselection()\">Dévalider malediction</button>\r\n    </ng-template>\r\n</div>\r\n\r\n<span *ngIf=\"this.malediction && this.modificationEnCoursMalediction\">\r\n    <h3>Malediction</h3>\r\n    <h4><textarea [(ngModel)]=\"this.malediction.title\"></textarea></h4>\r\n    <span\r\n        *ngFor=\"let description of this.malediction.description; let indexMalediction = index; trackBy: trackByFn\">\r\n\r\n        <span>\r\n            <textarea [(ngModel)]=\"malediction.description[indexMalediction]\"></textarea>\r\n        </span>\r\n        <br/>\r\n\r\n        <ng-container *ngFor=\"let ul of this.malediction.ul\">\r\n                    <span *ngIf=\"ul.position === this.indexMalediction + 1\">\r\n                        <ul>\r\n                            <li *ngFor=\"let li of ul.li;\">{{li}}</li>\r\n                        </ul>\r\n                    </span>\r\n        </ng-container>\r\n    </span>\r\n    <span *ngIf=\"malediction.infos\">\r\n        <ng-container\r\n            *ngFor=\"let shit of this.malediction.infos.data; let indexDataMalediction = index; trackBy: trackByFn\">\r\n                    <textarea [(ngModel)]=\"this.malediction.infos.data[indexDataMalediction]\"></textarea>\r\n            </ng-container>\r\n    </span>\r\n    <button (click)=\"this.modifierMalediction()\">Valider les modifications</button>\r\n    <button (click)=\"this.resetContenuMalediction()\">Reset malediction</button>\r\n</span>\r\n","import {JSonLoadService} from '../services/json-load.service';\r\nimport {ObjetCommun} from './objet-commun';\r\n\r\nexport abstract class ObjetCombat extends ObjetCommun {\r\n\r\n    deBonus: number;\r\n    deSpecial: number;\r\n    deType: number;\r\n\r\n    isSpecial = false;\r\n    isMagique = false;\r\n\r\n    categorieObjet: string;\r\n    nomTaille: string;\r\n    materiau: Materiau;\r\n    nomMateriau: string;\r\n\r\n    deObjet: number;\r\n    Categories: number;\r\n\r\n    constructor(jsonService: JSonLoadService) {\r\n        super(jsonService);\r\n    }\r\n\r\n    getProprieteMagique() {\r\n        this.bonus = 1;\r\n        super.getProprieteMagique();\r\n        this.setBonus();\r\n    }\r\n\r\n    setBonus() {\r\n        if (this.deProprieteMagique && this.deProprieteMagique <= this.getNbProprietesMagiques(this.allProprietesMagiques)) {\r\n            const data = this.proprietesMagiques[0].infos.data;\r\n            const indexPrix = data.indexOf(data.filter(f => f.includes('Prix'))[0]);\r\n            const bonusToNumber = data[indexPrix].match(/[Bb]onus.* \\+([0-9])/);\r\n            if (bonusToNumber && !isNaN(+bonusToNumber[1])) {\r\n                this.bonus = +bonusToNumber[1];\r\n            }\r\n        }\r\n    }\r\n\r\n    reset() {\r\n        this.proprietesMagiques = [];\r\n        this.bonus = 1;\r\n        // this.prix = 0;\r\n    }\r\n\r\n    resetHard() {\r\n        this.nomMateriau = undefined;\r\n        this.nomTaille = undefined;\r\n        this.materiau = undefined;\r\n    }\r\n}\r\n","import {JSonLoadService} from '../services/json-load.service';\r\nimport {MaledictionsComponent} from './maledictions/maledictions.component';\r\nimport {Component, Injectable, Input} from '@angular/core';\r\n\r\n@Injectable()\r\nexport abstract class ObjetCommun {\r\n\r\n    maledictionComponent: MaledictionsComponent;\r\n    maudit: boolean;\r\n\r\n    nom: string;\r\n    fauxNom: string;\r\n    bonus: number;\r\n    type: string;\r\n    proprietesMagiques: MagicalProperty[] = [];\r\n    proprietesMagiquesFakes: MagicalProperty[];\r\n    prix = 0;\r\n    currencyType = 'po';\r\n    prixProprieteMagique: number;\r\n    proprieteMagiqueCurrencyType: string;\r\n\r\n    dePuissance: number;\r\n    deProprieteMagique: number;\r\n    deNombreProprietesMagiques = 1;\r\n\r\n    allProprietesMagiques: SortedMagicalProperty;\r\n\r\n    modificationEnCours = false;\r\n\r\n    malediction: MagicalProperty;\r\n\r\n    valide = false;\r\n\r\n    afficherNom = false;\r\n    afficherEffetMagique = false;\r\n    afficherMalediction = false;\r\n    afficherMateriau = false;\r\n    afficherInfos = false;\r\n\r\n    protected constructor(jsonService: JSonLoadService) {\r\n    }\r\n\r\n    resetContenu() {\r\n        this.getProprieteMagique();\r\n        this.setNom();\r\n        this.modificationEnCours = false;\r\n    }\r\n\r\n    trackByFn(index, item) {\r\n        return index;\r\n    }\r\n\r\n    selectionMalediction($event: MagicalProperty) {\r\n        this.malediction = $event;\r\n        // console.log(this.malediction);\r\n    }\r\n\r\n    modifierContenu() {\r\n        this.modificationEnCours = !this.modificationEnCours;\r\n        this.checkProprietesMagiquesIntegrity();\r\n    }\r\n\r\n    getProprietesMagiques(proprietesMagiques: SortedMagicalProperty) {\r\n        return this.dePuissance === 1 ? proprietesMagiques.weakAndSmall.concat(proprietesMagiques.unknown)\r\n            : this.dePuissance === 2 ? proprietesMagiques.moderate.concat(proprietesMagiques.unknown)\r\n                : this.dePuissance === 3 ? proprietesMagiques.strongAnfPowerful.concat(proprietesMagiques.unknown) :\r\n                    null;\r\n    }\r\n\r\n    getProprieteMagique() {\r\n        this.proprietesMagiques = [];\r\n        if (this.dePuissance && this.deProprieteMagique\r\n            && this.deProprieteMagique <= this.getNbProprietesMagiques(this.allProprietesMagiques)) {\r\n            this.proprietesMagiques.push(\r\n                JSON.parse(JSON.stringify(\r\n                    this.getProprietesMagiques(this.allProprietesMagiques)[this.deProprieteMagique - 1])) as MagicalProperty);\r\n            this.setNom();\r\n            this.getPrixAndCurrency();\r\n        }\r\n    }\r\n\r\n    getNbProprietesMagiques(proprietesMagiques: SortedMagicalProperty): number {\r\n        return this.getProprietesMagiques(proprietesMagiques).length;\r\n    }\r\n\r\n    getPrixAndCurrency() {\r\n        this.prixProprieteMagique = 0;\r\n        this.proprieteMagiqueCurrencyType = null;\r\n        for (const proprieteMagique of this.proprietesMagiques) {\r\n            const data = proprieteMagique.infos.data;\r\n            const indexPrix = data.indexOf(data.filter(f => f.includes('Prix'))[0]);\r\n            if (indexPrix !== -1 && !data[indexPrix].includes('bonus')) {\r\n                const match = data[indexPrix].match(/([0-9]+ )+/)[0];\r\n                this.prixProprieteMagique = +match.replace(' ', '').replace(' ', '');\r\n                const matchCurrency = data[indexPrix].substring(data[indexPrix].indexOf(match)).match(/[a-z]+[ |\\.]/)[0];\r\n                this.proprieteMagiqueCurrencyType = matchCurrency.replace(match, '')\r\n                    .replace(' ', '').replace('.', '');\r\n            }\r\n        }\r\n    }\r\n\r\n    getMalediction(): Malediction {\r\n        let maledictionToAdd = null;\r\n        if (this.malediction) {\r\n            let descriptionMalediction = '';\r\n            for (const description of this.malediction.description) {\r\n                descriptionMalediction += description;\r\n            }\r\n            maledictionToAdd = {\r\n                idMalediction: null,\r\n                nom: this.malediction.title,\r\n                description: descriptionMalediction,\r\n            } as Malediction;\r\n        }\r\n        return maledictionToAdd;\r\n    }\r\n\r\n    checkProprietesMagiquesIntegrity() {\r\n        for (let i = 0 ; i < this.proprietesMagiques.length ; i++) {\r\n            for (let indexDescription = 0 ; indexDescription < this.proprietesMagiques[i].description.length ; indexDescription++) {\r\n                if (this.proprietesMagiques[i].description[indexDescription].length === 0) {\r\n                    this.proprietesMagiques[i].description.splice(indexDescription, 1);\r\n                    indexDescription--;\r\n                }\r\n            }\r\n            if (this.proprietesMagiques[i].table) {\r\n                for (let indexTable = 0; indexTable < this.proprietesMagiques[i].table.length; indexTable++) {\r\n                    for (let indexTableTitle = 0; indexTableTitle <\r\n                    this.proprietesMagiques[i].table[indexTable].title.length; indexTableTitle++) {\r\n                        for (let indexTableTitleContent = 0; indexTableTitleContent <\r\n                        this.proprietesMagiques[i].table[indexTable].title[indexTableTitle].length; indexTableTitleContent++) {\r\n                            if (this.proprietesMagiques[i].table[indexTable].title[indexTableTitle][indexTableTitleContent].length === 0) {\r\n                                this.proprietesMagiques[i].table[indexTable].title[indexTableTitle].splice(indexTableTitleContent, 1);\r\n                                indexTableTitleContent--;\r\n                            }\r\n                        }\r\n                        if (this.proprietesMagiques[i].table[indexTable].title[indexTableTitle].length === 0) {\r\n                            this.proprietesMagiques[i].table[indexTable].title.splice(indexTableTitle, 1);\r\n                            indexTableTitle--;\r\n                        }\r\n                    }\r\n                    for (let indexTableTr = 0; indexTableTr <\r\n                    this.proprietesMagiques[i].table[indexTable].tr.length; indexTableTr++) {\r\n                        for (let indexTableTrContent = 0; indexTableTrContent <\r\n                        this.proprietesMagiques[i].table[indexTable].tr[indexTableTr].length; indexTableTrContent++) {\r\n                            if (this.proprietesMagiques[i].table[indexTable].tr[indexTableTr][indexTableTrContent].length === 0) {\r\n                                this.proprietesMagiques[i].table[indexTable].tr[indexTableTr].splice(indexTableTrContent, 1);\r\n                                indexTableTrContent--;\r\n                            }\r\n                        }\r\n                        if (this.proprietesMagiques[i].table[indexTable].tr[indexTableTr].length === 0) {\r\n                            this.proprietesMagiques[i].table[indexTable].tr.splice(indexTableTr, 1);\r\n                            indexTableTr--;\r\n                        }\r\n                    }\r\n                    if (this.proprietesMagiques[i].table[indexTable].title.length === 0\r\n                        && this.proprietesMagiques[i].table[indexTable].tr.length === 0) {\r\n                        this.proprietesMagiques[i].table.splice(indexTable, 1);\r\n                        indexTable--;\r\n                    }\r\n                }\r\n            }\r\n            if (this.proprietesMagiques[i].ul) {\r\n                for (let indexUl = 0; indexUl < this.proprietesMagiques[i].ul.length; indexUl++) {\r\n                    for (let indexLi = 0; indexLi < this.proprietesMagiques[i].ul[indexUl].li.length; indexLi++) {\r\n                        if (this.proprietesMagiques[i].ul[indexUl].li[indexLi].length === 0) {\r\n                            this.proprietesMagiques[i].ul[indexUl].li.splice(indexLi, 1);\r\n                            indexLi--;\r\n                        }\r\n                    }\r\n                    if (this.proprietesMagiques[i].ul.length === 0) {\r\n                        this.proprietesMagiques[i].ul.splice(indexUl, 1);\r\n                        indexUl--;\r\n                    }\r\n                }\r\n            }\r\n\r\n            if (this.proprietesMagiques[i].description.length === 0\r\n                && !this.proprietesMagiques[i].table\r\n                && !this.proprietesMagiques[i].ul) {\r\n                console.log('Suppression de la propriete magique :' + this.proprietesMagiques[i].title);\r\n                this.proprietesMagiques.splice(i, 1);\r\n                i--;\r\n            }\r\n        }\r\n    }\r\n\r\n    abstract castToObjetCommunForDB(idPersonnageSelectionnee: number);\r\n\r\n    abstract setNom();\r\n\r\n    changeValidation(name: string) {\r\n        switch (name.toLowerCase()) {\r\n            case 'nom':\r\n                this.afficherNom = !this.afficherNom;\r\n                break;\r\n            case 'effetmagique':\r\n                this.afficherEffetMagique = !this.afficherEffetMagique;\r\n                break;\r\n            case 'malediction':\r\n                this.afficherMalediction = !this.afficherMalediction;\r\n                break;\r\n            case 'materiau':\r\n                this.afficherMateriau = !this.afficherMateriau;\r\n                break;\r\n            case 'infos':\r\n                this.afficherInfos = !this.afficherInfos;\r\n                break;\r\n\r\n        }\r\n    }\r\n\r\n    getArrayPourNbProprieteMagique() {\r\n        this.proprietesMagiquesFakes = [];\r\n        this.proprietesMagiquesFakes = [].constructor(this.deNombreProprietesMagiques);\r\n    }\r\n\r\n    objetValidable() {\r\n        return this.fauxNom || this.afficherNom;\r\n    }\r\n\r\n    creationProprieteMagique(indexProprieteMagique) {\r\n        if (!(this.proprietesMagiques.length === indexProprieteMagique)) {\r\n            throw new Error('Incohérence dans les propriétés magiques, dans leurs nombres. Il y aurait du en avoir ' + indexProprieteMagique\r\n                + ', mais il y en a  ' + this.proprietesMagiques.length  + '.');\r\n        }\r\n        this.proprietesMagiques.push(null);\r\n        console.log('Création d\\'une propriété magique, il y en a maintent : ' + this.proprietesMagiques.length);\r\n    }\r\n\r\n    changeProprieteMagique($event) {\r\n        console.log($event.proprieteMagique);\r\n        console.log($event.indexProprieteMagique);\r\n        this.proprietesMagiques[$event.indexProprieteMagique] = $event.proprieteMagique;\r\n        console.log(this.proprietesMagiques[$event.indexProprieteMagique] = $event.proprieteMagique);\r\n        this.setNom();\r\n    }\r\n\r\n    getNomsProprieteMagique(): string {\r\n        // console.log(this.proprietesMagiques.length);\r\n        let nomProprietesMagiques = '';\r\n        for (const propriete of this.proprietesMagiques) {\r\n            if (propriete && propriete.title) {\r\n                if (nomProprietesMagiques.length > 0) {\r\n                    nomProprietesMagiques += ' & ' + propriete.title;\r\n                } else {\r\n                    nomProprietesMagiques += propriete.title;\r\n                }\r\n            }\r\n        }\r\n        return nomProprietesMagiques;\r\n    }\r\n\r\n    selection() {\r\n        this.valide = true;\r\n        this.setNom();\r\n        this.getPrixAndCurrency();\r\n    }\r\n}\r\n\r\n","import {Component, EventEmitter, Input, OnInit, Output, ViewChild} from '@angular/core';\r\nimport {JSonLoadService} from '../../services/json-load.service';\r\nimport {MaledictionsComponent} from '../maledictions/maledictions.component';\r\nimport {ObjetCommun} from '../objet-commun';\r\n\r\n@Component({\r\n    selector: 'app-objet-simple',\r\n    templateUrl: './objet-simple.component.html',\r\n    styleUrls: ['./objet-simple.component.scss']\r\n})\r\nexport class ObjetSimpleComponent extends ObjetCommun implements OnInit {\r\n\r\n    @Output() objetSimpleEventEmitter = new EventEmitter<ObjetSimpleComponent>();\r\n    @ViewChild('maledictionsComponent') maledictionComponent: MaledictionsComponent;\r\n    @Input() maudit: boolean;\r\n\r\n    @Input() parametres: string[];\r\n\r\n    constructor(private jsonService: JSonLoadService) {\r\n        super(jsonService);\r\n    }\r\n\r\n    ngOnInit(): void {\r\n        this.jsonService.getJSON(this.parametres[3], this.parametres[4]).then(\r\n            (effetsObjet: any) => {\r\n                // console.log(effetsObjet);\r\n                this.allProprietesMagiques = JSON.parse(effetsObjet) as SortedMagicalProperty;\r\n                // console.log(JSON.parse(effetsObjet).strongAnfPowerful[9]);\r\n                // console.log(this.allObjets.strongAnfPowerful[9]);\r\n            }\r\n        );\r\n        this.type = this.parametres[2];\r\n        this.getArrayPourNbProprieteMagique();\r\n    }\r\n\r\n    loadComplete(): boolean {\r\n        if (this.maudit) {\r\n            return !!this.allProprietesMagiques && this.maledictionComponent.loadComplete();\r\n        } else {\r\n            return !!this.allProprietesMagiques;\r\n        }\r\n    }\r\n\r\n    reset() {\r\n        this.proprietesMagiques = [];\r\n        this.nom = undefined;\r\n        // this.prix = 0;\r\n    }\r\n\r\n    setNom() {\r\n        if (this.proprietesMagiques.length > 0) {\r\n            this.nom = this.parametres[2] + ' ' + this.getNomsProprieteMagique();\r\n        } else {\r\n            this.nom = this.parametres[2];\r\n        }\r\n        // console.log(this.nom);\r\n    }\r\n\r\n    setBonus(data: string[]) {\r\n        this.bonus = null;\r\n    }\r\n\r\n    selection() {\r\n        super.selection();\r\n        this.objetSimpleEventEmitter.emit(this);\r\n    }\r\n\r\n    deselection() {\r\n        this.valide = false;\r\n        this.objetSimpleEventEmitter.emit(null);\r\n    }\r\n\r\n    castToObjetCommunForDB(idPersonnageSelectionnee: number = 0): ObjetCommunForDB {\r\n        const maledictionToAdd = this.getMalediction();\r\n        let values: ObjetCommunForDB;\r\n        console.log(this.prix);\r\n        console.log(this.proprietesMagiques);\r\n        values = {\r\n            idObjet: null,\r\n            idPersonnage: idPersonnageSelectionnee,\r\n            nom: this.nom,\r\n            fauxNom: this.fauxNom,\r\n            bonus: this.bonus,\r\n            type: this.type,\r\n            prix: this.prix + this.prixProprieteMagique,\r\n            prixNonHumanoide: null,\r\n            devise: this.currencyType,\r\n            proprieteMagique: this.proprietesMagiques,\r\n            malediction: maledictionToAdd,\r\n            categorie: null,\r\n            materiau: null,\r\n            taille: null,\r\n            degats: null,\r\n            critique: null,\r\n            facteurPortee: null,\r\n            armure: null,\r\n            bonusDexteriteMax: null,\r\n            malusArmureTests: null,\r\n            risqueEchecSorts: null,\r\n            afficherNom: this.afficherNom,\r\n            afficherEffetMagique: this.afficherEffetMagique,\r\n            afficherMalediction: this.afficherMalediction,\r\n            afficherMateriau: this.afficherMateriau,\r\n            afficherInfos: this.afficherInfos,\r\n        } as ObjetCommunForDB;\r\n\r\n        return values;\r\n    }\r\n}\r\n","<app-maledictions *ngIf=\"this.maudit\" #maledictionsComponent (maledictionEventEmitter)=\"selectionMalediction($event)\"></app-maledictions>\r\n\r\n<div style=\"width: 100%\" class=\"objetSimple\">\r\n    <div class=\"titleTop\">\r\n        <div class=\"h1Fake\">{{this.parametres[0]}}</div>\r\n        <div class=\"validationAffichage\">\r\n            <div class=\"validationBox\" (click)=\"this.changeValidation('nom')\" [ngClass]=\"{'validatedBox' : this.afficherNom}\"\r\n                 data-toggle=\"tooltip\" data-placement=\"bottom\" matTooltip=\"Afficher le nom réel de l'objet\">{{this.afficherNom ? 1 : 0}}</div>\r\n            <div class=\"validationBox\" (click)=\"this.changeValidation('effetMagique')\" [ngClass]=\"{'validatedBox' : this.afficherEffetMagique}\"\r\n                 data-toggle=\"tooltip\" data-placement=\"bottom\" matTooltip=\"Afficher l'effet magique de l'objet\">{{this.afficherEffetMagique ? 1 : 0}}</div>\r\n            <div class=\"validationBox\" (click)=\"this.changeValidation('malediction')\" [ngClass]=\"{'validatedBox' : this.afficherMalediction}\"\r\n                 data-toggle=\"tooltip\" data-placement=\"bottom\" matTooltip=\"Afficher la malédiction de l'objet\">{{this.afficherMalediction ? 1 : 0}}</div>\r\n            <div class=\"validationBox\" (click)=\"this.changeValidation('materiau')\" [ngClass]=\"{'validatedBox' : this.afficherMateriau}\"\r\n                 data-toggle=\"tooltip\" data-placement=\"bottom\" matTooltip=\"Afficher le matériau de l'objet\">{{this.afficherMateriau ? 1 : 0}}</div>\r\n            <div class=\"validationBox\" (click)=\"this.changeValidation('infos')\" [ngClass]=\"{'validatedBox' : this.afficherInfos}\"\r\n                 data-toggle=\"tooltip\" data-placement=\"bottom\" matTooltip=\"Afficher les infos de l'effet magique\">{{this.afficherInfos ? 1 : 0}}</div>\r\n        </div>\r\n    </div>\r\n<!--\r\n    <form class=\"needs-validation\" id=\"objetSimpleForm\">\r\n    <div class=\"form-row\">\r\n        <div style=\"width: 100%\" *ngIf=\"this.loadComplete()\">\r\n            <div class=\"form-row\">\r\n                <div class=\"col-md-2 mb-3\">\r\n                    <label for=\"NbPropMag\">Nombre de propriétés magiques (max : 10)\r\n                    </label>\r\n                    <input min=\"1\" max=\"10\" type=\"number\" class=\"form-control\"\r\n                           id=\"NbPropMag\"\r\n                           name=\"NbPropMag\"\r\n                           placeholder=\"Nombre propriétés magiques\"\r\n                           [(ngModel)]=\"this.deNombreProprietesMagiques\"\r\n                           (ngModelChange)=\"this.getArrayPourNbProprieteMagique()\"\r\n                           required>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    </form>\r\n\r\n    <div style=\"width: 100%\" *ngIf=\"this.proprietesMagiques.length > 0 && !this.modificationEnCours\">\r\n        <h1>Résultat</h1>\r\n        <div>\r\n            <h3>{{this.parametres[2]}} : <span *ngIf=\"this.proprietesMagiques.length > 0\">{{this.getNomsProprieteMagique()}}</span></h3>\r\n            <h4 *ngIf=\"this.fauxNom\"> Faux Nom : {{this.fauxNom}}</h4>\r\n\r\n            <ng-container *ngFor=\"let proprieteMagique of this.proprietesMagiques;\">\r\n                <h4>{{proprieteMagique.title}}</h4>\r\n                <span *ngFor=\"let description of proprieteMagique.description; let index = index;\">\r\n                    <span [innerHTML]=\"description\"></span><br/>\r\n                    <ng-container *ngFor=\"let table of proprieteMagique.table;\">\r\n                        <span *ngIf=\"table.position === index + 1\">\r\n                            <table cellspacing=\"1\" border=\"1\">\r\n                                <tbody>\r\n                                <tr *ngFor=\"let th of table.title; let thIndex = index\">\r\n                                    <ng-container *ngFor=\"let title of th; let titleIndex = index\">\r\n                                        <th *ngIf=\"thIndex === 0 && table.title.length > 1 && table.title[0].length < table.title[1].length; else elseBlock\"\r\n                                            [colSpan]=\"table.title[1].length / table.title[0].length\">{{title}}</th>\r\n                                        <ng-template #elseBlock>\r\n                                            <th>{{title}}</th>\r\n                                        </ng-template>\r\n                                    </ng-container>\r\n                                </tr>\r\n                                <tr *ngFor=\"let td of table.tr; let tdIndex = index\">\r\n                                    <ng-container *ngFor=\"let content of td\">\r\n                                        <td>{{content}}</td>\r\n                                    </ng-container>\r\n                                </tr>\r\n                                </tbody>\r\n                            </table>\r\n                        </span>\r\n                    </ng-container>\r\n\r\n                    <ng-container *ngFor=\"let ul of proprieteMagique.ul;\">\r\n                        <span *ngIf=\"+ul.position === index + 1\">\r\n                            <ul>\r\n                                <li *ngFor=\"let li of ul.li;\" [innerHTML]=\"li\"></li>\r\n                            </ul>\r\n                        </span>\r\n                    </ng-container>\r\n                </span>\r\n                <br/>\r\n                <br/>\r\n                <span *ngIf=\"this.proprieteMagique.infos\" [innerHTML]=\"this.proprieteMagique.infos.data\"></span><br/><br/>\r\n            </ng-container>\r\n        </div>\r\n        <button (click)=\"this.modifierContenu()\" [disabled]=\"this.valide\">Modifier propriété magique</button>\r\n        <button *ngIf=\"!this.valide else objetValidee\" (click)=\"this.selection()\">Valider objet</button>\r\n        <ng-template #objetValidee>\r\n            <button (click)=\"this.deselection()\">Dévalider objet</button>\r\n        </ng-template>\r\n    </div>\r\n\r\n\r\n    <div style=\"width: 100%\" *ngIf=\"this.proprietesMagiques.length > 0 && this.modificationEnCours\">\r\n        <h1>Résultat</h1>\r\n        <div>\r\n            <h3>{{this.parametres[2]}} : <span *ngIf=\"this.proprietesMagiques.length > 0\">{{this.getNomsProprieteMagique()}}</span></h3>\r\n\r\n            <ng-container\r\n                *ngFor=\"let proprieteObjet of this.proprietesMagiques; let indexPropriete = index; trackBy: trackByFn\">\r\n                <h4><textarea [(ngModel)]=\"this.proprietesMagiques[indexPropriete].title\"></textarea></h4>\r\n                <mat-form-field appearance=\"fill\" class=\"fauxNom\">\r\n                    <mat-label>Faux nom</mat-label>\r\n                    <textarea [(ngModel)]=\"this.fauxNom\" rows=\"1\" matInput></textarea>\r\n                </mat-form-field>\r\n                <span\r\n                    *ngFor=\"let description of this.proprietesMagiques[indexPropriete].description; let indexDescription = index; trackBy: trackByFn\">\r\n                    <textarea\r\n                        [(ngModel)]=\"this.proprietesMagiques[indexPropriete].description[indexDescription]\"></textarea><br/>\r\n\r\n                    <ng-container\r\n                        *ngFor=\"let table of this.proprietesMagiques[indexPropriete].table; let indexTable = index\">\r\n                        <span *ngIf=\"+table.position === indexDescription + 1\">\r\n                            <table>\r\n                                <tbody>\r\n                                <tr *ngFor=\"let th of this.proprietesMagiques[indexPropriete].table[indexTable].title; let thIndex = index\">\r\n                                    <ng-container\r\n                                        *ngFor=\"let title of this.proprietesMagiques[indexPropriete].table[indexTable].title[thIndex]; let tdIndex = index; trackBy: trackByFn\">\r\n                                        <th *ngIf=\"thIndex === 0 && table.title.length > 1 && table.title[0].length < table.title[1].length; else elseBlock\"\r\n                                            [colSpan]=\"table.title[1].length / table.title[0].length\">\r\n                                            <textarea\r\n                                                [(ngModel)]=\"this.proprietesMagiques[indexPropriete].table[indexTable].title[thIndex][tdIndex]\"></textarea>\r\n                                        </th>\r\n                                        <ng-template #elseBlock>\r\n                                            <th>\r\n                                                <textarea\r\n                                                    [(ngModel)]=\"this.proprietesMagiques[indexPropriete].table[indexTable].title[thIndex][tdIndex]\"></textarea>\r\n                                            </th>\r\n                                        </ng-template>\r\n                                    </ng-container>\r\n                                </tr>\r\n                                <tr *ngFor=\"let td of this.proprietesMagiques[indexPropriete].table[indexTable].tr; let trIndex = index\">\r\n                                    <ng-container\r\n                                        *ngFor=\"let content of this.proprietesMagiques[indexPropriete].table[indexTable].tr[trIndex]; let tdIndex = index; trackBy: trackByFn\">\r\n                                        <td>\r\n                                            <textarea\r\n                                                [(ngModel)]=\"this.proprietesMagiques[indexPropriete].table[indexTable].tr[trIndex][tdIndex]\"></textarea>\r\n                                        </td>\r\n                                    </ng-container>\r\n                                </tr>\r\n                                </tbody>\r\n                            </table>\r\n                        </span>\r\n                    </ng-container>\r\n\r\n                    <ng-container *ngFor=\"let shit of this.proprietesMagiques[indexPropriete].ul; let indexUl = index;\">\r\n                        <span *ngIf=\"this.proprietesMagiques[indexPropriete].ul[indexUl].position === indexDescription + 1\">\r\n                            <ul>\r\n                                <li *ngFor=\"let shitBis of this.proprietesMagiques[indexPropriete].ul[indexUl].li; let indexLi = index; trackBy: trackByFn\">\r\n                                    <textarea [(ngModel)]=\"this.proprietesMagiques[indexPropriete].ul[indexUl].li[indexLi]\"\r\n                                              [name]=\"'positon'+this.proprietesMagiques[indexPropriete].ul[indexUl].position+'ul'+indexUl+'li'+indexLi\"></textarea>\r\n                                </li>\r\n                            </ul>\r\n                        </span>\r\n                    </ng-container>\r\n                </span>\r\n                <br/>\r\n                <br/>\r\n                <ng-container\r\n                    *ngFor=\"let shit of this.proprietesMagiques[indexPropriete].infos.data; let indexData = index; trackBy: trackByFn\">\r\n                    <textarea [(ngModel)]=\"this.proprietesMagiques[indexPropriete].infos.data[indexData]\"></textarea>\r\n                </ng-container>\r\n            </ng-container>\r\n        </div>\r\n        <button (click)=\"this.modifierContenu()\">Valider propriété magique</button>\r\n        <button (click)=\"this.resetContenu()\">Reset propriété magique</button>\r\n    </div>\r\n\r\n-->\r\n\r\n\r\n    <div style=\"width: 100%\" *ngIf=\"!this.modificationEnCours\">\r\n        <h1>Résultat</h1>\r\n        <div>\r\n            <h3>{{this.parametres[2]}} : <span *ngIf=\"this.proprietesMagiques.length > 0\">{{this.getNomsProprieteMagique()}}</span></h3>\r\n            <h4 *ngIf=\"this.fauxNom\"> Faux Nom : {{this.fauxNom}}</h4>\r\n        </div>\r\n        <button (click)=\"this.modifierContenu()\" [disabled]=\"this.valide\">Modifier objet</button>\r\n    </div>\r\n\r\n\r\n    <div style=\"width: 100%\" *ngIf=\"this.modificationEnCours\">\r\n        <h1>Résultat</h1>\r\n        <div>\r\n            <h3>{{this.parametres[2]}} : <span *ngIf=\"this.proprietesMagiques.length > 0\">{{this.getNomsProprieteMagique()}}</span></h3>\r\n            <mat-form-field appearance=\"fill\" class=\"fauxNom\">\r\n                <mat-label>Faux nom</mat-label>\r\n                <textarea [(ngModel)]=\"this.fauxNom\" rows=\"1\" matInput></textarea>\r\n            </mat-form-field>\r\n        </div>\r\n        <button (click)=\"this.modifierContenu()\">Valider objet</button>\r\n    </div>\r\n\r\n\r\n    <div *ngFor=\"let proprieteMagique of this.proprietesMagiquesFakes; let indexPropriete = index\">\r\n        <app-propriete-magique [allProprietesMagiques]=\"this.allProprietesMagiques\"\r\n                               [indexProprieteMagique]=\"indexPropriete\"\r\n                               [nom]=\"this.parametres[1]\"\r\n                               (creationProprieteMagiqueEventEmitter)=\"this.creationProprieteMagique($event)\"\r\n                               (proprieteMagiqueEventEmitter)=\"changeProprieteMagique($event)\"\r\n                               (resetProprieteMagiqueEventEmitter)=\"this.getProprieteMagique()\"></app-propriete-magique>\r\n    </div>\r\n    <button class=\"btn btn-primary\" *ngIf=\"!this.valide else objetValidee\" (click)=\"this.selection()\" [disabled]=\"!this.objetValidable()\"\r\n            matTooltip=\"L'objet doit avoir un faux nom, ou bien afficher son nom réel.\">Valider objet</button>\r\n    <ng-template #objetValidee>\r\n        <button (click)=\"this.deselection()\">Dévalider objet</button>\r\n    </ng-template>\r\n</div>\r\n","import {Component, EventEmitter, Input, OnInit, Output} from '@angular/core';\n\n@Component({\n    selector: 'app-propriete-magique',\n    templateUrl: './propriete-magique.component.html',\n    styleUrls: ['./propriete-magique.component.scss']\n})\nexport class ProprieteMagiqueComponent implements OnInit {\n\n    @Input() allProprietesMagiques: SortedMagicalProperty;\n    @Input() indexProprieteMagique: number;\n    @Input() nom: string;\n    @Input() dePuissanceSpecial: number;\n    proprieteMagique: MagicalProperty;\n    proprieteMagiqueOriginal: MagicalProperty;\n    @Output() creationProprieteMagiqueEventEmitter = new EventEmitter<number>();\n    @Output() proprieteMagiqueEventEmitter = new EventEmitter<{proprieteMagique: MagicalProperty, indexProprieteMagique: number}>();\n    @Output() resetProprieteMagiqueEventEmitter = new EventEmitter<number>();\n\n    modificationEnCours = false;\n\n    valide = false;\n\n    dePuissance: number;\n    deProprieteMagique: number;\n\n    prixProprieteMagique: number;\n    proprieteMagiqueCurrencyType: string;\n\n    constructor() {\n    }\n\n    ngOnInit(): void {\n        // this.proprieteMagiqueOriginal = JSON.parse(JSON.stringify(this.proprieteMagique)) as MagicalProperty;\n        this.creationProprieteMagiqueEventEmitter.emit(this.indexProprieteMagique);\n        console.log(this.dePuissanceSpecial);\n        if (this.dePuissanceSpecial) {\n            this.dePuissance = this.dePuissanceSpecial;\n        }\n    }\n\n    trackByFn(index, item) {\n        return index;\n    }\n\n    getNomsProprieteMagique(): string {\n        return this.proprieteMagique.title;\n    }\n\n    modifierContenu() {\n        this.modificationEnCours = !this.modificationEnCours;\n        this.checkProprietesMagiquesIntegrity();\n        if (!this.modificationEnCours) {\n            this.proprieteMagiqueEventEmitter\n                .emit({ proprieteMagique: this.proprieteMagique, indexProprieteMagique: this.indexProprieteMagique});\n        }\n    }\n\n    selection() {\n        this.valide = true;\n        this.proprieteMagiqueEventEmitter\n            .emit({ proprieteMagique: this.proprieteMagique, indexProprieteMagique: this.indexProprieteMagique});\n    }\n\n    deselection() {\n        this.valide = false;\n        this.proprieteMagiqueEventEmitter.emit({proprieteMagique: null, indexProprieteMagique: null});\n    }\n\n    resetContenu() {\n        this.resetProprieteMagique();\n        this.modificationEnCours = false;\n    }\n\n    resetProprieteMagique() {\n        this.proprieteMagique = JSON.parse(JSON.stringify(this.proprieteMagiqueOriginal)) as MagicalProperty;\n        console.log(this.proprieteMagiqueOriginal);\n        this.proprieteMagiqueEventEmitter\n            .emit({ proprieteMagique: this.proprieteMagique, indexProprieteMagique: this.indexProprieteMagique});\n        this.getPrixAndCurrency();\n    }\n\n    getPrixAndCurrency() {\n        this.prixProprieteMagique = 0;\n        this.proprieteMagiqueCurrencyType = null;\n        const data = this.proprieteMagique.infos.data;\n        const indexPrix = data.indexOf(data.filter(f => f.includes('Prix'))[0]);\n        if (indexPrix !== -1 && !data[indexPrix].includes('bonus')) {\n            const match = data[indexPrix].match(/([0-9]+ )+/)[0];\n            this.prixProprieteMagique = +match.replace(' ', '').replace(' ', '');\n            const matchCurrency = data[indexPrix].substring(data[indexPrix].indexOf(match)).match(/[a-z]+[ |\\.]/)[0];\n            this.proprieteMagiqueCurrencyType = matchCurrency.replace(match, '')\n                .replace(' ', '').replace('.', '');\n        } else {\n            this.prixProprieteMagique = 1;\n            this.proprieteMagiqueCurrencyType = 'prix non défini';\n        }\n    }\n\n    checkProprietesMagiquesIntegrity() {\n        for (let indexDescription = 0 ; indexDescription < this.proprieteMagique.description.length ; indexDescription++) {\n            if (this.proprieteMagique.description[indexDescription].length === 0) {\n                this.proprieteMagique.description.splice(indexDescription, 1);\n                indexDescription--;\n            }\n        }\n        if (this.proprieteMagique.table) {\n            for (let indexTable = 0; indexTable < this.proprieteMagique.table.length; indexTable++) {\n                for (let indexTableTitle = 0; indexTableTitle <\n                this.proprieteMagique.table[indexTable].title.length; indexTableTitle++) {\n                    for (let indexTableTitleContent = 0; indexTableTitleContent <\n                    this.proprieteMagique.table[indexTable].title[indexTableTitle].length; indexTableTitleContent++) {\n                        if (this.proprieteMagique.table[indexTable].title[indexTableTitle][indexTableTitleContent].length === 0) {\n                            this.proprieteMagique.table[indexTable].title[indexTableTitle].splice(indexTableTitleContent, 1);\n                            indexTableTitleContent--;\n                        }\n                    }\n                    if (this.proprieteMagique.table[indexTable].title[indexTableTitle].length === 0) {\n                        this.proprieteMagique.table[indexTable].title.splice(indexTableTitle, 1);\n                        indexTableTitle--;\n                    }\n                }\n                for (let indexTableTr = 0; indexTableTr <\n                this.proprieteMagique.table[indexTable].tr.length; indexTableTr++) {\n                    for (let indexTableTrContent = 0; indexTableTrContent <\n                    this.proprieteMagique.table[indexTable].tr[indexTableTr].length; indexTableTrContent++) {\n                        if (this.proprieteMagique.table[indexTable].tr[indexTableTr][indexTableTrContent].length === 0) {\n                            this.proprieteMagique.table[indexTable].tr[indexTableTr].splice(indexTableTrContent, 1);\n                            indexTableTrContent--;\n                        }\n                    }\n                    if (this.proprieteMagique.table[indexTable].tr[indexTableTr].length === 0) {\n                        this.proprieteMagique.table[indexTable].tr.splice(indexTableTr, 1);\n                        indexTableTr--;\n                    }\n                }\n                if (this.proprieteMagique.table[indexTable].title.length === 0\n                    && this.proprieteMagique.table[indexTable].tr.length === 0) {\n                    this.proprieteMagique.table.splice(indexTable, 1);\n                    indexTable--;\n                }\n            }\n        }\n        if (this.proprieteMagique.ul) {\n            for (let indexUl = 0; indexUl < this.proprieteMagique.ul.length; indexUl++) {\n                for (let indexLi = 0; indexLi < this.proprieteMagique.ul[indexUl].li.length; indexLi++) {\n                    if (this.proprieteMagique.ul[indexUl].li[indexLi].length === 0) {\n                        this.proprieteMagique.ul[indexUl].li.splice(indexLi, 1);\n                        indexLi--;\n                    }\n                }\n                if (this.proprieteMagique.ul.length === 0) {\n                    this.proprieteMagique.ul.splice(indexUl, 1);\n                    indexUl--;\n                }\n            }\n        }\n        if (this.proprieteMagique.description.length === 0\n            && !this.proprieteMagique.table\n            && !this.proprieteMagique.ul) {\n            console.log('Suppression de la propriete magique :' + this.proprieteMagique.title);\n            this.proprieteMagique = null;\n        }\n    }\n\n    getNbProprietesMagiques(proprietesMagiques: SortedMagicalProperty): number {\n        return this.getProprietesMagiques(proprietesMagiques).length;\n    }\n\n    loadComplete(): boolean {\n        // console.log(this.allProprietesMagiques);\n        // console.log(!!this.allProprietesMagiques);\n        return !!this.allProprietesMagiques;\n    }\n\n    getProprietesMagiques(proprietesMagiques: SortedMagicalProperty) {\n        // console.log(proprietesMagiques);\n        return this.dePuissance === 1 ? proprietesMagiques.weakAndSmall.concat(proprietesMagiques.unknown)\n            : this.dePuissance === 2 ? proprietesMagiques.moderate.concat(proprietesMagiques.unknown)\n                : this.dePuissance === 3 ? proprietesMagiques.strongAnfPowerful.concat(proprietesMagiques.unknown) :\n                    null;\n    }\n\n    getProprieteMagique() {\n        if (this.dePuissance && this.deProprieteMagique\n            && this.deProprieteMagique <= this.getNbProprietesMagiques(this.allProprietesMagiques)) {\n            this.proprieteMagique = JSON.parse(JSON.stringify(\n                    this.getProprietesMagiques(this.allProprietesMagiques)[this.deProprieteMagique - 1])) as MagicalProperty;\n            this.proprieteMagiqueOriginal = JSON.parse(JSON.stringify(this.proprieteMagique)) as MagicalProperty;\n            this.getPrixAndCurrency();\n            this.proprieteMagiqueEventEmitter\n                .emit({ proprieteMagique: this.proprieteMagique, indexProprieteMagique: this.indexProprieteMagique});\n        }\n    }\n\n}\n","<form class=\"needs-validation\" id=\"objetSimpleForm\">\n    <div class=\"form-row\">\n        <div style=\"width: 100%\" *ngIf=\"this.loadComplete()\">\n            <div class=\"form-row\">\n                <div class=\"col-md-2 mb-3\" *ngIf=\"!this.dePuissanceSpecial\">\n                    <label for=\"PuissMag\">Puissance\n                    </label>\n                    <input min=\"1\" max=\"3\" type=\"number\" class=\"form-control\"\n                           id=\"PuissMag\"\n                           name=\"PuissMag\"\n                           placeholder=\"Puissance Magique\"\n                           [(ngModel)]=\"this.dePuissance\"\n                           (ngModelChange)=\"this.getProprieteMagique()\"\n                           required>\n                </div>\n                <div class=\"col-md-2 mb-3\" *ngIf=\"this.dePuissance\">\n                    <label for=\"PropMag\">{{this.nom}} (1D{{this.getNbProprietesMagiques(this.allProprietesMagiques)}})\n                    </label>\n                    <input min=\"1\" [max]=\"this.getNbProprietesMagiques(this.allProprietesMagiques)\" type=\"number\" class=\"form-control\"\n                           id=\"PropMag\"\n                           name=\"PropMag\"\n                           placeholder=\"Propriété Magique\"\n                           [(ngModel)]=\"this.deProprieteMagique\"\n                           (ngModelChange)=\"this.getProprieteMagique()\"\n                           required>\n                </div>\n            </div>\n        </div>\n    </div>\n</form>\n\n<div style=\"width: 100%\" *ngIf=\"this.proprieteMagique && !this.modificationEnCours\">\n    <div>\n        <!--h3>{{this.type}} : <span *ngIf=\"this.proprieteMagique\">{{this.getNomsProprieteMagique()}}</span></h3-->\n\n        <ng-container *ngIf=\"this.proprieteMagique\">\n            <h4>{{proprieteMagique.title}}</h4>\n            <span *ngFor=\"let description of proprieteMagique.description; let index = index;\">\n                    <span [innerHTML]=\"description\"></span><br/>\n                    <ng-container *ngFor=\"let table of proprieteMagique.table;\">\n                        <span *ngIf=\"table.position === index + 1\">\n                            <table cellspacing=\"1\" border=\"1\">\n                                <tbody>\n                                <tr *ngFor=\"let th of table.title; let thIndex = index\">\n                                    <ng-container *ngFor=\"let title of th; let titleIndex = index\">\n                                        <th *ngIf=\"thIndex === 0 && table.title.length > 1 && table.title[0].length < table.title[1].length; else elseBlock\"\n                                            [colSpan]=\"table.title[1].length / table.title[0].length\">{{title}}</th>\n                                        <ng-template #elseBlock>\n                                            <th>{{title}}</th>\n                                        </ng-template>\n                                    </ng-container>\n                                </tr>\n                                <tr *ngFor=\"let td of table.tr; let tdIndex = index\">\n                                    <ng-container *ngFor=\"let content of td\">\n                                        <td>{{content}}</td>\n                                    </ng-container>\n                                </tr>\n                                </tbody>\n                            </table>\n                        </span>\n                    </ng-container>\n\n                    <ng-container *ngFor=\"let ul of proprieteMagique.ul;\">\n                        <span *ngIf=\"+ul.position === index + 1\">\n                            <ul>\n                                <li *ngFor=\"let li of ul.li;\" [innerHTML]=\"li\"></li>\n                            </ul>\n                        </span>\n                    </ng-container>\n                </span>\n            <br/>\n            <br/>\n            <span *ngIf=\"this.proprieteMagique.infos\" [innerHTML]=\"this.proprieteMagique.infos.data\"></span><br/><br/>\n        </ng-container>\n    </div>\n    <button (click)=\"this.modifierContenu()\" [disabled]=\"this.valide\">Modifier propriété magique</button>\n    <button *ngIf=\"!this.valide else objetValidee\" (click)=\"this.selection()\">Confirmer propriété magique</button>\n    <ng-template #objetValidee>\n        <button (click)=\"this.deselection()\">Dévalider objet</button>\n    </ng-template>\n</div>\n\n\n<div style=\"width: 100%\" *ngIf=\"this.proprieteMagique && this.modificationEnCours\">\n    <h1>Résultat</h1>\n    <div>\n        <!--h3>{{this.type}} : <span *ngIf=\"this.proprieteMagique\">{{this.getNomsProprieteMagique()}}</span></h3-->\n\n        <ng-container *ngIf=\"this.proprieteMagique;\">\n            <h4><textarea [(ngModel)]=\"this.proprieteMagique.title\"></textarea></h4>\n            <span\n                *ngFor=\"let description of this.proprieteMagique.description; let indexDescription = index; trackBy: trackByFn\">\n                    <textarea\n                        [(ngModel)]=\"this.proprieteMagique.description[indexDescription]\"></textarea><br/>\n\n                    <ng-container\n                        *ngFor=\"let table of this.proprieteMagique.table; let indexTable = index\">\n                        <span *ngIf=\"+table.position === indexDescription + 1\">\n                            <table>\n                                <tbody>\n                                <tr *ngFor=\"let th of this.proprieteMagique.table[indexTable].title; let thIndex = index\">\n                                    <ng-container\n                                        *ngFor=\"let title of this.proprieteMagique.table[indexTable].title[thIndex]; let tdIndex = index; trackBy: trackByFn\">\n                                        <th *ngIf=\"thIndex === 0 && table.title.length > 1 && table.title[0].length < table.title[1].length; else elseBlock\"\n                                            [colSpan]=\"table.title[1].length / table.title[0].length\">\n                                            <textarea\n                                                [(ngModel)]=\"this.proprieteMagique.table[indexTable].title[thIndex][tdIndex]\"></textarea>\n                                        </th>\n                                        <ng-template #elseBlock>\n                                            <th>\n                                                <textarea\n                                                    [(ngModel)]=\"this.proprieteMagique.table[indexTable].title[thIndex][tdIndex]\"></textarea>\n                                            </th>\n                                        </ng-template>\n                                    </ng-container>\n                                </tr>\n                                <tr *ngFor=\"let td of this.proprieteMagique.table[indexTable].tr; let trIndex = index\">\n                                    <ng-container\n                                        *ngFor=\"let content of this.proprieteMagique.table[indexTable].tr[trIndex]; let tdIndex = index; trackBy: trackByFn\">\n                                        <td>\n                                            <textarea\n                                                [(ngModel)]=\"this.proprieteMagique.table[indexTable].tr[trIndex][tdIndex]\"></textarea>\n                                        </td>\n                                    </ng-container>\n                                </tr>\n                                </tbody>\n                            </table>\n                        </span>\n                    </ng-container>\n\n                    <ng-container *ngFor=\"let shit of this.proprieteMagique.ul; let indexUl = index;\">\n                        <span *ngIf=\"this.proprieteMagique.ul[indexUl].position === indexDescription + 1\">\n                            <ul>\n                                <li *ngFor=\"let shitBis of this.proprieteMagique.ul[indexUl].li; let indexLi = index; trackBy: trackByFn\">\n                                    <textarea [(ngModel)]=\"this.proprieteMagique.ul[indexUl].li[indexLi]\"\n                                              [name]=\"'positon'+this.proprieteMagique.ul[indexUl].position+'ul'+indexUl+'li'+indexLi\"></textarea>\n                                </li>\n                            </ul>\n                        </span>\n                    </ng-container>\n                </span>\n            <br/>\n            <br/>\n            <ng-container\n                *ngFor=\"let shit of this.proprieteMagique.infos.data; let indexData = index; trackBy: trackByFn\">\n                <textarea [(ngModel)]=\"this.proprieteMagique.infos.data[indexData]\"></textarea>\n            </ng-container>\n        </ng-container>\n    </div>\n    <button (click)=\"this.modifierContenu()\">Valider propriété magique</button>\n    <button (click)=\"this.resetContenu()\">Reset propriété magique</button>\n</div>\n","import {Component, EventEmitter, HostListener, Input, OnInit, Output, ViewChild} from '@angular/core';\nimport {HttpClient} from '@angular/common/http';\nimport {ObjetService} from '../services/objet.service';\nimport {SpecialResponse} from '../loot-table/loot-table.component';\nimport {HttpMethods} from '../interface/http-methods.enum';\nimport {FadingInfoComponent} from '../fading-info/fading-info.component';\nimport {AuthService} from '../auth/auth.service';\n\n@Component({\n  selector: 'app-personnage-objet-personnage',\n  templateUrl: './personnage-objet-personnage.component.html',\n  styleUrls: ['./personnage-objet-personnage.component.scss']\n})\nexport class PersonnageObjetPersonnageComponent implements OnInit {\n\n    @Input() set idObj(id: number) { this.idObjet = id; this.loadObjet(); }\n    @Input() idPersonnage: number;\n    @Input() personnages: Personnage[];\n    @Output() changingObjetEffetDecouvert = new EventEmitter<any>();\n    @ViewChild('Banner') banner: FadingInfoComponent;\n\n    idObjet: number;\n\n    objet: ObjetCommunFromDB;\n    effetsMagiquesDecouverts: EffetMagiqueDecouvert[];\n    effetsMagiquesDecouvertsOriginal: EffetMagiqueDecouvert[];\n    modificationsEnCours: boolean[];\n\n    ajoutEffetDecouvert = false;\n    effetDecouvertAAjouter: string;\n\n    updating = false;\n\n    constructor(private http: HttpClient,\n                private objetService: ObjetService,\n                private authService: AuthService) { }\n\n    ngOnInit(): void {\n    }\n\n    loadObjet() {\n        this.objetService.getObjetComplet(this.http, this.idObjet).then(\n            (dataObjet: any) => {\n                const response: SpecialResponse = dataObjet as SpecialResponse;\n                console.log(response);\n                this.objet = response.data as ObjetCommunFromDB;\n                console.log(this.objet);\n                if (this.authService.personnage) {\n                    this.loadEffetsMagiquesDecouverts();\n                }\n            }\n        );\n    }\n\n    loadEffetsMagiquesDecouverts() {\n        this.objetService.getEffetsMagiquesDecouverts(this.http, this.idObjet, this.authService.personnage.idPersonnage).then(\n            (data: any) => {\n                console.log(data);\n                const response: SpecialResponse = data as SpecialResponse;\n                this.effetsMagiquesDecouverts = response.data as EffetMagiqueDecouvert[];\n                this.effetsMagiquesDecouvertsOriginal = JSON.parse(\n                    JSON.stringify(this.effetsMagiquesDecouverts)) as EffetMagiqueDecouvert[];\n\n                this.modificationsEnCours = [];\n                for (const effetsMagiquesDecouvert of this.effetsMagiquesDecouverts) {\n                    this.modificationsEnCours.push(false);\n                }\n            }\n        );\n    }\n\n    @HostListener('document:keydown', ['$event'])\n    handleKeyboardEvent(event: KeyboardEvent) {\n        if (event.key === 'Enter' && event.ctrlKey) {\n            // TODO : Gérer la modification d'un effet magique découvert\n        }\n    }\n\n    aModificationIsOccuring(): boolean {\n        return this.getModificationIndex() !== -1;\n    }\n\n    getModificationIndex(): number {\n        return this.modificationsEnCours.indexOf(this.modificationsEnCours.find(f => f === true));\n    }\n\n    trackByFn(index, item) {\n        return index;\n    }\n\n    supprimerEffetDecouvert(indexEffetDecouvert: number) {\n        this.objetService.effetsMagiquesDecouverts(this.http, HttpMethods.DELETE, this.effetsMagiquesDecouverts[indexEffetDecouvert]).then(\n            (data: any) => {\n                console.log(data);\n                const response: SpecialResponse = JSON.parse(data) as SpecialResponse;\n                setTimeout( () => {\n                    this.banner.loadComponentFromSpecialResponse(response); }, 1250 );\n            }\n        );\n        this.modificationsEnCours[indexEffetDecouvert] = false;\n\n        this.reloadingInterface();\n        this.loadEffetsMagiquesDecouverts();\n    }\n\n    modifierEffetDecouvert(indexEffetDecouvert: number) {\n        this.objetService.effetsMagiquesDecouverts(this.http, HttpMethods.PUT, this.effetsMagiquesDecouverts[indexEffetDecouvert]).then(\n            (data: any) => {\n                console.log(data);\n                const response: SpecialResponse = JSON.parse(data) as SpecialResponse;\n                setTimeout( () => {\n                    this.banner.loadComponentFromSpecialResponse(response); }, 1250 );\n            }\n        );\n        this.modificationsEnCours[indexEffetDecouvert] = false;\n\n        this.reloadingInterface();\n        // this.loadEffetsMagiquesDecouverts();\n    }\n\n    annulerModificationEffetDecouvert(indexEffetDecouvert: number) {\n        this.effetsMagiquesDecouverts[indexEffetDecouvert].effet = this.effetsMagiquesDecouvertsOriginal[indexEffetDecouvert].effet;\n        this.modificationsEnCours[indexEffetDecouvert] = false;\n    }\n\n    ajouterEffetDecouvert() {\n        this.fermerModificationCourante();\n        this.ajoutEffetDecouvert = !this.ajoutEffetDecouvert;\n    }\n\n    annulerAjoutEffetDecouvert() {\n        this.effetDecouvertAAjouter = null;\n        this.ajoutEffetDecouvert = false;\n    }\n\n    validerAjoutEffetDecouvert() {\n        const effetMagiqueDecouvert = {\n            idEffetMagiqueDecouvert: null,\n            idObjet: this.idObjet,\n            idPersonnage: this.authService.personnage.idPersonnage,\n            effet: this.effetDecouvertAAjouter,\n        } as EffetMagiqueDecouvert;\n        this.objetService.effetsMagiquesDecouverts(this.http, HttpMethods.POST, effetMagiqueDecouvert).then(\n            (data: any) => {\n                console.log(data);\n                const response: SpecialResponse = JSON.parse(data) as SpecialResponse;\n                setTimeout( () => {\n                    this.banner.loadComponentFromSpecialResponse(response); }, 1250 );\n            }\n        );\n        this.effetDecouvertAAjouter = null;\n        this.ajoutEffetDecouvert = false;\n\n        this.reloadingInterface();\n        // this.loadEffetsMagiquesDecouverts();\n    }\n\n    reloadingInterface() {\n        this.updating = true;\n        this.changingObjetEffetDecouvert.emit(this.objet.idObjet);\n        if (this.authService.personnage) {\n            setTimeout(() => { this.loadEffetsMagiquesDecouverts(); }, 1250);\n        }\n        setTimeout( () => {\n            this.updating = false;\n        }, 2500 );\n    }\n\n    lancerModification(indexEffetMagiqueDecouvert: number) {\n        this.fermerModificationCourante();\n        this.annulerAjoutEffetDecouvert();\n        this.modificationsEnCours[indexEffetMagiqueDecouvert] = true;\n    }\n\n    fermerModificationCourante() {\n        if (this.aModificationIsOccuring()) {\n            this.annulerModificationEffetDecouvert(this.getModificationIndex());\n        }\n    }\n\n    effetsMagiquesDecouvertsAffichables(indexEffetMagiqueDecouvert: number): boolean {\n        return (this.authService.personnage\n            && this.authService.personnage.idPersonnage === this.effetsMagiquesDecouverts[indexEffetMagiqueDecouvert].idPersonnage)\n            || this.authService.isGameMaster();\n    }\n\n    effetsMagiquesDecouvertsAjoutable(): boolean {\n        return !!this.authService.personnage || this.authService.isGameMaster();\n    }\n\n    getAutheurEffetMagiqueDecouvert(indexEffetMagiqueDecouvert: number) {\n        return this.personnages\n            .find(f => f.idPersonnage === this.effetsMagiquesDecouverts[indexEffetMagiqueDecouvert].idPersonnage).nom;\n    }\n\n    isGameMaster() {\n        return this.authService.isGameMaster();\n    }\n\n}\n","<div style=\"width: 100%\" *ngIf=\"this.objet && !this.updating\" class=\"personnageObjet\">\n    <div style=\"width: 100%\">\n        <div class=\"titleTop\">\n            <div *ngIf=\"this.objet.afficherNom; else fauxNom\" class=\"h1Fake\" [innerHTML]=\"this.objet.nom\"></div>\n            <ng-template #fauxNom>\n                <div class=\"h1Fake\" [innerHTML]=\"this.objet.fauxNom\"></div>\n            </ng-template>\n        </div>\n        <div *ngIf=\"this.objet.afficherEffetMagique && this.objet.effetMagique\">{{this.objet.type}}</div>\n        <p *ngIf=\"this.objet.afficherInfos && this.objet.armure\">\n            <span *ngIf=\"this.objet.armure\"> Armure: {{this.objet.armure}}\n                <span *ngIf=\"this.objet.bonus\">- Bonus +{{this.objet.bonus}}</span>\n            </span>\n            <span *ngIf=\"this.objet.prix\"> - Prix : {{this.objet.prix.toLocaleString(\"fr\")}} po</span>\n        </p>\n        <p *ngIf=\"this.objet.afficherInfos && this.objet.degats\">\n            <span *ngIf=\"this.objet.taille\"> Dégats : {{this.objet.degats}}</span>\n            <span *ngIf=\"this.objet.bonus\"> - Bonus +{{this.objet.bonus}}</span></p>\n        <div *ngIf=\"this.objet.afficherMalediction && this.objet.malediction\">\n            Malediction\n            <br/>\n            <span [innerHTML]=\"this.objet.malediction.nom\"></span> : <span>{{this.objet.malediction.description}}</span>\n        </div>\n        <br/>\n        <ng-container *ngIf=\"this.objet.afficherEffetMagique\">\n            <ng-container *ngFor=\"let effetMagique of this.objet.effetMagique;\">\n                <h4>{{effetMagique.title}}</h4>\n                <span *ngFor=\"let description of effetMagique.effetMagiqueDescription; let index = index;\">\n                    <span [innerHTML]=\"description.contenu\"></span><br/>\n\n                    <ng-container *ngFor=\"let table of effetMagique.effetMagiqueTable;\">\n                        <span *ngIf=\"table.position === index + 1\">\n                            <table cellspacing=\"1\" border=\"1\">\n                                <tbody>\n                                <tr *ngFor=\"let th of table.effetMagiqueTableTitle; let thIndex = index\"\n                                    style=\"text-align: center\">\n                                    <ng-container\n                                        *ngFor=\"let title of th.effetMagiqueTableTitleContent; let titleIndex = index\">\n                                        <th *ngIf=\"thIndex === 0 && table.effetMagiqueTableTitle.length > 1\n                                        && table.effetMagiqueTableTitle[0].effetMagiqueTableTitleContent.length < table.effetMagiqueTableTitle[1].effetMagiqueTableTitleContent.length; else elseBlock\"\n                                            [colSpan]=\"(table.effetMagiqueTableTitle[1].effetMagiqueTableTitleContent.length / table.effetMagiqueTableTitle[0].effetMagiqueTableTitleContent.length)\">{{title.contenu}}</th>\n                                        <ng-template #elseBlock>\n                                            <th>{{title.contenu}}</th>\n                                        </ng-template>\n                                    </ng-container>\n                                </tr>\n                                <tr *ngFor=\"let td of table.effetMagiqueTableTr; let tdIndex = index\">\n                                    <ng-container *ngFor=\"let content of td.effetMagiqueTableTrContent\">\n                                        <td>{{content.contenu}}</td>\n                                    </ng-container>\n                                </tr>\n                                </tbody>\n                            </table>\n                        </span>\n                    </ng-container>\n\n\n                    <ng-container *ngFor=\"let ul of effetMagique.effetMagiqueUl;\">\n                        <span *ngIf=\"+ul.position === index + 1\">\n                            <ul>\n                                <li *ngFor=\"let li of ul.effetMagiqueUlContent;\" [innerHTML]=\"li.contenu\"></li>\n                            </ul>\n                        </span>\n                    </ng-container>\n                </span>\n                <br/>\n                <br/>\n                <span *ngIf=\"this.objet.afficherInfos && effetMagique.effetMagiqueDBInfos\">\n                    <span *ngFor=\"let info of effetMagique.effetMagiqueDBInfos\" [innerHTML]=\"info.contenu\"></span>\n                    <br/>\n                </span>\n            </ng-container>\n        </ng-container>\n        <div *ngIf=\"this.objet.afficherMateriau && this.objet.materiau\">\n            Materiau\n            <br/>\n            <span [innerHTML]=\"this.objet.materiau.nom\"></span> : <span>{{this.objet.materiau.effet}}</span>\n        </div>\n    </div>\n    <br/>\n    <div class=\"effetsMagiquesDecouverts\">\n        <div class=\"effetMagiqueDecouvert\" *ngFor=\"let effetMagique of this.effetsMagiquesDecouverts; let indexEffetMagiqueDecouvert = index\">\n            <div *ngIf=\"this.effetsMagiquesDecouvertsAffichables(indexEffetMagiqueDecouvert)\">\n                <div *ngIf=\"this.modificationsEnCours[indexEffetMagiqueDecouvert] === false; else modification\">\n                    <p *ngIf=\"this.isGameMaster()\">{{getAutheurEffetMagiqueDecouvert(indexEffetMagiqueDecouvert)}}</p>\n                    <p>{{effetsMagiquesDecouverts[indexEffetMagiqueDecouvert].effet}}</p>\n                    <button class=\"btn btn-primary\" (click)=\"this.lancerModification(indexEffetMagiqueDecouvert)\">Modifier</button>\n                </div>\n                <ng-template #modification>\n                    <div>\n                        <mat-form-field class=\"example-full-width\">\n                            <mat-label>Effet découvert n°{{indexEffetMagiqueDecouvert}}</mat-label>\n                            <textarea [(ngModel)]=\"effetsMagiquesDecouverts[indexEffetMagiqueDecouvert].effet\" matInput></textarea>\n                        </mat-form-field>\n                    </div>\n                    <button class=\"btn btn-danger\" (click)=\"this.supprimerEffetDecouvert(this.indexEffetMagiqueDecouvert)\">Supprimer</button>\n                    <button class=\"btn btn-warning\" (click)=\"this.modifierEffetDecouvert(this.indexEffetMagiqueDecouvert)\">Modifier</button>\n                    <button class=\"btn btn-light\" (click)=\"this.annulerModificationEffetDecouvert(this.indexEffetMagiqueDecouvert)\">Annuler</button>\n                </ng-template>\n            </div>\n        </div>\n        <button class=\"btn btn-outline-primary\" (click)=\"this.ajouterEffetDecouvert()\" *ngIf=\"!this.ajoutEffetDecouvert && effetsMagiquesDecouvertsAjoutable()\">Ajouter un effet découvert</button>\n        <div *ngIf=\"this.ajoutEffetDecouvert\">\n            <div>\n                <mat-form-field class=\"example-full-width\">\n                    <mat-label>Effet découvert à ajouter</mat-label>\n                    <textarea [(ngModel)]=\"this.effetDecouvertAAjouter\" matInput></textarea>\n                </mat-form-field>\n            </div>\n            <button class=\"btn btn-light\" (click)=\"this.annulerAjoutEffetDecouvert()\">Annuler</button>\n            <button class=\"btn btn-primary\" *ngIf=\"effetsMagiquesDecouvertsAjoutable()\" (click)=\"this.validerAjoutEffetDecouvert()\">Valider</button>\n        </div>\n    </div>\n</div>\n\n<div *ngIf=\"this.objet && this.updating\">\n    <div class=\"messageChargement\">Chargement en cours</div>\n    <mat-progress-bar mode=\"query\"></mat-progress-bar>\n</div>\n\n<app-fading-info #Banner></app-fading-info>\n","import {Component, EventEmitter, HostListener, Input, OnChanges, OnInit, Output, SimpleChanges} from '@angular/core';\r\nimport {ObjetService} from '../services/objet.service';\r\nimport {HttpClient} from '@angular/common/http';\r\nimport {SpecialResponse} from '../loot-table/loot-table.component';\r\nimport {HttpMethods} from '../interface/http-methods.enum';\r\n\r\nimport * as equal from 'fast-deep-equal';\r\n\r\n@Component({\r\n    selector: 'app-personnage-objet',\r\n    templateUrl: './personnage-objet.component.html',\r\n    styleUrls: ['./personnage-objet.component.scss']\r\n})\r\nexport class PersonnageObjetComponent implements OnInit {\r\n\r\n    @Input() personnages: Personnage[];\r\n    @Input() personnageCourant: Personnage;\r\n    @Input() set idObj(id: number) { this.idObjet = id; this.valide = false; this.modificationEnCours = false;\r\n                                     this.loadObjet(); this.idPersonnageSelectionne = this.personnageCourant.idPersonnage; }\r\n    @Output() changingObjet = new EventEmitter<any>();\r\n\r\n    idObjet: number;\r\n    idPersonnageSelectionne: number;\r\n\r\n    objet: ObjetCommunFromDB;\r\n    objetOriginal: ObjetCommunFromDB;\r\n\r\n    modificationEnCours = false;\r\n    valide = false;\r\n\r\n    updating = false;\r\n\r\n    constructor(private http: HttpClient,\r\n                private objetService: ObjetService) { }\r\n\r\n    ngOnInit(): void {\r\n    }\r\n\r\n    loadObjet() {\r\n        this.objetService.getObjetComplet(this.http, this.idObjet).then(\r\n            (dataObjet: any) => {\r\n                const response: SpecialResponse = dataObjet as SpecialResponse;\r\n                console.log(response);\r\n                this.objet = response.data as ObjetCommunFromDB;\r\n                this.objetOriginal = JSON.parse(JSON.stringify(this.objet)) as ObjetCommunFromDB;\r\n                console.log(this.objet);\r\n            }\r\n        );\r\n    }\r\n\r\n    @HostListener('document:keydown', ['$event'])\r\n    handleKeyboardEvent(event: KeyboardEvent) {\r\n        if (this.modificationEnCours && event.key === 'Enter' && event.ctrlKey) {\r\n            this.modifierContenu();\r\n        }\r\n    }\r\n\r\n    trackByFn(index, item) {\r\n        return index;\r\n    }\r\n\r\n    modifierContenu() {\r\n        this.modificationEnCours = !this.modificationEnCours;\r\n        // this.checkProprietesMagiquesIntegrity();\r\n    }\r\n\r\n    resetContenu() {\r\n        this.objet = JSON.parse(JSON.stringify(this.objetOriginal)) as ObjetCommunFromDB;\r\n    }\r\n\r\n    selection() {\r\n        this.valide = !this.valide;\r\n        if (this.valide && JSON.stringify(this.objetOriginal) !== JSON.stringify(this.objet)) {\r\n            this.updating = true;\r\n            this.updateObjet();\r\n            this.changingObjet.emit(this.objet.idObjet);\r\n            setTimeout( () => { this.loadObjet(); }, 1250 );\r\n            setTimeout( () => {\r\n                this.updating = false;\r\n                this.valide = false;\r\n                this.modificationEnCours = false;\r\n            }, 2500 );\r\n        }\r\n    }\r\n\r\n    selectPersonnageAChanger() {\r\n        console.log(this.personnageCourant.idPersonnage);\r\n        console.log(this.objet.idPersonnage);\r\n        this.objet.idPersonnage = +this.idPersonnageSelectionne;\r\n    }\r\n\r\n    isProprietaire(idPersonnage: number): boolean {\r\n        console.log((+this.personnageCourant.idPersonnage === +idPersonnage) + '(' + idPersonnage + ')');\r\n        return +idPersonnage === +this.personnageCourant.idPersonnage;\r\n    }\r\n\r\n    checkProprietesMagiquesIntegrity() {\r\n        for (let i = 0 ; i < this.objet.effetMagique.length ; i++) {\r\n            for (let indexDescription = 0 ;\r\n                 indexDescription < this.objet.effetMagique[i].effetMagiqueDescription.length ; indexDescription++) {\r\n                if (this.objet.effetMagique[i].effetMagiqueDescription[indexDescription].contenu.length === 0) {\r\n                    this.objet.effetMagique[i].effetMagiqueDescription.splice(indexDescription, 1);\r\n                    indexDescription--;\r\n                }\r\n            }\r\n            if (this.objet.effetMagique[i].effetMagiqueTable) {\r\n                for (let indexTable = 0; indexTable < this.objet.effetMagique[i].effetMagiqueTable.length; indexTable++) {\r\n                    for (let indexTableTitle = 0; indexTableTitle <\r\n                    this.objet.effetMagique[i].effetMagiqueTable[indexTable].effetMagiqueTableTitle.length; indexTableTitle++) {\r\n                        for (let indexTableTitleContent = 0; indexTableTitleContent <\r\n                        this.objet.effetMagique[i].effetMagiqueTable[indexTable]\r\n                            .effetMagiqueTableTitle[indexTableTitle].effetMagiqueTableTitleContent.length; indexTableTitleContent++) {\r\n                            if\r\n                            (this.objet.effetMagique[i].effetMagiqueTable[indexTable].effetMagiqueTableTitle[indexTableTitle]\r\n                                .effetMagiqueTableTitleContent[indexTableTitleContent].contenu.length === 0) {\r\n                                this.objet.effetMagique[i].effetMagiqueTable[indexTable].effetMagiqueTableTitle[indexTableTitle]\r\n                                    .effetMagiqueTableTitleContent.splice(indexTableTitleContent, 1);\r\n                                indexTableTitleContent--;\r\n                            }\r\n                        }\r\n                        if (this.objet.effetMagique[i].effetMagiqueTable[indexTable]\r\n                            .effetMagiqueTableTitle[indexTableTitle].effetMagiqueTableTitleContent.length === 0) {\r\n                            this.objet.effetMagique[i].effetMagiqueTable[indexTable].effetMagiqueTableTitle.splice(indexTableTitle, 1);\r\n                            indexTableTitle--;\r\n                        }\r\n                    }\r\n                    for (let indexTableTr = 0; indexTableTr <\r\n                    this.objet.effetMagique[i].effetMagiqueTable[indexTable].effetMagiqueTableTr.length; indexTableTr++) {\r\n                        for (let indexTableTrContent = 0; indexTableTrContent <\r\n                        this.objet.effetMagique[i].effetMagiqueTable[indexTable].effetMagiqueTableTr[indexTableTr]\r\n                            .effetMagiqueTableTrContent.length; indexTableTrContent++) {\r\n                            if (this.objet.effetMagique[i].effetMagiqueTable[indexTable].effetMagiqueTableTr[indexTableTr]\r\n                                .effetMagiqueTableTrContent[indexTableTrContent].contenu.length === 0) {\r\n                                this.objet.effetMagique[i].effetMagiqueTable[indexTable]\r\n                                    .effetMagiqueTableTr[indexTableTr].effetMagiqueTableTrContent.splice(indexTableTrContent, 1);\r\n                                indexTableTrContent--;\r\n                            }\r\n                        }\r\n                        if (this.objet.effetMagique[i].effetMagiqueTable[indexTable]\r\n                            .effetMagiqueTableTr[indexTableTr].effetMagiqueTableTrContent.length === 0) {\r\n                            this.objet.effetMagique[i].effetMagiqueTable[indexTable].effetMagiqueTableTr.splice(indexTableTr, 1);\r\n                            indexTableTr--;\r\n                        }\r\n                    }\r\n                    if (this.objet.effetMagique[i].effetMagiqueTable[indexTable].effetMagiqueTableTitle.length === 0\r\n                        && this.objet.effetMagique[i].effetMagiqueTable[indexTable].effetMagiqueTableTr.length === 0) {\r\n                        this.objet.effetMagique[i].effetMagiqueTable.splice(indexTable, 1);\r\n                        indexTable--;\r\n                    }\r\n                }\r\n            }\r\n            if (this.objet.effetMagique[i].effetMagiqueUl) {\r\n                for (let indexUl = 0; indexUl < this.objet.effetMagique[i].effetMagiqueUl.length; indexUl++) {\r\n                    for (let indexLi = 0; indexLi < this.objet.effetMagique[i]\r\n                        .effetMagiqueUl[indexUl].effetMagiqueUlContent.length; indexLi++) {\r\n                        if (this.objet.effetMagique[i].effetMagiqueUl[indexUl].effetMagiqueUlContent[indexLi].contenu.length === 0) {\r\n                            this.objet.effetMagique[i].effetMagiqueUl[indexUl].effetMagiqueUlContent.splice(indexLi, 1);\r\n                            indexLi--;\r\n                        }\r\n                    }\r\n                    if (this.objet.effetMagique[i].effetMagiqueUl.length === 0) {\r\n                        this.objet.effetMagique[i].effetMagiqueUl.splice(indexUl, 1);\r\n                        indexUl--;\r\n                    }\r\n                }\r\n            }\r\n\r\n            for (let indexInfos = 0 ;\r\n                 indexInfos < this.objet.effetMagique[i].effetMagiqueDBInfos.length ; indexInfos++) {\r\n                if (this.objet.effetMagique[i].effetMagiqueDBInfos[indexInfos].contenu.length === 0) {\r\n                    this.objet.effetMagique[i].effetMagiqueDBInfos.splice(indexInfos, 1);\r\n                    indexInfos--;\r\n                }\r\n            }\r\n\r\n            if (this.objet.materiau) {\r\n                if (this.objet.materiau.effet.length === 0 && this.objet.materiau.nom.length === 0) {\r\n                    this.objet.materiau = null;\r\n                }\r\n            }\r\n\r\n            if (this.objet.malediction) {\r\n                if (this.objet.malediction.description.length === 0 && this.objet.malediction.nom.length === 0) {\r\n                    this.objet.malediction = null;\r\n                }\r\n            }\r\n\r\n            if (this.objet.effetMagique[i].effetMagiqueDescription.length === 0\r\n                && !this.objet.effetMagique[i].effetMagiqueTable\r\n                && !this.objet.effetMagique[i].effetMagiqueUl) {\r\n                console.log('Suppression de la propriete magique :' + this.objet.effetMagique[i].title);\r\n                this.objet.effetMagique.splice(i, 1);\r\n                i--;\r\n            }\r\n        }\r\n    }\r\n\r\n    changeValidation(name: string) {\r\n        switch (name.toLowerCase()) {\r\n            case 'nom':\r\n                this.objet.afficherNom = !this.objet.afficherNom;\r\n                break;\r\n            case 'effetmagique':\r\n                this.objet.afficherEffetMagique = !this.objet.afficherEffetMagique;\r\n                break;\r\n            case 'malediction':\r\n                this.objet.afficherMalediction = !this.objet.afficherMalediction;\r\n                break;\r\n            case 'materiau':\r\n                this.objet.afficherMateriau = !this.objet.afficherMateriau;\r\n                break;\r\n            case 'infos':\r\n                this.objet.afficherInfos = !this.objet.afficherInfos;\r\n                break;\r\n\r\n        }\r\n        this.areDifferentObjets(this.objet, this.objetOriginal);\r\n    }\r\n\r\n    // Ne gère que l'update. La suppression sera à gérer dans la fonction checkProprietesMagiquesIntegrity.\r\n    // Ça sera plus simple.\r\n    // Ou alors, il ne faut mettre à jour la supression que quand on valide l'objet.\r\n    // Et ne plus utiliser checkProprietesMagiquesIntegrity, ce qui serait plus simple.\r\n    // Sinon, on ne sait pas quelle ligne supprimer.\r\n    updateObjet() {\r\n        this.setEmptyToNull();\r\n        if (this.isEmptyObjet()) {\r\n            // TODO : Supprimer objet\r\n            this.objetService.objet(this.http, HttpMethods.DELETE, 0, this.objet)\r\n                .then(\r\n                    (data: any) => {\r\n                        console.log(data);\r\n                    }\r\n                );\r\n        } else {\r\n            for (let indexEffet = 0; indexEffet < this.objet.effetMagique.length; indexEffet++) {\r\n                if (this.isEmptyEffetMagique(this.objet.effetMagique[indexEffet])) {\r\n                    // TODO : Supprimer effet\r\n                    this.objetService.effetMagique(this.http, HttpMethods.DELETE, 0, this.objet.effetMagique[indexEffet])\r\n                        .then(\r\n                            (data: any) => {\r\n                                console.log(data);\r\n                            }\r\n                        );\r\n                } else {\r\n                    for (let indexTable = 0; indexTable < this.objet.effetMagique[indexEffet].effetMagiqueTable.length; indexTable++) {\r\n                        if (this.isEmptyTable(this.objet.effetMagique[indexEffet].effetMagiqueTable[indexTable])) {\r\n                            // TODO : Supprimer table\r\n                            this.objetService.table(this.http, HttpMethods.DELETE, 0,\r\n                                this.objet.effetMagique[indexEffet].effetMagiqueTable[indexTable])\r\n                                .then(\r\n                                    (data: any) => {\r\n                                        console.log(data);\r\n                                    }\r\n                                );\r\n                        } else {\r\n                            if (this.areDifferentTables(this.objet.effetMagique[indexEffet].effetMagiqueTable[indexTable],\r\n                                this.objetOriginal.effetMagique[indexEffet].effetMagiqueTable[indexTable])) {\r\n                                // TODO : Modifier la table.\r\n                                this.objetService.table(this.http, HttpMethods.PUT, 0,\r\n                                    this.objet.effetMagique[indexEffet].effetMagiqueTable[indexTable])\r\n                                    .then(\r\n                                        (data: any) => {\r\n                                            console.log(data);\r\n                                        }\r\n                                    );\r\n                            }\r\n                            for (let indexTitle = 0;\r\n                                 indexTitle < this.objet.effetMagique[indexEffet].effetMagiqueTable[indexTable]\r\n                                     .effetMagiqueTableTitle.length;\r\n                                 indexTitle++) {\r\n                                if (this.isEmptyTableTitle(this.objet.effetMagique[indexEffet].effetMagiqueTable[indexTable]\r\n                                    .effetMagiqueTableTitle[indexTitle])) {\r\n                                    // TODO : Supprimer title\r\n                                    this.objetService.title(this.http, HttpMethods.DELETE, 0,\r\n                                        this.objet.effetMagique[indexEffet].effetMagiqueTable[indexTable]\r\n                                            .effetMagiqueTableTitle[indexTitle])\r\n                                        .then(\r\n                                            (data: any) => {\r\n                                                console.log(data);\r\n                                            }\r\n                                        );\r\n                                } else {\r\n                                    if (this.areDifferentTableTitles(this.objet.effetMagique[indexEffet].effetMagiqueTable[indexTable]\r\n                                            .effetMagiqueTableTitle[indexTitle],\r\n                                        this.objetOriginal.effetMagique[indexEffet].effetMagiqueTable[indexTable]\r\n                                            .effetMagiqueTableTitle[indexTitle])) {\r\n                                        // TODO : Modifier title\r\n                                        this.objetService.title(this.http, HttpMethods.PUT, 0,\r\n                                            this.objet.effetMagique[indexEffet].effetMagiqueTable[indexTable]\r\n                                                .effetMagiqueTableTitle[indexTitle])\r\n                                            .then(\r\n                                                (data: any) => {\r\n                                                    console.log(data);\r\n                                                }\r\n                                            );\r\n                                    }\r\n                                    for (let indexTitleContent = 0;\r\n                                         indexTitleContent < this.objet.effetMagique[indexEffet].effetMagiqueTable[indexTable]\r\n                                             .effetMagiqueTableTitle[indexTitle].effetMagiqueTableTitleContent.length;\r\n                                         indexTitleContent++) {\r\n                                        if (this.isEmptyTableTitleContent(this.objet.effetMagique[indexEffet].effetMagiqueTable[indexTable]\r\n                                            .effetMagiqueTableTitle[indexTitle].effetMagiqueTableTitleContent[indexTitleContent])) {\r\n                                            // TODO : Supprimer title content\r\n                                            this.objetService.titleContent(this.http, HttpMethods.DELETE, 0,\r\n                                                this.objet.effetMagique[indexEffet].effetMagiqueTable[indexTable]\r\n                                                    .effetMagiqueTableTitle[indexTitle]\r\n                                                    .effetMagiqueTableTitleContent[indexTitleContent]).then(\r\n                                                (data: any) => {\r\n                                                    console.log(data);\r\n                                                }\r\n                                            );\r\n                                        } else {\r\n                                            if (this.areDifferentTableTitleContents(this.objet.effetMagique[indexEffet]\r\n                                                    .effetMagiqueTable[indexTable].effetMagiqueTableTitle[indexTitle]\r\n                                                    .effetMagiqueTableTitleContent[indexTitleContent],\r\n                                                this.objetOriginal.effetMagique[indexEffet].effetMagiqueTable[indexTable]\r\n                                                    .effetMagiqueTableTitle[indexTitle]\r\n                                                    .effetMagiqueTableTitleContent[indexTitleContent])) {\r\n                                                // TODO : Modifier title content\r\n                                                this.objetService.titleContent(this.http, HttpMethods.PUT, 0,\r\n                                                    this.objet.effetMagique[indexEffet].effetMagiqueTable[indexTable]\r\n                                                        .effetMagiqueTableTitle[indexTitle]\r\n                                                        .effetMagiqueTableTitleContent[indexTitleContent]).then(\r\n                                                    (data: any) => {\r\n                                                        console.log(data);\r\n                                                    }\r\n                                                );\r\n                                            }\r\n                                        }\r\n                                    }\r\n                                }\r\n                            }\r\n                            for (let indexTr = 0;\r\n                                 indexTr < this.objet.effetMagique[indexEffet].effetMagiqueTable[indexTable].effetMagiqueTableTr.length;\r\n                                 indexTr++) {\r\n                                if (this.isEmptyTableTr(this.objet.effetMagique[indexEffet].effetMagiqueTable[indexTable]\r\n                                    .effetMagiqueTableTr[indexTr])) {\r\n                                    // TODO : Supprimer tr\r\n                                    this.objetService.tr(this.http, HttpMethods.DELETE, 0,\r\n                                        this.objet.effetMagique[indexEffet].effetMagiqueTable[indexTable].effetMagiqueTableTr[indexTr])\r\n                                        .then(\r\n                                            (data: any) => {\r\n                                                console.log(data);\r\n                                            }\r\n                                        );\r\n                                } else {\r\n                                    if (this.areDifferentTableTrs(this.objet.effetMagique[indexEffet].effetMagiqueTable[indexTable]\r\n                                            .effetMagiqueTableTr[indexTr],\r\n                                        this.objetOriginal.effetMagique[indexEffet].effetMagiqueTable[indexTable]\r\n                                            .effetMagiqueTableTr[indexTr])) {\r\n                                        // TODO : Modifier tr\r\n                                        this.objetService.tr(this.http, HttpMethods.PUT, 0,\r\n                                            this.objet.effetMagique[indexEffet].effetMagiqueTable[indexTable].effetMagiqueTableTr[indexTr])\r\n                                            .then(\r\n                                                (data: any) => {\r\n                                                    console.log(data);\r\n                                                }\r\n                                            );\r\n                                    }\r\n                                    for (let indexTrContent = 0;\r\n                                         indexTrContent < this.objet.effetMagique[indexEffet].effetMagiqueTable[indexTable]\r\n                                             .effetMagiqueTableTr[indexTr].effetMagiqueTableTrContent.length;\r\n                                         indexTrContent++) {\r\n                                        if (this.isEmptyTableTrContent(this.objet.effetMagique[indexEffet].effetMagiqueTable[indexTable]\r\n                                            .effetMagiqueTableTr[indexTr].effetMagiqueTableTrContent[indexTrContent])) {\r\n                                            // TODO : Supprimer tr content\r\n                                            this.objetService.trContent(this.http, HttpMethods.DELETE, 0,\r\n                                                this.objet.effetMagique[indexEffet].effetMagiqueTable[indexTable]\r\n                                                    .effetMagiqueTableTr[indexTr].effetMagiqueTableTrContent[indexTrContent]).then(\r\n                                                (data: any) => {\r\n                                                    console.log(data);\r\n                                                }\r\n                                            );\r\n                                        } else {\r\n                                            if (this.areDifferentTableTrContents(this.objet.effetMagique[indexEffet]\r\n                                                    .effetMagiqueTable[indexTable].effetMagiqueTableTr[indexTr]\r\n                                                    .effetMagiqueTableTrContent[indexTrContent],\r\n                                                this.objetOriginal.effetMagique[indexEffet].effetMagiqueTable[indexTable]\r\n                                                    .effetMagiqueTableTr[indexTr].effetMagiqueTableTrContent[indexTrContent])) {\r\n                                                // TODO : Modifier tr content\r\n                                                this.objetService.trContent(this.http, HttpMethods.PUT, 0,\r\n                                                    this.objet.effetMagique[indexEffet].effetMagiqueTable[indexTable]\r\n                                                        .effetMagiqueTableTr[indexTr].effetMagiqueTableTrContent[indexTrContent]).then(\r\n                                                    (data: any) => {\r\n                                                        console.log(data);\r\n                                                    }\r\n                                                );\r\n                                            }\r\n                                        }\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                    for (let indexUl = 0; indexUl < this.objet.effetMagique[indexEffet].effetMagiqueUl.length; indexUl++) {\r\n                        if (this.isEmptyUl(this.objet.effetMagique[indexEffet].effetMagiqueUl[indexUl])) {\r\n                            // TODO : Supprimer ul\r\n                            this.objetService.ul(this.http, HttpMethods.DELETE, 0,\r\n                                this.objet.effetMagique[indexEffet].effetMagiqueUl[indexUl]).then(\r\n                                (data: any) => {\r\n                                    console.log(data);\r\n                                }\r\n                            );\r\n                        } else {\r\n                            if (this.areDifferentUls(this.objet.effetMagique[indexEffet].effetMagiqueUl[indexUl],\r\n                                this.objetOriginal.effetMagique[indexEffet].effetMagiqueUl[indexUl])) {\r\n                                // TODO : Modifier ul\r\n                                this.objetService.ul(this.http, HttpMethods.PUT, 0,\r\n                                    this.objet.effetMagique[indexEffet].effetMagiqueUl[indexUl]).then(\r\n                                    (data: any) => {\r\n                                        console.log(data);\r\n                                    }\r\n                                );\r\n                            }\r\n                            for (let indexUlContent = 0;\r\n                                 indexUlContent < this.objet.effetMagique[indexEffet].effetMagiqueUl[indexUl].effetMagiqueUlContent.length;\r\n                                 indexUlContent++) {\r\n                                if (this.isEmptyUlContent(this.objet.effetMagique[indexEffet].effetMagiqueUl[indexUl]\r\n                                    .effetMagiqueUlContent[indexUlContent])) {\r\n                                    // TODO : Supprimer ul content\r\n                                    this.objetService.ulContent(this.http, HttpMethods.DELETE, 0,\r\n                                        this.objet.effetMagique[indexEffet].effetMagiqueUl[indexUl]\r\n                                            .effetMagiqueUlContent[indexUlContent]).then(\r\n                                        (data: any) => {\r\n                                            console.log(data);\r\n                                        }\r\n                                    );\r\n                                } else {\r\n                                    if (this.areDifferentUlContents(this.objet.effetMagique[indexEffet].effetMagiqueUl[indexUl]\r\n                                            .effetMagiqueUlContent[indexUlContent],\r\n                                        this.objetOriginal.effetMagique[indexEffet].effetMagiqueUl[indexUl]\r\n                                            .effetMagiqueUlContent[indexUlContent])) {\r\n                                        // TODO : Modifier ul content\r\n                                        console.log('Je modifie une valeur, car :' +\r\n                                            this.objet.effetMagique[indexEffet].effetMagiqueUl[indexUl]\r\n                                                .effetMagiqueUlContent[indexUlContent].contenu + ' !== ' +\r\n                                            this.objetOriginal.effetMagique[indexEffet].effetMagiqueUl[indexUl]\r\n                                                .effetMagiqueUlContent[indexUlContent].contenu);\r\n                                        this.objetService.ulContent(this.http, HttpMethods.PUT, 0,\r\n                                            this.objet.effetMagique[indexEffet].effetMagiqueUl[indexUl]\r\n                                                .effetMagiqueUlContent[indexUlContent]).then(\r\n                                            (data: any) => {\r\n                                                console.log(data);\r\n                                            }\r\n                                        );\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n\r\n\r\n                    for (let indexDescription = 0; indexDescription < this.objet.effetMagique[indexEffet].effetMagiqueDescription.length;\r\n                         indexDescription++) {\r\n                        if (this.isEmptyDescription(this.objet.effetMagique[indexEffet].effetMagiqueDescription[indexDescription])) {\r\n                            // TODO : Supprimer description\r\n                            this.objetService.description(this.http, HttpMethods.DELETE, 0,\r\n                                this.objet.effetMagique[indexEffet].effetMagiqueDescription[indexDescription])\r\n                                .then(\r\n                                    (data: any) => {\r\n                                        console.log(data);\r\n                                    }\r\n                                );\r\n                        } else {\r\n                            if (this.areDifferentDescriptions(this.objet.effetMagique[indexEffet].effetMagiqueDescription[indexDescription],\r\n                                this.objetOriginal.effetMagique[indexEffet].effetMagiqueDescription[indexDescription])) {\r\n                                // TODO : Modifier description\r\n                                this.objetService.description(this.http, HttpMethods.PUT, 0,\r\n                                    this.objet.effetMagique[indexEffet].effetMagiqueDescription[indexDescription])\r\n                                    .then(\r\n                                        (data: any) => {\r\n                                            console.log(data);\r\n                                        }\r\n                                    );\r\n                            }\r\n                        }\r\n                    }\r\n\r\n\r\n                    for (let indexInfos = 0; indexInfos < this.objet.effetMagique[indexEffet].effetMagiqueDBInfos.length;\r\n                         indexInfos++) {\r\n                        if (this.isEmptyInfo(this.objet.effetMagique[indexEffet].effetMagiqueDBInfos[indexInfos])) {\r\n                            // TODO : Supprimer infos\r\n                            this.objetService.infos(this.http, HttpMethods.DELETE, 0,\r\n                                this.objet.effetMagique[indexEffet].effetMagiqueDBInfos[indexInfos])\r\n                                .then(\r\n                                    (data: any) => {\r\n                                        console.log(data);\r\n                                    }\r\n                                );\r\n                        } else {\r\n                            if (this.areDifferentInfos(this.objet.effetMagique[indexEffet].effetMagiqueDBInfos[indexInfos],\r\n                                this.objetOriginal.effetMagique[indexEffet].effetMagiqueDBInfos[indexInfos])) {\r\n                                // TODO : Modifier infos\r\n                                this.objetService.infos(this.http, HttpMethods.PUT, 0,\r\n                                    this.objet.effetMagique[indexEffet].effetMagiqueDBInfos[indexInfos])\r\n                                    .then(\r\n                                        (data: any) => {\r\n                                            console.log(data);\r\n                                        }\r\n                                    );\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                    if (this.areDifferentEffetsMagiques(this.objet.effetMagique[indexEffet], this.objetOriginal.effetMagique[indexEffet])) {\r\n                        // TODO : Modifier effet\r\n                        this.objetService.effetMagique(this.http, HttpMethods.PUT, 0, this.objet.effetMagique[indexEffet])\r\n                            .then(\r\n                                (data: any) => {\r\n                                    console.log(data);\r\n                                }\r\n                            );\r\n                    }\r\n                }\r\n            }\r\n            if (this.areDifferentObjets(this.objet, this.objetOriginal)) {\r\n                this.objetService.objet(this.http, HttpMethods.PUT, 0, this.objet).then(\r\n                    (data: any) => {\r\n                        console.log(data);\r\n                    }\r\n                );\r\n            }\r\n        }\r\n    }\r\n\r\n    setEmptyToNull() {\r\n        this.objet.fauxNom = this.objet.fauxNom ? this.objet.fauxNom.length !== 0 ? this.objet.fauxNom : null : null;\r\n        this.objet.nom = this.objet.nom ? this.objet.nom.length !== 0 ? this.objet.nom : null : null;\r\n        this.objet.type = this.objet.type ? this.objet.type.length !== 0 ? this.objet.type : null : null;\r\n        this.objet.degats = this.objet.degats ? this.objet.degats.length !== 0 ? this.objet.degats : null : null;\r\n        this.objet.categorie = this.objet.categorie ? this.objet.categorie.length !== 0 ? this.objet.categorie : null : null;\r\n        this.objet.critique = this.objet.critique ? this.objet.critique.length !== 0 ? this.objet.critique : null : null;\r\n        this.objet.devise = this.objet.devise ? this.objet.devise.length !== 0 ? this.objet.devise : null : null;\r\n        this.objet.facteurPortee = this.objet.facteurPortee ?\r\n            this.objet.facteurPortee.length !== 0 ? this.objet.facteurPortee : null\r\n            : null;\r\n        this.objet.risqueEchecSorts = this.objet.risqueEchecSorts ?\r\n            this.objet.risqueEchecSorts.length !== 0 ? this.objet.risqueEchecSorts : null\r\n            : null;\r\n        this.objet.taille = this.objet.taille ? this.objet.taille.length !== 0 ? this.objet.taille : null : null;\r\n    }\r\n\r\n    isEmptyTable(effetMagiqueTable: EffetMagiqueTable): boolean {\r\n        for (const title of effetMagiqueTable.effetMagiqueTableTitle) {\r\n            if (!this.isEmptyTableTitle(title)) {\r\n                return false;\r\n            }\r\n        }\r\n        for (const tr of effetMagiqueTable.effetMagiqueTableTr) {\r\n            if (!this.isEmptyTableTr(tr)) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n\r\n    isEmptyTableTitle(effetMagiqueTableTitle: EffetMagiqueTableTitle): boolean {\r\n        for (const titleContent of effetMagiqueTableTitle.effetMagiqueTableTitleContent) {\r\n            if (!this.isEmptyTableTitleContent(titleContent)) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n\r\n    isEmptyTableTitleContent(effetMagiqueTableTitleContent: EffetMagiqueTableTitleContent): boolean {\r\n        return effetMagiqueTableTitleContent.contenu.length === 0 || !(!!effetMagiqueTableTitleContent.contenu);\r\n    }\r\n\r\n    isEmptyTableTr(effetMagiqueTableTr: EffetMagiqueTableTr): boolean {\r\n        for (const trContent of effetMagiqueTableTr.effetMagiqueTableTrContent) {\r\n            if (!this.isEmptyTableTrContent(trContent)) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n\r\n    isEmptyTableTrContent(effetMagiqueTableTrContent: EffetMagiqueTableTrContent): boolean {\r\n        return !(!!effetMagiqueTableTrContent.contenu) || effetMagiqueTableTrContent.contenu.length === 0;\r\n    }\r\n\r\n    isEmptyUl(effetMagiqueUl: EffetMagiqueUl): boolean {\r\n        for (const ulContent of effetMagiqueUl.effetMagiqueUlContent) {\r\n            if (!this.isEmptyUlContent(ulContent)) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n\r\n    isEmptyUlContent(effetMagiqueUlContent: EffetMagiqueUlContent): boolean {\r\n        return effetMagiqueUlContent.contenu.length === 0;\r\n    }\r\n\r\n    isEmptyDescriptions(effetMagiqueDescriptions: EffetMagiqueDescription[]) {\r\n        for (const description of effetMagiqueDescriptions) {\r\n            if (!this.isEmptyDescription(description)) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n\r\n    isEmptyDescription(description: EffetMagiqueDescription): boolean {\r\n        return !(!!description.contenu) || description.contenu.length === 0;\r\n    }\r\n\r\n    isEmptyInfos(effetMagiqueInfos: EffetMagiqueDBInfos[]) {\r\n        for (const infos of effetMagiqueInfos) {\r\n            if (!this.isEmptyInfo(infos)) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n\r\n    isEmptyInfo(info: EffetMagiqueDBInfos) {\r\n        return !(!!info.contenu) || info.contenu.length === 0;\r\n    }\r\n\r\n    isEmptyEffetMagique(effetMagique: EffetMagiqueDB) {\r\n        for (const table of effetMagique.effetMagiqueTable) {\r\n            if (!this.isEmptyTable(table)) {\r\n                return false;\r\n            }\r\n        }\r\n        for (const ul of effetMagique.effetMagiqueUl) {\r\n            if (!this.isEmptyUl(ul)) {\r\n                return false;\r\n            }\r\n        }\r\n        if (!this.isEmptyDescriptions(effetMagique.effetMagiqueDescription)) {\r\n            return false;\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    isEmptyObjet(): boolean {\r\n        if (this.objet.nom.length !== 0\r\n            || (this.objet.malediction && (this.objet.malediction.nom.length !== 0 || this.objet.malediction.description.length !== 0))\r\n            || (this.objet.materiau && (this.objet.materiau.nom.length !== 0 || this.objet.materiau.effet.length !== 0))) {\r\n            return false;\r\n        }\r\n        for (const effet of this.objet.effetMagique) {\r\n            if (!this.isEmptyEffetMagique(effet)) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n\r\n    areDifferentTables(table1: EffetMagiqueTable, table2: EffetMagiqueTable): boolean {\r\n        return table1.idEffetMagique !== table2.idEffetMagique || table1.position !== table2.position;\r\n    }\r\n\r\n    areDifferentTableTitles(table1: EffetMagiqueTableTitle, table2: EffetMagiqueTableTitle): boolean {\r\n        return table1.idEffetMagiqueTable !== table2.idEffetMagiqueTable;\r\n    }\r\n\r\n    areDifferentTableTitleContents(table1: EffetMagiqueTableTitleContent, table2: EffetMagiqueTableTitleContent): boolean {\r\n        return table1.idEffetMagiqueTableTitle !== table2.idEffetMagiqueTableTitle || table1.contenu !== table2.contenu;\r\n    }\r\n\r\n    areDifferentTableTrs(table1: EffetMagiqueTableTr, table2: EffetMagiqueTableTr): boolean {\r\n        return table1.idEffetMagiqueTable !== table2.idEffetMagiqueTable;\r\n    }\r\n\r\n    areDifferentTableTrContents(table1: EffetMagiqueTableTrContent, table2: EffetMagiqueTableTrContent): boolean {\r\n        return table1.idEffetMagiqueTableTr !== table2.idEffetMagiqueTableTr || table1.contenu !== table2.contenu;\r\n    }\r\n\r\n    areDifferentUls(table1: EffetMagiqueUl, table2: EffetMagiqueUl): boolean {\r\n        return table1.idEffetMagique !== table2.idEffetMagique || table1.position !== table2.position;\r\n    }\r\n\r\n    areDifferentUlContents(table1: EffetMagiqueUlContent, table2: EffetMagiqueUlContent): boolean {\r\n        return table1.idEffetMagiqueUl !== table2.idEffetMagiqueUl || table1.contenu !== table2.contenu;\r\n    }\r\n\r\n    areDifferentDescriptions(description1: EffetMagiqueDescription, description2: EffetMagiqueDescription): boolean {\r\n        return description1.idEffetMagique !== description2.idEffetMagique || description1.contenu !== description2.contenu;\r\n    }\r\n\r\n    areDifferentInfos(infos1: EffetMagiqueDBInfos, infos2: EffetMagiqueDBInfos): boolean {\r\n        return infos1.idEffetMagique !== infos2.idEffetMagique || infos1.contenu !== infos2.contenu;\r\n    }\r\n\r\n    areDifferentEffetsMagiques(effet1: EffetMagiqueDB, effet2: EffetMagiqueDB): boolean {\r\n        return effet1.idObjet !== effet2.idObjet || effet1.title !== effet2.title;\r\n    }\r\n\r\n    areDifferentObjets(objet1: ObjetCommunFromDB, objet2: ObjetCommunFromDB): boolean {\r\n        const objetTemp1 = JSON.parse(JSON.stringify(objet1)) as ObjetCommunFromDB;\r\n        // objetTemp1.effetMagique = null;\r\n        // objetTemp1.materiau = null;\r\n        // objetTemp1.malediction = null;\r\n        const objetTemp2 = JSON.parse(JSON.stringify(objet2)) as ObjetCommunFromDB;\r\n        // objetTemp2.effetMagique = null;\r\n        // objetTemp2.materiau = null;\r\n        // objetTemp2.malediction = null;\r\n\r\n        // console.log(objetTemp1);\r\n        // console.log(objetTemp2);\r\n        // console.log(JSON.stringify(objetTemp1) !== JSON.stringify(objetTemp2));\r\n        // console.log(!equal(objetTemp1, objetTemp2)); // true\r\n        // return JSON.stringify(objetTemp1) !== JSON.stringify(objetTemp2);\r\n        return !equal(objetTemp1, objetTemp2);\r\n    }\r\n}\r\n","<div style=\"width: 100%\" *ngIf=\"this.objet && !this.updating\" class=\"personnageObjet\">\r\n    <div style=\"width: 100%\" *ngIf=\"!this.modificationEnCours\">\r\n        <div class=\"titleTop\">\r\n            <div class=\"h1Fake\" [innerHTML]=\"this.objet.nom\"></div>\r\n            <div class=\"validationAffichage\">\r\n                <div class=\"validationBox\" (click)=\"this.changeValidation('nom')\" [ngClass]=\"{'validatedBox' : this.objet.afficherNom}\"\r\n                     data-toggle=\"tooltip\" data-placement=\"bottom\" matTooltip=\"Afficher le nom réel de l'objet\">{{this.objet.afficherNom ? 1 : 0}}</div>\r\n                <div class=\"validationBox\" (click)=\"this.changeValidation('effetMagique')\" [ngClass]=\"{'validatedBox' : this.objet.afficherEffetMagique}\"\r\n                     data-toggle=\"tooltip\" data-placement=\"bottom\" matTooltip=\"Afficher l'effet magique de l'objet\">{{this.objet.afficherEffetMagique ? 1 : 0}}</div>\r\n                <div class=\"validationBox\" (click)=\"this.changeValidation('malediction')\" [ngClass]=\"{'validatedBox' : this.objet.afficherMalediction}\"\r\n                     data-toggle=\"tooltip\" data-placement=\"bottom\" matTooltip=\"Afficher la malédiction de l'objet\">{{this.objet.afficherMalediction ? 1 : 0}}</div>\r\n                <div class=\"validationBox\" (click)=\"this.changeValidation('materiau')\" [ngClass]=\"{'validatedBox' : this.objet.afficherMateriau}\"\r\n                     data-toggle=\"tooltip\" data-placement=\"bottom\" matTooltip=\"Afficher le matériau de l'objet\">{{this.objet.afficherMateriau ? 1 : 0}}</div>\r\n                <div class=\"validationBox\" (click)=\"this.changeValidation('infos')\" [ngClass]=\"{'validatedBox' : this.objet.afficherInfos}\"\r\n                     data-toggle=\"tooltip\" data-placement=\"bottom\" matTooltip=\"Afficher les infos de l'effet magique\">{{this.objet.afficherInfos ? 1 : 0}}</div>\r\n            </div>\r\n        </div>\r\n        <h4 *ngIf=\"this.objet.fauxNom\"> Faux Nom : {{this.objet.fauxNom}}</h4>\r\n        <div *ngIf=\"this.objet.effetMagique\">{{this.objet.type}}</div>\r\n        <p *ngIf=\"this.objet.armure\"><span *ngIf=\"this.objet.armure\"> Armure: {{this.objet.armure}}\r\n                <span *ngIf=\"this.objet.bonus\">- Bonus +{{this.objet.bonus}}</span></span>\r\n            <span *ngIf=\"this.objet.prix\"> - Prix : {{this.objet.prix.toLocaleString(\"fr\")}} po</span>\r\n        </p>\r\n        <p *ngIf=\"this.objet.degats\"> <span *ngIf=\"this.objet.taille\"> Dégats : {{this.objet.degats}}</span><span\r\n            *ngIf=\"this.objet.bonus\"> - Bonus +{{this.objet.bonus}}</span></p>\r\n        <div *ngIf=\"this.objet.malediction\">\r\n            Malediction\r\n            <br/>\r\n            <span [innerHTML]=\"this.objet.malediction.nom\"></span> : <span>{{this.objet.malediction.description}}</span>\r\n        </div>\r\n        <br/>\r\n        <ng-container *ngFor=\"let effetMagique of this.objet.effetMagique;\">\r\n            <h4>{{effetMagique.title}}</h4>\r\n            <span *ngFor=\"let description of effetMagique.effetMagiqueDescription; let index = index;\">\r\n                    <span [innerHTML]=\"description.contenu\"></span><br/>\r\n\r\n                    <ng-container *ngFor=\"let table of effetMagique.effetMagiqueTable;\">\r\n                        <span *ngIf=\"table.position === index + 1\">\r\n                            <table cellspacing=\"1\" border=\"1\">\r\n                                <tbody>\r\n                                <tr *ngFor=\"let th of table.effetMagiqueTableTitle; let thIndex = index\" style=\"text-align: center\">\r\n                                    <ng-container *ngFor=\"let title of th.effetMagiqueTableTitleContent; let titleIndex = index\">\r\n                                        <th *ngIf=\"thIndex === 0 && table.effetMagiqueTableTitle.length > 1\r\n                                        && table.effetMagiqueTableTitle[0].effetMagiqueTableTitleContent.length < table.effetMagiqueTableTitle[1].effetMagiqueTableTitleContent.length; else elseBlock\"\r\n                                            [colSpan]=\"(table.effetMagiqueTableTitle[1].effetMagiqueTableTitleContent.length / table.effetMagiqueTableTitle[0].effetMagiqueTableTitleContent.length)\">{{title.contenu}}</th>\r\n                                        <ng-template #elseBlock>\r\n                                            <th>{{title.contenu}}</th>\r\n                                        </ng-template>\r\n                                    </ng-container>\r\n                                </tr>\r\n                                <tr *ngFor=\"let td of table.effetMagiqueTableTr; let tdIndex = index\">\r\n                                    <ng-container *ngFor=\"let content of td.effetMagiqueTableTrContent\">\r\n                                        <td>{{content.contenu}}</td>\r\n                                    </ng-container>\r\n                                </tr>\r\n                                </tbody>\r\n                            </table>\r\n                        </span>\r\n                    </ng-container>\r\n\r\n\r\n                    <ng-container *ngFor=\"let ul of effetMagique.effetMagiqueUl;\">\r\n                        <span *ngIf=\"+ul.position === index + 1\">\r\n                            <ul>\r\n                                <li *ngFor=\"let li of ul.effetMagiqueUlContent;\" [innerHTML]=\"li.contenu\"></li>\r\n                            </ul>\r\n                        </span>\r\n                    </ng-container>\r\n                </span>\r\n            <br/>\r\n            <br/>\r\n            <span *ngIf=\"effetMagique.effetMagiqueDBInfos\"> <span *ngFor=\"let info of effetMagique.effetMagiqueDBInfos\" [innerHTML]=\"info.contenu\"></span></span><br/><br/>\r\n        </ng-container>\r\n        <div *ngIf=\"this.objet.materiau\">\r\n            Materiau\r\n            <br/>\r\n            <span [innerHTML]=\"this.objet.materiau.nom\"></span> : <span>{{this.objet.materiau.effet}}</span>\r\n        </div>\r\n        <button class=\"btn btn-light\" (click)=\"this.modifierContenu()\" [disabled]=\"this.valide\">Modifier propriété magique</button>\r\n        <button class=\"btn btn-success\" *ngIf=\"!this.valide else objetValidee\" (click)=\"this.selection()\"\r\n                [disabled]=\"!this.areDifferentObjets(this.objet, this.objetOriginal) || (!this.objet.afficherNom && (!this.objet.fauxNom || this.objet.fauxNom.length === 0))\"\r\n                title=\"Des modifications doivent être faites, et vous ne pouvez valider si le nom ne sera pas afficher, et qu'aucun faux nom n'est défini.\">\r\n            Valider objet\r\n        </button>\r\n        <ng-template #objetValidee>\r\n            <button class=\"btn btn-outline-warning\" (click)=\"this.selection()\">Dévalider objet</button>\r\n        </ng-template>\r\n    </div>\r\n\r\n    <div style=\"width: 100%\" *ngIf=\"this.modificationEnCours\">\r\n        <div class=\"titleTop\">\r\n            <div class=\"h1Fake\" [innerHTML]=\"this.objet.nom\"></div>\r\n            <div class=\"validationAffichage\">\r\n                <div class=\"validationBox\" (click)=\"this.changeValidation('nom')\" [ngClass]=\"{'validatedBox' : this.objet.afficherNom}\"\r\n                     data-toggle=\"tooltip\" data-placement=\"bottom\" matTooltip=\"Afficher le nom réel de l'objet\">{{this.objet.afficherNom ? 1 : 0}}</div>\r\n                <div class=\"validationBox\" (click)=\"this.changeValidation('effetMagique')\" [ngClass]=\"{'validatedBox' : this.objet.afficherEffetMagique}\"\r\n                     data-toggle=\"tooltip\" data-placement=\"bottom\" matTooltip=\"Afficher l'effet magique de l'objet\">{{this.objet.afficherEffetMagique ? 1 : 0}}</div>\r\n                <div class=\"validationBox\" (click)=\"this.changeValidation('malediction')\" [ngClass]=\"{'validatedBox' : this.objet.afficherMalediction}\"\r\n                     data-toggle=\"tooltip\" data-placement=\"bottom\" matTooltip=\"Afficher la malédiction de l'objet\">{{this.objet.afficherMalediction ? 1 : 0}}</div>\r\n                <div class=\"validationBox\" (click)=\"this.changeValidation('materiau')\" [ngClass]=\"{'validatedBox' : this.objet.afficherMateriau}\"\r\n                     data-toggle=\"tooltip\" data-placement=\"bottom\" matTooltip=\"Afficher le matériau de l'objet\">{{this.objet.afficherMateriau ? 1 : 0}}</div>\r\n                <div class=\"validationBox\" (click)=\"this.changeValidation('infos')\" [ngClass]=\"{'validatedBox' : this.objet.afficherInfos}\"\r\n                     data-toggle=\"tooltip\" data-placement=\"bottom\" matTooltip=\"Afficher les infos de l'effet magique\">{{this.objet.afficherInfos ? 1 : 0}}</div>\r\n            </div>\r\n        </div>\r\n        <h6>\r\n            <mat-form-field class=\"example-full-width\">\r\n                <mat-label>Nom de l'bjet</mat-label>\r\n                <textarea [(ngModel)]=\"this.objet.nom\" matInput></textarea>\r\n            </mat-form-field>\r\n         </h6>\r\n        <mat-form-field appearance=\"fill\" class=\"example-full-width\">\r\n            <mat-label>Faux nom</mat-label>\r\n            <textarea [(ngModel)]=\"this.objet.fauxNom\" rows=\"1\" matInput></textarea>\r\n        </mat-form-field>\r\n        <mat-form-field>\r\n            <mat-label>Type de l'objet</mat-label>\r\n            <textarea [(ngModel)]=\"this.objet.type\" matInput></textarea>\r\n        </mat-form-field>\r\n        <!--Si c'est une arme-->\r\n        <div *ngIf=\"this.objet.degats\" style=\"width: 100%\">\r\n            <span *ngIf=\"this.objet.taille\">\r\n                <mat-form-field>\r\n                <mat-label>Dégâts</mat-label>\r\n                    <textarea [(ngModel)]=\"this.objet.degats\" matInput></textarea>\r\n                </mat-form-field>\r\n            </span>\r\n            <span *ngIf=\"this.objet.bonus\">\r\n                <mat-form-field>\r\n                <mat-label>Bonus dégâts +</mat-label>\r\n                    <textarea [(ngModel)]=\"this.objet.bonus\" matInput></textarea>\r\n                </mat-form-field>\r\n            </span>\r\n        </div>\r\n        <!--Si c'est une armure-->\r\n        <div *ngIf=\"this.objet.armure\" style=\"width: 100%\">\r\n\r\n            <span *ngIf=\"this.objet.armure\">\r\n                <mat-form-field>\r\n                <mat-label>Armure</mat-label>\r\n                    <textarea [(ngModel)]=\"this.objet.armure\" matInput></textarea>\r\n                </mat-form-field>\r\n            </span>\r\n\r\n            <span *ngIf=\"this.objet.bonus\">\r\n                <mat-form-field>\r\n                <mat-label>Bonus d'armure +</mat-label>\r\n                    <textarea [(ngModel)]=\"this.objet.bonus\" matInput></textarea>\r\n                </mat-form-field>\r\n            </span>\r\n\r\n            <span *ngIf=\"this.objet.prix\">\r\n                <mat-form-field>\r\n                <mat-label>Prix (po)</mat-label>\r\n                    <textarea [(ngModel)]=\"this.objet.prix\" matInput></textarea>\r\n                </mat-form-field>\r\n            </span>\r\n        </div>\r\n\r\n        <div *ngIf=\"this.objet.malediction\">\r\n            <hr  style=\"width: 66%; background-color: lightgrey; margin-left: 0; height : 1px\">\r\n            <h6>Malediction</h6>\r\n            <mat-form-field class=\"example-full-width\">\r\n                <mat-label>Nom malediction</mat-label>\r\n                <textarea [(ngModel)]=\"this.objet.malediction.nom\" matInput></textarea>\r\n            </mat-form-field>\r\n\r\n            <mat-form-field class=\"example-full-width\" style=\"width: 100%\">\r\n                <mat-label>Effet malediction</mat-label>\r\n                <textarea [(ngModel)]=\"this.objet.malediction.description\" matInput></textarea>\r\n            </mat-form-field>\r\n        </div>\r\n\r\n        <ng-container *ngFor=\"let proprieteObjet of this.objet.effetMagique; let indexPropriete = index; trackBy: trackByFn\">\r\n            <hr  style=\"width: 66%; background-color: lightgrey; margin-left: 0; height : 1px\">\r\n            <h6>Effet Magique</h6>\r\n            <h6>\r\n                <mat-form-field class=\"example-full-width\">\r\n                    <mat-label>Titre effetMagique</mat-label>\r\n                    <textarea [(ngModel)]=\"this.objet.effetMagique[indexPropriete].title\" matInput></textarea>\r\n                </mat-form-field>\r\n            </h6>\r\n            <span\r\n                *ngFor=\"let description of this.objet.effetMagique[indexPropriete].effetMagiqueDescription; let indexDescription = index; trackBy: trackByFn\">\r\n                    <textarea\r\n                        [(ngModel)]=\"this.objet.effetMagique[indexPropriete].effetMagiqueDescription[indexDescription].contenu\"></textarea><br/>\r\n\r\n                    <ng-container\r\n                        *ngFor=\"let table of this.objet.effetMagique[indexPropriete].effetMagiqueTable; let indexTable = index\">\r\n                        <span *ngIf=\"+table.position === indexDescription + 1\">\r\n                            <table>\r\n                                <tbody>\r\n                                <tr *ngFor=\"let th of this.objet.effetMagique[indexPropriete].effetMagiqueTable[indexTable].effetMagiqueTableTitle; let thIndex = index\">\r\n                                    <ng-container\r\n                                        *ngFor=\"let title of this.objet.effetMagique[indexPropriete].effetMagiqueTable[indexTable].effetMagiqueTableTitle[thIndex].effetMagiqueTableTitleContent; let tdIndex = index; trackBy: trackByFn\">\r\n                                        <th *ngIf=\"thIndex === 0 && table.effetMagiqueTableTitle.length > 1 && table.effetMagiqueTableTitle[0].effetMagiqueTableTitleContent.length < table.effetMagiqueTableTitle[1].effetMagiqueTableTitleContent.length; else elseBlock\"\r\n                                            [colSpan]=\"table.effetMagiqueTableTitle[1].effetMagiqueTableTitleContent.length / table.effetMagiqueTableTitle[0].effetMagiqueTableTitleContent.length\">\r\n                                            <textarea\r\n                                                [(ngModel)]=\"this.objet.effetMagique[indexPropriete].effetMagiqueTable[indexTable].effetMagiqueTableTitle[thIndex].effetMagiqueTableTitleContent[tdIndex].contenu\"></textarea>\r\n                                        </th>\r\n                                        <ng-template #elseBlock>\r\n                                            <th>\r\n                                                <textarea\r\n                                                    [(ngModel)]=\"this.objet.effetMagique[indexPropriete].effetMagiqueTable[indexTable].effetMagiqueTableTitle[thIndex].effetMagiqueTableTitleContent[tdIndex].contenu\"></textarea>\r\n                                            </th>\r\n                                        </ng-template>\r\n                                    </ng-container>\r\n                                </tr>\r\n                                <tr *ngFor=\"let td of this.objet.effetMagique[indexPropriete].effetMagiqueTable[indexTable].effetMagiqueTableTr; let trIndex = index\">\r\n                                    <ng-container\r\n                                        *ngFor=\"let content of this.objet.effetMagique[indexPropriete].effetMagiqueTable[indexTable].effetMagiqueTableTr[trIndex].effetMagiqueTableTrContent; let tdIndex = index; trackBy: trackByFn\">\r\n                                        <td>\r\n                                            <textarea\r\n                                                [(ngModel)]=\"this.objet.effetMagique[indexPropriete].effetMagiqueTable[indexTable].effetMagiqueTableTr[trIndex].effetMagiqueTableTrContent[tdIndex].contenu\"></textarea>\r\n                                        </td>\r\n                                    </ng-container>\r\n                                </tr>\r\n                                </tbody>\r\n                            </table>\r\n                        </span>\r\n                    </ng-container>\r\n\r\n                    <ng-container *ngFor=\"let shit of this.objet.effetMagique[indexPropriete].effetMagiqueUl; let indexUl = index;\">\r\n                        <span\r\n                            *ngIf=\"this.objet.effetMagique[indexPropriete].effetMagiqueUl[indexUl].position === indexDescription + 1\">\r\n                            <ul>\r\n                                <li *ngFor=\"let shitBis of this.objet.effetMagique[indexPropriete].effetMagiqueUl[indexUl].effetMagiqueUlContent; let indexLi = index; trackBy: trackByFn\">\r\n                                    <textarea\r\n                                        [(ngModel)]=\"this.objet.effetMagique[indexPropriete].effetMagiqueUl[indexUl].effetMagiqueUlContent[indexLi].contenu\"\r\n                                        [name]=\"'positon'+this.objet.effetMagique[indexPropriete].effetMagiqueUl[indexUl].position+'ul'+indexUl+'li'+indexLi\"></textarea>\r\n                                </li>\r\n                            </ul>\r\n                        </span>\r\n                    </ng-container>\r\n                </span>\r\n            <br/>\r\n            <h6>Infos effet magique</h6>\r\n            <ng-container\r\n                *ngFor=\"let shit of this.objet.effetMagique[indexPropriete].effetMagiqueDBInfos; let indexData = index; trackBy: trackByFn\">\r\n                <textarea [(ngModel)]=\"this.objet.effetMagique[indexPropriete].effetMagiqueDBInfos[indexData].contenu\"></textarea>\r\n            </ng-container>\r\n        </ng-container>\r\n        <div *ngIf=\"this.objet.materiau\">\r\n            <hr  style=\"width: 66%; background-color: lightgrey; margin-left: 0; height : 1px\">\r\n            <h6>Materiau</h6>\r\n            <mat-form-field class=\"example-full-width\">\r\n                <mat-label>Nom materiau</mat-label>\r\n                <textarea [(ngModel)]=\"this.objet.materiau.nom\" matInput></textarea>\r\n            </mat-form-field>\r\n\r\n            <mat-form-field class=\"example-full-width\" style=\"width: 100%\">\r\n                <mat-label>Effet materiau</mat-label>\r\n                <textarea [(ngModel)]=\"this.objet.materiau.effet\" matInput></textarea>\r\n            </mat-form-field>\r\n        </div>\r\n        <button class=\"btn btn-outline-light\" (click)=\"this.modifierContenu()\" [disabled]=\"!this.objet.afficherNom && (!this.objet.fauxNom || this.objet.fauxNom.length === 0)\"\r\n        title=\"Vous ne pouvez valider si le nom ne sera pas afficher, et qu'aucun faux nom n'est défini.\">Valider propriété magique</button>\r\n        <button class=\"btn btn-outline-warning\" (click)=\"this.resetContenu()\">Reset propriété magique</button>\r\n    </div>\r\n</div>\r\n<div *ngIf=\"this.objet && this.updating\">\r\n    <div class=\"messageChargement\">Chargement en cours</div>\r\n    <mat-progress-bar mode=\"query\"></mat-progress-bar>\r\n</div>\r\n\r\n<div id=\"caracterSelection\">\r\n    <label for=\"inputPersonnageChoix\">Selectionnez un personnage à qui attribuer le drop</label>\r\n    <select id=\"inputPersonnageChoix\" class=\"form-control\" (change)=\"selectPersonnageAChanger()\"\r\n            [(ngModel)]=\"this.idPersonnageSelectionne\">\r\n        <option value=0> Autre </option>\r\n        <option *ngFor=\"let personnage of this.personnages\" [ngValue]=\"+personnage.idPersonnage\">\r\n            {{personnage.idPersonnage}} - {{personnage.nom}}\r\n        </option>\r\n    </select>\r\n</div>\r\n","import {Component, OnInit} from '@angular/core';\nimport {SpecialResponse} from '../loot-table/loot-table.component';\nimport {HttpClient} from '@angular/common/http';\nimport {ObjetService} from '../services/objet.service';\nimport {PersonnageService} from '../services/personnage.service';\nimport {AuthService} from '../auth/auth.service';\nimport {Router} from '@angular/router';\n\n@Component({\n    selector: 'app-personnage',\n    templateUrl: './personnage.component.html',\n    styleUrls: ['./personnage.component.scss']\n})\nexport class PersonnageComponent implements OnInit {\n\n    personnages: Personnage[];\n\n    currentPersonnage: Personnage;\n    idPersonnageSelectionne: number;\n\n    afficherStatistiquesSecondaires = false;\n\n    objetMinimisations: ObjetMinimisation[];\n    objetCourantID: number;\n\n    updatingObjetName = false;\n    updatingObjetID: number;\n\n    constructor(private http: HttpClient,\n                private objetService: ObjetService,\n                private personnageService: PersonnageService,\n                public authService: AuthService,\n                public router: Router) {\n    }\n\n    ngOnInit(): void {\n        this.personnageService.getAllPersonnages(this.http, true).then(\n            (data: any) => {\n                console.log(data);\n                const response = data as SpecialResponse;\n                this.personnages = response.data as Personnage[];\n            }\n        );\n    }\n\n    selectPersonnage() {\n        if (+this.idPersonnageSelectionne !== 0) {\n            this.objetCourantID = null;\n            this.currentPersonnage = this.personnages.find(f => f.idPersonnage === +this.idPersonnageSelectionne);\n            this.loadObjetsNames();\n        }\n    }\n\n    public loadObjetsNames() {\n        this.objetService.getAllObjetsNames(this.http, this.idPersonnageSelectionne).then(\n            (dataObjet: any) => {\n                const response: SpecialResponse = dataObjet as SpecialResponse;\n                console.log(response);\n                this.objetMinimisations = response.data as ObjetMinimisation[];\n                console.log(this.objetMinimisations);\n            }\n        );\n    }\n\n    public selectObjet(idObjet: number) {\n        this.objetCourantID = idObjet;\n    }\n\n    basedOn(statistique: string) {\n        switch (statistique.toLowerCase()) {\n            case 'intelligence':\n                return Math.floor((this.currentPersonnage.intelligence - 10) / 2);\n            case 'force':\n                return Math.floor((this.currentPersonnage.force - 10) / 2);\n            case 'agilite':\n                return Math.floor((this.currentPersonnage.agilite - 10) / 2);\n            case 'sagesse':\n                return Math.floor((this.currentPersonnage.sagesse - 10) / 2);\n            case 'constitution':\n                return Math.floor((this.currentPersonnage.constitution - 10) / 2);\n            case 'vitalite':\n                return Math.floor((this.currentPersonnage.vitalite - 10) / 2);\n            case 'mana':\n                return Math.floor((this.currentPersonnage.mana - 10) / 2);\n        }\n    }\n\n    reloadingObjet(idObjet: number) {\n        this.updatingObjetName = true;\n        this.updatingObjetID = idObjet;\n        setTimeout(() => {\n            this.objetService.getObjetName(this.http, idObjet).then(\n                (dataObjet: any) => {\n                    const response: SpecialResponse = dataObjet as SpecialResponse;\n                    console.log(response);\n                    const index = this.objetMinimisations.indexOf(this.objetMinimisations.find(f => +f.idObjet === +idObjet));\n                    this.objetMinimisations[index] = response.data as ObjetMinimisation;\n                    console.log(this.objetMinimisations[index]);\n                }\n            );\n        }, 1250);\n        setTimeout(() => {\n            this.updatingObjetName = false;\n            this.updatingObjetID = null;\n        }, 2500);\n    }\n\n    getNomSansBalise(objetNom: string) {\n        return objetNom.replace(/<a href=\"http:\\/\\/([a-z]*.*?)\">(.*?)<\\/a>/g, '$2');\n    }\n\n    allerAPageGestionPersonnage() {\n        this.router.navigate(['/niveau', {id: this.idPersonnageSelectionne}]);\n    }\n}\n","<div id=\"fakebody\">\r\n\r\n    <div *ngIf=\"this.authService.personnage || this.authService.isGameMaster()\">\r\n        <button (click)=\"this.allerAPageGestionPersonnage()\"> Gestion du personnage</button>\r\n    </div>\r\n\r\n    <div class=\"principal\">\r\n        <div id=\"caracterSelection\" class=\"caracterSelection\">\r\n            <label for=\"inputPersonnageChoix\">Selectionnez un personnage pour visionner ses objets</label>\r\n            <select id=\"inputPersonnageChoix\" class=\"form-control\" (change)=\"selectPersonnage()\"\r\n                    [(ngModel)]=\"this.idPersonnageSelectionne\">\r\n                <option *ngFor=\"let personnage of this.personnages\" [value]=\"personnage.idPersonnage\">\r\n                    {{personnage.idPersonnage}} - {{personnage.nom}}\r\n                </option>\r\n            </select>\r\n        </div>\r\n        <div *ngIf=\"this.currentPersonnage\" style=\"width: 100%;\">\r\n            <div style=\"width: 100%\">\r\n                <h3 *ngIf=\"this.currentPersonnage\"> {{currentPersonnage.nom}}</h3>\r\n            </div>\r\n            <div class=\"statistiques\">\r\n                <div class=\"statistiquesPrincipales\">\r\n                    <div>\r\n                        <div>Intelligence : {{this.currentPersonnage.intelligence}}</div>\r\n                        <div>Force : {{this.currentPersonnage.force}}</div>\r\n                        <div>Agilité : {{this.currentPersonnage.agilite}}</div>\r\n                    </div>\r\n                    <div>\r\n                        <div>Sagesse : {{this.currentPersonnage.sagesse}}</div>\r\n                        <div>Constitution : {{this.currentPersonnage.constitution}}</div>\r\n                        <div>Vitalité : {{this.currentPersonnage.vitalite}}</div>\r\n                        <div>Mana : {{this.currentPersonnage.mana}}</div>\r\n                    </div>\r\n                </div>\r\n                <mat-checkbox [(ngModel)]=\"this.afficherStatistiquesSecondaires\"\r\n                              color=\"primary\">\r\n                    Afficher statistiques secondaires\r\n                </mat-checkbox>\r\n                <div class=\"statistiquesSecondaires\" *ngIf=\"this.afficherStatistiquesSecondaires\">\r\n                    <div class=\"categorieStatistiquesSecondaires\">\r\n                        <div class=\"titre\">Lié à la Intelligence</div>\r\n                        <div>Art de la magie : {{this.basedOn('intelligence')}}</div>\r\n                        <div>Artisanat (Autre) : {{this.basedOn('intelligence')}}</div>\r\n                        <div>Art martial : {{this.basedOn('intelligence')}}</div>\r\n                        <div>Art psi : {{this.basedOn('intelligence')}}</div>\r\n                        <div>Connaissances : {{this.basedOn('intelligence')}}</div>\r\n                        <div>Contrefaçon : {{this.basedOn('intelligence')}}</div>\r\n                        <div>Décryptage : {{this.basedOn('intelligence')}}</div>\r\n                        <div>Désamorçage/sabotage : {{this.basedOn('intelligence')}}</div>\r\n                        <div>Estimation : {{this.basedOn('intelligence')}}</div>\r\n                        <div>Fouille : {{this.basedOn('intelligence')}}</div>\r\n                        <div>Prime idiome : {{this.basedOn('intelligence')}}</div>\r\n                    </div>\r\n                    <div class=\"categorieStatistiquesSecondaires\">\r\n                        <div class=\"titre\">Lié à la Dextérité</div>\r\n                        <div>Acrobaties : {{this.basedOn('agilite')}}</div>\r\n                        <div>Crochetage : {{this.basedOn('agilite')}}</div>\r\n                        <div>Déplacement silencieux : {{this.basedOn('agilite')}}</div>\r\n                        <div>Vision nocturne : {{this.basedOn('agilite')}}</div>\r\n                        <div>Discrétion : {{this.basedOn('agilite')}}</div>\r\n                        <div>Équilibre : {{this.basedOn('agilite')}}</div>\r\n                        <div>Équitation : {{this.basedOn('agilite')}}</div>\r\n                        <div>Escamotage : {{this.basedOn('agilite')}}</div>\r\n                        <div>Évasion : {{this.basedOn('agilite')}}</div>\r\n                        <div>Maîtrise des cordes : {{this.basedOn('agilite')}}</div>\r\n                    </div>\r\n                    <div class=\"categorieStatistiquesSecondaires\">\r\n                        <div class=\"titre\">Lié à la Sagesse</div>\r\n                        <div>Autohypnose : {{this.basedOn('sagesse')}}</div>\r\n                        <div>Contrôle de forme : {{this.basedOn('sagesse')}}</div>\r\n                        <div>Détection : {{this.basedOn('sagesse')}}</div>\r\n                        <div>Perception auditive : {{this.basedOn('sagesse')}}</div>\r\n                        <div>Premiers secours : {{this.basedOn('sagesse')}}</div>\r\n                        <div>Profession (Autre) : {{this.basedOn('sagesse')}}</div>\r\n                        <div>Psychologie : {{this.basedOn('sagesse')}}</div>\r\n                        <div>Survie : {{this.basedOn('sagesse')}}</div>\r\n                    </div>\r\n                    <div class=\"categorieStatistiquesSecondaires\">\r\n                        <div class=\"titre\">Lié à la force</div>\r\n                        <div>Escalade : {{this.basedOn('force')}}</div>\r\n                        <div>Natation : {{this.basedOn('force')}}</div>\r\n                        <div>Saut : {{this.basedOn('force')}}</div>\r\n                    </div>\r\n                    <div class=\"categorieStatistiquesSecondaires\">\r\n                        <div class=\"titre\">Lié à la Constitution</div>\r\n                        <div>Concentration : {{this.basedOn('constitution')}}</div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <div style=\"width: 100%\">\r\n            <div class=\"noms\">\r\n                <ng-container *ngFor=\"let objet of this.objetMinimisations\">\r\n                    <div class=\"nomObjet\">\r\n                        <div class=\"spinner_overlay\" *ngIf=\"this.updatingObjetName && this.updatingObjetID === objet.idObjet\">\r\n                            <app-spinner></app-spinner>\r\n                        </div>\r\n                        <button class=\"btn btn-danger\" (click)=\"this.selectObjet(objet.idObjet)\"\r\n                                [disabled]=\"this.updatingObjetName && this.updatingObjetID !== objet.idObjet\">\r\n                            <span *ngIf=\"objet.afficherNom; else fauxNom\">\r\n                                <b>{{getNomSansBalise(objet.nom)}}</b>\r\n                                <ng-container *ngIf=\"objet.fauxNom\"> <br/><i>{{objet.fauxNom}}</i></ng-container>\r\n                            </span>\r\n                            <ng-template #fauxNom>\r\n                                <b>{{objet.fauxNom}}</b>\r\n                            </ng-template>\r\n                        </button>\r\n                    </div>\r\n                </ng-container>\r\n            </div>\r\n\r\n            <ng-container *ngIf=\"this.objetCourantID\">\r\n                <app-personnage-objet-personnage [personnages]=\"personnages\" [idPersonnage]=\"currentPersonnage.idPersonnage\"\r\n                                                 [idObj]=\"this.objetCourantID\"\r\n                (changingObjetEffetDecouvert)=\"this.reloadingObjet($event)\"></app-personnage-objet-personnage>\r\n            </ng-container>\r\n\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n\r\n","import {Component, Input, OnInit, ViewChild} from '@angular/core';\nimport {PersonnageService} from '../services/personnage.service';\nimport {SpecialResponse} from '../loot-table/loot-table.component';\nimport {HttpClient} from '@angular/common/http';\nimport {MatTable} from '@angular/material/table';\nimport {HttpMethods} from '../interface/http-methods.enum';\nimport {FadingInfoComponent} from '../fading-info/fading-info.component';\nimport {MatSnackBar} from '@angular/material/snack-bar';\nimport * as equal from 'fast-deep-equal';\n\n@Component({\n    selector: 'app-progression-personnage',\n    templateUrl: './progression-personnage.component.html',\n    styleUrls: ['./progression-personnage.component.scss']\n})\nexport class ProgressionPersonnageComponent implements OnInit {\n\n    @ViewChild(MatTable) table: MatTable<ProgressionPersonnage>;\n    @ViewChild('Banner') banner: FadingInfoComponent;\n\n    progressionPersonnage: ProgressionPersonnage[];\n    progressionPersonnageOriginal: ProgressionPersonnage[];\n    displayedColumns: string[] = ['niveau', 'statistiques', 'nombreStatistiques', 'pointCompetence', 'nombrePointsCompetences'];\n\n    constructor(private http: HttpClient,\n                private personnageService: PersonnageService,\n                private _snackBar: MatSnackBar) {\n    }\n\n    ngOnInit(): void {\n        this.loadProgressionPersonnage();\n    }\n\n    loadProgressionPersonnage() {\n        this.personnageService.getProgressionPersonnage(this.http).then(\n            (data: any) => {\n                console.log(data);\n                const response: SpecialResponse = data as SpecialResponse;\n                this.progressionPersonnage = response.data as ProgressionPersonnage[];\n                this.progressionPersonnageOriginal = JSON.parse(JSON.stringify(this.progressionPersonnage)) as ProgressionPersonnage[];\n                // console.log(this.progressionPersonnage);\n            }\n        );\n    }\n\n\n    ajouterLigne() {\n        // const lastProgression = this.progressionPersonnage[this.progressionPersonnage.length - 1];\n        const lastProgression = this.progressionPersonnage[0];\n        const newProgression = {\n            idProgressionPersonnage: null, niveau: lastProgression.niveau + 1, statistiques: false,\n            nombreStatistiques: 0, pointCompetence: false, nombrePointsCompetences: 0\n        } as ProgressionPersonnage;\n        this.personnageService.progressionPersonnage(this.http, HttpMethods.POST,\n            newProgression.idProgressionPersonnage, newProgression).then(\n            (data: any) => {\n                console.log(data);\n                const response: SpecialResponse = JSON.parse(data) as SpecialResponse;\n                this.banner.loadComponentFromSpecialResponse(response);\n                if (response.status > 199 && response.status < 299) {\n                    console.log(response.data as ProgressionPersonnage);\n                    newProgression.idProgressionPersonnage = (response.data as ProgressionPersonnage).idProgressionPersonnage;\n                    // this.progressionPersonnage.push(newProgression);\n                    this.progressionPersonnage.unshift(newProgression);\n                    this.table.renderRows();\n                } else if (response.status === 409) {\n                    this.openSnackBar('Niveau déjà défini', 'Erreur');\n                }\n            }\n        ).catch(\n            (data: any) => {\n                console.log(data);\n                const httpResponse = data;\n                const response: SpecialResponse = JSON.parse(data.error) as SpecialResponse;\n                this.banner.loadComponentFromSpecialResponse(response);\n                if (httpResponse.status === 409) {\n                    this.openSnackBar('Niveau déjà défini', 'Erreur');\n                }\n            }\n        );\n        // console.log(this.progressionPersonnage);\n    }\n\n    supprimerLigne() {\n        const progression = this.progressionPersonnage[this.progressionPersonnage.length - 1];\n        this.personnageService.progressionPersonnage(this.http, HttpMethods.DELETE, progression.idProgressionPersonnage, progression).then(\n            (data: any) => {\n                console.log(data);\n                const response: SpecialResponse = JSON.parse(data);\n                this.banner.loadComponentFromSpecialResponse(response);\n                if (response.status > 199 && response.status < 299) {\n                    // this.progressionPersonnage.pop();\n                    this.progressionPersonnage.shift();\n                    this.table.renderRows();\n                }\n            }\n        );\n        // console.log(this.progressionPersonnage);\n    }\n\n    validerTable() {\n        for (let indexProgression = 0 ; indexProgression < this.progressionPersonnage.length ; indexProgression++) {\n            if (!equal(this.progressionPersonnage[indexProgression], this.progressionPersonnageOriginal[indexProgression])) {\n                this.personnageService.progressionPersonnage(this.http, HttpMethods.PUT,\n                    this.progressionPersonnage[indexProgression].idProgressionPersonnage, this.progressionPersonnage[indexProgression])\n                    .then(\n                        (data: any) => {\n                            console.log(data);\n                            const response: SpecialResponse = JSON.parse(data);\n                            this.banner.loadComponentFromSpecialResponse(response);\n                        }\n                );\n            }\n        }\n        setTimeout(() => {\n            this.loadProgressionPersonnage();\n        }, 2500);\n    }\n\n    resetTable() {\n        this.progressionPersonnage = JSON.parse(JSON.stringify(this.progressionPersonnageOriginal));\n    }\n\n    openSnackBar(message: string, action: string) {\n        this._snackBar.open(message, action, {\n            duration: 5000,\n        });\n    }\n\n    changementStatistiquesAutorise(indexProgressionPersonnage: number) {\n        this.progressionPersonnage[indexProgressionPersonnage].nombreStatistiques =\n            this.progressionPersonnage[indexProgressionPersonnage].statistiques ?\n                this.progressionPersonnage[indexProgressionPersonnage].nombreStatistiques : 0;\n    }\n\n    changementPointCompetenceAutorise(indexProgressionPersonnage: number) {\n        this.progressionPersonnage[indexProgressionPersonnage].nombrePointsCompetences =\n            this.progressionPersonnage[indexProgressionPersonnage].pointCompetence ?\n                this.progressionPersonnage[indexProgressionPersonnage].nombrePointsCompetences : 0;\n    }\n}\n\n@Component({\n    selector: 'app-snack-bar-component',\n    template: '<span class=\"hotPinkColor\">\\n' +\n        '  {{this.message}}' +\n        '</span>',\n    styles: [`\n    .hotPinkColor {\n      color: hotpink;\n    }\n  `],\n})\nexport class InformationSnackBarComponent {\n    @Input() message: string;\n}\n","<div class=\"globalContainer\">\n\n    <div class=\"tableContainer\">\n\n        <div class=\"boutonControlleTable\">\n            <button class=\"btn btn-light\" (click)=\"ajouterLigne()\">Ajouter une ligne à la fin</button>\n            <button class=\"btn btn-light\" (click)=\"supprimerLigne()\">Supprimer la dernière ligne</button>\n        </div>\n        <table mat-table #table [dataSource]=\"progressionPersonnage\" class=\"mat-elevation-z8\">\n\n            <!--- Note that these columns can be defined in any order.\n                  The actual rendered columns are set as a property on the row definition\" -->\n\n            <!-- Niveau Column -->\n            <ng-container matColumnDef=\"niveau\">\n                <th mat-header-cell *matHeaderCellDef> Niveau</th>\n                <td mat-cell *matCellDef=\"let element\"> {{element.niveau}} </td>\n            </ng-container>\n\n            <!-- Statistiques Column -->\n            <ng-container matColumnDef=\"statistiques\">\n                <th mat-header-cell *matHeaderCellDef> Statistique autorisée</th>\n                <td mat-cell *matCellDef=\"let element ; let index = index\">\n                    <section class=\"example-section\">\n                        <mat-checkbox class=\"example-margin\" (change)=\"changementStatistiquesAutorise(index)\"\n                                      [(ngModel)]=\"element.statistiques\"></mat-checkbox>\n                    </section>\n                </td>\n            </ng-container>\n\n            <!-- NombreStatistiques Column -->\n            <ng-container matColumnDef=\"nombreStatistiques\">\n                <th mat-header-cell *matHeaderCellDef> Nombre points statistiques</th>\n                <td mat-cell *matCellDef=\"let element\">\n                    <input [disabled]=\"!element.statistiques\" [(ngModel)]=\"element.nombreStatistiques\"/>\n                </td>\n            </ng-container>\n\n            <!-- PointCompetence Column -->\n            <ng-container matColumnDef=\"pointCompetence\">\n                <th mat-header-cell *matHeaderCellDef> Points compétence autorisés</th>\n                <td mat-cell *matCellDef=\"let element; let index = index\">\n                    <section class=\"example-section\">\n                        <mat-checkbox class=\"example-margin\" (change)=\"changementPointCompetenceAutorise(index)\"\n                                      [(ngModel)]=\"element.pointCompetence\"></mat-checkbox>\n                    </section>\n                </td>\n            </ng-container>\n\n            <!-- NombrePointsCompetences Column -->\n            <ng-container matColumnDef=\"nombrePointsCompetences\">\n                <th mat-header-cell *matHeaderCellDef> Nombre points compétence</th>\n                <td mat-cell *matCellDef=\"let element\">\n                    <input [disabled]=\"!element.pointCompetence\"\n                           [(ngModel)]=\"element.nombrePointsCompetences\"/>\n                </td>\n            </ng-container>\n\n            <tr mat-header-row *matHeaderRowDef=\"displayedColumns\"></tr>\n            <tr mat-row *matRowDef=\"let row; columns: displayedColumns\"></tr>\n        </table>\n\n        <div class=\"boutonModifierDonneesTables\">\n            <!--button class=\"btn btn-warning\" (click)=\"resetTable()\">Reset table</button-->\n            <button class=\"btn btn-success\" (click)=\"validerTable()\">Valider table</button>\n        </div>\n\n    </div>\n\n    <app-fading-info #Banner></app-fading-info>\n</div>\n","import { Injectable } from '@angular/core';\r\nimport {HttpClient, HttpParams} from '@angular/common/http';\r\n// @ts-ignore\r\nimport {Famille, MonstreGroupe} from '../interface/MonstreGroupe';\r\nimport {BASE_URL, URL_FAMILLE_MONSTRE, URL_MONSTRE, URL_MONSTRES} from './rest.service';\r\nimport {Observable, Subscription} from 'rxjs';\r\nimport {SpecialResponse} from '../loot-table/loot-table.component';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class FamilleAndMonstreService {\r\n\r\n  constructor() { }\r\n\r\n  public chargerFamillesAvecMonstres(http: HttpClient): MonstreGroupe[] {\r\n    const monstresGroupes: MonstreGroupe[] = [];\r\n    const baseUrlBis = BASE_URL + URL_MONSTRES + '?withFamille=true';\r\n    const applicationTypeObservable: Observable<SpecialResponse> =\r\n      http.get<SpecialResponse>(baseUrlBis);\r\n    const applicationTypeSubscription: Subscription = applicationTypeObservable.subscribe(\r\n      (response) => {\r\n        const familles: MonstreGroupe[] = response.data as MonstreGroupe[];\r\n        for (const famille of familles) {\r\n          monstresGroupes.push(famille);\r\n        }\r\n        applicationTypeSubscription.unsubscribe();\r\n      },\r\n      (error) => {\r\n        console.log('Une erreur est survenue dans la suscription: ' + error);\r\n      },\r\n      () => {\r\n      }\r\n    );\r\n    return monstresGroupes;\r\n  }\r\n\r\n  public chargerAllFamilles(http: HttpClient): Famille[] {\r\n    const allFamilles: Famille[] = [];\r\n    const baseUrlBis = BASE_URL + URL_FAMILLE_MONSTRE;\r\n    const applicationTypeObservable: Observable<SpecialResponse> =\r\n      http.get<SpecialResponse>(baseUrlBis);\r\n    const applicationTypeSubscription: Subscription = applicationTypeObservable.subscribe(\r\n      (response) => {\r\n        const familles: Famille[] = response.data as Famille[];\r\n        for (const famille of familles) {\r\n          allFamilles.push(famille);\r\n        }\r\n        applicationTypeSubscription.unsubscribe();\r\n      },\r\n      (error) => {\r\n        console.log('Une erreur est survenue dans la suscription: ' + error);\r\n      },\r\n      () => {\r\n      }\r\n    );\r\n    return allFamilles;\r\n  }\r\n\r\n  /* ---------------------------------------------------*\r\n  |           Partie familles & monstres                |\r\n  *-----------------------------------------------------*/\r\n\r\n  public getFamillesAvecMonstres(http: HttpClient): Promise<string> {\r\n    const baseUrlBis = BASE_URL + URL_MONSTRES + '?withFamille=true';\r\n    return http.request('GET', baseUrlBis, {responseType: 'text'}).toPromise();\r\n  }\r\n\r\n  /* ---------------------------------------------------*\r\n  |                  Partie monstre                     |\r\n  *-----------------------------------------------------*/\r\n\r\n  public creerMonstre(http: HttpClient, idFamilleMonstre: number, libelle: string): Promise<string> {\r\n    const values = {idFamilleMonstre: undefined, libelle: undefined};\r\n    values.idFamilleMonstre = idFamilleMonstre;\r\n    values.libelle = libelle;\r\n    const baseUrlBis = BASE_URL + URL_MONSTRE;\r\n    const params = new HttpParams().set('Monstre', JSON.stringify(values));\r\n\r\n    return http.request('POST', baseUrlBis, {responseType: 'text', params}).toPromise();\r\n  }\r\n\r\n  public modifierMonstre(http: HttpClient, idMonstre: number, idFamilleMonstre: number, libelle: string): Promise<string> {\r\n    const values = {idMonstre: undefined, idFamilleMonstre: undefined, libelle: undefined};\r\n    values.idMonstre = idMonstre;\r\n    values.idFamilleMonstre = idFamilleMonstre === 0 ? 'NULL' : idFamilleMonstre;\r\n    values.libelle = libelle;\r\n    const baseUrlBis = BASE_URL + URL_MONSTRE + '?idMonstre=' + idMonstre;\r\n    const params = new HttpParams().set('Monstre', JSON.stringify(values));\r\n\r\n    return http.request('PUT', baseUrlBis, {responseType: 'text', params}).toPromise();\r\n  }\r\n\r\n  /* ---------------------------------------------------*\r\n  |                  Partie famille                     |\r\n  *-----------------------------------------------------*/\r\n\r\n  public getAllFamilles(http: HttpClient): Promise<string> {\r\n    const baseUrlBis = BASE_URL + URL_FAMILLE_MONSTRE;\r\n    return http.request('GET', baseUrlBis, {responseType: 'text'}).toPromise();\r\n  }\r\n\r\n  public creerFamille(http: HttpClient, libelle: string): Promise<string> {\r\n    const values = { libelle: undefined};\r\n    values.libelle = libelle;\r\n    const baseUrlBis = BASE_URL + URL_FAMILLE_MONSTRE;\r\n    const params = new HttpParams().set('Famille', JSON.stringify(values));\r\n    return http.request('POST', baseUrlBis, {responseType: 'text', params}).toPromise();\r\n  }\r\n\r\n  public modifierFamille(http: HttpClient, idFamilleMonstre: number, libelle: string): Promise<string> {\r\n    const values = { idFamilleMonstre: undefined, libelle: undefined };\r\n    values.idFamilleMonstre = idFamilleMonstre;\r\n    values.libelle = libelle;\r\n    const baseUrlBis = BASE_URL + URL_FAMILLE_MONSTRE + '?idFamilleMonstre=' + idFamilleMonstre;\r\n    console.log(baseUrlBis);\r\n    const params = new HttpParams().set('Famille', JSON.stringify(values));\r\n\r\n    return http.request('PUT', baseUrlBis, {responseType: 'text', params}).toPromise();\r\n  }\r\n}\r\n","import {Injectable} from '@angular/core';\nimport {HttpClient} from '@angular/common/http';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class JSonLoadService {\n\n    constructor(private http: HttpClient) {\n    }\n\n    public getJSON(folder: string, fileToLoad: string): Promise<string> {\n        const baseUrlBis = fileToLoad.endsWith('.json') ?\n            'assets/json/' + folder + '/' + fileToLoad : 'assets/json/' + folder + '/' + fileToLoad + '.json';\n        return this.http.request('GET', baseUrlBis, {responseType: 'text'}).toPromise();\n    }\n}\n","import {Injectable} from '@angular/core';\r\nimport {HttpClient, HttpParams} from '@angular/common/http';\r\nimport {BASE_URL, URL_DROP_CHANCE, URL_DROP_CHANCE_BIS} from './rest.service';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class MonstreLootChanceService {\r\n\r\n  constructor() {\r\n  }\r\n  public addedRow: boolean[] = [];\r\n\r\n  public envoyerLootChances(http: HttpClient, httpMethod: string, idMonstre: number, Loot: MonstreLootChance[]): Promise<string> {\r\n    const values = {idMonstre: undefined, Loot: undefined};\r\n    values.idMonstre = idMonstre;\r\n    values.Loot = Loot;\r\n    console.log(values);\r\n    const baseUrlBis = BASE_URL + URL_DROP_CHANCE + '?idMonstre=' + idMonstre + '&multipleInput=true';\r\n    console.log(baseUrlBis);\r\n    const params = new HttpParams().set('Loot', JSON.stringify(values));\r\n\r\n    return http.request(httpMethod, baseUrlBis, {responseType: 'text', params}).toPromise();\r\n  }\r\n\r\n  public envoyerLootChancesBis(http: HttpClient, httpMethod: string, idMonstre: number, Loot: MonstreLootChanceBis[]): Promise<string> {\r\n    const values = {idMonstre: undefined, Loot: undefined};\r\n    values.idMonstre = idMonstre;\r\n    values.Loot = Loot;\r\n    for (let i = 0 ; i < values.Loot.length ; i++) {\r\n      values.Loot[i].idLoot = +values.Loot[i].idLoot === 0 ? null : +values.Loot[i].idLoot ;\r\n    }\r\n    console.log(httpMethod);\r\n    console.log(JSON.stringify(values.Loot));\r\n    const baseUrlBis = BASE_URL + URL_DROP_CHANCE_BIS + '?idMonstre=' + idMonstre + '&multipleInput=true';\r\n    console.log(baseUrlBis);\r\n    const params = new HttpParams().set('Loot', JSON.stringify(values));\r\n\r\n    return http.request(httpMethod, baseUrlBis, {responseType: 'text', params}).toPromise();\r\n  }\r\n\r\n  public getMonstreLootChanceTest(http: HttpClient, idMonstre: number): Promise<string> {\r\n    const baseUrlBis = BASE_URL + URL_DROP_CHANCE + '?idMonstre=' + idMonstre;\r\n    return http.request('GET', baseUrlBis, {responseType: 'text'}).toPromise();\r\n  }\r\n\r\n  public getMonstreLootChanceBis(http: HttpClient, idMonstre: number): Promise<string> {\r\n    const baseUrlBis = BASE_URL + URL_DROP_CHANCE_BIS + '?idMonstre=' + idMonstre;\r\n    return http.request('GET', baseUrlBis, {responseType: 'text'}).toPromise();\r\n  }\r\n\r\n  public getLootPossibles(http: HttpClient): Promise<string> {\r\n    return http.request('GET', BASE_URL + 'lootPossiblesRest.php', {responseType: 'text'}).toPromise();\r\n  }\r\n}\r\n","import {Injectable} from '@angular/core';\r\nimport {HttpClient, HttpParams} from '@angular/common/http';\r\nimport {BASE_URL, URL_DROP_CHANCE, URL_EFFET_MAGIQUE, URL_OBJET_COMPLET} from './rest.service';\r\nimport {SpecialResponse} from '../loot-table/loot-table.component';\r\nimport {HttpMethods} from '../interface/http-methods.enum';\r\n\r\n@Injectable({\r\n    providedIn: 'root'\r\n})\r\nexport class ObjetService {\r\n\r\n    constructor() {\r\n    }\r\n\r\n    public updateForObjet(http: HttpClient, idObjet: number, fieldToUpdate: string, value: number) {\r\n        const baseUrlBis = BASE_URL + URL_DROP_CHANCE + '?idObjet=' + idObjet + '&' + fieldToUpdate + '=' + value;\r\n        console.log(baseUrlBis);\r\n        return http.request(HttpMethods.PUT.toString(), baseUrlBis).toPromise();\r\n    }\r\n\r\n    public envoyerDescriptions(http: HttpClient, httpMethod: string, idEffet: number, descriptions: string[]) {\r\n        const values = {idEffetMagique: undefined, Descriptions: undefined};\r\n        values.idEffetMagique = idEffet;\r\n        values.Descriptions = descriptions;\r\n        console.log(values);\r\n        const baseUrlBis = BASE_URL + 'effetMagique/effetMagiqueDescription.php' + '?idEffet=' + idEffet + '';\r\n        console.log(baseUrlBis);\r\n        const params = new HttpParams().set('EffetMagiqueDescriptions', JSON.stringify(values));\r\n\r\n        return http.request(httpMethod, baseUrlBis, {responseType: 'text', params}).toPromise();\r\n    }\r\n\r\n    public envoyerObjetComplet(http: HttpClient, httpMethod: string, idObjet: number, objet: any): Promise<string> {\r\n        const values = {idObjet: undefined, Objet: undefined};\r\n        values.idObjet = idObjet;\r\n        values.Objet = objet;\r\n        console.log(values);\r\n        const baseUrlBis = BASE_URL + URL_OBJET_COMPLET;\r\n        console.log(baseUrlBis);\r\n        const params = new HttpParams().set('Objet', JSON.stringify(values));\r\n\r\n        return http.request(httpMethod, baseUrlBis, {responseType: 'text', params}).toPromise();\r\n    }\r\n\r\n    public getObjetComplet(http: HttpClient, idObjet: number) {\r\n        const baseUrlBis = BASE_URL + URL_OBJET_COMPLET + '?idObjet=' + idObjet + '';\r\n        console.log(baseUrlBis);\r\n        return http.request(HttpMethods.GET.toString(), baseUrlBis).toPromise();\r\n    }\r\n\r\n    public getEffetsMagiquesDecouverts(http: HttpClient, idObjet: number, idPersonnage: number) {\r\n        const baseUrlBis = BASE_URL + 'effetMagique/effetMagiqueDecouvert.php' + '?idObjet=' + idObjet + '&idPersonnage=' + idPersonnage +\r\n        '&allDecouverts=true';\r\n        console.log(baseUrlBis);\r\n        return http.request(HttpMethods.GET.toString(), baseUrlBis).toPromise();\r\n    }\r\n\r\n    public effetsMagiquesDecouverts(http: HttpClient, httpMethod: HttpMethods, effetMagiqueDecouver: EffetMagiqueDecouvert) {\r\n        const values = {EffetMagiqueDecouvert: undefined};\r\n        values.EffetMagiqueDecouvert = effetMagiqueDecouver;\r\n        console.log(values);\r\n        const baseUrlBis = BASE_URL + 'effetMagique/effetMagiqueDecouvert.php';\r\n        console.log(baseUrlBis);\r\n        const params = new HttpParams().set('EffetMagiqueDecouvert', JSON.stringify(values));\r\n\r\n        return http.request(httpMethod.toString(), baseUrlBis, {responseType: 'text', params}).toPromise();\r\n    }\r\n\r\n    public getAllObjetsComplets(http: HttpClient, idPersonnage: number) {\r\n        const baseUrlBis = BASE_URL + URL_OBJET_COMPLET + '?idPersonnage=' + idPersonnage + '';\r\n        console.log(baseUrlBis);\r\n        return http.request(HttpMethods.GET.toString(), baseUrlBis).toPromise();\r\n    }\r\n\r\n    public getAllObjetsIDs(http: HttpClient, idPersonnage: number) {\r\n        const baseUrlBis = BASE_URL + URL_OBJET_COMPLET + '?idPersonnage=' + idPersonnage + '&idsOnly=true';\r\n        console.log(baseUrlBis);\r\n        return http.request(HttpMethods.GET.toString(), baseUrlBis).toPromise();\r\n    }\r\n\r\n    public getAllObjetsNames(http: HttpClient, idPersonnage: number) {\r\n        const baseUrlBis = BASE_URL + URL_OBJET_COMPLET + '?idPersonnage=' + idPersonnage + '&namesOnly=true';\r\n        console.log(baseUrlBis);\r\n        return http.request(HttpMethods.GET.toString(), baseUrlBis).toPromise();\r\n    }\r\n\r\n    public getObjetName(http: HttpClient, idObjet: number) {\r\n        const baseUrlBis = BASE_URL + URL_OBJET_COMPLET + '?idObjet=' + idObjet + '&nameOnly=true';\r\n        console.log(baseUrlBis);\r\n        return http.request(HttpMethods.GET.toString(), baseUrlBis).toPromise();\r\n    }\r\n\r\n    public envoyerEffetMagique(http: HttpClient, httpMethod: string, idObjet: number, effet: MagicalProperty): Promise<string> {\r\n        const effetModified: MagicalProperty = JSON.parse(JSON.stringify(effet)) as MagicalProperty;\r\n        effetModified.table = null;\r\n        effetModified.ul = null;\r\n        const values = {idObjet: undefined, EffetMagique: undefined};\r\n        values.idObjet = idObjet;\r\n        values.EffetMagique = effetModified;\r\n        console.log(values);\r\n        const baseUrlBis = BASE_URL + URL_EFFET_MAGIQUE + '?idObjet=' + idObjet + '';\r\n        console.log(baseUrlBis);\r\n        const params = new HttpParams().set('EffetMagique', JSON.stringify(values));\r\n\r\n        return http.request(httpMethod, baseUrlBis, {responseType: 'text', params}).toPromise().then(\r\n            (dataEffetMagique: any) => {\r\n                console.log(dataEffetMagique);\r\n                const response: SpecialResponse = JSON.parse(dataEffetMagique) as SpecialResponse;\r\n                const idEffetMagique = response.data.idEffetMagique;\r\n                console.log(response);\r\n                console.log(response.data);\r\n                return this.envoyerEffetMagiqueTable(http, httpMethod, idEffetMagique, effet.table).then(\r\n                    (dataEffetMagiqeTable: any) => {\r\n                        console.log(dataEffetMagiqeTable);\r\n                        return this.envoyerEffetMagiqueUl(http, httpMethod, idEffetMagique, effet.ul);\r\n                    }\r\n                );\r\n            }\r\n        );\r\n    }\r\n\r\n    private envoyerEffetMagiqueTable(http: HttpClient, httpMethod: string, idEffetMagique: number, effetTable: TableMagicalProperty[])\r\n        : Promise<string> {\r\n        const values = {idEffetMagique: undefined, EffetMagiqueTable: undefined};\r\n        values.idEffetMagique = idEffetMagique;\r\n        values.EffetMagiqueTable = effetTable;\r\n        console.log(values);\r\n        const baseUrlBis = BASE_URL + URL_EFFET_MAGIQUE + '?idEffetMagique=' + idEffetMagique + '';\r\n        console.log(baseUrlBis);\r\n        const params = new HttpParams().set('EffetMagiqueTable', JSON.stringify(values));\r\n\r\n        return http.request(httpMethod, baseUrlBis, {responseType: 'text', params}).toPromise();\r\n    }\r\n\r\n    private envoyerEffetMagiqueUl(http: HttpClient, httpMethod: string, idEffetMagique: number, effetUl: UlMagicalProperty[])\r\n        : Promise<string> {\r\n        const values = {idEffetMagique: undefined, EffetMagiqueUl: undefined};\r\n        values.idEffetMagique = idEffetMagique;\r\n        values.EffetMagiqueUl = effetUl;\r\n        console.log(values);\r\n        const baseUrlBis = BASE_URL + URL_EFFET_MAGIQUE + '?idEffetMagique=' + idEffetMagique + '';\r\n        console.log(baseUrlBis);\r\n        const params = new HttpParams().set('EffetMagiqueUl', JSON.stringify(values));\r\n\r\n        return http.request(httpMethod, baseUrlBis, {responseType: 'text', params}).toPromise();\r\n    }\r\n\r\n    public ulContent(http: HttpClient, httpMethod: HttpMethods, idEffetMagiqueUl: number, effetMagiqueUlContent: EffetMagiqueUlContent)\r\n        : Promise<string> {\r\n        const values = {idEffetMagiqueUl: undefined, EffetMagiqueUlContent: undefined};\r\n        values.idEffetMagiqueUl = idEffetMagiqueUl;\r\n        values.EffetMagiqueUlContent = effetMagiqueUlContent;\r\n        console.log(values);\r\n        const baseUrlBis = BASE_URL + 'effetMagique/effetMagiqueUlContent.php' + '?idEffetMagiqueUl=' + idEffetMagiqueUl + '';\r\n        console.log(baseUrlBis);\r\n        const params = new HttpParams().set('EffetMagiqueUlContent', JSON.stringify(values));\r\n\r\n        return http.request(httpMethod.toString(), baseUrlBis, {responseType: 'text', params}).toPromise();\r\n    }\r\n\r\n    public ul(http: HttpClient, httpMethod: HttpMethods, idEffetMagique: number, effetMagiqueUl: EffetMagiqueUl): Promise<string> {\r\n        const effetMagiqueUlToUSe = {idEffetMagiqueUl: effetMagiqueUl.idEffetMagiqueUl,\r\n            idEffetMagique: effetMagiqueUl.idEffetMagique,\r\n            position: effetMagiqueUl.position};\r\n        const values = {idEffetMagique: undefined, EffetMagiqueUl: effetMagiqueUlToUSe};\r\n        values.idEffetMagique = idEffetMagique;\r\n        console.log(values);\r\n        const baseUrlBis = BASE_URL + 'effetMagique/effetMagiqueUl.php' + '?idEffetMagique=' + idEffetMagique + '';\r\n        console.log(baseUrlBis);\r\n        const params = new HttpParams().set('EffetMagiqueUl', JSON.stringify(values));\r\n\r\n        return http.request(httpMethod.toString(), baseUrlBis, {responseType: 'text', params}).toPromise();\r\n    }\r\n\r\n    public titleContent(http: HttpClient, httpMethod: HttpMethods, idEffetMagiqueTableTitle: number,\r\n                        effetMagiqueTableTitleContent: EffetMagiqueTableTitleContent): Promise<string> {\r\n        const values = {idEffetMagiqueTableTitle: undefined, EffetMagiqueTableTitleContent: undefined};\r\n        values.idEffetMagiqueTableTitle = idEffetMagiqueTableTitle;\r\n        values.EffetMagiqueTableTitleContent = effetMagiqueTableTitleContent;\r\n        console.log(values);\r\n        const baseUrlBis = BASE_URL + 'effetMagique/effetMagiqueTableTitleContent.php'\r\n            + '?idEffetMagiqueTableTitle=' + idEffetMagiqueTableTitle + '';\r\n        console.log(baseUrlBis);\r\n        const params = new HttpParams().set('EffetMagiqueTableTitleContent', JSON.stringify(values));\r\n\r\n        return http.request(httpMethod.toString(), baseUrlBis, {responseType: 'text', params}).toPromise();\r\n    }\r\n\r\n    public title(http: HttpClient, httpMethod: HttpMethods, idEffetMagiqueTable: number, effetMagiqueTableTitle: EffetMagiqueTableTitle)\r\n        : Promise<string> {\r\n        const effetMagiqueTableTitleToUSe = {idEffetMagiqueTableTitle: effetMagiqueTableTitle.idEffetMagiqueTableTitle,\r\n            idEffetMagiqueTable: effetMagiqueTableTitle.idEffetMagiqueTable};\r\n        const values = {idEffetMagiqueTable: undefined, EffetMagiqueTableTitle: effetMagiqueTableTitleToUSe};\r\n        values.idEffetMagiqueTable = idEffetMagiqueTable;\r\n        console.log(values);\r\n        const baseUrlBis = BASE_URL + 'effetMagique/effetMagiqueTableTitle.php' + '?idEffetMagiqueTable=' + idEffetMagiqueTable + '';\r\n        console.log(baseUrlBis);\r\n        const params = new HttpParams().set('EffetMagiqueTableTitle', JSON.stringify(values));\r\n\r\n        return http.request(httpMethod.toString(), baseUrlBis, {responseType: 'text', params}).toPromise();\r\n    }\r\n\r\n    public trContent(http: HttpClient, httpMethod: HttpMethods, idEffetMagiqueTableTr: number,\r\n                     effetMagiqueTableTrContent: EffetMagiqueTableTrContent): Promise<string> {\r\n        const values = {idEffetMagiqueTableTr: undefined, EffetMagiqueTableTrContent: undefined};\r\n        values.idEffetMagiqueTableTr = idEffetMagiqueTableTr;\r\n        values.EffetMagiqueTableTrContent = effetMagiqueTableTrContent;\r\n        console.log(values);\r\n        const baseUrlBis = BASE_URL + 'effetMagique/effetMagiqueTableTrContent.php'\r\n            + '?idEffetMagiqueTableTr=' + idEffetMagiqueTableTr + '';\r\n        console.log(baseUrlBis);\r\n        const params = new HttpParams().set('EffetMagiqueTableTrContent', JSON.stringify(values));\r\n\r\n        return http.request(httpMethod.toString(), baseUrlBis, {responseType: 'text', params}).toPromise();\r\n    }\r\n\r\n    public tr(http: HttpClient, httpMethod: HttpMethods, idEffetMagiqueTable: number, effetMagiqueTableTr: EffetMagiqueTableTr)\r\n        : Promise<string> {\r\n        const effetMagiqueTableTrToUSe = {idEffetMagiqueTableTr: effetMagiqueTableTr.idEffetMagiqueTableTr,\r\n            idEffetMagiqueTable: effetMagiqueTableTr.idEffetMagiqueTable};\r\n        const values = {idEffetMagiqueTable: undefined, EffetMagiqueTableTr: effetMagiqueTableTrToUSe};\r\n        values.idEffetMagiqueTable = idEffetMagiqueTable;\r\n        console.log(values);\r\n        const baseUrlBis = BASE_URL + 'effetMagique/effetMagiqueTableTr.php' + '?idEffetMagiqueTable=' + idEffetMagiqueTable + '';\r\n        console.log(baseUrlBis);\r\n        const params = new HttpParams().set('EffetMagiqueTableTr', JSON.stringify(values));\r\n\r\n        return http.request(httpMethod.toString(), baseUrlBis, {responseType: 'text', params}).toPromise();\r\n    }\r\n\r\n    public table(http: HttpClient, httpMethod: HttpMethods, idEffetMagique: number, effetMagiqueTable: EffetMagiqueTable): Promise<string> {\r\n        const effetMagiqueTableToUSe = {idEffetMagiqueTable: effetMagiqueTable.idEffetMagiqueTable,\r\n            idEffetMagique: effetMagiqueTable.idEffetMagique,\r\n            position: effetMagiqueTable.position};\r\n        const values = {idEffetMagique: undefined, EffetMagiqueTable: effetMagiqueTableToUSe};\r\n        values.idEffetMagique = idEffetMagique;\r\n        console.log(values);\r\n        const baseUrlBis = BASE_URL + 'effetMagique/effetMagiqueTable.php' + '?idEffetMagique=' + idEffetMagique + '';\r\n        console.log(baseUrlBis);\r\n        const params = new HttpParams().set('EffetMagiqueTable', JSON.stringify(values));\r\n\r\n        return http.request(httpMethod.toString(), baseUrlBis, {responseType: 'text', params}).toPromise();\r\n    }\r\n\r\n    public effetMagique(http: HttpClient, httpMethod: HttpMethods, idObjet: number, effetMagique: EffetMagiqueDB): Promise<string> {\r\n        const effetMagiqueToUSe = {idEffetMagique: effetMagique.idEffetMagique, idObjet: effetMagique.idObjet, title: effetMagique.title};\r\n        const values = {idObjet: undefined, EffetMagique: effetMagiqueToUSe};\r\n        values.idObjet = idObjet;\r\n        console.log(values);\r\n        const baseUrlBis = BASE_URL + 'effetMagique/effetMagique.php' + '?idObjet=' + idObjet + '';\r\n        console.log(baseUrlBis);\r\n        const params = new HttpParams().set('EffetMagique', JSON.stringify(values));\r\n\r\n        return http.request(httpMethod.toString(), baseUrlBis, {responseType: 'text', params}).toPromise();\r\n    }\r\n\r\n    public description(http: HttpClient, httpMethod: HttpMethods, idEffetMagique: number, effetMagiqueDescription: EffetMagiqueDescription)\r\n        : Promise<string> {\r\n        const values = {idObjet: undefined, EffetMagiqueDescription: undefined};\r\n        values.idObjet = idEffetMagique;\r\n        values.EffetMagiqueDescription = effetMagiqueDescription;\r\n        console.log(values);\r\n        const baseUrlBis = BASE_URL + 'effetMagique/effetMagiqueDescription.php' + '?idEffetMagique=' + idEffetMagique + '';\r\n        console.log(baseUrlBis);\r\n        const params = new HttpParams().set('EffetMagiqueDescription', JSON.stringify(values));\r\n\r\n        return http.request(httpMethod.toString(), baseUrlBis, {responseType: 'text', params}).toPromise();\r\n    }\r\n\r\n    public infos(http: HttpClient, httpMethod: HttpMethods, idEffetMagique: number, effetMagiqueInfos: EffetMagiqueDBInfos)\r\n        : Promise<string> {\r\n        const values = {idObjet: undefined, EffetMagiqueInfos: undefined};\r\n        values.idObjet = idEffetMagique;\r\n        values.EffetMagiqueInfos = effetMagiqueInfos;\r\n        console.log(values);\r\n        const baseUrlBis = BASE_URL + 'effetMagique/effetMagiqueInfos.php' + '?idEffetMagique=' + idEffetMagique + '';\r\n        console.log(baseUrlBis);\r\n        const params = new HttpParams().set('EffetMagiqueInfos', JSON.stringify(values));\r\n\r\n        return http.request(httpMethod.toString(), baseUrlBis, {responseType: 'text', params}).toPromise();\r\n    }\r\n\r\n    public objet(http: HttpClient, httpMethod: HttpMethods, idPersonnage: number, objet: ObjetCommunFromDB)\r\n        : Promise<string> {\r\n        const objetCopie = JSON.parse(JSON.stringify(objet)) as ObjetCommunFromDB;\r\n        objetCopie.effetMagique = null;\r\n        objetCopie.malediction = null;\r\n        objetCopie.materiau = null;\r\n        const values = {idPersonnage: undefined, Objet: undefined};\r\n        values.idPersonnage = idPersonnage;\r\n        values.Objet = objetCopie;\r\n        console.log(values);\r\n        const baseUrlBis = BASE_URL + 'objetCompletRest.php' + '?idPersonnage=' + idPersonnage + '';\r\n        console.log(baseUrlBis);\r\n        const params = new HttpParams().set('Objet', JSON.stringify(values));\r\n        console.log(values);\r\n\r\n        return http.request(httpMethod.toString(), baseUrlBis, {responseType: 'text', params}).toPromise();\r\n    }\r\n\r\n    public malediction(http: HttpClient, httpMethod: HttpMethods, idMalediction: number, malediction: Malediction)\r\n        : Promise<string> {\r\n        const values = {idMalediction: undefined, Malediction: undefined};\r\n        values.idMalediction = idMalediction;\r\n        values.Malediction = malediction;\r\n        console.log(values);\r\n        const baseUrlBis = BASE_URL + 'effetMagique/maledictionRest.php' + '?idMalediction=' + idMalediction + '';\r\n        console.log(baseUrlBis);\r\n        const params = new HttpParams().set('Malediction', JSON.stringify(values));\r\n\r\n        return http.request(httpMethod.toString(), baseUrlBis, {responseType: 'text', params}).toPromise();\r\n    }\r\n\r\n    public materiau(http: HttpClient, httpMethod: HttpMethods, idMateriaux: number, materiaux: Materiau)\r\n        : Promise<string> {\r\n        const values = {idMateriaux: undefined, Materiaux: undefined};\r\n        values.idMateriaux = idMateriaux;\r\n        values.Materiaux = materiaux;\r\n        console.log(values);\r\n        const baseUrlBis = BASE_URL + 'effetMagique/materiauRest.php' + '?idMateriaux=' + idMateriaux + '';\r\n        console.log(baseUrlBis);\r\n        const params = new HttpParams().set('Materiaux', JSON.stringify(values));\r\n\r\n        return http.request(httpMethod.toString(), baseUrlBis, {responseType: 'text', params}).toPromise();\r\n    }\r\n}\r\n","import {Injectable} from '@angular/core';\nimport {HttpClient, HttpParams} from '@angular/common/http';\nimport {BASE_URL, URL_PERSONNAGE, URL_STATISTIQUE} from './rest.service';\nimport {HttpMethods} from '../interface/http-methods.enum';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class PersonnageService {\n\n    constructor() {\n    }\n\n    public getAllPersonnages(http: HttpClient, withStatistique: boolean) {\n        const baseUrlBis = BASE_URL + URL_PERSONNAGE + '?withStatistique=' + withStatistique;\n        console.log(baseUrlBis);\n        return http.request('GET', baseUrlBis).toPromise();\n    }\n\n    public getPersonnage(http: HttpClient, idPersonnage: number, withStatistique: boolean) {\n        const baseUrlBis = BASE_URL + URL_PERSONNAGE + '?idPersonnage=' + idPersonnage + '&withStatistique=' + withStatistique;\n        console.log(baseUrlBis);\n        return http.request('GET', baseUrlBis).toPromise();\n    }\n\n    getStatistiquesDetaillees(http: HttpClient, idPersonnage: number, details: boolean) {\n        const baseUrlBis = BASE_URL + URL_STATISTIQUE + '?idPersonnage=' + idPersonnage + '&details=' + details;\n        console.log(baseUrlBis);\n        return http.request('GET', baseUrlBis).toPromise();\n    }\n\n    getProgressionPersonnage(http: HttpClient) {\n        const baseUrlBis = BASE_URL + 'progressionPersonnage.php';\n        console.log(baseUrlBis);\n        return http.request('GET', baseUrlBis).toPromise();\n    }\n\n    progressionPersonnage(http: HttpClient, httpMethod: HttpMethods, idProgressionPersonnage: number,\n                          progressionPersonnage: ProgressionPersonnage): Promise<string> {\n        const values = {idProgressionPersonnage: undefined, ProgressionPersonnage: undefined};\n        values.idProgressionPersonnage = idProgressionPersonnage;\n        values.ProgressionPersonnage = progressionPersonnage;\n        console.log(values);\n        const baseUrlBis = BASE_URL + 'progressionPersonnage.php' + '?idProgressionPersonnage=' + idProgressionPersonnage;\n        console.log(baseUrlBis);\n        const params = new HttpParams().set('ProgressionPersonnage', JSON.stringify(values));\n\n        return http.request(httpMethod.toString(), baseUrlBis, {responseType: 'text', params}).toPromise();\n    }\n\n    getNiveauEnAttente(http: HttpClient, niveau: number): Promise<any> {\n        const baseUrlBis = BASE_URL + 'progressionPersonnage.php?niveau=' + niveau;\n        console.log(baseUrlBis);\n\n        return http.request('GET', baseUrlBis).toPromise();\n    }\n\n    monterNiveau(http: HttpClient, httpMethod: HttpMethods, idPersonnage: number, niveau: StatistiquesParNiveau) {\n        const values = {idPersonnage: undefined, Niveau: undefined};\n        values.idPersonnage = idPersonnage;\n        values.Niveau = niveau;\n        console.log(values);\n        const baseUrlBis = BASE_URL + 'monterNiveau.php' + '?idPersonnage=' + idPersonnage;\n        console.log(baseUrlBis);\n        const params = new HttpParams().set('Niveau', JSON.stringify(values));\n\n        return http.request(HttpMethods.POST.toString(), baseUrlBis, {responseType: 'text', params}).toPromise();\n    }\n\n    gererNiveau(http: HttpClient, idPersonnage: number, monte: boolean) {\n        const baseUrlBis = BASE_URL + 'monterNiveau.php' + '?idPersonnage=' + idPersonnage + '&monte=' + monte;\n        console.log(baseUrlBis);\n\n        return http.request(HttpMethods.GET.toString(), baseUrlBis).toPromise();\n    }\n\n}\n","// export let BASE_URL = 'http://192.168.1.73/lootTable/lootTablePHP/Rest/';\r\n// Production url\r\nexport let BASE_URL = '../lootTablePHP/Rest/';\r\nexport let URL_DROP_CHANCE = 'dropChanceRest.php';\r\nexport let URL_DROP_CHANCE_BIS = 'dropChanceBisRest.php';\r\nexport let URL_MONSTRES = 'monstresRest.php';\r\nexport let URL_MONSTRE = 'monstreRest.php';\r\nexport let URL_FAMILLE_MONSTRE = 'familleMonstreRest.php';\r\n\r\n\r\n\r\n\r\n\r\n/*\r\n                    EffetMagique\r\n*/\r\nexport let URL_EFFET_MAGIQUE = 'effetMagique/effetMagique.php';\r\nexport let URL_OBJET_COMPLET = 'objetCompletRest.php';\r\n\r\n\r\n/*\r\n                    Personnage\r\n*/\r\nexport let URL_PERSONNAGE = 'personnageRest.php';\r\nexport let URL_STATISTIQUE = 'personnageStatistiqueRest.php';\r\n\r\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-sources',\n  templateUrl: './sources.component.html',\n  styleUrls: ['./sources.component.scss']\n})\nexport class SourcesComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","<div id=\"fakebody\">\n\n    <div class=\"principal\">\n        <p style=\"width: 100%\">Liens vers les Git</p>\n        <ul>\n            <li>\n                <a href=\"https://github.com/Seaziicks/lootTableAngular\">Angular</a>\n            </li>\n            <li>\n                <a href=\"https://github.com/Seaziicks/lootTablePHP\">PHP</a>\n            </li>\n        </ul>\n\n        <p style=\"width: 100%\"> Tous les objets et pouvoirs margiques sont tirés de <a href=\"http://www.gemmaline.com\">Gemmaline</a>.</p>\n    </div>\n\n</div>\n\n\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-spinner',\n  templateUrl: './spinner.component.html',\n  styleUrls: ['./spinner.component.scss']\n})\nexport class SpinnerComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","<div class=\"spinner\">\n    <div class=\"rect1\"></div>\n    <div class=\"rect2\"></div>\n    <div class=\"rect3\"></div>\n    <div class=\"rect4\"></div>\n    <div class=\"rect5\"></div>\n</div>\n","import {Component, OnInit} from '@angular/core';\r\nimport {BASE_URL} from '../services/rest.service';\r\nimport {HttpClient, HttpParams} from '@angular/common/http';\r\nimport {JSonLoadService} from '../services/json-load.service';\r\n\r\n@Component({\r\n    selector: 'app-test-insert-table',\r\n    templateUrl: './test-insert-table.component.html',\r\n    styleUrls: ['./test-insert-table.component.scss']\r\n})\r\nexport class TestInsertTableComponent implements OnInit {\r\n\r\n    allProprietesMagiques: SortedMagicalProperty;\r\n\r\n    constructor(private http: HttpClient,\r\n                private jsonService: JSonLoadService) {\r\n    }\r\n\r\n    ngOnInit(): void {\r\n        this.jsonService.getJSON('magique', 'objetsMerveilleux').then(\r\n            (effetsObjet: any) => {\r\n                // console.log(effetsObjet);\r\n                this.allProprietesMagiques = JSON.parse(effetsObjet) as SortedMagicalProperty;\r\n                console.log(this.allProprietesMagiques);\r\n            }\r\n        );\r\n    }\r\n\r\n    testTable() {\r\n        let sacAMalice: MagicalProperty;\r\n        console.log(this.allProprietesMagiques.weakAndSmall[237]);\r\n        sacAMalice = this.allProprietesMagiques.weakAndSmall[237];\r\n        console.log(sacAMalice);\r\n        const values = {idEffetMagique: undefined, Table: undefined};\r\n        values.idEffetMagique = 2;\r\n        values.Table = sacAMalice.table[0];\r\n        console.log(values);\r\n        const baseUrlBis = BASE_URL + 'effetMagique/effetMagiqueTable.php' + '?idEffetMagique=' + 2 + '';\r\n        console.log(baseUrlBis);\r\n        const params = new HttpParams().set('EffetMagiqueTable', JSON.stringify(values));\r\n        return this.http.request('POST', baseUrlBis, {responseType: 'text', params}).toPromise().then(\r\n            (data: any) => {\r\n                console.log(data);\r\n            }\r\n        );\r\n    }\r\n\r\n    testUl() {\r\n        let casqueDeMilleFeux: MagicalProperty;\r\n        console.log(this.allProprietesMagiques);\r\n        console.log(this.allProprietesMagiques.strongAnfPowerful[21]);\r\n        casqueDeMilleFeux = this.allProprietesMagiques.strongAnfPowerful[21];\r\n        console.log(casqueDeMilleFeux);\r\n        const values = {idEffetMagique: undefined, Ul: undefined};\r\n        values.idEffetMagique = 2;\r\n        values.Ul = casqueDeMilleFeux.ul[0];\r\n        console.log(values);\r\n        const baseUrlBis = BASE_URL + 'effetMagique/effetMagiqueUl.php' + '?idEffetMagique=' + 2 + '';\r\n        console.log(baseUrlBis);\r\n        const params = new HttpParams().set('EffetMagiqueUl', JSON.stringify(values));\r\n        return this.http.request('POST', baseUrlBis, {responseType: 'text', params}).toPromise().then(\r\n            (data: any) => {\r\n                console.log(data);\r\n            }\r\n        );\r\n    }\r\n\r\n    testDescriptions() {\r\n        const values = {idEffetMagique: undefined, Descriptions: undefined};\r\n        values.idEffetMagique = 2;\r\n        values.Descriptions = this.allProprietesMagiques.strongAnfPowerful[21].description;\r\n        console.log(values);\r\n        const baseUrlBis = BASE_URL + 'effetMagique/effetMagiqueDescription.php' + '?idEffet=' + 2 + '';\r\n        console.log(baseUrlBis);\r\n        const params = new HttpParams().set('EffetMagiqueDescriptions', JSON.stringify(values));\r\n\r\n        return this.http.request('POST', baseUrlBis, {responseType: 'text', params}).toPromise().then(\r\n            (data: any) => {\r\n                console.log(data);\r\n            }\r\n        );\r\n    }\r\n\r\n    testInfos() {\r\n        const values = {idEffetMagique: undefined, Infos: undefined};\r\n        values.idEffetMagique = 2;\r\n        values.Infos = this.allProprietesMagiques.strongAnfPowerful[21].infos.data;\r\n        console.log(values);\r\n        const baseUrlBis = BASE_URL + 'effetMagique/effetMagiqueInfos.php' + '?idEffet=' + 2 + '';\r\n        console.log(baseUrlBis);\r\n        const params = new HttpParams().set('EffetMagiqueInfos', JSON.stringify(values));\r\n\r\n        return this.http.request('POST', baseUrlBis, {responseType: 'text', params}).toPromise().then(\r\n            (data: any) => {\r\n                console.log(data);\r\n            }\r\n        );\r\n    }\r\n\r\n}\r\n","<p>test-insert-table works!</p>\r\n<button (click)=\"testTable()\">Test Table</button>\r\n<button (click)=\"testUl()\">Test Ul</button>\r\n<button (click)=\"testDescriptions()\">Test Description</button>\r\n<button (click)=\"testInfos()\">Test Infos</button>\r\n\r\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-unauthorized-user',\n  templateUrl: './unauthorized-user.component.html',\n  styleUrls: ['./unauthorized-user.component.scss']\n})\nexport class UnauthorizedUserComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","<div class=\"container\">\n    <div class=\"signinContainer\">\n        <form  autocomplete=\"off\" novalidate >\n            <span class=\"imageIcon\">\n                <i class=\"logo\">\n                    <img src=\"assets/fond/scroll-quill%20(1).png\" class=\"d-inline-block\" alt=\"\">\n                </i>\n            </span>\n            <span class=\"form-title\" >\n                Vous n'avez pas les droits\n            </span>\n        </form>\n    </div>\n</div>\n","import {Component, OnInit} from '@angular/core';\nimport {AuthService} from '../../auth/auth.service';\nimport {HttpClient} from '@angular/common/http';\nimport {Router} from '@angular/router';\nimport {FormBuilder, FormControl, FormGroup, ValidationErrors, ValidatorFn, Validators} from '@angular/forms';\nimport {SpecialResponse} from '../../loot-table/loot-table.component';\n\nexport interface UserForCreation {\n    username: string;\n    password: string;\n    isGameMaster: false;\n    isAdmin: false;\n}\n\nexport const usernameValid: ValidatorFn = (formGroup: FormGroup): ValidationErrors | null => {\n    if (formGroup.get('username').value.length < 1) {\n        return {missingUsername: true};\n    } else if (formGroup.get('username').value.length > 19) {\n        return {tooLongUsername: true};\n    } else {\n        return null;\n    }\n};\n\nexport const passwordMatchValidator: ValidatorFn = (formGroup: FormGroup): ValidationErrors | null => {\n    if (formGroup.get('password').value.length < 1) {\n        return {missingPassword: true};\n    } else if (formGroup.get('password').value.length < 9) {\n        return {notLongEnoughPassword: true};\n    }\n    if (formGroup.get('password').value === formGroup.get('passwordRepeat').value) {\n        return null;\n    } else {\n        return {passwordMismatch: true};\n    }\n};\n\nexport const personnageSelection: ValidatorFn = (formGroup: FormGroup): ValidationErrors | null => {\n    if (((document.getElementById('personnageName') as HTMLInputElement)\n        && (document.getElementById('personnageName') as HTMLInputElement).value.length === 0)\n        || ((document.getElementById('selectPersonnageRestant') as HTMLSelectElement)\n            && (document.getElementById('selectPersonnageRestant') as HTMLSelectElement).value.length === 0)) {\n        return {missingPersonnage: true};\n    } else if (((document.getElementById('personnageName') as HTMLInputElement)\n        && (document.getElementById('personnageName') as HTMLInputElement).value.length > 19)) {\n        return {tooLongPersonnageName: true};\n    } else {\n        return null;\n    }\n};\n\n@Component({\n    selector: 'app-user-create',\n    templateUrl: './user-create.component.html',\n    styleUrls: ['./user-create.component.scss']\n})\nexport class UserCreateComponent implements OnInit {\n\n    public createUserForm: FormGroup;\n\n    passwordMismatch = false;\n\n    hide = true;\n\n    message: string;\n\n    creationPersonnageChecked = false;\n    personnageLeft = false;\n    idPersonnage: number;\n\n    leftPersonnage: PersonnageMinimisation[];\n\n    private timerUsername: any;\n    private timerPersonnageName: any;\n    usernameUnavailable: boolean;\n    personnageNameUnavailable: boolean;\n    lookingForUsernameAvailability = false;\n    lookingForPersonnageNameAvailability = false;\n\n    constructor(private authService: AuthService,\n                private http: HttpClient,\n                private router: Router,\n    ) {\n    }\n\n    ngOnInit(): void {\n        this.createUserForm = new FormGroup({\n            username: new FormControl('', [Validators.required, Validators.maxLength(19)]),\n            password: new FormControl('', [Validators.required, Validators.minLength(9)]),\n            passwordRepeat: new FormControl('', [Validators.required]),\n            creationPersonnageChecked: new FormControl(''),\n            personnageLeftChecked: new FormControl(''),\n            personnage: new FormControl(''),\n        }, [passwordMatchValidator, personnageSelection, usernameValid]);\n        if (this.authService.isAuth) {\n            this.message = null;\n            // Usually you would use the redirect URL from the auth service.\n            // However to keep the example simple, we will always redirect to `/admin`.\n            const redirectUrl = '/testPersonnage';\n\n            // Redirect the user\n            this.router.navigate([redirectUrl]);\n        }\n        this.authService.getAllLeftPersonnage(this.http).then(\n            (data: any) => {\n                console.log(data);\n                const response: SpecialResponse = data as SpecialResponse;\n                this.leftPersonnage = response.data as PersonnageMinimisation[];\n                console.log(response.data as PersonnageMinimisation[]);\n                console.log(this.leftPersonnage[0]);\n            }\n        );\n    }\n\n    get username() {\n        return this.createUserForm.get('username');\n    }\n\n    get password() {\n        return this.createUserForm.get('password');\n    }\n\n    get passwordRepeat() {\n        return this.createUserForm.get('passwordRepeat');\n    }\n\n    get personnage() {\n        return this.createUserForm.get('personnage');\n    }\n\n    onPasswordInput() {\n        if (this.createUserForm.hasError('missingPassword')) {\n            this.password.setErrors({required: true});\n        } else if (this.createUserForm.hasError('passwordMismatch')) {\n            this.passwordRepeat.setErrors({passwordMismatch: true});\n        } else if (this.createUserForm.hasError('notLongEnoughPassword')) {\n            this.password.setErrors({notLongEnoughPassword: true});\n        } else {\n            this.passwordRepeat.setErrors(null);\n        }\n    }\n\n    onPersonnageInput() {\n        if (this.createUserForm.hasError('missingPersonnage')) {\n            this.personnage.setErrors({required: true});\n        } else if (this.createUserForm.hasError('tooLongPersonnageName')) {\n            this.personnage.setErrors({ma: true});\n        } else {\n            this.checkPersonnageNameAvailability();\n        }\n    }\n\n    onUsernameInput() {\n        if (this.createUserForm.hasError('missingUsername')) {\n            this.username.setErrors({required: true});\n        } else if (this.createUserForm.hasError('tooLongUsername')) {\n            this.username.setErrors({tooLongPersonnageName: true});\n        } else {\n            this.checkUsernameAvailability();\n        }\n    }\n\n    public hasError = (controlName: string, errorName: string) => {\n        return this.createUserForm.controls[controlName].hasError(errorName);\n    }\n\n    signIn(usernameGiven: string, passwordGiven: string) {\n        const username = usernameGiven ? usernameGiven : (document.getElementById('usernameUser') as HTMLInputElement).value;\n        const password = passwordGiven ? passwordGiven : (document.getElementById('passwordUser') as HTMLInputElement).value;\n        // const passwordRepeat = (document.getElementById('passwordUserRepeat') as HTMLInputElement).value;\n\n        console.log(username);\n        console.log(password);\n        this.authService.signIn(this.http, username, password).then(\n            (data: any) => {\n                console.log(data);\n                if (this.authService.isAuth) {\n                    this.message = null;\n                    // Usually you would use the redirect URL from the auth service.\n                    // However to keep the example simple, we will always redirect to `/admin`.\n                    const redirectUrl = '/testPersonnage';\n\n                    // Redirect the user\n                    this.router.navigate([redirectUrl]);\n                }\n            }, (data: any) => {\n                console.log(data);\n                if (!this.authService.isAuth) {\n                    this.afficherMessageErreur('Utilisateur ou mot de passe incorrect.');\n                }\n            }\n        ).catch(\n            (data: any) => {\n                console.log(data);\n                if (!this.authService.isAuth) {\n                    this.afficherMessageErreur('Utilisateur ou mot de passe incorrect.');\n                }\n            }\n        );\n\n    }\n\n    createUser = (userFormValue) => {\n        if (this.createUserForm.valid) {\n            this.executeUserCreation(userFormValue);\n        }\n    }\n\n    private executeUserCreation = (userFormValue) => {\n        const user: UserForCreation = {\n            username: userFormValue.username,\n            password: userFormValue.password,\n            isAdmin: false,\n            isGameMaster: false,\n        };\n\n        const personnageToAdd: Personnage = {\n            idPersonnage: this.idPersonnage ? this.idPersonnage : null,\n            nom: this.personnage.value ? this.personnage.value : null,\n            niveau: 0,\n            niveauEnAttente: 0,\n            intelligence: 0,\n            force: 0,\n            agilite: 0,\n            sagesse: 0,\n            constitution: 0,\n            vitalite: 0,\n            deVitaliteNaturelle: 0,\n            mana: 0,\n            deManaNaturel: 0,\n            statistiquesParNiveau: null,\n        };\n\n        this.authService.createUser(this.http, user, personnageToAdd)\n            .then(\n                (data: any) => {\n                    console.log(data);\n                    const response: SpecialResponse = JSON.parse(data) as SpecialResponse;\n                    const userCreated: UserForCreation = response.data as UserForCreation;\n                    this.signIn(userCreated.username, userCreated.password);\n                }\n            ).catch(\n                (data: any) => {\n                    console.log(data);\n                    const response: SpecialResponse = data as SpecialResponse;\n                    if (response.status === 409) {\n                    this.afficherMessageErreur('Cet username n\\'est plus displonible.');\n                }\n            }\n        );\n    }\n\n    afficherMessageErreur(message: string) {\n        this.message = message;\n    }\n\n    creationPersonnageCheckedFunction() {\n        this.creationPersonnageChecked = !this.creationPersonnageChecked;\n        if (!this.creationPersonnageChecked) {\n            console.log(this.creationPersonnageChecked);\n            this.idPersonnage = null;\n            this.personnage.patchValue(null);\n            this.personnage.clearValidators();\n            this.personnage.updateValueAndValidity();\n            this.createUserForm.updateValueAndValidity();\n            setTimeout(() => {this.passwordRepeat.patchValue(this.passwordRepeat.value); } , 10);\n        } else {\n            this.personnage.setValidators([Validators.required]);\n            this.personnage.updateValueAndValidity();\n        }\n        console.log(this.createUserForm.status);\n    }\n\n    personnageLeftFunction() {\n        this.personnageLeft = !this.personnageLeft;\n        if (!this.personnageLeft) {\n            this.idPersonnage = null;\n            this.personnage.patchValue(null);\n        }\n    }\n\n    selectionPersonnage() {\n        const personnage = (document.getElementById('selectPersonnageRestant') as HTMLSelectElement).value;\n        if (personnage.length > 0) {\n            this.idPersonnage = this.leftPersonnage.find(f => f.nom === personnage).idPersonnage;\n        }\n        console.log(this.idPersonnage);\n    }\n\n    checkUsernameAvailability() {\n        if (this.timerUsername){\n            clearTimeout(this.timerUsername);\n        }\n\n        // trigger the search action after 400 millis\n        this.timerUsername = setTimeout(() => {this.lookingForUsernameAvailability = true; this.searchUsername(); }, 1500);\n    }\n\n    searchUsername() {\n        console.log(this.authService);\n        this.authService.checkUsernameAvailable(this.http, this.username.value).then(\n            (data: any) => {\n                this.lookingForUsernameAvailability = false;\n                console.log(data);\n                this.username.setErrors(null);\n                this.usernameUnavailable = false;\n            }\n        ).catch(\n            (data: any) => {\n                this.lookingForUsernameAvailability = false;\n                console.log(data);\n                const response: SpecialResponse = data as SpecialResponse;\n                if (response.status === 409) {\n                    this.username.setErrors({unavailableUsername: true});\n                    setTimeout( () => { this.usernameUnavailable = true; }, 10);\n                }\n            }\n        );\n    }\n\n    checkPersonnageNameAvailability() {\n        if (this.timerPersonnageName){\n            clearTimeout(this.timerPersonnageName);\n        }\n\n        // trigger the search action after 400 millis\n        this.timerPersonnageName = setTimeout(() => {\n            this.lookingForPersonnageNameAvailability = true; this.searchPersonnageName();\n            }, 1500);\n    }\n\n    searchPersonnageName() {\n        console.log(this.authService);\n        this.authService.checkPersonnageNomAvailable(this.http, this.personnage.value).then(\n            (data: any) => {\n                this.lookingForPersonnageNameAvailability = false;\n                console.log(data);\n                this.personnage.setErrors(null);\n                this.personnageNameUnavailable = false;\n            }\n        ).catch(\n            (data: any) => {\n                this.lookingForPersonnageNameAvailability = false;\n                const response: SpecialResponse = data as SpecialResponse;\n                if (response.status === 409) {\n                    this.personnage.setErrors({unavailablePersonnageName: true});\n                    setTimeout( () => { this.personnageNameUnavailable = true; }, 10);\n                }\n            }\n        );\n    }\n\n    afficherErrors() {\n        console.log(this.createUserForm.errors);\n        console.log(this.password.errors);\n        console.log(this.passwordRepeat.errors);\n        console.log(this.username.errors);\n        console.log(this.personnage.errors);\n    }\n\n    loadLogIn() {\n        this.router.navigate(['/login']);\n    }\n}\n","<div class=\"container\">\n    <div class=\"signinContainer\">\n        <form [formGroup]=\"createUserForm\" autocomplete=\"off\" novalidate (ngSubmit)=\"createUser(createUserForm.value)\">\n            <span class=\"imageIcon\">\n                <i class=\"logo\">\n                    <img src=\"assets/fond/scroll-quill%20(1).png\" class=\"d-inline-block\" alt=\"\">\n                </i>\n            </span>\n            <span class=\"form-title\" (click)=\"this.afficherErrors()\">\n                Sign in\n            </span>\n            <div class=\"needSpace\">\n                <mat-form-field appearance=\"outline\">\n                    <mat-label>Enter your username</mat-label>\n                    <input matInput placeholder=\"Username\" id=\"usernameUser\" formControlName=\"username\" (input)=\"this.onUsernameInput()\">\n                    <mat-icon matPrefix>account_circle</mat-icon>\n                    <mat-hint align=\"end\" [ngClass]=\"{'available': usernameUnavailable === false}\">19 characters max</mat-hint>\n                    <mat-error *ngIf=\"hasError('username', 'required')\">Username is required</mat-error>\n                    <mat-error *ngIf=\"hasError('username', 'maxLength')\">You have more than 19 characters</mat-error>\n                    <mat-error *ngIf=\"usernameUnavailable\">Username unavailable</mat-error>\n                </mat-form-field>\n                <mat-progress-bar *ngIf=\"this.lookingForUsernameAvailability\" mode=\"query\"></mat-progress-bar>\n            </div>\n            <div>\n                <mat-form-field appearance=\"outline\">\n                    <mat-label>Enter your password</mat-label>\n                    <input matInput [type]=\"hide ? 'password' : 'text'\" placeholder=\"Password\" id=\"passwordUser\"\n                           formControlName=\"password\" (input)=\"onPasswordInput()\">\n                    <button mat-icon-button matSuffix type=\"button\" (click)=\"hide = !hide\" [attr.aria-label]=\"'Hide password'\"\n                            [attr.aria-pressed]=\"hide\">\n                        <mat-icon>{{hide ? 'visibility_off' : 'visibility'}}</mat-icon>\n                    </button>\n                    <mat-hint align=\"end\">9 characters min</mat-hint>\n                    <mat-error *ngIf=\"hasError('password', 'required')\">Password is required</mat-error>\n                    <mat-error *ngIf=\"hasError('password', 'notLongEnoughPassword')\">You have less than 9 characters</mat-error>\n                </mat-form-field>\n            </div>\n\n            <div class=\"needSpace\">\n                <mat-form-field appearance=\"outline\">\n                    <mat-label>Password check</mat-label>\n                    <input matInput [type]=\"hide ? 'password' : 'text'\" placeholder=\"Password check\" id=\"passwordUserRepeat\"\n                           formControlName=\"passwordRepeat\" (input)=\"onPasswordInput()\">\n                    <button mat-icon-button matSuffix type=\"button\" (click)=\"hide = !hide\" [attr.aria-label]=\"'Hide password'\"\n                            [attr.aria-pressed]=\"hide\">\n                        <mat-icon>{{hide ? 'visibility_off' : 'visibility'}}</mat-icon>\n                    </button>\n                    <mat-error *ngIf=\"hasError('passwordRepeat', 'passwordMismatch')\">Passwords don't match</mat-error>\n                </mat-form-field>\n            </div>\n\n            <div class=\"needSpace\">\n                <mat-checkbox\n                    formControlName=\"creationPersonnageChecked\"\n                    labelPosition=\"after\"\n                    (input)=\"creationPersonnageCheckedFunction()\"\n                    [checked]=\"creationPersonnageChecked\">\n                    Associer à un personnage\n                </mat-checkbox>\n                <br/>\n                <mat-checkbox\n                    *ngIf=\"this.creationPersonnageChecked\"\n                    formControlName=\"personnageLeftChecked\"\n                    labelPosition=\"after\"\n                    (change)=\"personnageLeftFunction()\">\n                    <span style=\"word-break: break-word; width: 180px;\">\n                        Choisir parmi les personnages existants restants\n                    </span>\n                </mat-checkbox>\n            </div>\n            <div *ngIf=\"this.creationPersonnageChecked && !this.personnageLeft\">\n                <div class=\"needSpace\">\n                    <mat-form-field appearance=\"outline\">\n                        <mat-label>Personnage name</mat-label>\n                        <input matInput placeholder=\"Personnage name\" id=\"personnageName\"\n                               formControlName=\"personnage\"\n                               (input)=\"onPersonnageInput()\">\n                        <mat-icon matPrefix>blur_on</mat-icon>\n                        <mat-hint align=\"end\" [ngClass]=\"{'available': personnageNameUnavailable === false}\">19 characters max</mat-hint>\n                        <mat-error *ngIf=\"hasError('personnage', 'required')\">Personnage name is required</mat-error>\n                        <mat-error *ngIf=\"hasError('personnage', 'tooLongPersonnageName')\">You have more than 19 characters</mat-error>\n                        <mat-error *ngIf=\"hasError('personnage', 'unavailablePersonnageName')\">Personnage name unavailable</mat-error>\n                    </mat-form-field>\n                </div>\n            </div>\n\n            <div *ngIf=\"this.creationPersonnageChecked && this.personnageLeft\">\n                <div class=\"needSpace\">\n                    <label for=\"selectPersonnageRestant\">Selection du personnage</label>\n                    <select id=\"selectPersonnageRestant\" class=\"form-control\" (change)=\"this.selectionPersonnage()\"\n                            name=\"selectPersonnageRestant\"\n                            formControlName=\"personnage\">\n                        <option selected value=\"\"> </option>\n                        <option *ngFor=\"let personnage of this.leftPersonnage\" [value]=\"personnage.nom\">\n                            {{personnage.idPersonnage}} - {{personnage.nom}}\n                        </option>\n                    </select>\n                    <mat-error *ngIf=\"hasError('personnage', 'required')\">Personnage selection is required</mat-error>\n                </div>\n            </div>\n\n            <p>{{this.message}}</p>\n            <button mat-raised-button class=\"validationButton\" [disabled]=\"!createUserForm.valid\">Sign in</button>\n            <button type=\"button\" class=\"btn btn-outline-light\" style=\"margin-top: 15px; margin-bottom: 15px;\" (click)=\"this.loadLogIn()\">Log in</button>\n        </form>\n    </div>\n</div>\n","import { Component, OnInit } from '@angular/core';\nimport {AuthService} from '../../auth/auth.service';\nimport {Router} from '@angular/router';\n\n@Component({\n  selector: 'app-user-disconnect',\n  templateUrl: './user-disconnect.component.html',\n  styleUrls: ['./user-disconnect.component.scss']\n})\nexport class UserDisconnectComponent implements OnInit {\n\n  constructor(private authService: AuthService,\n              private route: Router) { }\n\n  ngOnInit(): void {\n      localStorage.removeItem('userSession');\n      this.authService.signOut();\n      this.route.navigate(['/testPersonnage']);\n  }\n\n}\n","<p>user-disconnect works!</p>\n","import {Component, OnInit} from '@angular/core';\nimport {AuthService} from '../../auth/auth.service';\nimport {HttpClient} from '@angular/common/http';\nimport {Router} from '@angular/router';\nimport {FormControl, FormGroup, Validators} from '@angular/forms';\nimport {SpecialResponse} from '../../loot-table/loot-table.component';\n\nexport class UserSession {\n    username: string;\n    password: string;\n}\n\n@Component({\n    selector: 'app-user-login',\n    templateUrl: './user-login.component.html',\n    styleUrls: ['./user-login.component.scss']\n})\nexport class UserLoginComponent implements OnInit {\n\n    public loginUserForm: FormGroup;\n\n    hide = true;\n\n    message: string;\n\n    private timerUsername: any;\n    usernameUnknown: boolean;\n    lookingForUsernameAvailability = false;\n\n    constructor(private authService: AuthService,\n                private http: HttpClient,\n                private router: Router) {\n    }\n\n    ngOnInit(): void {\n        this.loginUserForm = new FormGroup({\n            username: new FormControl('', [Validators.required, Validators.maxLength(19)]),\n            password: new FormControl('', [Validators.required, Validators.minLength(9)]),\n        });\n        // console.log(this.router.url);\n        // console.log(localStorage.getItem('userSession'));\n        if (!this.authService.isAuth && localStorage.getItem('userSession')) {\n            this.authService.checkUserInLocalStorageAsPromise(this.http).then(\n                (data: any) => {\n                    if (this.authService.isAuth) {\n                        this.message = null;\n                        // Usually you would use the redirect URL from the auth service.\n                        // However to keep the example simple, we will always redirect to `/admin`.\n                        const redirectUrl = '/testPersonnage';\n\n                        // Redirect the user\n                        console.log(this.router.url);\n                        this.router.navigate([redirectUrl]);\n                    }\n                }\n            );\n        } else if (this.authService.isAuth) {\n            const redirectUrl = '/testPersonnage';\n            // console.log(this.router.url);\n            this.router.navigate([redirectUrl]);\n        }\n    }\n\n    get username() {\n        return this.loginUserForm.get('username');\n    }\n\n    get password() {\n        return this.loginUserForm.get('password');\n    }\n\n    public hasError = (controlName: string, errorName: string) => {\n        return this.loginUserForm.controls[controlName].hasError(errorName);\n    }\n\n    onPasswordInput() {\n        if (this.loginUserForm.hasError('missingPassword')) {\n            this.password.setErrors({required: true});\n        } else if (this.loginUserForm.hasError('passwordMismatch')) {\n            this.loginUserForm.setErrors({passwordMismatch: true});\n        } else if (this.loginUserForm.hasError('notLongEnoughPassword')) {\n            this.password.setErrors({notLongEnoughPassword: true});\n        } else {\n            this.loginUserForm.setErrors(null);\n        }\n    }\n\n    onUsernameInput() {\n        if (this.loginUserForm.hasError('missingUsername')) {\n            this.username.setErrors({required: true});\n        } else if (this.loginUserForm.hasError('tooLongUsername')) {\n            this.username.setErrors({maxLength: true});\n        } else {\n            this.checkUsernameAvailability();\n        }\n    }\n\n    checkUsernameAvailability() {\n        if (this.timerUsername){\n            clearTimeout(this.timerUsername);\n        }\n\n        // trigger the search action after 400 millis\n        if (this.username.value.length > 0) {\n            this.timerUsername = setTimeout(() => {\n                this.lookingForUsernameAvailability = true;\n                this.searchUsername();\n            }, 1500);\n        }\n    }\n\n    searchUsername() {\n        console.log(this.authService);\n        this.authService.checkUsernameAvailable(this.http, this.username.value).then(\n            (data: any) => {\n                this.lookingForUsernameAvailability = false;\n                console.log(data);\n                if (this.username.hasError('maxlength')) {\n                    this.username.setErrors({usernameUnknown: true, maxlength: true});\n                } else {\n                    this.username.setErrors({usernameUnknown: true});\n                }\n                setTimeout( () => { this.usernameUnknown = true; }, 10);\n            }\n        ).catch(\n            (data: any) => {\n                this.lookingForUsernameAvailability = false;\n                console.log(data);\n                const response: SpecialResponse = data as SpecialResponse;\n                if (response.status === 409) {\n                    this.username.setErrors(null);\n                    this.usernameUnknown = false;\n                }\n            }\n        );\n    }\n\n    signIn() {\n        const username = (document.getElementById('usernameUser') as HTMLInputElement).value;\n        const password = (document.getElementById('passwordUser') as HTMLInputElement).value;\n        console.log(username);\n        console.log(password);\n        this.authService.signIn(this.http, username, password).then(\n            (data: any) => {\n                console.log(data);\n                if (this.authService.isAuth) {\n                    localStorage.setItem('userSession', JSON.stringify({username, password}));\n                    this.message = null;\n                    // Usually you would use the redirect URL from the auth service.\n                    // However to keep the example simple, we will always redirect to `/admin`.\n                    const redirectUrl = '/testPersonnage';\n\n                    // Redirect the user\n                    this.router.navigate([redirectUrl]);\n                }\n            }, (data: any) => {\n                console.log(data);\n                if (!this.authService.isAuth) {\n                    this.afficherMessageErreur('Utilisateur ou mot de passe incorrect.');\n                }\n            }\n        ).catch(\n            (data: any) => {\n                console.log(data);\n                if (!this.authService.isAuth) {\n                    this.afficherMessageErreur('Utilisateur ou mot de passe incorrect.');\n                }\n            }\n        );\n    }\n\n    afficherMessageErreur(message: string) {\n        this.message = message;\n    }\n\n    loadSignIn() {\n        this.router.navigate(['/signin']);\n    }\n\n    afficherErrors() {\n        console.log(this.loginUserForm.errors);\n        console.log(this.loginUserForm.controls);\n        console.log(this.username.errors);\n        console.log(this.password.errors.key);\n    }\n}\n","<div class=\"container\">\n    <div class=\"loginContainer\">\n        <form [formGroup]=\"loginUserForm\" autocomplete=\"off\" novalidate (ngSubmit)=\"this.signIn()\">\n            <span class=\"imageIcon\">\n                <i class=\"logo\">\n                    <img src=\"assets/fond/scroll-quill%20(1).png\" class=\"d-inline-block\" alt=\"\">\n                </i>\n            </span>\n            <span class=\"form-title\" (click)=\"afficherErrors()\">\n                Log in\n            </span>\n            <div>\n                <mat-form-field appearance=\"outline\">\n                    <mat-label>Enter your username</mat-label>\n                    <input matInput placeholder=\"Username\" id=\"usernameUser\" formControlName=\"username\"\n                           (input)=\"this.onUsernameInput()\" (keydown.enter)=\"this.signIn()\">\n                    <mat-icon matPrefix>account_circle</mat-icon>\n                    <mat-hint align=\"end\" [ngClass]=\"{'available': usernameUnknown === false}\">19 characters max</mat-hint>\n                    <mat-error *ngIf=\"hasError('username', 'required')\">Username is required</mat-error>\n                    <mat-error *ngIf=\"hasError('username', 'maxlength')\">You have more than 19 characters</mat-error>\n                    <mat-error *ngIf=\"hasError('username', 'usernameUnknown')\">Unknown username</mat-error>\n                </mat-form-field>\n            </div>\n            <div>\n                <mat-form-field appearance=\"outline\">\n                    <mat-label>Enter your password</mat-label>\n                    <input matInput [type]=\"hide ? 'password' : 'text'\" placeholder=\"Password\" id=\"passwordUser\"\n                           formControlName=\"password\" (input)=\"onPasswordInput()\" (keydown.enter)=\"this.signIn()\">\n                    <button type=\"button\" mat-icon-button matSuffix (click)=\"hide = !hide\" [attr.aria-label]=\"'Hide password'\"\n                            [attr.aria-pressed]=\"hide\">\n                        <mat-icon>{{hide ? 'visibility_off' : 'visibility'}}</mat-icon>\n                    </button>\n                    <mat-hint align=\"end\">9 characters min</mat-hint>\n                    <mat-error *ngIf=\"hasError('password', 'required')\">Password is required</mat-error>\n                    <mat-error *ngIf=\"hasError('password', 'minlength')\">You have less than 9 characters</mat-error>\n                </mat-form-field>\n            </div>\n\n            <p>{{this.message}}</p>\n            <button class=\"validationButton\" [disabled]=\"!loginUserForm.valid\">Log in</button>\n            <button type=\"button\" class=\"btn btn-outline-light\" style=\"margin-top: 15px; margin-bottom: 15px;\" (click)=\"this.loadSignIn()\">Sign in</button>\n        </form>\n    </div>\n</div>\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n"]}